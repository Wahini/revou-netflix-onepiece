a000.y9G=function(){return typeof a000.V9G.N7G === 'function'?a000.V9G.N7G.apply(a000.V9G,arguments):a000.V9G.N7G;};a000.b9G=function(){return typeof a000.V9G.N7G === 'function'?a000.V9G.N7G.apply(a000.V9G,arguments):a000.V9G.N7G;};a000.V9G=(function(T9G){return {N7G:function(){var f9G,X9G=arguments;switch(T9G){case 13:f9G=(-X9G[4] - X9G[1]) / X9G[3] + X9G[2] / X9G[0];break;case 4:f9G=X9G[0] / X9G[2] / X9G[1];break;case 16:f9G=(X9G[1] / X9G[3] | X9G[2]) * X9G[0];break;case 12:f9G=X9G[2] * X9G[1] - X9G[0];break;case 10:f9G=(X9G[3] - X9G[0]) / X9G[1] * X9G[2];break;case 1:f9G=X9G[0] * X9G[1] / X9G[2];break;case 21:f9G=X9G[1] >= X9G[0];break;case 18:f9G=(X9G[2] - X9G[0]) * X9G[1];break;case 9:f9G=(X9G[2] + X9G[1]) * X9G[0] / X9G[3];break;case 7:f9G=X9G[2] + X9G[0] + X9G[1];break;case 0:f9G=X9G[0] / X9G[1];break;case 8:f9G=X9G[2] + X9G[3] + X9G[0] + X9G[4] + X9G[1];break;case 23:f9G=X9G[0] - X9G[1] - X9G[2];break;case 14:f9G=X9G[1] * X9G[0];break;case 19:f9G=X9G[1] - X9G[0] * X9G[2];break;case 2:f9G=X9G[1] - X9G[0];break;case 11:f9G=X9G[2] - X9G[0] + X9G[1];break;case 3:f9G=X9G[0] + X9G[1];break;case 6:f9G=void X9G[1] !== X9G[0];break;case 15:f9G=X9G[1] / X9G[2] | X9G[0];break;case 20:f9G=X9G[1] <= X9G[0];break;case 5:f9G=X9G[0] - X9G[2] + X9G[4] + X9G[3] + X9G[1];break;case 17:f9G=X9G[1] + X9G[2] / X9G[3] * X9G[0];break;case 22:f9G=X9G[1] === X9G[0];break;}return f9G;},K7G:function(r9G){T9G=r9G;}};})();a000.C9G=function(){return typeof a000.V9G.K7G === 'function'?a000.V9G.K7G.apply(a000.V9G,arguments):a000.V9G.K7G;};function a000(){}a000.n9G=function(){return typeof a000.V9G.K7G === 'function'?a000.V9G.K7G.apply(a000.V9G,arguments):a000.V9G.K7G;};(function(){(function(nb,Ab){var jc,tc,Nb,cd,Eb,Gb,Ub,ce,de,Lb,Jb,Cc,ee,dd,fe,ge,wd,Ha,Cb,Qc,he,xd,fb,tb,Db,kc,dc,Rb,vb,Vb,Mb,Sc,Hb,uc,Ib,Wb,ed,lc,hc,ic,fd,yd,ie,vc,wc,Ec,zd,Tc,mc,gd,Bc,Ad,je,Jc,Bd,Cd,Dd,Ed,nc,Fd,Gd,Hd,Lc,oc,pc,Mc,hd,id,jd,fc,jf,Ob,Dc,ke,kd,qc,le,kf,rc,me,lf,ld,ne,mf,Pc,oe,hf,nf,Id,md,of,pf,$d,qf,ae,pe,ec,Uc,qe,Vc,re,gc,se,te,ue,ve,sf,be,we,vd,xe,rf,ye,Jd,ze,Ae,Be,Kd,Ac,De,Ce,tf,Xc,Ee,Md,Yc,Fe,Ld,Ge,He,Nd,Je,Ke,qd,Fc,Nc,Gc,Le,Me,Ne,Oe,Pe,Qe,rd,uf,Re,Se,Pd,Te,cc,Wc,Kc,nd,xc,sc,od,yc,Rc,Ie,Ue,Zc,Ve,vf,$c,We,wf,xf,Xe,Od,pd,Ye,zf,yf,Oc,bd,Af,Zd,Bf,Cf;function Xb(hb,gb){if(!gb || "utf-8" === gb)return sd(hb);throw Error("unsupported encoding");}function Yb(hb,gb){if(!gb || "utf-8" === gb)return td(hb);throw Error("unsupported encoding");}function sd(hb){for(var gb=0,eb,ab=hb.length,kb="";gb < ab;){eb=hb[gb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (hb[gb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((hb[gb++] & 63) << 6) + (hb[gb++] & 63);else throw Error("unsupported character");kb+=String.fromCharCode(eb);}return kb;}function td(hb){var gb,eb,ab,kb,rb;gb=hb.length;eb=0;kb=0;for(ab=gb;ab--;){rb=hb.charCodeAt(ab);128 > rb?eb++:eb=2048 > rb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(ab=0;ab < gb;ab++){rb=hb.charCodeAt(ab);128 > rb?eb[kb++]=rb:(2048 > rb?eb[kb++]=192 | rb >>> 6:(eb[kb++]=224 | rb >>> 12,eb[kb++]=128 | rb >>> 6 & 63),eb[kb++]=128 | rb & 63);}return eb;}function $b(hb,gb){if(hb === gb)return !0;if(!hb || !gb || hb.length != gb.length)return !1;for(var eb=0;eb < hb.length;++eb){if(hb[eb] != gb[eb])return !1;}return !0;}function ac(hb){var ab;if(!(hb && hb.constructor == Uint8Array || Array.isArray(hb)))throw new TypeError("Cannot compute the hash code of " + hb);for(var gb=1,eb=0;eb < hb.length;++eb){ab=hb[eb];if("number" !== typeof ab)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + ab);gb=31 * gb + ab & 4294967295;}return gb;}function Ud(hb,gb){var ib;if(hb === gb)return !0;if(!hb || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var eb=0;eb < gb.length;++eb){for(var ab=gb[eb],kb=!1,rb=0;rb < hb.length;++rb){ib=hb[rb];if(ab.equals && "function" === typeof ab.equals && ab.equals(ib) || ab == ib){kb=!0;break;}}if(!kb)return !1;}return !0;}function Vd(hb,gb){return Ud(hb,gb) && (hb.length == gb.length || Ud(gb,hb));}function Na(hb,gb,eb){var ab,kb;eb && (ab=eb);if("object" !== typeof hb || "function" !== typeof hb.result || "function" !== typeof hb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{kb=gb.call(ab,hb);kb !== Ab && hb.result(kb);}catch(rb){try{hb.error(rb);}catch(ib){}}}function db(hb,gb,eb){if("object" !== typeof hb || "function" !== typeof hb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(hb,gb,eb);}function W(hb,gb,eb){1E5 > hb && (hb=1E5 + hb);Object.defineProperties(this,{internalCode:{value:hb,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function ud(hb){switch(hb){case Ob.PSK:case Ob.MGK:return !0;default:return !1;}}function Wd(hb){switch(hb){case Ob.PSK:case Ob.MGK:case Ob.X509:case Ob.RSA:case Ob.NPTICKET:case Ob.ECC:return !0;default:return !1;}}function df(hb){return hb.toJSON();}function Xd(hb,gb){bd?gb.result(bd):Promise.resolve().then(function(){return Ib.getKeyByName(hb);}).catch(function(){return Ib.generateKey({name:hb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){bd=eb;gb.result(bd);}).catch(function(eb){gb.error(new fb(W.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Yd(hb,gb){var eb,ab;eb=gb.masterToken;ab=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:hb.method,UserId:hb.userId,UT:ab && ab.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:gb && gb.length};}function ef(hb){return hb.uniqueKey();}function ff(hb,gb,eb,ab,kb){var Pa;function rb(xa,oa){xa.errorCode === Ha.ENTITY_REAUTH || xa.errorCode === Ha.ENTITYDATA_REAUTH?(ab.clearCryptoContexts(),Ka()):xa.errorCode !== Ha.USER_REAUTH && xa.errorCode !== Ha.USERDATA_REAUTH || ib(oa);}function ib(xa){if(xa=ab.getUserIdToken(xa))(ab.removeUserIdToken(xa),Ka());}function Fa(xa,oa,ha){var aa;aa=[];(function Y(){xa.read(-1,oa,{result:function(ea){Na(ha,function(){var Z,ka,za,ta,ma;if(ea)(aa.push(ea),Y());else switch(aa.length){case 0:return new Uint8Array(0);case 1:return aa[0];default:(za=aa.length,ta=0);for(ka=Z=0;ka < za;ka++){Z+=aa[ka].length;}Z=new Uint8Array(Z);for(ka=0;ka < za;ka++){ma=aa[ka];Z.set(ma,ta);ta+=ma.length;}return Z;}});},timeout:function(){ha.timeout();},error:function(ea){ha.error(ea);}});})();}function Ka(){ab.getStoreState({result:function(xa){for(var oa=Pa.slice(),ha=0;ha < oa.length;ha++){oa[ha]({storeState:xa});}},timeout:function(){hb.error("Timeout getting store state","" + e);},error:function(xa){hb.error("Error getting store state","" + xa);}});}Pa=[];this.addEventHandler=function(xa,oa){switch(xa){case "shouldpersist":Pa.push(oa);}};this.send=function(xa){return new Promise(function(oa,ha){var aa,X,Y;aa=xa.timeout;X=new Zd(hb,eb,xa,ab.getKeyRequestData());Y=new $d(xa.url);hb.trace("Sending MSL request");gb.request(eb,X,Y,aa,{result:function(ea){var Z;hb.trace("Received MSL response",{Method:xa.method});if(ea){xa.allowTokenRefresh && Ka();Z=ea.getErrorHeader();Z?(rb(Z,xa.profileGuid || xa.userId),ha({success:!1,error:Z})):Fa(ea,aa,{result:function(ka){oa({success:!0,body:Xb(ka)});},timeout:function(){ha({success:!1,subCode:kb.MSL_READ_TIMEOUT});},error:function(ka){ha({success:!1,error:ka});}});}else ha({success:!1,error:new fb(W.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:kb.MSL_REQUEST_TIMEOUT});},error:function(ea){ha({success:!1,error:ea});}});});};this.hasUserIdToken=function(xa){return ! !ab.getUserIdToken(xa);};this.getUserIdTokenKeys=function(){return ab.getUserIdTokenKeys();};this.removeUserIdToken=ib;this.clearUserIdTokens=function(){ab.clearUserIdTokens();Ka();};this.isErrorReauth=function(xa){return xa && xa.errorCode == Ha.USERDATA_REAUTH;};this.isErrorHeader=function(xa){return xa instanceof Ac;};this.getErrorCode=function(xa){return xa && xa.errorCode;};this.getStateForMdx=function(xa){var oa,ha;oa=ab.getMasterToken();xa=ab.getUserIdToken(xa);ha=ab.getCryptoContext(oa);return {masterToken:oa,userIdToken:xa,cryptoContext:ha};};this.buildPlayDataRequest=function(xa,oa){var ha;ha=new ae();gb.request(eb,new Zd(hb,eb,xa),ha,xa.timeout,{result:function(){oa.result(ha.getRequest());},error:function(){oa.result(ha.getRequest());},timeout:function(){oa.timeout();}});};this.rekeyUserIdToken=function(xa,oa){ab.rekeyUserIdToken(xa,oa);Ka();};this.getServiceTokens=function(xa){var oa;oa=ab.getMasterToken();(xa=ab.getUserIdToken(xa)) && !xa.isBoundTo(oa) && (xa=Ab);return ab.getServiceTokens(oa,xa);};this.removeServiceToken=function(xa){var oa;oa=ab.getMasterToken();ab.getServiceTokens(oa).find(function(ha){return ha.name === xa;}) && (ab.removeServiceTokens(xa,oa),Ka());};}function gf(hb,gb,eb){var rb;function ab(){return Promise.resolve().then(function(){return Ib.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(ib){return kb(ib.publicKey,ib.privateKey);});}function kb(ib,Fa){return Promise.all([new Promise(function(Ka,Pa){Bc(ib,{result:Ka,error:function(xa){Pa(new fb(W.INTERNAL_EXCEPTION,"Unable to create keyx public key",xa));}});}),new Promise(function(Ka,Pa){Jc(Fa,{result:Ka,error:function(xa){Pa(new fb(W.INTERNAL_EXCEPTION,"Unable to create keyx private key",xa));}});})]).then(function(Ka){Ka=new vd("rsaKeypairId",eb,Ka[0],Ka[1]);rb && (Ka.storeData={keyxPublicKey:ib,keyxPrivateKey:Fa});return Ka;});}rb=!hb.systemKeyWrapFormat;return Promise.resolve().then(function(){var ib,Fa;ib=hb.storeState;Fa=ib && ib.keyxPublicKey;ib=ib && ib.keyxPrivateKey;return rb && Fa && ib?kb(Fa,ib):ab();}).then(function(ib){var Fa,Ka,Pa;Fa={};Fa[Ob.NONE]=new hf();Ka=new Pc(hb.esn);Pa=[new be()];return {entityAuthFactories:Fa,entityAuthData:Ka,keyExchangeFactories:Pa,keyRequestData:ib,createKeyRequestData:rb?ab:Ab};});}tc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Nb=tc && (tc.webkitSubtle || tc.subtle);cd=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(hb){var gb,eb;gb=(function(){function ab(kb,rb){kb instanceof gb?(this.abv=kb.abv,this.position=kb.position):(this.abv=kb,this.position=rb || 0);}ab.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(kb){this.abv[this.position++]=kb;},peekByte:function(kb){return this.abv[kb];},copyBytes:function(kb,rb,ib){var Fa;Fa=new Uint8Array(this.abv.buffer,this.position,ib);kb=new Uint8Array(kb.buffer,rb,ib);Fa.set(kb);this.position+=ib;},seek:function(kb){this.position=kb;},skip:function(kb){this.position+=kb;},getPosition:function(){return this.position;},setPosition:function(kb){this.position=kb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return ab;})();eb={};(function(){var ea,Z,ka,za,ta,ma,sa,Da,pa;function ab(ca,ja){var la;ja.writeByte(ca.tagClass << 6 | ca.constructed << 5 | ca.tag);la=ca.payloadLen;if(128 > la)ja.writeByte(la);else {for(var Aa=la,Ra=0;Aa;){++Ra;Aa>>=8;}ja.writeByte(128 | Ra);for(Aa=0;Aa < Ra;++Aa){ja.writeByte(la >> 8 * (Ra - Aa - 1) & 255);}}if(ca.child)for((ca.tag == ea.BIT_STRING && ja.writeByte(0),ca=ca._child);ca;){if(!ab(ca,ja))return !1;ca=ca.next;}else switch(ca.tag){case ea.INTEGER:ca.backingStore[ca.dataIdx] >> 7 && ja.writeByte(0);ja.copyBytes(ca.backingStore,ca.dataIdx,ca.dataLen);break;case ea.BIT_STRING:ja.writeByte(0);ja.copyBytes(ca.backingStore,ca.dataIdx,ca.dataLen);break;case ea.OCTET_STRING:ja.copyBytes(ca.backingStore,ca.dataIdx,ca.dataLen);break;case ea.OBJECT_IDENTIFIER:ja.copyBytes(ca.backingStore,ca.dataIdx,ca.dataLen);}return !0;}function kb(ca){var ja,la;ja=ca.readByte();la=ja & 127;if(la == ja)return la;if(3 < la || 0 === la)return -1;for(var Aa=ja=0;Aa < la;++Aa){ja=ja << 8 | ca.readByte();}return ja;}function rb(ca,ja,la){var Aa,Ra,Ma,Qa,Ta,qa,Ca;Aa=ca.backingStore;Ra=new gb(Aa,ja);ja+=la;la=ca;if(8 < ta++)return Ab;for(;Ra.getPosition() < ja;){Ra.getPosition();Qa=Ra.readByte();if(31 == (Qa & 31)){for(Ma=0;Qa & 128;){Ma<<=8;Ma|=Qa & 127;}Qa=Ma;}Ta=Qa;Ma=Ta & 31;if(0 > Ma || 30 < Ma)return Ab;Qa=kb(Ra);if(0 > Qa || Qa > Ra.getRemaining())return Ab;la.constructed=Ta & 32;la.tagClass=(Ta & 192) >> 6;la.tag=Ma;la.dataLen=Qa;la.dataIdx=Ra.getPosition();Ma=Ra;qa=Ta;Ta=Qa;if(qa & 32)Ma=!0;else if(qa < ea.BIT_STRING || qa > ea.OCTET_STRING)Ma=!1;else {Ca=new gb(Ma);qa == ea.BIT_STRING && Ca.skip(1);Ca.readByte() >> 6 & 1?Ma=!1:(qa=kb(Ca),Ma=Ca.getPosition() - Ma.getPosition() + qa == Ta);}Ma && (Ma=Ra.getPosition(),Ta=Qa,la.tag == ea.BIT_STRING && (la.dataIdx++,la.dataLen--,Ma++,Ta--),la.child=new Z(Aa,la),rb(la.child,Ma,Ta));la.tag == ea.INTEGER && (Ma=Ra.getPosition(),0 == Ra.peekByte(Ma) && Ra.peekByte(Ma + 1) >> 7 && (la.dataIdx++,la.dataLen--));Ra.skip(Qa);Ra.getPosition() < ja && (la.next=new Z(Aa,la.parent),la=la.next);}ta--;return ca;}function ib(ca,ja,la){if(9 != la)return !1;for(la=0;9 > la;++la){if(ca[ja++] != ma[la])return !1;}return !0;}function Fa(ca){var ja;if(!(ca && ca.child && ca.child.next && ca.child.child && ca.child.next.child))return !1;ja=ca.child.child;return ib(ja.backingStore,ja.dataIdx,ja.dataLen) && 2 == ca.nChildren && 2 == ca.child.nChildren && 2 == ca.child.next.child.nChildren?!0:!1;}function Ka(ca){var ja;if(!(ca && ca.child && ca.child.next && ca.child.next.child && ca.child.next.next && ca.child.next.next.child))return !1;ja=ca.child.next.child;return ib(ja.backingStore,ja.dataIdx,ja.dataLen) && 3 == ca.nChildren && 2 == ca.child.next.nChildren && 9 == ca.child.next.next.child.nChildren?!0:!1;}function Pa(ca){var ja,la;ja=ka.createSequenceNode();la=new za(ja);la.addChild(ka.createSequenceNode());la.addChild(ka.createOidNode(ma));la.addSibling(ka.createNullNode());la.addToParent(ja,ka.createBitStringNode(null));la.addChild(ka.createSequenceNode());la.addChild(ka.createIntegerNode(ca.n));la.addSibling(ka.createIntegerNode(ca.e));return ja;}function xa(ca){var ja;ca=ca.child.next.child.child;ja=ca.data;ca=ca.next;return new sa(ja,ca.data,null,null);}function oa(ca){var ja,la;ja=ka.createSequenceNode();la=new za(ja);la.addChild(ka.createIntegerNode(new Uint8Array([0])));la.addSibling(ka.createSequenceNode());la.addChild(ka.createOidNode(ma));la.addSibling(ka.createNullNode());la.addToParent(ja,ka.createOctetStringNode(null));la.addChild(ka.createSequenceNode());la.addChild(ka.createIntegerNode(new Uint8Array([0])));la.addSibling(ka.createIntegerNode(ca.n));la.addSibling(ka.createIntegerNode(ca.e));la.addSibling(ka.createIntegerNode(ca.d));la.addSibling(ka.createIntegerNode(ca.p));la.addSibling(ka.createIntegerNode(ca.q));la.addSibling(ka.createIntegerNode(ca.dp));la.addSibling(ka.createIntegerNode(ca.dq));la.addSibling(ka.createIntegerNode(ca.qi));return ja;}function ha(ca){var ja;ja=[];ca=ca.child.next.next.child.child.next;for(var la=0;8 > la;la++){ja.push(ca.data);ca=ca.next;}return new Da(ja[0],ja[1],ja[2],ja[3],ja[4],ja[5],ja[6],ja[7]);}function aa(ca,ja,la,Aa){if(!(ca instanceof sa || ca instanceof Da))return Ab;if(la)for(var Ra=0;Ra < la.length;++Ra){if(-1 == pa.indexOf(la[Ra]))return Ab;}ja={kty:"RSA",alg:ja,key_ops:la || [],ext:Aa == Ab?!1:Aa,n:Eb(ca.n,!0),e:Eb(ca.e,!0)};ca instanceof Da && (ja.d=Eb(ca.d,!0),ja.p=Eb(ca.p,!0),ja.q=Eb(ca.q,!0),ja.dp=Eb(ca.dp,!0),ja.dq=Eb(ca.dq,!0),ja.qi=Eb(ca.qi,!0));return ja;}function X(ca){var ja,la,Aa,Ra,Ma,Qa,Ta,qa,Ca,Ga;if(!ca.kty || "RSA" != ca.kty || !ca.n || !ca.e)return Ab;ja=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(ca.alg && -1 == ja.indexOf(ca.alg))return Ab;ja=[];ca.use?"enc" == ca.use?ja=["encrypt","decrypt","wrap","unwrap"]:"sig" == ca.use && (ja=["sign","verify"]):ja=ca.key_ops;la=ca.ext;Aa=Gb(ca.n,!0);Ra=Gb(ca.e,!0);if(ca.d){Ma=Gb(ca.d,!0);Qa=Gb(ca.p,!0);Ta=Gb(ca.q,!0);qa=Gb(ca.dp,!0);Ca=Gb(ca.dq,!0);Ga=Gb(ca.qi,!0);return new Da(Aa,Ra,Ma,Qa,Ta,qa,Ca,Ga,ca.alg,ja,la);}return new sa(Aa,Ra,la,ja);}function Y(ca,ja,la,Aa){this.der=ca;this.type=ja;this.keyOps=la;this.extractable=Aa;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};Z=function(ca,ja,la,Aa,Ra,Ma){this._data=ca;this._parent=ja || Ab;this._constructed=la || !1;this._tagClass=0;this._tag=Aa || 0;this._dataIdx=Ra || 0;this._dataLen=Ma || 0;};Z.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(ca) {this._constructed=0 != ca?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(ca) {this._tagClass=ca;},get tag() {return this._tag;},set tag(ca) {this._tag=ca;},get dataIdx() {return this._dataIdx;},set dataIdx(ca) {this._dataIdx=ca;},get dataLen() {return this._dataLen;},set dataLen(ca) {this._dataLen=ca;},get child() {return this._child;},set child(ca) {this._child=ca;this._child.parent=this;},get next() {return this._next;},set next(ca) {this._next=ca;},get parent() {return this._parent;},set parent(ca) {this._parent=ca;},get payloadLen() {var ca;ca=0;if(this._child){for(var ja=this._child;ja;){ca+=ja.length;ja=ja.next;}this._tag == ea.BIT_STRING && ca++;}else switch(this._tag){case ea.INTEGER:ca=this._dataLen;this._data[this._dataIdx] >> 7 && ca++;break;case ea.BIT_STRING:ca=this._dataLen + 1;break;case ea.OCTET_STRING:ca=this._dataLen;break;case ea.NULL:ca=0;break;case ea.OBJECT_IDENTIFIER:ib(this._data,this._dataIdx,this._dataLen) && (ca=9);}return ca;},get length() {var ca,ja;ca=this.payloadLen;if(127 < ca)for(ja=ca;ja;){ja>>=8;++ca;}return ca + 2;},get der() {var ca,ja;ca=this.length;if(!ca)return Ab;ca=new Uint8Array(ca);ja=new gb(ca);return ab(this,ja)?ca:Ab;},get nChildren() {for(var ca=0,ja=this._child;ja;){ca++;ja=ja.next;}return ca;}};ka={createSequenceNode:function(){return new Z(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(ca){return new Z(ca,null,!1,ea.OBJECT_IDENTIFIER,0,ca?ca.length:0);},createNullNode:function(){return new Z(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(ca){return new Z(ca,null,!1,ea.BIT_STRING,0,ca?ca.length:0);},createIntegerNode:function(ca){return new Z(ca,null,!1,ea.INTEGER,0,ca?ca.length:0);},createOctetStringNode:function(ca){return new Z(ca,null,!1,ea.OCTET_STRING,0,ca?ca.length:0);}};za=function(ca){this._currentNode=this._rootNode=ca;};za.prototype={addChild:function(ca){this.addTo(this._currentNode,ca);},addSibling:function(ca){this.addTo(this._currentNode.parent,ca);},addTo:function(ca,ja){this._currentNode=ja;this._currentNode.parent=ca;if(ca.child){for(ca=ca.child;ca.next;){ca=ca.next;}ca.next=ja;}else ca.child=ja;},addToParent:function(ca,ja){this.findNode(ca) && this.addTo(ca,ja);},findNode:function(ca){for(var ja=this._currentNode;ja;){if(ca == ja)return !0;ja=ja.parent;}return !1;}};ta=0;ma=new Uint8Array([42,134,72,134,247,13,1,1,1]);sa=function(ca,ja,la,Aa){this.n=ca;this.e=ja;this.ext=la;this.keyOps=Aa;};Da=function(ca,ja,la,Aa,Ra,Ma,Qa,Ta,qa,Ca,Ga){this.n=ca;this.e=ja;this.d=la;this.p=Aa;this.q=Ra;this.dp=Ma;this.dq=Qa;this.qi=Ta;this.alg=qa;this.keyOps=Ca;this.ext=Ga;};pa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");Y.prototype.getDer=function(){return this.der;};Y.prototype.getType=function(){return this.type;};Y.prototype.getKeyOps=function(){return this.keyOps;};Y.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(ca){ta=0;return rb(new Z(ca),0,ca.length);};eb.show=function(ca,ja){};eb.isRsaSpki=Fa;eb.isRsaPkcs8=Ka;eb.NodeFactory=ka;eb.Builder=za;eb.tagVal=ea;eb.RsaPublicKey=sa;eb.RsaPrivateKey=Da;eb.buildRsaSpki=Pa;eb.parseRsaSpki=function(ca){ca=eb.parse(ca);return Fa?xa(ca):Ab;};eb.buildRsaPkcs8=oa;eb.parseRsaPkcs8=function(ca){ca=eb.parse(ca);return Ka(ca)?ha(ca):Ab;};eb.buildRsaJwk=aa;eb.parseRsaJwk=X;eb.RsaDer=Y;eb.rsaDerToJwk=function(ca,ja,la,Aa){ca=eb.parse(ca);if(!ca)return Ab;if(Fa(ca))ca=xa(ca);else if(Ka(ca))ca=ha(ca);else return Ab;return aa(ca,ja,la,Aa);};eb.jwkToRsaDer=function(ca){var ja,la;ca=X(ca);if(!ca)return Ab;if(ca instanceof sa){ja="spki";la=Pa(ca).der;}else if(ca instanceof Da)(ja="pkcs8",la=oa(ca).der);else return Ab;return new Y(la,ja,ca.keyOps,ca.ext);};eb.webCryptoAlgorithmToJwkAlg=function(ca){return "RSAES-PKCS1-v1_5" == ca.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == ca.name?"SHA-256" == ca.hash.name?"RS256":"SHA-384" == ca.hash.name?"RS384":"SHA-512" == ca.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(ca){return ca.map(function(ja){return "wrapKey" == ja?"wrap":"unwrapKey" == ja?"unwrap":ja;});};})();hb.ASN1=eb;})(nb);(function(){for(var hb={},gb={},eb={"=":0,".":0},ab={"=":0,".":0},kb=/\s+/g,rb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,ib=64;ib--;){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=262144 * ib;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=4096 * ib;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=64 * ib;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=ib;}for(ib=64;ib-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib];){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=262144 * ib;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=4096 * ib;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=64 * ib;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=ib;}Eb=function(Fa,Ka){for(var Pa="",xa=0,oa=Fa.length,ha=oa - 2,aa=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=Ka?"":"=";xa < ha;){Ka=65536 * Fa[xa++] + 256 * Fa[xa++] + Fa[xa++];Pa+=aa[Ka >>> 18] + aa[Ka >>> 12 & 63] + aa[Ka >>> 6 & 63] + aa[Ka & 63];}xa == ha?(Ka=65536 * Fa[xa++] + 256 * Fa[xa++],Pa+=aa[Ka >>> 18] + aa[Ka >>> 12 & 63] + aa[Ka >>> 6 & 63] + X):xa == oa - 1 && (Ka=65536 * Fa[xa++],Pa+=aa[Ka >>> 18] + aa[Ka >>> 12 & 63] + X + X);return Pa;};Gb=function(Fa,Ka){Fa=Fa.replace(kb,"");if(Ka && (Ka=Fa.length % 4)){Ka=4 - Ka;for(var Pa=0;Pa < Ka;++Pa){Fa+="=";}}Ka=Fa.length;if(0 != Ka % 4 || !rb.test(Fa))throw Error("bad base64: " + Fa);for(var xa=Ka / 4 * 3 - ("=" == Fa[Ka - 1]?1:0) - ("=" == Fa[Ka - 2]?1:0),oa=new Uint8Array(xa),ha=0,aa=0;ha < Ka;){Pa=hb[Fa[ha++]] + gb[Fa[ha++]] + eb[Fa[ha++]] + ab[Fa[ha++]];oa[aa++]=Pa >>> 16;aa < xa && (oa[aa++]=Pa >>> 8 & 255,aa < xa && (oa[aa++]=Pa & 255));}return oa;};})();Ub={};(function(){var rb,ib,Fa,Pa;function hb(xa){if(!(this instanceof hb))return new hb(xa);for(var oa=0,ha=ib.length;oa < ha;oa++){this[ib[oa]]="";}this.bufferCheckPosition=Ub.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=xa || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Fa.BEGIN;this.stack=new rb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(xa,oa,ha){if(xa[oa])xa[oa](ha);}function eb(xa,oa){var ha,aa;ha=xa.opt;aa=xa.textNode;ha.trim && (aa=aa.trim());ha.normalize && (aa=aa.replace(/\s+/g," "));xa.textNode=aa;xa.textNode && gb(xa,oa?oa:"onvalue",xa.textNode);xa.textNode="";}function ab(xa,oa){eb(xa);oa+="\nLine: " + xa.line + "\nColumn: " + xa.column + "\nChar: " + xa.c;oa=Error(oa);xa.error=oa;gb(xa,"onerror",oa);return xa;}function kb(xa){xa.state !== Fa.VALUE && ab(xa,"Unexpected end");eb(xa);xa.c="";xa.closed=!0;gb(xa,"onend");hb.call(xa,xa.opt);return xa;}rb=Array;Ub.parser=function(xa){return new hb(xa);};Ub.CParser=hb;Ub.MAX_BUFFER_LENGTH=65536;Ub.DEBUG=!1;Ub.INFO=!1;Ub.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");ib=["textNode","numberNode"];Ub.EVENTS.filter(function(xa){return "error" !== xa && "end" !== xa;});Fa=0;Ub.STATE={BEGIN:Fa++,VALUE:Fa++,OPEN_OBJECT:Fa++,CLOSE_OBJECT:Fa++,OPEN_ARRAY:Fa++,CLOSE_ARRAY:Fa++,TEXT_ESCAPE:Fa++,STRING:Fa++,BACKSLASH:Fa++,END:Fa++,OPEN_KEY:Fa++,CLOSE_KEY:Fa++,TRUE:Fa++,TRUE2:Fa++,TRUE3:Fa++,FALSE:Fa++,FALSE2:Fa++,FALSE3:Fa++,FALSE4:Fa++,NULL:Fa++,NULL2:Fa++,NULL3:Fa++,NUMBER_DECIMAL_POINT:Fa++,NUMBER_DIGIT:Fa++};for(var Ka in Ub.STATE){Ub.STATE[Ub.STATE[Ka]]=Ka;}Fa=Ub.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(xa){return xa.__proto__;});Pa=/[\\"\n]/g;hb.prototype={end:function(){kb(this);},write:function(xa){var aa,X,Y;if(this.error)throw this.error;if(this.closed)return ab(this,"Cannot write after close. Assign an onready handler.");if(null === xa)return kb(this);for(var oa=xa[0],ha;oa;){ha=oa;this.c=oa=xa.charAt(this.index++);ha !== oa?this.p=ha:ha=this.p;if(!oa)break;this.position++;"\n" === oa?(this.line++,this.column=0):this.column++;switch(this.state){case Fa.BEGIN:"{" === oa?this.state=Fa.OPEN_OBJECT:"[" === oa?this.state=Fa.OPEN_ARRAY:"\r" !== oa && "\n" !== oa && " " !== oa && "\t" !== oa && ab(this,"Non-whitespace before {[.");continue;case Fa.OPEN_KEY:case Fa.OPEN_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Fa.OPEN_KEY)this.stack.push(Fa.CLOSE_KEY);else if("}" === oa){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_OBJECT);'"' === oa?this.state=Fa.STRING:ab(this,'Malformed object key should start with "');continue;case Fa.CLOSE_KEY:case Fa.CLOSE_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;":" === oa?(this.state === Fa.CLOSE_OBJECT?(this.stack.push(Fa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Fa.VALUE):"}" === oa?(eb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Fa.VALUE):"," === oa?(this.state === Fa.CLOSE_OBJECT && this.stack.push(Fa.CLOSE_OBJECT),eb(this),this.state=Fa.OPEN_KEY):ab(this,"Bad object");continue;case Fa.OPEN_ARRAY:case Fa.VALUE:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Fa.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Fa.VALUE,"]" === oa)){gb(this,"onclosearray");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_ARRAY);'"' === oa?this.state=Fa.STRING:"{" === oa?this.state=Fa.OPEN_OBJECT:"[" === oa?this.state=Fa.OPEN_ARRAY:"t" === oa?this.state=Fa.TRUE:"f" === oa?this.state=Fa.FALSE:"n" === oa?this.state=Fa.NULL:"-" === oa?this.numberNode+=oa:"0" === oa?(this.numberNode+=oa,this.state=Fa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(oa)?(this.numberNode+=oa,this.state=Fa.NUMBER_DIGIT):ab(this,"Bad value");continue;case Fa.CLOSE_ARRAY:if("," === oa)(this.stack.push(Fa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Fa.VALUE);else if("]" === oa)(eb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Fa.VALUE);else if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;else ab(this,"Bad array");continue;case Fa.STRING:ha=this.index - 1;(aa=this.slashed,X=this.unicodeI);a:for(;;){if(Ub.DEBUG)for(;0 < X;){if((this.unicodeS+=oa,oa=xa.charAt(this.index++),4 === X?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),X=0,ha=this.index - 1):X++,!oa))break a;}if('"' === oa && !aa){this.state=this.stack.pop() || Fa.VALUE;(this.textNode+=xa.substring(ha,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === oa && !aa && (aa=!0,this.textNode+=xa.substring(ha,this.index - 1),oa=xa.charAt(this.index++),!oa))break;if(aa)if((aa=!1,"n" === oa?this.textNode+="\n":"r" === oa?this.textNode+="\r":"t" === oa?this.textNode+="\t":"f" === oa?this.textNode+="\f":"b" === oa?this.textNode+="\b":"u" === oa?(X=1,this.unicodeS=""):this.textNode+=oa,oa=xa.charAt(this.index++),ha=this.index - 1,oa))continue;else break;Pa.lastIndex=this.index;Y=Pa.exec(xa);if(null === Y){this.index=xa.length + 1;this.textNode+=xa.substring(ha,this.index - 1);break;}this.index=Y.index + 1;oa=xa.charAt(Y.index);if(!oa){this.textNode+=xa.substring(ha,this.index - 1);break;}}this.slashed=aa;this.unicodeI=X;continue;case Fa.TRUE:if("" === oa)continue;"r" === oa?this.state=Fa.TRUE2:ab(this,"Invalid true started with t" + oa);continue;case Fa.TRUE2:if("" === oa)continue;"u" === oa?this.state=Fa.TRUE3:ab(this,"Invalid true started with tr" + oa);continue;case Fa.TRUE3:if("" === oa)continue;"e" === oa?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid true started with tru" + oa);continue;case Fa.FALSE:if("" === oa)continue;"a" === oa?this.state=Fa.FALSE2:ab(this,"Invalid false started with f" + oa);continue;case Fa.FALSE2:if("" === oa)continue;"l" === oa?this.state=Fa.FALSE3:ab(this,"Invalid false started with fa" + oa);continue;case Fa.FALSE3:if("" === oa)continue;"s" === oa?this.state=Fa.FALSE4:ab(this,"Invalid false started with fal" + oa);continue;case Fa.FALSE4:if("" === oa)continue;"e" === oa?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid false started with fals" + oa);continue;case Fa.NULL:if("" === oa)continue;"u" === oa?this.state=Fa.NULL2:ab(this,"Invalid null started with n" + oa);continue;case Fa.NULL2:if("" === oa)continue;"l" === oa?this.state=Fa.NULL3:ab(this,"Invalid null started with nu" + oa);continue;case Fa.NULL3:if("" === oa)continue;"l" === oa?(gb(this,"onvalue",null),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid null started with nul" + oa);continue;case Fa.NUMBER_DECIMAL_POINT:"." === oa?(this.numberNode+=oa,this.state=Fa.NUMBER_DIGIT):ab(this,"Leading zero not followed by .");continue;case Fa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(oa)?this.numberNode+=oa:"." === oa?(-1 !== this.numberNode.indexOf(".") && ab(this,"Invalid number has two dots"),this.numberNode+=oa):"e" === oa || "E" === oa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || ab(this,"Invalid number has two exponential"),this.numberNode+=oa):"+" === oa || "-" === oa?("e" !== ha && "E" !== ha && ab(this,"Invalid symbol in number"),this.numberNode+=oa):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Fa.VALUE);continue;default:ab(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){xa=Math.max(Ub.MAX_BUFFER_LENGTH,10);ha=oa=0;for(aa=ib.length;ha < aa;ha++){X=this[ib[ha]].length;if(X > xa)switch(ib[ha]){case "text":break;default:ab(this,"Max buffer length exceeded: " + ib[ha]);}oa=Math.max(oa,X);}this.bufferCheckPosition=Ub.MAX_BUFFER_LENGTH - oa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var ab,kb,rb;function hb(ib,Fa){Fa || (Fa=ib.length);return ib.reduce(function(Ka,Pa,xa){return xa < Fa?Ka + String.fromCharCode(Pa):Ka;},"");}for(var gb={},eb=0;256 > eb;++eb){ab=hb([eb]);gb[ab]=eb;}kb=Object.keys(gb).length;rb=[];for(eb=0;256 > eb;++eb){rb[eb]=[eb];}ce=function(ib,Fa){var Z,ka;function Ka(za,ta){var ma;for(;0 < ta;){if(X >= aa.length)return !1;if(ta > Y){ma=za;ma>>>=ta - Y;aa[X]|=ma & 255;ta-=Y;Y=8;++X;}else ta <= Y && (ma=za,ma<<=Y - ta,ma&=255,ma>>>=8 - Y,aa[X]|=ma & 255,Y-=ta,ta=0,0 == Y && (Y=8,++X));}return !0;}for(var Pa in gb){Fa[Pa]=gb[Pa];}for(var xa=kb,oa=[],ha=8,aa=new Uint8Array(ib.length),X=0,Y=8,ea=0;ea < ib.length;++ea){Z=ib[ea];oa.push(Z);Pa=hb(oa);ka=Fa[Pa];if(!ka){oa=hb(oa,oa.length - 1);if(!Ka(Fa[oa],ha))return null;0 != xa >> ha && ++ha;Fa[Pa]=xa++;oa=[Z];}}return 0 < oa.length && (Pa=hb(oa),ka=Fa[Pa],!Ka(ka,ha))?null:aa.subarray(0,8 > Y?X + 1:X);};de=function(ib){var ea,Z;for(var Fa=rb.slice(),Ka=0,Pa=0,xa=8,oa=new Uint8Array(Math.ceil(1.5 * ib.length)),ha=0,aa,X=[];Ka < ib.length && !(8 * (ib.length - Ka) - Pa < xa);){for(var Y=aa=0;Y < xa;){ea=Math.min(xa - Y,8 - Pa);Z=ib[Ka];Z<<=Pa;Z&=255;Z>>>=8 - ea;Y+=ea;Pa+=ea;8 == Pa && (Pa=0,++Ka);aa|=(Z & 255) << xa - Y;}Y=Fa[aa];0 == X.length?++xa:(Y?X.push(Y[0]):X.push(X[0]),Fa[Fa.length]=X,X=[],Fa.length == 1 << xa && ++xa,Y || (Y=Fa[aa]));aa=ha + Y.length;aa >= oa.length && (ea=new Uint8Array(Math.ceil(1.5 * aa)),ea.set(oa),oa=ea);oa.set(Y,ha);ha=aa;X=X.concat(Y);}return oa.subarray(0,ha);};})();(function(){var hb,gb,eb;Lb="utf-8";Jb=9007199254740992;hb=Cc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Cc);ee=function(ab){for(var kb=[hb.GZIP,hb.LZW],rb=0;rb < kb.length && 0 < ab.length;++rb){for(var ib=kb[rb],Fa=0;Fa < ab.length;++Fa){if(ab[Fa] == ib)return ib;}}return null;};gb=dd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(dd);fe=function(ab){return gb.AES_CBC_PKCS5Padding == ab?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == ab?gb.RSA_ECB_PKCS1Padding:gb[ab];};eb=ge={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ge);wd=function(ab){return eb[ab];};Ha={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ha);})();Cb={isObjectLiteral:function(hb){return null !== hb && "object" === typeof hb && hb.constructor === Object;},extendDeep:function(){var hb,gb,eb,ab,kb,rb,ib,Fa;hb=arguments[0];gb=1;eb=arguments.length;ab=!1;"boolean" === typeof hb && (ab=hb,hb=arguments[1],gb=2);for(;gb < eb;gb++){if(null != (kb=arguments[gb]))for(rb in kb){if(!(ab && (rb in hb))){ib=kb[rb];if(hb !== ib && ib !== Ab){Fa=hb[rb];hb[rb]=null !== Fa && null !== ib && "object" === typeof Fa && "object" === typeof ib?Cb.extendDeep(ab,{},Fa,ib):ib;}}}}return hb;}};(function(){var ib,Fa;function hb(Ka,Pa){return function(){var xa,oa;xa=Ka.base;Ka.base=Pa;oa=Ka.apply(this,arguments);Ka.base=xa;return oa;};}function gb(Ka,Pa,xa){var oa,ha,aa,X;xa=xa || Fa;ha=! !xa.extendAll;for(oa in Pa){aa=Pa.__lookupGetter__(oa);X=Pa.__lookupSetter__(oa);aa || X?(aa && Ka.__defineGetter__(oa,aa),X && Ka.__defineSetter__(oa,X)):(aa=Pa[oa],X=Ka[oa],"function" === typeof aa && "function" === typeof X && aa !== X?(aa.base !== Function.prototype.base && (aa=hb(aa,X)),aa.base=X):(ha || xa[oa]) && Cb.isObjectLiteral(aa) && Cb.isObjectLiteral(X) && (aa=Cb.extendDeep({},X,aa)),Ka[oa]=aa);}}function eb(){var Ka,Pa;Ka=Array.prototype.slice;Pa=Ka.call(arguments,1);return this.extend({init:function oa(){var ha;ha=Ka.call(arguments,0);oa.base.apply(this,Pa.concat(ha));}});}function ab(Ka,Pa){var xa;xa=new this(ib);gb(xa,Ka,Pa);return rb(xa);}function kb(Ka,Pa){gb(this.prototype,Ka,Pa);return this;}function rb(Ka){var Pa;Pa=function(){var xa;xa=this.init;xa && arguments[0] !== ib && xa.apply(this,arguments);};Ka && (Pa.prototype=Ka);Pa.prototype.constructor=Pa;Pa.extend=ab;Pa.bind=eb;Pa.mixin=kb;return Pa;}ib={};Fa={actions:!0};Function.prototype.base=function(){};Cb.Class={create:rb,mixin:gb,extend:function(Ka,Pa){var xa;xa=rb();xa.prototype=new Ka();return xa.extend(Pa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var ib,Fa,Ka;function hb(Pa,xa){return function(){var oa,ha;oa=Pa.base;Pa.base=xa;ha=Pa.apply(this,arguments);Pa.base=oa;return ha;};}function gb(Pa,xa,oa){var ha,aa,X,Y;oa=oa || Fa;aa=! !oa.extendAll;for(ha in xa){X=xa.__lookupGetter__(ha);Y=xa.__lookupSetter__(ha);X || Y?(X && Pa.__defineGetter__(ha,X),Y && Pa.__defineSetter__(ha,Y)):(X=xa[ha],Y=Pa[ha],"function" === typeof X && "function" === typeof Y && X !== Y?(X.base !== Ka && (X=hb(X,Y)),X.base=Y):(aa || oa[ha]) && Cb.isObjectLiteral(X) && Cb.isObjectLiteral(Y) && (X=Cb.extendDeep({},Y,X)),Pa[ha]=X);}}function eb(){var Pa,xa;Pa=Array.prototype.slice;xa=Pa.call(arguments,1);return this.extend({init:function ha(){var aa;aa=Pa.call(arguments,0);ha.base.apply(this,xa.concat(aa));}});}function ab(Pa,xa){var oa;oa=new this(ib);gb(oa,Pa,xa);return rb(oa);}function kb(Pa,xa){gb(this.prototype,Pa,xa);return this;}function rb(Pa){var xa;xa=function(){var oa;oa=this.init;oa && arguments[0] !== ib && oa.apply(this,arguments);};Pa && (xa.prototype=Pa);xa.prototype.constructor=xa;xa.extend=ab;xa.bind=eb;xa.mixin=kb;return xa;}ib={};Fa={actions:!0};Ka=function(){};Function.prototype.base=Ka;Cb.Class={create:rb,mixin:gb,extend:function(Pa,xa){var oa;oa=rb();oa.prototype=new Pa();return oa.extend(xa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function hb(eb){return eb == Jb?1:eb + 1;}function gb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var ab=hb(eb._nextWaiter);!eb._waiters[ab];){ab=hb(ab);}return ab;}Qc=Cb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ab;if(this._waiters[eb]){ab=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=gb(this));ab.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,ab){var kb,rb;kb=this;rb=hb(this._lastWaiter);this._lastWaiter=rb;db(ab,function(){var ib,Fa;if(0 < this._queue.length){ib=this._queue.shift();setTimeout(function(){ab.result(ib);},0);}else {-1 != eb && (Fa=setTimeout(function(){delete kb._waiters[rb];rb == kb._nextWaiter && (kb._nextWaiter=gb(kb));ab.timeout();},eb));this._waiters[rb]=function(Ka){clearTimeout(Fa);setTimeout(function(){ab.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=rb);}},kb);return rb;},add:function(eb){var ab;if(this._nextWaiter){ab=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);ab.call(this,eb);}else this._queue.push(eb);}});})();(function(){var hb;hb=0 - Jb;he=Cb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);tc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var eb;if(null !== gb && gb !== Ab){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;eb=new Uint8Array(4);tc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);tc.getRandomValues(gb);eb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var gb=hb;gb == hb;){gb=new Uint8Array(7);tc.getRandomValues(gb);eb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-eb - 1:eb;}return gb;},nextBytes:function(gb){tc.getRandomValues(gb);}});})();(function(){function hb(ab){return ab == Jb?1:ab + 1;}function gb(ab){if(0 === Object.keys(ab._waitingReaders).length)return 0;for(var kb=hb(ab._nextReader);!ab._waitingReaders[kb];){kb=hb(kb);}return kb;}function eb(ab){if(0 === Object.keys(ab._waitingWriters).length)return 0;for(var kb=hb(ab._nextWriter);!ab._waitingWriters[kb];){kb=hb(kb);}return kb;}xd=Cb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var kb;if(this._waitingReaders[ab]){kb=this._waitingReaders[ab];delete this._waitingReaders[ab];ab == this._nextReader && (this._nextReader=gb(this));kb.call(this,!0);}this._waitingWriters[ab] && (kb=this._waitingWriters[ab],delete this._waitingWriters[ab],ab == this._nextWriter && (this._nextWriter=eb(this)),kb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(ab,kb){var rb,ib;rb=this;ib=hb(this._lastNumber);this._lastNumber=ib;db(kb,function(){var Fa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[ib]=!0,ib);-1 != ab && (Fa=setTimeout(function(){delete rb._waitingReaders[ib];ib == rb._nextReader && (rb._nextReader=gb(rb));kb.timeout();},ab));this._waitingReaders[ib]=function(Ka){clearTimeout(Fa);Ka?setTimeout(function(){kb.result(Ab);},0):(rb._readers[ib]=!0,setTimeout(function(){kb.result(ib);},0));};this._nextReader || (this._nextReader=ib);},rb);return ib;},writeLock:function(ab,kb){var rb,ib;rb=this;ib=hb(this._lastNumber);this._lastNumber=ib;db(kb,function(){var Fa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=ib;-1 != ab && (Fa=setTimeout(function(){delete rb._waitingWriters[ib];ib == rb._nextWriter && (rb._nextWriter=eb(rb));kb.timeout();},ab));this._waitingWriters[ib]=function(Ka){clearTimeout(Fa);Ka?setTimeout(function(){kb.result(Ab);},0):(rb._writer=ib,setTimeout(function(){kb.result(ib);},0));};this._nextWriter || (this._nextWriter=ib);},rb);return ib;},unlock:function(ab){if(ab == this._writer)this._writer=null;else {if(!this._readers[ab])throw new vb("There is no reader or writer with ticket number " + ab + ".");delete this._readers[ab];}if(this._nextWriter)0 < Object.keys(this._readers).length || (ab=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),ab.call(this,!1));else {for(var kb=this._nextReader;0 < Object.keys(this._waitingReaders).length;kb=hb(kb)){this._waitingReaders[kb] && (ab=this._waitingReaders[kb],delete this._waitingReaders[kb],ab.call(this,!1));}this._nextReader=0;}}});})();Cb.Class.mixin(W,{JSON_PARSE_ERROR:new W(0,Ha.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new W(1,Ha.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new W(2,Ha.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new W(3,Ha.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new W(4,Ha.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new W(5,Ha.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new W(6,Ha.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new W(7,Ha.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new W(8,Ha.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new W(9,Ha.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new W(10,Ha.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new W(11,Ha.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new W(12,Ha.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new W(13,Ha.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new W(14,Ha.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new W(15,Ha.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new W(16,Ha.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new W(17,Ha.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new W(18,Ha.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new W(19,Ha.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new W(20,Ha.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new W(21,Ha.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new W(22,Ha.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new W(23,Ha.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new W(24,Ha.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new W(25,Ha.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new W(26,Ha.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new W(27,Ha.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new W(28,Ha.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new W(29,Ha.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new W(30,Ha.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new W(31,Ha.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new W(32,Ha.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new W(33,Ha.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new W(34,Ha.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new W(35,Ha.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new W(36,Ha.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new W(37,Ha.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new W(38,Ha.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new W(39,Ha.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new W(40,Ha.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new W(41,Ha.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new W(42,Ha.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new W(43,Ha.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new W(44,Ha.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new W(45,Ha.FAIL,"Error exporting key."),DIGEST_ERROR:new W(46,Ha.FAIL,"Error in digest."),UNSUPPORTED_KEY:new W(47,Ha.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new W(48,Ha.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new W(49,Ha.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new W(50,Ha.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new W(51,Ha.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new W(52,Ha.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new W(53,Ha.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new W(54,Ha.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new W(55,Ha.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new W(56,Ha.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new W(57,Ha.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new W(58,Ha.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new W(59,Ha.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new W(60,Ha.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new W(61,Ha.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new W(62,Ha.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new W(1E3,Ha.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new W(1001,Ha.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new W(1002,Ha.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new W(1003,Ha.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(1004,Ha.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(1005,Ha.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new W(1006,Ha.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new W(1007,Ha.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new W(1008,Ha.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new W(1009,Ha.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new W(1010,Ha.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new W(1011,Ha.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new W(1012,Ha.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new W(1013,Ha.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new W(1014,Ha.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new W(2E3,Ha.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new W(2001,Ha.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new W(2002,Ha.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new W(2003,Ha.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new W(2004,Ha.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new W(2005,Ha.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2006,Ha.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2007,Ha.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new W(2008,Ha.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new W(2009,Ha.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new W(2010,Ha.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new W(2011,Ha.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new W(2012,Ha.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new W(2013,Ha.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new W(2014,Ha.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new W(2015,Ha.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new W(2016,Ha.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new W(2017,Ha.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new W(2018,Ha.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new W(2019,Ha.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new W(2020,Ha.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new W(3E3,Ha.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new W(3001,Ha.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new W(3002,Ha.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new W(3003,Ha.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new W(3004,Ha.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3005,Ha.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3006,Ha.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new W(3007,Ha.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new W(3008,Ha.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new W(3009,Ha.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new W(4E3,Ha.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new W(4001,Ha.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new W(4002,Ha.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new W(4003,Ha.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new W(4004,Ha.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new W(4005,Ha.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new W(4006,Ha.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new W(4007,Ha.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new W(4008,Ha.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new W(4009,Ha.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new W(4010,Ha.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new W(4011,Ha.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new W(4012,Ha.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new W(4013,Ha.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new W(4014,Ha.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new W(4015,Ha.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new W(4016,Ha.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new W(4017,Ha.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new W(4018,Ha.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new W(4019,Ha.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new W(4020,Ha.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new W(4021,Ha.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new W(4022,Ha.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new W(4023,Ha.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new W(4024,Ha.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new W(4025,Ha.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new W(4026,Ha.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new W(5E3,Ha.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new W(5001,Ha.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new W(5002,Ha.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new W(5003,Ha.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new W(5004,Ha.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new W(5005,Ha.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new W(5006,Ha.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new W(5007,Ha.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new W(5008,Ha.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new W(5009,Ha.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new W(5010,Ha.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new W(5011,Ha.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new W(5012,Ha.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new W(5013,Ha.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new W(5014,Ha.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new W(5015,Ha.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new W(5016,Ha.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new W(5017,Ha.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new W(5018,Ha.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new W(5019,Ha.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new W(5020,Ha.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new W(5021,Ha.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new W(5022,Ha.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new W(5023,Ha.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new W(5024,Ha.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new W(5025,Ha.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new W(5026,Ha.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new W(5027,Ha.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new W(5028,Ha.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new W(5029,Ha.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new W(5030,Ha.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new W(5031,Ha.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new W(5032,Ha.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new W(5033,Ha.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new W(5034,Ha.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new W(5035,Ha.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new W(5036,Ha.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new W(5037,Ha.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new W(5038,Ha.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new W(5039,Ha.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new W(5040,Ha.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new W(6E3,Ha.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new W(6001,Ha.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new W(6002,Ha.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new W(6003,Ha.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new W(6004,Ha.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new W(6005,Ha.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new W(6006,Ha.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new W(6007,Ha.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new W(6008,Ha.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new W(6009,Ha.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new W(6010,Ha.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new W(6011,Ha.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new W(6012,Ha.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new W(6013,Ha.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new W(6014,Ha.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new W(6015,Ha.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new W(6016,Ha.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new W(6017,Ha.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new W(6018,Ha.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(6019,Ha.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new W(6020,Ha.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new W(6021,Ha.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new W(6022,Ha.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new W(6023,Ha.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new W(6024,Ha.FAIL,"Invalid header data."),PAYLOAD_INVALID:new W(6025,Ha.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new W(6026,Ha.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new W(6027,Ha.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new W(6028,Ha.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new W(6029,Ha.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new W(6030,Ha.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new W(6031,Ha.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new W(6032,Ha.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new W(6033,Ha.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new W(6034,Ha.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new W(6035,Ha.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new W(6036,Ha.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new W(6037,Ha.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new W(7E3,Ha.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new W(7001,Ha.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new W(7002,Ha.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new W(7003,Ha.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new W(7004,Ha.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new W(7005,Ha.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new W(7006,Ha.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new W(7007,Ha.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new W(7008,Ha.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new W(7009,Ha.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new W(7010,Ha.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new W(7011,Ha.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new W(7012,Ha.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new W(7013,Ha.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new W(7014,Ha.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new W(7015,Ha.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new W(7016,Ha.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new W(8E3,Ha.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new W(8001,Ha.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new W(8002,Ha.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new W(8003,Ha.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new W(8004,Ha.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new W(8005,Ha.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new W(8006,Ha.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new W(8007,Ha.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new W(8008,Ha.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new W(8009,Ha.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new W(8010,Ha.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new W(8011,Ha.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new W(8012,Ha.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new W(9E3,Ha.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new W(9001,Ha.FAIL,"Error communicating with MSL entity."),NONE:new W(9999,Ha.FAIL,"Special unit test error.")});Object.freeze(W);(function(){fb=Cb.Class.create(Error());fb.mixin({init:function(hb,gb,eb){var kb,rb,ib;function ab(){return rb?rb:this.cause && this.cause instanceof fb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=hb.message;gb && (kb+=" [" + gb + "]");ib=this.stack;Object.defineProperties(this,{message:{value:kb,writable:!1,configurable:!0},error:{value:hb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:ab,set:function(Fa){if(0 > Fa || Fa > Jb)throw new RangeError("Message ID " + Fa + " is outside the valid range.");ab() || (rb=Fa);},configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();ib && (Fa+="\n" + ib);eb && eb.stack && (Fa+="\nCaused by " + eb.stack);return Fa;},configurable:!0}});},setEntity:function(hb){!hb || this.masterToken || this.entityAuthenticationData || (hb instanceof cc?this.masterToken=hb:hb instanceof Dc && (this.entityAuthenticationData=hb));return this;},setUser:function(hb){!hb || this.userIdToken || this.userAuthenticationData || (hb instanceof Kc?this.userIdToken=hb:hb instanceof Rc && (this.userAuthenticationData=hb));return this;},setMessageId:function(hb){this.messageId=hb;return this;},toString:function(){return this.name + ": " + this.message;}});})();tb=fb.extend({init:function kb(gb,eb,ab){kb.base.call(this,gb,eb,ab);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Db=fb.extend({init:function rb(eb,ab,kb){rb.base.call(this,eb,ab,kb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});kc=fb.extend({init:function ib(ab,kb,rb){ib.base.call(this,ab,kb,rb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){dc=Cb.Class.create(Error());dc.mixin({init:function(ab,kb,rb){var ib;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ib=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},requestCause:{value:rb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();ib && (Fa+="\n" + ib);kb && kb.stack && (Fa+="\nCaused by " + kb.stack);return Fa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Rb=Cb.Class.create(Error());Rb.mixin({init:function(ab,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Cb.Class.create(Error());vb.mixin({init:function(ab,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Cb.Class.create(Error());Vb.mixin({init:function(ab,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Mb=fb.extend({init:function Fa(kb,rb,ib){Fa.base.call(this,kb,rb,ib);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Sc=fb.extend({init:function Fa(rb,ib){Fa.base.call(this,rb);Object.defineProperties(this,{masterToken:{value:ib,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Hb=fb.extend({init:function Pa(ib,Fa,Ka){Pa.base.call(this,ib,Fa,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});uc=fb.extend({init:function xa(Fa,Ka,Pa){xa.base.call(this,Fa,Ka,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var oa;function Fa(ha){return "undefined" === typeof ha?!1:ha;}function Ka(ha){return ha && ha.length?(Wb === oa.V2014_02 && (ha=ha.map(function(aa){return "wrap" == aa?"wrapKey":"unwrap" == aa?"unwrapKey":aa;})),ha):Wb === oa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(ha,aa,X,Y,ea){return Promise.resolve().then(function(){return Nb.importKey(ha,aa,X,Y,ea);}).catch(function(Z){var ka;if("spki" !== ha && "pkcs8" !== ha)throw Z;Z=ASN1.webCryptoAlgorithmToJwkAlg(X);ka=ASN1.webCryptoUsageToJwkKeyOps(ea);Z=ASN1.rsaDerToJwk(aa,Z,ka,Y);if(!Z)throw Error("Could not make valid JWK from DER input");Z=JSON.stringify(Z);return Nb.importKey("jwk",td(Z),X,Y,ea);});}function xa(ha,aa){return Promise.resolve().then(function(){return Nb.exportKey(ha,aa);}).catch(function(X){if("spki" !== ha && "pkcs8" !== ha)throw X;return Nb.exportKey("jwk",aa).then(function(Y){Y=JSON.parse(sd(new Uint8Array(Y)));Y=ASN1.jwkToRsaDer(Y);if(!Y)throw Error("Could not make valid DER from JWK input");return Y.getDer().buffer;});});}oa=ed={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(ed);Wb=oa.LATEST;Ib={encrypt:function(ha,aa,X){switch(Wb){case oa.LEGACY:return new Promise(function(Y,ea){var Z;Z=Nb.encrypt(ha,aa,X);Z.oncomplete=function(ka){Y(ka.target.result);};Z.onerror=function(ka){ea(ka);};});case oa.V2014_01:case oa.V2014_02:return Nb.encrypt(ha,aa,X).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,aa,X){switch(Wb){case oa.LEGACY:return new Promise(function(Y,ea){var Z;Z=Nb.decrypt(ha,aa,X);Z.oncomplete=function(ka){Y(ka.target.result);};Z.onerror=function(ka){ea(ka);};});case oa.V2014_01:case oa.V2014_02:return Nb.decrypt(ha,aa,X).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,aa,X){switch(Wb){case oa.LEGACY:return new Promise(function(Y,ea){var Z;Z=Nb.sign(ha,aa,X);Z.oncomplete=function(ka){Y(ka.target.result);};Z.onerror=function(ka){ea(ka);};});case oa.V2014_01:case oa.V2014_02:return Nb.sign(ha,aa,X).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,aa,X,Y){switch(Wb){case oa.LEGACY:return new Promise(function(ea,Z){var ka;ka=Nb.verify(ha,aa,X,Y);ka.oncomplete=function(za){ea(za.target.result);};ka.onerror=function(za){Z(za);};});case oa.V2014_01:case oa.V2014_02:return Nb.verify(ha,aa,X,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,aa){switch(Wb){case oa.LEGACY:return new Promise(function(X,Y){var ea;ea=Nb.digest(ha,aa);ea.oncomplete=function(Z){X(Z.target.result);};ea.onerror=function(Z){Y(Z);};});case oa.V2014_01:case oa.V2014_02:return Nb.digest(ha,aa).then(function(X){return new Uint8Array(X);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,aa,X){var Y,ea;Y=Fa(aa);ea=Ka(X);switch(Wb){case oa.LEGACY:return new Promise(function(Z,ka){var za;za=Nb.generateKey(ha,Y,ea);za.oncomplete=function(ta){Z(ta.target.result);};za.onerror=function(ta){ka(ta);};});case oa.V2014_01:case oa.V2014_02:return Nb.generateKey(ha,Y,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,aa,X,Y,ea){var Z,ka;Z=Fa(Y);ka=Ka(ea);switch(Wb){case oa.LEGACY:return new Promise(function(za,ta){var ma;ma=Nb.deriveKey(ha,aa,X,Z,ka);ma.oncomplete=function(sa){za(sa.target.result);};ma.onerror=function(sa){ta(sa);};});case oa.V2014_01:case oa.V2014_02:return Nb.deriveKey(ha,aa,X,Z,ka);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,aa,X,Y,ea){var Z,ka;Z=Fa(Y);ka=Ka(ea);switch(Wb){case oa.LEGACY:return new Promise(function(za,ta){var ma;ma=Nb.importKey(ha,aa,X,Z,ka);ma.oncomplete=function(sa){za(sa.target.result);};ma.onerror=function(sa){ta(sa);};});case oa.V2014_01:case oa.V2014_02:return Pa(ha,aa,X,Z,ka);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,aa){switch(Wb){case oa.LEGACY:return new Promise(function(X,Y){var ea;ea=Nb.exportKey(ha,aa);ea.oncomplete=function(Z){X(Z.target.result);};ea.onerror=function(Z){Y(Z);};});case oa.V2014_01:case oa.V2014_02:return xa(ha,aa).then(function(X){return new Uint8Array(X);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,aa,X,Y){switch(Wb){case oa.LEGACY:return new Promise(function(ea,Z){var ka;ka=Nb.wrapKey(aa,X,Y);ka.oncomplete=function(za){ea(za.target.result);};ka.onerror=function(za){Z(za);};});case oa.V2014_01:case oa.V2014_02:return Nb.wrapKey(ha,aa,X,Y).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,aa,X,Y,ea,Z,ka){switch(Wb){case oa.LEGACY:return new Promise(function(za,ta){var ma;ma=Nb.unwrapKey(aa,ea,X);ma.oncomplete=function(sa){za(sa.target.result);};ma.onerror=function(sa){ta(sa);};});case oa.V2014_01:case oa.V2014_02:return Nb.unwrapKey(ha,aa,X,Y,ea,Fa(Z),Ka(ka));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};cd && cd.getKeyByName && (Ib.getKeyByName=function(ha){switch(Wb){case oa.LEGACY:return new Promise(function(aa,X){var Y;Y=cd.getKeyByName(ha);Y.oncomplete=function(ea){aa(ea.target.result);};Y.onerror=function(ea){X(ea);};});case oa.V2014_01:case oa.V2014_02:return cd.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Ib;})();lc={name:"AES-KW"};hc={name:"AES-CBC"};ic={name:"HMAC",hash:{name:"SHA-256"}};fd={name:"RSA-OAEP",hash:{name:"SHA-1"}};yd={name:"RSAES-PKCS1-v1_5"};ie={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};vc=["encrypt","decrypt"];wc=["wrap","unwrap"];Ec=["sign","verify"];(function(){zd=Cb.Class.create({init:function(Fa,Ka,Pa){var oa;function xa(ha){Na(Ka,function(){var aa;aa=ha?Eb(ha):Ab;Object.defineProperties(oa,{rawKey:{value:Fa,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:aa,writable:!1,configurable:!1}});return this;},oa);}oa=this;Na(Ka,function(){if(!Fa || "object" != typeof Fa)throw new tb(W.INVALID_SYMMETRIC_KEY);!Pa && Fa.extractable?Ib.exportKey("raw",Fa).then(function(ha){xa(new Uint8Array(ha));},function(ha){Ka.error(new tb(W.KEY_EXPORT_ERROR,"raw"));}):xa(Pa);},oa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Tc=function(Fa,Ka){new zd(Fa,Ka);};mc=function(Fa,Ka,Pa,xa){Na(xa,function(){try{Fa="string" == typeof Fa?Gb(Fa):Fa;}catch(oa){throw new tb(W.INVALID_SYMMETRIC_KEY,"keydata " + Fa,oa);}Ib.importKey("raw",Fa,Ka,!0,Pa).then(function(oa){new zd(oa,xa,Fa);},function(oa){xa.error(new tb(W.INVALID_SYMMETRIC_KEY));});});};})();(function(){gd=Cb.Class.create({init:function(Fa,Ka,Pa){var oa;function xa(ha){Na(Ka,function(){Object.defineProperties(oa,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},oa);}oa=this;Na(Ka,function(){if(!Fa || "object" != typeof Fa || "public" != Fa.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Fa.extractable?Ib.exportKey("spki",Fa).then(function(ha){xa(new Uint8Array(ha));},function(ha){Ka.error(new tb(W.KEY_EXPORT_ERROR,"spki"));}):xa(Pa);});},getEncoded:function(){return this.encoded;}});Bc=function(Fa,Ka){new gd(Fa,Ka);};Ad=function(Fa,Ka,Pa,xa){Na(xa,function(){try{Fa="string" == typeof Fa?Gb(Fa):Fa;}catch(oa){throw new tb(W.INVALID_PUBLIC_KEY,"spki " + Fa,oa);}Ib.importKey("spki",Fa,Ka,!0,Pa).then(function(oa){new gd(oa,xa,Fa);},function(oa){xa.error(new tb(W.INVALID_PUBLIC_KEY));});});};})();(function(){je=Cb.Class.create({init:function(Fa,Ka,Pa){var oa;function xa(ha){Na(Ka,function(){Object.defineProperties(oa,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},oa);}oa=this;Na(Ka,function(){if(!Fa || "object" != typeof Fa || "private" != Fa.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Fa.extractable?Ib.exportKey("pkcs8",Fa).then(function(ha){xa(new Uint8Array(ha));},function(ha){Ka.error(new tb(W.KEY_EXPORT_ERROR,"pkcs8"));}):xa(Pa);});},getEncoded:function(){return this.encoded;}});Jc=function(Fa,Ka){new je(Fa,Ka);};})();(function(){var Fa;Fa=Ed={V1:1,V2:2};Bd=Cb.Class.create({init:function(Ka,Pa,xa,oa){Na(oa,function(){var ha,aa,X,Y;ha=Fa.V1;aa=Ka;X=null;for(Y in dd){if(dd[Y] == Ka){ha=Fa.V2;aa=null;X=Ka;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:aa,writable:!1,configurable:!1},cipherSpec:{value:X,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:xa,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Fa.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Eb(this.iv));Ka.ciphertext=Eb(this.ciphertext);Ka.sha256="AA==";break;case Fa.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Eb(this.iv));Ka.ciphertext=Eb(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Cd=function(Ka,Pa,xa,oa){new Bd(Ka,Pa,xa,oa);};Dd=function(Ka,Pa,xa){Na(xa,function(){var oa,ha,aa,X,Y,ea,Z;oa=Ka.keyid;ha=Ka.cipherspec;aa=Ka.iv;X=Ka.ciphertext;Y=Ka.sha256;if(!Pa)if((Pa=Ka.version) && "number" === typeof Pa && Pa === Pa){ea=!1;for(Z in Fa){if(Fa[Z] == Pa){ea=!0;break;}}if(!ea)throw new tb(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Pa=Fa.V1;switch(Pa){case Fa.V1:if("string" !== typeof oa || aa && "string" !== typeof aa || "string" !== typeof X || "string" !== typeof Y)throw new Db(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Fa.V2:Z=Ka.version;if(Z != Fa.V2)throw new tb(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ha || aa && "string" !== typeof aa || "string" !== typeof X)throw new Db(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ha=fe(ha);if(!ha)throw new tb(W.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));oa=ha;break;default:throw new tb(W.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{aa && (aa=Gb(aa));X=Gb(X);}catch(ka){throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),ka);}new Bd(oa,aa,X,xa);});};})();(function(){var Fa;Fa=Hd={V1:1,V2:2};nc=Cb.Class.create({init:function(Ka,Pa,xa){var oa;switch(Ka){case Fa.V1:oa=xa;break;case Fa.V2:oa={};oa.version=Ka;oa.algorithm=Pa;oa.signature=Eb(xa);oa=Yb(JSON.stringify(oa),Lb);break;default:throw new vb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:xa,writable:!1,configurable:!1},bytes:{value:oa,writable:!1,configurable:!1}});}});Fd=function(){var Ka,Pa,xa,oa;if(2 == arguments.length){Ka=Fa.V1;Pa=arguments[0];xa=null;oa=arguments[1];}else 3 == arguments.length && (Ka=Fa.V2,xa=arguments[0],Pa=arguments[1],oa=arguments[2]);Na(oa,function(){return new nc(Ka,xa,Pa);});};Gd=function(Ka,Pa,xa){Na(xa,function(){var oa,ha,aa,X,Y,ea,Z;if(Pa)switch(Pa){case Fa.V1:return new nc(Fa.V1,null,Ka);case Fa.V2:try{oa=Xb(Ka,Lb);ha=JSON.parse(oa);aa=parseInt(ha.version);X=ha.algorithm;Y=ha.signature;if(!aa || "number" !== typeof aa || aa != aa || "string" !== typeof X || "string" !== typeof Y)throw new Db(W.JSON_PARSE_ERROR,"signature envelope " + Eb(Ka));if(Fa.V2 != aa)throw new tb(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Ka));ea=wd(X);if(!ea)throw new tb(W.UNIDENTIFIED_ALGORITHM,"signature envelope " + Eb(Ka));Z=Gb(Y);if(!Z)throw new tb(W.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new nc(Fa.V2,ea,Z);}catch(ka){if(ka instanceof SyntaxError)throw new Db(W.JSON_PARSE_ERROR,"signature envelope " + Eb(Ka),ka);throw ka;}default:throw new tb(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Ka));}try{oa=Xb(Ka,Lb);ha=JSON.parse(oa);}catch(ka){ha=null;}if(ha && ha.version){if((oa=ha.version,"number" !== typeof oa || oa !== oa))oa=Fa.V1;}else oa=Fa.V1;switch(oa){case Fa.V1:return new nc(oa,null,Ka);case Fa.V2:ea=ha.algorithm;Y=ha.signature;if("string" !== typeof ea || "string" !== typeof Y)return new nc(Fa.V1,null,Ka);ea=wd(ea);if(!ea)return new nc(Fa.V1,null,Ka);try{Z=Gb(Y);}catch(ka){return new nc(Fa.V1,null,Ka);}return new nc(oa,ea,Z);default:throw new tb(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Lc=Cb.Class.create({encrypt:function(Fa,Ka){},decrypt:function(Fa,Ka){},wrap:function(Fa,Ka){},unwrap:function(Fa,Ka,Pa,xa){},sign:function(Fa,Ka){},verify:function(Fa,Ka,Pa){}});(function(){var Fa;Fa=pc={RSA_OAEP:fd.name,A128KW:lc.name};jc="A128GCM";oc=Cb.Class.create({init:function(Ka,Pa,xa,oa,ha){switch(Pa){case Fa.RSA_OAEP:ha=ha && (ha.rawKey || ha);oa=oa && (oa.rawKey || oa);break;case Fa.A128KW:ha=oa=oa && (oa.rawKey || oa);break;default:throw new vb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:xa,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){Pa.error(new tb(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Pa){Pa.error(new tb(W.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Pa){Na(Pa,function(){Ib.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(xa){Pa.result(xa);},function(xa){Pa.error(new tb(W.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,xa,oa){function ha(aa){Na(oa,function(){switch(aa.type){case "secret":Tc(aa,oa);break;case "public":Bc(aa,oa);break;case "private":Jc(aa,oa);break;default:throw new tb(W.UNSUPPORTED_KEY,"type: " + aa.type);}});}Na(oa,function(){Ib.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,xa).then(function(aa){ha(aa);},function(){oa.error(new tb(W.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){Pa.error(new tb(W.SIGN_NOT_SUPPORTED));},verify:function(Ka,Pa,xa){xa.error(new tb(W.VERIFY_NOT_SUPPORTED));}});})();Mc=Lc.extend({encrypt:function(Fa,Ka){Ka.result(Fa);},decrypt:function(Fa,Ka){Ka.result(Fa);},wrap:function(Fa,Ka){Ka.result(Fa);},unwrap:function(Fa,Ka,Pa,xa){xa.result(Fa);},sign:function(Fa,Ka){Ka.result(new Uint8Array(0));},verify:function(Fa,Ka,Pa){Pa.result(!0);}});(function(){var Fa;Fa=id={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};hd=Lc.extend({init:function X(Pa,xa,oa,ha,aa){X.base.call(this);oa && (oa=oa.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:xa,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:aa == Fa.ENCRYPT_DECRYPT_PKCS1?yd:aa == Fa.ENCRYPT_DECRYPT_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:aa == Fa.WRAP_UNWRAP_PKCS1?yd:aa == Fa.WRAP_UNWRAP_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:aa == Fa.SIGN_VERIFY?ie:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,xa){var oa;oa=this;Na(xa,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new tb(W.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Ib.encrypt(oa.transform,oa.publicKey,Pa).then(function(ha){Cd(oa.id,null,ha,{result:function(aa){var X;try{X=JSON.stringify(aa);xa.result(Yb(X,Lb));}catch(Y){xa.error(new tb(W.ENCRYPT_ERROR,null,Y));}},error:function(aa){aa instanceof fb || (aa=new tb(W.ENCRYPT_ERROR,null,aa));xa.error(aa);}});},function(ha){xa.error(new tb(W.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,xa){var oa;oa=this;Na(xa,function(){var ha,aa;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new tb(W.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{ha=Xb(Pa,Lb);aa=JSON.parse(ha);}catch(X){if(X instanceof SyntaxError)throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new tb(W.DECRYPT_ERROR,null,X);}Dd(aa,Ed.V1,{result:function(X){var Y;try{if(X.keyId != oa.id)throw new tb(W.ENVELOPE_KEY_ID_MISMATCH);Y=xa.result;Ib.decrypt(oa.transform,oa.privateKey,X.ciphertext).then(Y,function(ea){xa.error(new tb(W.DECRYPT_ERROR));});}catch(ea){ea instanceof fb?xa.error(ea):xa.error(new tb(W.DECRYPT_ERROR,null,ea));}},error:function(X){X instanceof Db && (X=new tb(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof fb || (X=new tb(W.DECRYPT_ERROR,null,X));xa.error(X);}});},this);},wrap:function(Pa,xa){Na(xa,function(){var oa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new tb(W.WRAP_NOT_SUPPORTED,"no public key");oa=xa.result;Ib.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(oa,function(ha){xa.error(new tb(W.WRAP_ERROR));});},this);},unwrap:function(Pa,xa,oa,ha){function aa(X){Na(ha,function(){switch(X.type){case "secret":Tc(X,ha);break;case "public":Bc(X,ha);break;case "private":Jc(X,ha);break;default:throw new tb(W.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new tb(W.UNWRAP_NOT_SUPPORTED,"no private key");Ib.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},xa,!1,oa).then(aa,function(X){ha.error(new tb(W.UNWRAP_ERROR));});},this);},sign:function(Pa,xa){Na(xa,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new tb(W.SIGN_NOT_SUPPORTED,"no private key");Ib.sign(this.algo,this.privateKey,Pa).then(function(oa){Fd(oa,{result:function(ha){xa.result(ha.bytes);},error:xa.error});},function(oa){xa.error(new tb(W.SIGNATURE_ERROR));});},this);},verify:function(Pa,xa,oa){var ha;ha=this;Na(oa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new tb(W.VERIFY_NOT_SUPPORTED,"no public key");Gd(xa,Hd.V1,{result:function(aa){Na(oa,function(){var X;X=oa.result;Ib.verify(this.algo,this.publicKey,aa.signature,Pa).then(X,function(Y){oa.error(new tb(W.SIGNATURE_ERROR));});},ha);},error:oa.error});},this);}});})();(function(){jd=Lc.extend({init:function aa(Ka,Pa,xa,oa,ha){aa.base.call(this);xa=xa && xa.rawKey;oa=oa && oa.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:xa,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){var xa;xa=this;Na(Pa,function(){var oa;if(!this.encryptionKey)throw new tb(W.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;oa=new Uint8Array(16);this.ctx.getRandom().nextBytes(oa);Ib.encrypt({name:hc.name,iv:oa},xa.encryptionKey,Ka).then(function(ha){ha=new Uint8Array(ha);Cd(xa.id,oa,ha,{result:function(aa){var X;try{X=JSON.stringify(aa);Pa.result(Yb(X,Lb));}catch(Y){Pa.error(new tb(W.ENCRYPT_ERROR,null,Y));}},error:function(aa){aa instanceof fb || (aa=new tb(W.ENCRYPT_ERROR,null,aa));Pa.error(aa);}});},function(ha){Pa.error(new tb(W.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Pa){var xa;xa=this;Na(Pa,function(){var oa,ha;if(!this.encryptionKey)throw new tb(W.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{oa=Xb(Ka,Lb);ha=JSON.parse(oa);}catch(aa){if(aa instanceof SyntaxError)throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,aa);throw new tb(W.DECRYPT_ERROR,null,aa);}Dd(ha,Ed.V1,{result:function(aa){try{if(aa.keyId != xa.id)throw new tb(W.ENVELOPE_KEY_ID_MISMATCH);Ib.decrypt({name:hc.name,iv:aa.iv},xa.encryptionKey,aa.ciphertext).then(function(X){X=new Uint8Array(X);Pa.result(X);},function(){Pa.error(new tb(W.DECRYPT_ERROR));});}catch(X){X instanceof fb?Pa.error(X):Pa.error(new tb(W.DECRYPT_ERROR,null,X));}},error:function(aa){aa instanceof Db && (aa=new tb(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,aa));aa instanceof fb || (aa=new tb(W.DECRYPT_ERROR,null,aa));Pa.error(aa);}});},this);},wrap:function(Ka,Pa){Na(Pa,function(){if(!this.wrapKey)throw new tb(W.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ib.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(xa){Pa.result(xa);},function(xa){Pa.error(new tb(W.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,xa,oa){function ha(aa){Na(oa,function(){switch(aa.type){case "secret":Tc(aa,oa);break;case "public":Bc(aa,oa);break;case "private":Jc(aa,oa);break;default:throw new tb(W.UNSUPPORTED_KEY,"type: " + aa.type);}});}Na(oa,function(){if(!this.wrapKey)throw new tb(W.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ib.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Pa,!1,xa).then(function(aa){ha(aa);},function(aa){oa.error(new tb(W.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){var xa;xa=this;Na(Pa,function(){if(!this.hmacKey)throw new tb(W.SIGN_NOT_SUPPORTED,"no HMAC key.");Ib.sign(ic,this.hmacKey,Ka).then(function(oa){Na(Pa,function(){var ha;ha=new Uint8Array(oa);Fd(ha,{result:function(aa){Pa.result(aa.bytes);},error:Pa.error});},xa);},function(){Pa.error(new tb(W.HMAC_ERROR));});},this);},verify:function(Ka,Pa,xa){var oa;oa=this;Na(xa,function(){if(!this.hmacKey)throw new tb(W.VERIFY_NOT_SUPPORTED,"no HMAC key.");Gd(Pa,Hd.V1,{result:function(ha){Na(xa,function(){Ib.verify(ic,this.hmacKey,ha.signature,Ka).then(function(aa){xa.result(aa);},function(aa){xa.error(new tb(W.HMAC_ERROR));});},oa);},error:xa.error});},this);}});})();fc=jd.extend({init:function aa(Ka,Pa,xa,oa,ha){if(xa || oa || ha)aa.base.call(this,Ka,xa + "_" + Pa.sequenceNumber,oa,ha,null);else {if(!Pa.isDecrypted())throw new Sc(W.MASTERTOKEN_UNTRUSTED,Pa);aa.base.call(this,Ka,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});jf=Lc.extend({encrypt:function(Ka,Pa){Pa.result(Ka);},decrypt:function(Ka,Pa){Pa.result(Ka);},wrap:function(Ka,Pa){Pa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Pa,xa,oa){oa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Pa){Pa.result(new Uint8Array(0));},verify:function(Ka,Pa,xa){xa.result(!1);}});Ob={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ob);(function(){Dc=Cb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Dc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});ke=function(Ka,Pa){var xa,oa;xa=Pa.scheme;oa=Pa.authdata;if(!xa || !oa)throw new Db(W.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Ob[xa])throw new kc(W.UNIDENTIFIED_ENTITYAUTH_SCHEME,xa);Pa=Ka.getEntityAuthenticationFactory(xa);if(!Pa)throw new kc(W.ENTITYAUTH_FACTORY_NOT_FOUND,xa);return Pa.createData(Ka,oa);};})();kd=Cb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Pa){},getCryptoContext:function(Ka,Pa){}});(function(){qc=Dc.extend({init:function xa(Pa){xa.base.call(this,Ob.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function oa(xa){return this === xa?!0:xa instanceof qc?oa.base.call(this,this,xa) && this.identity == xa.identity:!1;}});le=function(xa){var oa;oa=xa.identity;if(!oa)throw new Db(W.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(xa));return new qc(oa);};})();kf=kd.extend({init:function xa(Pa){xa.base.call(this,Ob.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,xa){return le(xa);},getCryptoContext:function(Pa,xa){if(!(xa instanceof qc))throw new vb("Incorrect authentication data type " + JSON.stringify(xa) + ".");if(xa.identity != this.localIdentity)throw new kc(W.ENTITY_NOT_FOUND,"mgk " + xa.identity).setEntity(xa);return new Mc();}});(function(){rc=Dc.extend({init:function oa(xa){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{identity:{value:xa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var xa;xa={};xa.identity=this.identity;return xa;},equals:function ha(oa){return this === oa?!0:oa instanceof rc?ha.base.call(this,this,oa) && this.identity == oa.identity:!1;}});me=function(oa){var ha;ha=oa.identity;if(!ha)throw new Db(W.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(oa));return new rc(ha);};})();lf=kd.extend({init:function oa(xa){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{localIdentity:{value:xa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(xa,oa){return me(oa);},getCryptoContext:function(xa,oa){if(!(oa instanceof rc))throw new vb("Incorrect authentication data type " + JSON.stringify(oa) + ".");if(oa.getIdentity() != this.localIdentity)throw new kc(W.ENTITY_NOT_FOUND,"psk " + oa.identity).setEntity(oa);return new Mc();}});(function(){ld=Dc.extend({init:function aa(oa,ha){aa.base.call(this,Ob.RSA);Object.defineProperties(this,{identity:{value:oa,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var oa;oa={};oa.identity=this.identity;oa.pubkeyid=this.publicKeyId;return oa;},equals:function aa(ha){return this === ha?!0:ha instanceof ld?aa.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});ne=function(ha){var aa,X;aa=ha.identity;X=ha.pubkeyid;if(!aa || "string" !== typeof aa || !X || "string" !== typeof X)throw new Db(W.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new ld(aa,X);};})();mf=kd.extend({init:function ha(oa){ha.base.call(this,Ob.RSA);Object.defineProperties(this,{store:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(oa,ha){return ne(ha);},getCryptoContext:function(oa,ha){var aa,X,Y;if(!(ha instanceof ld))throw new vb("Incorrect authentication data type " + ha + ".");aa=ha.identity;X=ha.publicKeyId;Y=this.store.getPublicKey(X);if(!Y)throw new kc(W.RSA_PUBLICKEY_NOT_FOUND,X).setEntity(ha);return new hd(oa,aa,null,Y,id.SIGN_VERIFY);}});(function(){Pc=Dc.extend({init:function aa(ha){aa.base.call(this,Ob.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function X(aa){return this === aa?!0:aa instanceof Pc?X.base.call(this,this,aa) && this.identity == aa.identity:!1;}});oe=function(aa){var X;X=aa.identity;if(!X)throw new Db(W.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(aa));return new Pc(X);};})();hf=kd.extend({init:function ha(){ha.base.call(this,Ob.NONE);},createData:function(ha,aa){return oe(aa);},getCryptoContext:function(ha,aa){if(!(aa instanceof Pc))throw new vb("Incorrect authentication data type " + JSON.stringify(aa) + ".");return new Mc();}});nf=Cb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,aa){if(!(aa instanceof gd))throw new vb("Incorrect key data type " + aa + ".");this.rsaKeys[ha]=aa;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});Id=Cb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,aa,X){}});md=Cb.Class.create({abort:function(){},close:function(ha,aa){},write:function(ha,aa,X,Y,ea){},flush:function(ha,aa){}});of=Cb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Rb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,aa,X){db(X,function(){var Y;if(this._closed)throw new Rb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);Y=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=Y.length;return Y;},this);}});pf=Cb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,aa){this._closed=!0;aa.result(!0);},write:function(ha,aa,X,Y,ea){db(ea,function(){var Z;if(this._closed)throw new Rb("Stream is already closed.");if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > X)throw new RangeError("Length cannot be negative.");if(aa + X > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");Z=ha.subarray(aa,X);this._buffered.push(Z);return Z.length;},this);},flush:function(ha,aa){var X;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){X=new Uint8Array(this._result.length + ha.length);X.set(this._result);X.set(ha,this._result.length);this._result=X;}else this._result=new Uint8Array(ha);}aa.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});qf=Cb.Class.create({getResponse:function(ha,aa,X){}});(function(){var ha,aa;ha=md.extend({init:function(X,Y){X={_httpLocation:{value:X,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new pf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Qc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);},setTimeout:function(X){this._timeout=X;},getResponse:function(X,Y){var ea;ea=this;this._responseQueue.poll(X,{result:function(Z){db(Y,function(){Z && this._responseQueue.add(Z);return Z;},ea);},timeout:function(){db(Y,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();Y.timeout();},ea);},error:function(Z){db(Y,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw Z;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(X,Y){var ea;ea=this;db(Y,function(){var Z;if(this._response)return !0;Z=this._buffer.toByteArray();0 < Z.length && (this._abortToken=this._httpLocation.getResponse({body:Z},this._timeout,{result:function(ka){ea._response={response:ka};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ka){ea._response={isError:!0,error:ka};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(X,Y,ea,Z,ka){db(ka,function(){if(this._response)throw new Rb("HttpOutputStream already closed.");this._buffer.write(X,Y,ea,Z,ka);},this);},flush:function(X,Y){db(Y,function(){if(this._response)return !0;this._buffer.flush(X,Y);},this);}});aa=Id.extend({init:function(X){Object.defineProperties(this,{_out:{value:X,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(X,Y,ea){var ka;function Z(za){db(ea,function(){if(!za)return new Uint8Array(0);this._out.getResponse(Y,{result:function(ta){db(ea,function(){var ma;if(ta.isTimeout)(this._timedout=!0,ea.timeout());else {if(ta.isError)throw (this._exception=ta.error || new Rb("Unknown HTTP exception."),this._exception);if(!ta.response)throw (this._exception=new Rb("Missing HTTP response."),this._exception);ta.response.json !== Ab && (this._json=ta.response.json,this.getJSON=function(){return ka._json;});ma=ta.response.content || td("string" === typeof ta.response.body?ta.response.body:JSON.stringify(this._json));this._buffer=new of(ma);this._buffer.read(X,Y,ea);}},ka);},timeout:function(){ea.timeout();},error:function(ta){ea.error(ta);}});},ka);}ka=this;db(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(X,Y,ea):this._out.close(Y,{result:function(za){Z(za);},timeout:function(){ea.timeout();},error:function(za){ea.error(za);}});}},ka);}});$d=Cb.Class.create({init:function(X,Y){Object.defineProperties(this,{_httpLocation:{value:X,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(X){this._timeout=X;},openConnection:function(){var X;X=new ha(this._httpLocation,this._timeout);return {input:new aa(X),output:X};}});})();(function(){var ha,aa;ha=md.extend({init:function(){var X;X={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);},setTimeout:function(){},getResponse:function(X,Y){Y.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(X,Y){Y.result(!0);},write:function(X,Y,ea,Z,ka){var za,ta;try{if(0 > Y)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(Y + ea > X.length)throw new RangeError("Offset plus length cannot be greater than the array length.");za=X.subarray(Y,ea);ta=new Uint8Array(this._buffer.length + za.length);ta.set(this._buffer);ta.set(za,this._buffer.length);this._buffer=ta;ka.result(za.length);}catch(ma){ka.error(ma);}},flush:function(X,Y){Y.result(!0);},request:function(){return this._buffer;}});aa=Id.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(X,Y,ea){ea.result(new Uint8Array(16));}});ae=Cb.Class.create({init:function(){var X;X={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new aa(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return sd(this.output.request());}});})();pe=function(ha,aa,X){(function(Y,ea,Z){Y.read(-1,ea,{result:function(ka){ka && ka.length?Z(null,ka):Z(null,null);},timeout:function(){X.timeout();},error:function(ka){Z(ka,null);}});})(ha,aa,function(Y,ea){var Z,ka;if(Y)X.error(Y);else if(ea){if(ha.getJSON !== Ab && "function" === typeof ha.getJSON)X.result(ha.getJSON());else {Y=X.result;ea=new rf(Xb(ea,"utf-8"));Z=[];for(ka=ea.nextValue();ka !== Ab;){Z.push(ka);ka=ea.nextValue();}Y.call(X,Z);}}else X.result(null);});};ec={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ec);(function(){Uc=Cb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof Uc?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});qe=function(ha,aa,X){Na(X,function(){var Y,ea,Z;Y=aa.scheme;ea=aa.keydata;if(!Y || !ea || "object" !== typeof ea)throw new Db(W.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(aa));if(!ec[Y])throw new Mb(W.UNIDENTIFIED_KEYX_SCHEME,Y);Z=ha.getKeyExchangeFactory(Y);if(!Z)throw new Mb(W.KEYX_FACTORY_NOT_FOUND,Y);Z.createRequestData(ha,ea,X);});};})();(function(){Vc=Cb.Class.create({init:function(ha,aa){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:aa,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof Vc?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});re=function(ha,aa,X){Na(X,function(){var Y,ea,Z;Y=aa.mastertoken;ea=aa.scheme;Z=aa.keydata;if(!ea || !Y || "object" !== typeof Y || !Z || "object" !== typeof Z)throw new Db(W.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(aa));if(!ec[ea])throw new Mb(W.UNIDENTIFIED_KEYX_SCHEME,ea);Wc(ha,Y,{result:function(ka){Na(X,function(){var za;za=ha.getKeyExchangeFactory(ea);if(!za)throw new Mb(W.KEYX_FACTORY_NOT_FOUND,ea);return za.createResponseData(ha,ka,Z);});},error:function(ka){X.error(ka);}});});};})();(function(){var ha;ha=Cb.Class.create({init:function(aa,X){Object.defineProperties(this,{keyResponseData:{value:aa,writable:!1,configurable:!1},cryptoContext:{value:X,writable:!1,configurable:!1}});}});gc=Cb.Class.create({init:function(aa){Object.defineProperties(this,{scheme:{value:aa,writable:!1,configurable:!1}});},createRequestData:function(aa,X,Y){},createResponseData:function(aa,X,Y){},generateResponse:function(aa,X,Y,ea){},getCryptoContext:function(aa,X,Y,ea,Z){},generateSessionKeys:function(aa,X){Na(X,function(){var Y,ea;Y=new Uint8Array(16);ea=new Uint8Array(32);aa.getRandom().nextBytes(Y);aa.getRandom().nextBytes(ea);mc(Y,hc,vc,{result:function(Z){mc(ea,ic,Ec,{result:function(ka){X.result({encryptionKey:Z,hmacKey:ka});},error:function(ka){X.error(new tb(W.SESSION_KEY_CREATION_FAILURE,null,ka));}});},error:function(Z){X.error(new tb(W.SESSION_KEY_CREATION_FAILURE,null,Z));}});});},importSessionKeys:function(aa,X,Y){mc(aa,hc,vc,{result:function(ea){mc(X,ic,Ec,{result:function(Z){Y.result({encryptionKey:ea,hmacKey:Z});},error:function(Z){Y.error(Z);}});},error:function(ea){Y.error(ea);}});}});gc.KeyExchangeData=ha;})();(function(){var aa,X,Y;function ha(ea,Z,ka,za,ta){Na(ta,function(){var ma,sa;switch(Z){case aa.PSK:(ma=new rc(za),sa=ea.getEntityAuthenticationFactory(Ob.PSK));if(!sa)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Z);ma=sa.getCryptoContext(ea,ma);return new oc(ea,pc.A128KW,jc,Ab);case aa.MGK:ma=new qc(za);sa=ea.getEntityAuthenticationFactory(Ob.MGK);if(!sa)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Z);ma=sa.getCryptoContext(ea,ma);return new oc(ea,pc.A128KW,jc,Ab);case aa.WRAP:ma=ea.getMslCryptoContext();ma.unwrap(ka,lc,wc,{result:function(Da){Na(ta,function(){return new oc(ea,pc.A128KW,jc,Da);});},error:ta.error});break;default:throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Z);}});}aa={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};X=se=Uc.extend({init:function za(Z,ka){za.base.call(this,ec.JWE_LADDER);switch(Z){case aa.WRAP:if(!ka)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ka=null;}Object.defineProperties(this,{mechanism:{value:Z,writable:!1,configurable:!1},wrapdata:{value:ka,writable:!1,configurable:!1}});},getKeydata:function(){var Z;Z={};Z.mechanism=this.mechanism;this.wrapdata && (Z.wrapdata=Eb(this.wrapdata));return Z;},equals:function za(ka){return ka === this?!0:ka instanceof se?za.base.call(this,ka) && this.mechanism == ka.mechanism && $b(this.wrapdata,ka.wrapdata):!1;},uniqueKey:function za(){var ta;ta=za.base.call(this) + ":" + this.mechanism;this.wrapdata && (ta+=":" + ac(this.wrapdata));return ta;}});Y=te=Vc.extend({init:function ca(ta,ma,sa,Da,pa){ca.base.call(this,ta,ec.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ma,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:pa,writable:!1,configurable:!1}});},getKeydata:function(){var ta;ta={};ta.wrapkey=Eb(this.wrapKey);ta.wrapdata=Eb(this.wrapdata);ta.encryptionkey=Eb(this.encryptionKey);ta.hmackey=Eb(this.hmacKey);return ta;},equals:function sa(ma){return this === ma?!0:ma instanceof te?sa.base.call(this,ma) && $b(this.wrapKey,ma.wrapKey) && $b(this.wrapdata,ma.wrapdata) && $b(this.encryptionKey,ma.encryptionKey) && $b(this.hmacKey,ma.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + ac(this.wrapKey) + ":" + ac(this.wrapdata) + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});gc.extend({init:function pa(Da){pa.base.call(this,ec.JWE_LADDER);Object.defineProperties(this,{repository:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Da,pa,ca){Na(ca,function(){var ja,la,Aa;ja=pa.mechanism;la=pa.wrapdata;if(!ja || ja == aa.WRAP && (!la || "string" !== typeof la))throw new Db(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(pa));if(!aa[ja])throw new Mb(W.UNIDENTIFIED_KEYX_MECHANISM,ja);switch(ja){case aa.WRAP:try{Aa=Gb(la);}catch(Ra){throw new Mb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + pa.toString());}if(null == Aa || 0 == Aa.length)throw new Mb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + pa.toString());break;default:Aa=null;}return new X(ja,Aa);});},createResponseData:function(Da,pa,ca){var ja,la,Aa,Ra,Ma,Qa,Ta;Da=ca.wrapkey;ja=ca.wrapdata;la=ca.encryptionkey;Aa=ca.hmackey;if(!(Da && "string" === typeof Da && ja && "string" === typeof ja && la && "string" === typeof la && Aa) || "string" !== typeof Aa)throw new Db(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ra=Gb(Da);Ma=Gb(ja);}catch(qa){throw new tb(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ca),qa);}try{Qa=Gb(la);}catch(qa){throw new tb(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),qa);}try{Ta=Gb(Aa);}catch(qa){throw new tb(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),qa);}return new Y(pa,Ra,Ma,Qa,Ta);},generateResponse:function(Da,pa,ca,ja){var Qa,Ta;function la(qa,Ca,Ga){Qa.generateSessionKeys(Da,{result:function(Ja){Na(ja,function(){Aa(qa,Ca,Ga,Ja.encryptionKey,Ja.hmacKey);},Qa);},error:function(Ja){Na(ja,function(){Ja instanceof fb && Ja.setEntity(Ta);throw Ja;});}});}function Aa(qa,Ca,Ga,Ja,Ea){Na(ja,function(){ha(Da,pa.mechanism,pa.wrapdata,qa,{result:function(Ua){Ua.wrap(Ca,{result:function(Ia){Ra(Ca,Ga,Ja,Ea,Ia);},error:function(Ia){Na(ja,function(){Ia instanceof fb && Ia.setEntity(Ta);throw Ia;});}});},error:function(Ua){Na(ja,function(){Ua instanceof fb && Ua.setEntity(Ta);throw Ua;});}});},Qa);}function Ra(qa,Ca,Ga,Ja,Ea){Na(ja,function(){var Ua;Ua=new oc(Da,pc.A128KW,jc,qa);Ua.wrap(Ga,{result:function(Ia){Ua.wrap(Ja,{result:function($a){Ma(Ca,Ea,Ga,Ia,Ja,$a);},error:function($a){Na(ja,function(){$a instanceof fb && $a.setEntity(Ta);throw $a;});}});},error:function(Ia){Na(ja,function(){Ia instanceof fb && Ia.setEntity(Ta);throw Ia;});}});},Qa);}function Ma(qa,Ca,Ga,Ja,Ea,Ua){Na(ja,function(){var Ia;Ia=Da.getTokenFactory();Ta?Ia.renewMasterToken(Da,Ta,Ga,Ea,{result:function($a){Na(ja,function(){var bb,Ya;bb=new fc(Da,$a);Ya=new Y($a,Ca,qa,Ja,Ua);return new gc.KeyExchangeData(Ya,bb,ja);},Qa);},error:function($a){Na(ja,function(){$a instanceof fb && $a.setEntity(Ta);throw $a;});}}):Ia.createMasterToken(Da,ca,Ga,Ea,{result:function($a){Na(ja,function(){var bb,Ya;bb=new fc(Da,$a);Ya=new Y($a,Ca,qa,Ja,Ua);return new gc.KeyExchangeData(Ya,bb,ja);},Qa);},error:ja.error});},Qa);}Qa=this;Na(ja,function(){var qa,Ca;if(!(pa instanceof X))throw new vb("Key request data " + JSON.stringify(pa) + " was not created by this factory.");qa=ca;if(ca instanceof cc){if(!ca.isVerified())throw new Sc(W.MASTERTOKEN_UNTRUSTED,ca);Ta=ca;qa=ca.identity;}Ca=new Uint8Array(16);Da.getRandom().nextBytes(Ca);mc(Ca,lc,wc,{result:function(Ga){Na(ja,function(){Da.getMslCryptoContext().wrap(Ga,{result:function(Ja){la(qa,Ga,Ja);},error:function(Ja){Na(ja,function(){Ja instanceof fb && Ja.setEntity(Ta);throw Ja;},Qa);}});},Qa);},error:function(Ga){Na(ja,function(){throw new tb(W.WRAP_KEY_CREATION_FAILURE,null,Ga).setEntity(Ta);},Qa);}});},Qa);},getCryptoContext:function(Da,pa,ca,ja,la){var Ra;function Aa(Ma,Qa,Ta,qa,Ca){Na(la,function(){var Ga;Ga=new oc(Da,pc.A128KW,jc,Ca);Ga.unwrap(Qa.encryptionKey,hc,vc,{result:function(Ja){Ga.unwrap(Qa.hmacKey,ic,Ec,{result:function(Ea){Na(la,function(){this.repository.addCryptoContext(Qa.wrapdata,Ga);this.repository.removeCryptoContext(Ta);return new fc(Da,Qa.masterToken,qa,Ja,Ea);},Ra);},error:function(Ea){Na(la,function(){Ea instanceof fb && Ea.setEntity(Ma);throw Ea;});}});},error:function(Ja){Na(la,function(){Ja instanceof fb && Ja.setEntity(Ma);throw Ja;});}});},Ra);}Ra=this;Na(la,function(){var Ma,Qa;if(!(pa instanceof X))throw new vb("Key request data " + JSON.stringify(pa) + " was not created by this factory.");if(!(ca instanceof Y))throw new vb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ma=pa.mechanism;Qa=pa.wrapdata;Da.getEntityAuthenticationData(null,{result:function(Ta){Na(la,function(){var qa,Ca,Ga;qa=Ta.getIdentity();switch(Ma){case aa.PSK:Ca=new rc(qa);Ga=Da.getEntityAuthenticationFactory(Ob.PSK);if(!Ga)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);Ca=Ga.getCryptoContext(Da,Ca);Ca=new oc(Da,pc.A128KW,jc,Ab);break;case aa.MGK:Ca=new qc(qa);Ga=Da.getEntityAuthenticationFactory(Ob.MGK);if(!Ga)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);Ca=Ga.getCryptoContext(Da,Ca);Ca=new oc(Da,pc.A128KW,jc,Ca.wrapKey);break;case aa.WRAP:Ca=this.repository.getCryptoContext(Qa);if(!Ca)throw new Mb(W.KEYX_WRAPPING_KEY_MISSING,Eb(Qa)).setEntity(Ta);break;default:throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);}Ca.unwrap(ca.wrapKey,lc,wc,{result:function(Ja){Aa(Ta,ca,Qa,qa,Ja);},error:function(Ja){Na(la,function(){Ja instanceof fb && Ja.setEntity(Ta);throw Ja;});}});},Ra);},error:la.error});},Ra);}});})();(function(){var aa,X,Y,ea;function ha(Z,ka,za,ta,ma){Na(ma,function(){var sa,Da;switch(ka){case aa.PSK:(sa=new rc(ta),Da=Z.getEntityAuthenticationFactory(Ob.PSK));if(!Da)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,ka);sa=Da.getCryptoContext(Z,sa);return new ea(Ab);case aa.MGK:sa=new qc(ta);Da=Z.getEntityAuthenticationFactory(Ob.MGK);if(!Da)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,ka);sa=Da.getCryptoContext(Z,sa);return new ea(Ab);case aa.WRAP:sa=Z.getMslCryptoContext();sa.unwrap(za,lc,wc,{result:function(pa){Na(ma,function(){return new ea(pa);});},error:ma.error});break;default:throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,ka);}});}aa={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};X=ue=Uc.extend({init:function ta(ka,za){ta.base.call(this,ec.JWK_LADDER);switch(ka){case aa.WRAP:if(!za)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:za=null;}Object.defineProperties(this,{mechanism:{value:ka,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1}});},getKeydata:function(){var ka;ka={};ka.mechanism=this.mechanism;this.wrapdata && (ka.wrapdata=Eb(this.wrapdata));return ka;},equals:function ta(za){return za === this?!0:za instanceof ue?ta.base.call(this,za) && this.mechanism == za.mechanism && $b(this.wrapdata,za.wrapdata):!1;},uniqueKey:function ta(){var ma;ma=ta.base.call(this) + ":" + this.mechanism;this.wrapdata && (ma+=":" + ac(this.wrapdata));return ma;}});Y=ve=Vc.extend({init:function ja(ma,sa,Da,pa,ca){ja.base.call(this,ma,ec.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:sa,writable:!1,configurable:!1},wrapdata:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:pa,writable:!1,configurable:!1},hmacKey:{value:ca,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.wrapkey=Eb(this.wrapKey);ma.wrapdata=Eb(this.wrapdata);ma.encryptionkey=Eb(this.encryptionKey);ma.hmackey=Eb(this.hmacKey);return ma;},equals:function Da(sa){return this === sa?!0:sa instanceof ve?Da.base.call(this,sa) && $b(this.wrapKey,sa.wrapKey) && $b(this.wrapdata,sa.wrapdata) && $b(this.encryptionKey,sa.encryptionKey) && $b(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + ac(this.wrapKey) + ":" + ac(this.wrapdata) + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});ea=Lc.extend({init:function(Da){Da && Da.rawKey && (Da=Da.rawKey);Object.defineProperties(this,{_wrapKey:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Da,pa){pa.error(new tb(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Da,pa){pa.error(new tb(W.DECRYPT_NOT_SUPPORTED));},wrap:function(Da,pa){Na(pa,function(){Ib.wrapKey("jwk",Da.rawKey,this._wrapKey,lc).then(function(ca){pa.result(ca);},function(ca){pa.error(new tb(W.WRAP_ERROR));});},this);},unwrap:function(Da,pa,ca,ja){function la(Aa){Na(ja,function(){switch(Aa.type){case "secret":Tc(Aa,ja);break;case "public":Bc(Aa,ja);break;case "private":Jc(Aa,ja);break;default:throw new tb(W.UNSUPPORTED_KEY,"type: " + Aa.type);}});}Na(ja,function(){Ib.unwrapKey("jwk",Da,this._wrapKey,lc,pa,!1,ca).then(function(Aa){la(Aa);},function(Aa){ja.error(new tb(W.UNWRAP_ERROR));});},this);},sign:function(Da,pa){pa.error(new tb(W.SIGN_NOT_SUPPORTED));},verify:function(Da,pa,ca){ca.error(new tb(W.VERIFY_NOT_SUPPORTED));}});gc.extend({init:function ca(pa){ca.base.call(this,ec.JWK_LADDER);Object.defineProperties(this,{repository:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(pa,ca,ja){Na(ja,function(){var la,Aa,Ra;la=ca.mechanism;Aa=ca.wrapdata;if(!la || la == aa.WRAP && (!Aa || "string" !== typeof Aa))throw new Db(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));if(!aa[la])throw new Mb(W.UNIDENTIFIED_KEYX_MECHANISM,la);switch(la){case aa.WRAP:try{Ra=Gb(Aa);}catch(Ma){throw new Mb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ca.toString());}if(null == Ra || 0 == Ra.length)throw new Mb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ca.toString());break;default:Ra=null;}return new X(la,Ra);});},createResponseData:function(pa,ca,ja){var la,Aa,Ra,Ma,Qa,Ta,qa;pa=ja.wrapkey;la=ja.wrapdata;Aa=ja.encryptionkey;Ra=ja.hmackey;if(!(pa && "string" === typeof pa && la && "string" === typeof la && Aa && "string" === typeof Aa && Ra) || "string" !== typeof Ra)throw new Db(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ja));try{Ma=Gb(pa);Qa=Gb(la);}catch(Ca){throw new tb(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ja),Ca);}try{Ta=Gb(Aa);}catch(Ca){throw new tb(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ja),Ca);}try{qa=Gb(Ra);}catch(Ca){throw new tb(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ja),Ca);}return new Y(ca,Ma,Qa,Ta,qa);},generateResponse:function(pa,ca,ja,la){var Ta,qa;function Aa(Ca,Ga,Ja){Ta.generateSessionKeys(pa,{result:function(Ea){Na(la,function(){Ra(Ca,Ga,Ja,Ea.encryptionKey,Ea.hmacKey);},Ta);},error:function(Ea){Na(la,function(){Ea instanceof fb && Ea.setEntity(qa);throw Ea;});}});}function Ra(Ca,Ga,Ja,Ea,Ua){Na(la,function(){ha(pa,ca.mechanism,ca.wrapdata,Ca,{result:function(Ia){Ia.wrap(Ga,{result:function($a){Ma(Ga,Ja,Ea,Ua,$a);},error:function($a){Na(la,function(){$a instanceof fb && $a.setEntity(qa);throw $a;});}});},error:function(Ia){Na(la,function(){Ia instanceof fb && Ia.setEntity(qa);throw Ia;});}});},Ta);}function Ma(Ca,Ga,Ja,Ea,Ua){Na(la,function(){var Ia;Ia=new ea(Ca);Ia.wrap(Ja,{result:function($a){Ia.wrap(Ea,{result:function(bb){Qa(Ga,Ua,Ja,$a,Ea,bb);},error:function(bb){Na(la,function(){bb instanceof fb && bb.setEntity(qa);throw bb;});}});},error:function($a){Na(la,function(){$a instanceof fb && $a.setEntity(qa);throw $a;});}});},Ta);}function Qa(Ca,Ga,Ja,Ea,Ua,Ia){Na(la,function(){var $a;$a=pa.getTokenFactory();qa?$a.renewMasterToken(pa,qa,Ja,Ua,{result:function(bb){Na(la,function(){var Ya,jb;Ya=new fc(pa,bb);jb=new Y(bb,Ga,Ca,Ea,Ia);return new gc.KeyExchangeData(jb,Ya,la);},Ta);},error:function(bb){Na(la,function(){bb instanceof fb && bb.setEntity(qa);throw bb;});}}):$a.createMasterToken(pa,ja,Ja,Ua,{result:function(bb){Na(la,function(){var Ya,jb;Ya=new fc(pa,bb);jb=new Y(bb,Ga,Ca,Ea,Ia);return new gc.KeyExchangeData(jb,Ya,la);},Ta);},error:la.error});},Ta);}Ta=this;Na(la,function(){var Ca,Ga;if(!(ca instanceof X))throw new vb("Key request data " + JSON.stringify(ca) + " was not created by this factory.");Ca=ja;if(ja instanceof cc){if(!ja.isVerified())throw new Sc(W.MASTERTOKEN_UNTRUSTED,ja);qa=ja;Ca=ja.identity;}Ga=new Uint8Array(16);pa.getRandom().nextBytes(Ga);mc(Ga,lc,wc,{result:function(Ja){Na(la,function(){pa.getMslCryptoContext().wrap(Ja,{result:function(Ea){Aa(Ca,Ja,Ea);},error:function(Ea){Na(la,function(){Ea instanceof fb && Ea.setEntity(qa);throw Ea;},Ta);}});},Ta);},error:function(Ja){Na(la,function(){throw new tb(W.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(qa);},Ta);}});},Ta);},getCryptoContext:function(pa,ca,ja,la,Aa){var Ma;function Ra(Qa,Ta,qa,Ca,Ga){Na(Aa,function(){var Ja;Ja=new ea(Ga);Ja.unwrap(Ta.encryptionKey,hc,vc,{result:function(Ea){Ja.unwrap(Ta.hmacKey,ic,Ec,{result:function(Ua){Na(Aa,function(){this.repository.addCryptoContext(Ta.wrapdata,Ja);this.repository.removeCryptoContext(qa);return new fc(pa,Ta.masterToken,Ca,Ea,Ua);},Ma);},error:function(Ua){Na(Aa,function(){Ua instanceof fb && Ua.setEntity(Qa);throw Ua;});}});},error:function(Ea){Na(Aa,function(){Ea instanceof fb && Ea.setEntity(Qa);throw Ea;});}});},Ma);}Ma=this;Na(Aa,function(){var Qa,Ta;if(!(ca instanceof X))throw new vb("Key request data " + JSON.stringify(ca) + " was not created by this factory.");if(!(ja instanceof Y))throw new vb("Key response data " + JSON.stringify(ja) + " was not created by this factory.");Qa=ca.mechanism;Ta=ca.wrapdata;pa.getEntityAuthenticationData(null,{result:function(qa){Na(Aa,function(){var Ca,Ga,Ja;Ca=qa.getIdentity();switch(Qa){case aa.PSK:Ga=new rc(Ca);Ja=pa.getEntityAuthenticationFactory(Ob.PSK);if(!Ja)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(qa);Ga=Ja.getCryptoContext(pa,Ga);Ga=new ea(Ga.wrapKey);break;case aa.MGK:Ga=new qc(Ca);Ja=pa.getEntityAuthenticationFactory(Ob.MGK);if(!Ja)throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(qa);Ga=Ja.getCryptoContext(pa,Ga);Ga=new ea(Ga.wrapKey);break;case aa.WRAP:Ga=this.repository.getCryptoContext(Ta);if(!Ga)throw new Mb(W.KEYX_WRAPPING_KEY_MISSING,Eb(Ta)).setEntity(qa);break;default:throw new Mb(W.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(qa);}Ga.unwrap(ja.wrapKey,lc,wc,{result:function(Ea){Ra(qa,ja,Ta,Ca,Ea);},error:function(Ea){Na(Aa,function(){Ea instanceof fb && Ea.setEntity(qa);throw Ea;});}});},Ma);},error:Aa.error});},Ma);}});})();sf=Cb.Class.create({addCryptoContext:function(ha,aa){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var aa,X,Y,ea;function ha(Z,ka,za,ta,ma){switch(za){case aa.JWE_RSA:case aa.JWEJS_RSA:return new oc(Z,pc.RSA_OAEP,jc,ta,ma);case aa.JWK_RSA:return new hd(Z,ka,ta,ma,id.WRAP_UNWRAP_OAEP);case aa.JWK_RSAES:return new hd(Z,ka,ta,ma,id.WRAP_UNWRAP_PKCS1);default:throw new tb(W.UNSUPPORTED_KEYX_MECHANISM,za);}}aa=we={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};X=vd=Uc.extend({init:function sa(ka,za,ta,ma){sa.base.call(this,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ka,writable:!1,configurable:!1},mechanism:{value:za,writable:!1,configurable:!1},publicKey:{value:ta,writable:!1,configurable:!1},privateKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ka;ka={};ka.keypairid=this.keyPairId;ka.mechanism=this.mechanism;ka.publickey=Eb(this.publicKey.getEncoded());return ka;},equals:function ta(za){var ma;if(za === this)return !0;if(!(za instanceof vd))return !1;ma=this.privateKey === za.privateKey || this.privateKey && za.privateKey && $b(this.privateKey.getEncoded(),za.privateKey.getEncoded());return ta.base.call(this,za) && this.keyPairId == za.keyPairId && this.mechanism == za.mechanism && $b(this.publicKey.getEncoded(),za.publicKey.getEncoded()) && ma;},uniqueKey:function ta(){var ma,sa;ma=this.publicKey.getEncoded();sa=this.privateKey && this.privateKey.getEncoded();ma=ta.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + ac(ma);sa && (ma+=":" + ac(sa));return ma;}});Y=function(ta,ma){Na(ma,function(){var sa,Da,pa,ca;sa=ta.keypairid;Da=ta.mechanism;pa=ta.publickey;if(!sa || "string" !== typeof sa || !Da || !pa || "string" !== typeof pa)throw new Db(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ta));if(!aa[Da])throw new Mb(W.UNIDENTIFIED_KEYX_MECHANISM,Da);try{ca=Gb(pa);switch(Da){case aa.JWE_RSA:case aa.JWEJS_RSA:case aa.JWK_RSA:Ad(ca,fd,wc,{result:function(ja){ma.result(new X(sa,Da,ja,null));},error:function(ja){ma.error(ja);}});break;case aa.JWK_RSAES:Ad(ca,yd,wc,{result:function(ja){ma.result(new X(sa,Da,ja,null));},error:function(ja){ma.error(ja);}});break;default:throw new tb(W.UNSUPPORTED_KEYX_MECHANISM,Da);}}catch(ja){if(!(ja instanceof fb))throw new tb(W.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ta),ja);throw ja;}});};ea=xe=Vc.extend({init:function ca(ma,sa,Da,pa){ca.base.call(this,ma,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:pa,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.keypairid=this.keyPairId;ma.encryptionkey=Eb(this.encryptionKey);ma.hmackey=Eb(this.hmacKey);return ma;},equals:function Da(sa){return this === sa?!0:sa instanceof xe?Da.base.call(this,sa) && this.keyPairId == sa.keyPairId && $b(this.encryptionKey,sa.encryptionKey) && $b(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + this.keyPairId + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});be=gc.extend({init:function pa(){pa.base.call(this,ec.ASYMMETRIC_WRAPPED);},createRequestData:function(pa,ca,ja){Y(ca,ja);},createResponseData:function(pa,ca,ja){var la,Aa,Ra,Ma;pa=ja.keypairid;la=ja.encryptionkey;Aa=ja.hmackey;if(!pa || "string" !== typeof pa || !la || "string" !== typeof la || !Aa || "string" !== typeof Aa)throw new Db(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ja));try{Ra=Gb(la);}catch(Qa){throw new tb(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ja),Qa);}try{Ma=Gb(Aa);}catch(Qa){throw new tb(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ja),Qa);}return new ea(ca,pa,Ra,Ma);},generateResponse:function(pa,ca,ja,la){var Ma;function Aa(Qa,Ta){Na(la,function(){var qa;qa=ha(pa,ca.keyPairId,ca.mechanism,null,ca.publicKey);qa.wrap(Qa,{result:function(Ca){Na(la,function(){qa.wrap(Ta,{result:function(Ga){Ra(Qa,Ca,Ta,Ga);},error:function(Ga){Na(la,function(){Ga instanceof fb && ja instanceof cc && Ga.setEntity(ja);throw Ga;},Ma);}});},Ma);},error:function(Ca){Na(la,function(){Ca instanceof fb && ja instanceof cc && Ca.setEntity(ja);throw Ca;},Ma);}});},Ma);}function Ra(Qa,Ta,qa,Ca){Na(la,function(){var Ga;Ga=pa.getTokenFactory();ja instanceof cc?Ga.renewMasterToken(pa,ja,Qa,qa,{result:function(Ja){Na(la,function(){var Ea,Ua;Ea=new fc(pa,Ja);Ua=new ea(Ja,ca.keyPairId,Ta,Ca);return new gc.KeyExchangeData(Ua,Ea,la);},Ma);},error:function(Ja){Na(la,function(){Ja instanceof fb && Ja.setEntity(ja);throw Ja;},Ma);}}):Ga.createMasterToken(pa,ja,Qa,qa,{result:function(Ja){Na(la,function(){var Ea,Ua;Ea=new fc(pa,Ja);Ua=new ea(Ja,ca.keyPairId,Ta,Ca);return new gc.KeyExchangeData(Ua,Ea,la);},Ma);},error:la.error});},Ma);}Ma=this;Na(la,function(){if(!(ca instanceof X))throw new vb("Key request data " + JSON.stringify(ca) + " was not created by this factory.");this.generateSessionKeys(pa,{result:function(Qa){Aa(Qa.encryptionKey,Qa.hmacKey);},error:function(Qa){Na(la,function(){Qa instanceof fb && ja instanceof cc && Qa.setEntity(ja);throw Qa;},Ma);}});},Ma);},getCryptoContext:function(pa,ca,ja,la,Aa){var Ra;Ra=this;Na(Aa,function(){var Ma,Qa,Ta;if(!(ca instanceof X))throw new vb("Key request data " + JSON.stringify(ca) + " was not created by this factory.");if(!(ja instanceof ea))throw new vb("Key response data " + JSON.stringify(ja) + " was not created by this factory.");Ma=ca.keyPairId;Qa=ja.keyPairId;if(Ma != Qa)throw new Mb(W.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Qa).setEntity(la);Qa=ca.privateKey;if(!Qa)throw new Mb(W.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(la);Ta=ha(pa,Ma,ca.mechanism,Qa,null);Ta.unwrap(ja.encryptionKey,hc,vc,{result:function(qa){Ta.unwrap(ja.hmacKey,ic,Ec,{result:function(Ca){pa.getEntityAuthenticationData(null,{result:function(Ga){Na(Aa,function(){var Ja;Ja=Ga.getIdentity();return new fc(pa,ja.masterToken,Ja,qa,Ca);},Ra);},error:function(Ga){Na(Aa,function(){Ga instanceof fb && Ga.setEntity(la);throw Ga;},Ra);}});},error:function(Ca){Na(Aa,function(){Ca instanceof fb && Ca.setEntity(la);throw Ca;},Ra);}});},error:function(qa){Na(Aa,function(){qa instanceof fb && qa.setEntity(la);throw qa;},Ra);}});},Ra);}});})();rf=Cb.Class.create({init:function(ha){var aa,X,Y,ea,Z,ka,za,ta;aa=Ub.parser();X=[];Y=[];za=0;ta=!1;aa.onerror=function(ma){ta || (ta=!0,aa.end());};aa.onopenobject=function(ma){var sa;if(ea)(ea[ka]={},Y.push(ea),ea=ea[ka]);else if(Z){sa={};Y.push(Z);Z.push(sa);ea=sa;Z=Ab;}else ea={};ka=ma;};aa.oncloseobject=function(){var ma;ma=Y.pop();ma?"object" === typeof ma?ea=ma:(ea=Ab,Z=ma):(X.push(ea),za=aa.index,ea=Ab);};aa.onopenarray=function(){var ma;if(ea)(ea[ka]=[],Y.push(ea),Z=ea[ka],ea=Ab);else if(Z){ma=[];Y.push(Z);Z.push(ma);Z=ma;}else Z=[];};aa.onclosearray=function(){var ma;ma=Y.pop();ma?"object" === typeof ma?(ea=ma,Z=Ab):Z=ma:(X.push(Z),za=aa.index,Z=Ab);};aa.onkey=function(ma){ka=ma;};aa.onvalue=function(ma){ea?ea[ka]=ma:Z?Z.push(ma):(X.push(ma),za=aa.index);};aa.write(ha).close();Object.defineProperties(this,{_values:{value:X,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:za,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,aa,X,Y,ea;ha=Jd="entityauthdata";aa=ze="mastertoken";X=Ae="headerdata";Y=Be="errordata";ea=Kd="signature";ye=function(Z,ka,za,ta){Na(ta,function(){var ma,sa,Da,pa,ca,ja;ma=ka[ha];sa=ka[aa];Da=ka[ea];if(ma && "object" !== typeof ma || sa && "object" !== typeof sa || "string" !== typeof Da)throw new Db(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ka));try{pa=Gb(Da);}catch(la){throw new Hb(W.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ka),la);}ca=null;ma && (ca=ke(Z,ma));ja=ka[X];if(ja != Ab && null != ja){if("string" !== typeof ja)throw new Db(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ka));sa?Wc(Z,sa,{result:function(la){Ld(Z,ja,ca,la,pa,za,ta);},error:function(la){ta.error(la);}}):Ld(Z,ja,ca,null,pa,za,ta);}else if((ma=ka[Y],ma != Ab && null != ma)){if("string" !== typeof ma)throw new Db(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ka));Ce(Z,ma,ca,pa,ta);}else throw new Db(W.JSON_PARSE_ERROR,JSON.stringify(ka));});};})();(function(){function ha(aa,X){this.errordata=aa;this.signature=X;}Ac=Cb.Class.create({init:function(aa,X,Y,ea,Z,ka,za,ta,ma,sa){var Da;Da=this;Na(sa,function(){var pa,ca;0 > ka && (ka=-1);if(0 > ea || ea > Jb)throw new vb("Message ID " + ea + " is out of range.");if(!X)throw new Hb(W.MESSAGE_ENTITY_NOT_FOUND);if(ma)return (Object.defineProperties(this,{entityAuthenticationData:{value:X,writable:!1,configurable:!1},recipient:{value:Y,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:Z,writable:!1,configurable:!1},internalCode:{value:ka,writable:!1,configurable:!1},errorMessage:{value:za,writable:!1,configurable:!1},userMessage:{value:ta,writable:!1,configurable:!1},errordata:{value:ma.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma.signature,writable:!1,enumerable:!1,configurable:!1}}),this);pa={};Y && (pa.recipient=Y);pa.messageid=ea;pa.errorcode=Z;0 < ka && (pa.internalcode=ka);za && (pa.errormsg=za);ta && (pa.usermsg=ta);try{ca=aa.getEntityAuthenticationFactory(X.scheme).getCryptoContext(aa,X);}catch(ja){throw (ja instanceof fb && (ja.setEntity(X),ja.setMessageId(ea)),ja);}pa=Yb(JSON.stringify(pa),Lb);ca.encrypt(pa,{result:function(ja){Na(sa,function(){ca.sign(ja,{result:function(la){Na(sa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:X,writable:!1,configurable:!1},recipient:{value:Y,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:Z,writable:!1,configurable:!1},internalCode:{value:ka,writable:!1,configurable:!1},errorMessage:{value:za,writable:!1,configurable:!1},userMessage:{value:ta,writable:!1,configurable:!1},errordata:{value:ja,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},Da);},error:function(la){Na(sa,function(){la instanceof fb && (la.setEntity(X),la.setMessageId(ea));throw la;},Da);}});},Da);},error:function(ja){Na(sa,function(){ja instanceof fb && (ja.setEntity(X),ja.setMessageId(ea));throw ja;},Da);}});},Da);},toJSON:function(){var aa;aa={};aa[Jd]=this.entityAuthenticationData;aa[Be]=Eb(this.errordata);aa[Kd]=Eb(this.signature);return aa;}});De=function(aa,X,Y,ea,Z,ka,za,ta,ma){new Ac(aa,X,Y,ea,Z,ka,za,ta,null,ma);};Ce=function(aa,X,Y,ea,Z){Na(Z,function(){var ka,za,ta;if(!Y)throw new Hb(W.MESSAGE_ENTITY_NOT_FOUND);try{ka=Y.scheme;za=aa.getEntityAuthenticationFactory(ka);if(!za)throw new kc(W.ENTITYAUTH_FACTORY_NOT_FOUND,ka);ta=za.getCryptoContext(aa,Y);}catch(ma){throw (ma instanceof fb && ma.setEntity(Y),ma);}try{X=Gb(X);}catch(ma){throw new Hb(W.HEADER_DATA_INVALID,X,ma).setEntity(Y);}if(!X || 0 == X.length)throw new Hb(W.HEADER_DATA_MISSING,X).setEntity(Y);ta.verify(X,ea,{result:function(ma){Na(Z,function(){if(!ma)throw new tb(W.MESSAGE_VERIFICATION_FAILED).setEntity(Y);ta.decrypt(X,{result:function(sa){Na(Z,function(){var Da,pa,ca,ja,la,Aa,Ra,Ma;Da=Xb(sa,Lb);try{pa=JSON.parse(Da);}catch(Ta){if(Ta instanceof SyntaxError)throw new Db(W.JSON_PARSE_ERROR,"errordata " + Da,Ta).setEntity(Y);throw Ta;}ca=pa.recipient !== Ab?pa.recipient:null;ja=parseInt(pa.messageid);la=parseInt(pa.errorcode);Aa=parseInt(pa.internalcode);Ra=pa.errormsg;Ma=pa.usermsg;if(ca && "string" !== typeof ca || !ja || ja != ja || !la || la != la || pa.internalcode && Aa != Aa || Ra && "string" !== typeof Ra || Ma && "string" !== typeof Ma)throw new Db(W.JSON_PARSE_ERROR,"errordata " + Da).setEntity(Y);if(0 > ja || ja > Jb)throw new Hb(W.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Da).setEntity(Y);pa=!1;for(var Qa in Ha){if(Ha[Qa] == la){pa=!0;break;}}pa || (la=Ha.FAIL);if(Aa){if(0 > Aa)throw new Hb(W.INTERNAL_CODE_NEGATIVE,"errordata " + Da).setEntity(Y).setMessageId(ja);}else Aa=-1;Da=new ha(X,ea);new Ac(aa,Y,ca,ja,la,Aa,Ra,Ma,Da,Z);});},error:function(sa){Na(Z,function(){sa instanceof fb && sa.setEntity(Y);throw sa;});}});});},error:function(ma){Na(Z,function(){ma instanceof fb && ma.setEntity(Y);throw ma;});}});});};})();tf=Cb.Class.create({getUserMessage:function(ha,aa){}});(function(){Md=function(ha,aa){var X;if(!ha || !aa)return null;X=ha.compressionAlgorithms.filter(function(Y){for(var ea=0;ea < aa.compressionAlgorithms.length;++ea){if(Y == aa.compressionAlgorithms[ea])return !0;}return !1;});ha=ha.languages.filter(function(Y){for(var ea=0;ea < aa.languages.length;++ea){if(Y == aa.languages[ea])return !0;}return !1;});return new Xc(X,ha);};Xc=Cb.Class.create({init:function(ha,aa){ha || (ha=[]);aa || (aa=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:aa,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof Xc?Vd(this.compressionAlgorithms,ha.compressionAlgorithms) && Vd(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ee=function(ha){var aa,X,ea;aa=ha.compressionalgos;X=ha.languages;if(aa && !(aa instanceof Array) || X && !(X instanceof Array))throw new Db(W.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var Y=0;aa && Y < aa.length;++Y){ea=aa[Y];Cc[ea] && ha.push(ea);}return new Xc(ha,X);};})();(function(){var sa,Da;function ha(pa,ca,ja,la,Aa){this.customer=pa;this.sender=ca;this.messageCryptoContext=ja;this.headerdata=la;this.signature=Aa;}function aa(pa,ca,ja,la,Aa,Ra,Ma,Qa,Ta,qa,Ca,Ga,Ja,Ea,Ua,Ia,$a,bb,Ya,jb){return {cryptoContext:{value:ca,writable:!1,configurable:!1},customer:{value:ja,writable:!1,configurable:!1},entityAuthenticationData:{value:la,writable:!1,configurable:!1},masterToken:{value:Aa,writable:!1,configurable:!1},sender:{value:Ra,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ia,writable:!1,configurable:!1},keyRequestData:{value:Qa,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:qa,writable:!1,configurable:!1},userIdToken:{value:Ca,writable:!1,configurable:!1},serviceTokens:{value:Ga,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Ea,writable:!1,configurable:!1},peerServiceTokens:{value:Ua,writable:!1,configurable:!1},messageCapabilities:{value:bb,writable:!1,configurable:!1},renewable:{value:$a,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function X(pa,ca,ja){var la;if(ja){if(ca=pa.getMslStore().getCryptoContext(ja))return ca;if(!ja.isVerified() || !ja.isDecrypted())throw new Sc(W.MASTERTOKEN_UNTRUSTED,ja);return new fc(pa,ja);}ja=ca.scheme;la=pa.getEntityAuthenticationFactory(ja);if(!la)throw new kc(W.ENTITYAUTH_FACTORY_NOT_FOUND,ja);return la.getCryptoContext(pa,ca);}function Y(pa,ca,ja,la,Aa){Na(Aa,function(){ca.verify(ja,la,{result:function(Ra){Na(Aa,function(){if(!Ra)throw new tb(W.MESSAGE_VERIFICATION_FAILED);ca.decrypt(ja,{result:function(Ma){Na(Aa,function(){return Xb(Ma,Lb);});},error:function(Ma){Aa.error(Ma);}});});},error:function(Ra){Aa.error(Ra);}});});}function ea(pa,ca,ja){Na(ja,function(){if(ca)re(pa,ca,ja);else return null;});}function Z(pa,ca,ja,la){Na(la,function(){if(ca)nd(pa,ca,ja,la);else return null;});}function ka(pa,ca,ja,la){Na(la,function(){if(ja)Ie(pa,ca,ja,la);else return null;});}function za(pa,ca,ja,la,Aa,Ra,Ma){var Ta;function Qa(qa,Ca,Ga){var Ja,Ea;if(Ca >= qa.length){Ja=[];for(Ea in Ta){Ja.push(Ta[Ea]);}Ga.result(Ja);}else {Ja=qa[Ca];if("object" !== typeof Ja)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + Ra);od(pa,Ja,ja,la,Aa,{result:function(Ua){Na(Ga,function(){Ta[Ua.uniqueKey()]=Ua;Qa(qa,Ca + 1,Ga);});},error:function(Ua){Ga.error(Ua);}});}}Ta={};Na(Ma,function(){if(ca){if(!(ca instanceof Array))throw new Db(W.JSON_PARSE_ERROR,"headerdata " + Ra);Qa(ca,0,Ma);}else return [];});}function ta(pa,ca,ja,la,Aa,Ra){function Ma(Ta,qa,Ca){Na(Ca,function(){var Ga;Ga=qa.peermastertoken;if(Ga && "object" !== typeof Ga)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + Aa);if(!Ga)return null;Wc(Ta,Ga,Ca);});}function Qa(Ta,qa,Ca,Ga){Na(Ga,function(){var Ja;Ja=qa.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + Aa);if(!Ja)return null;nd(Ta,Ja,Ca,Ga);});}Na(Ra,function(){if(!pa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(pa,ca,{result:function(Ta){Na(Ra,function(){var qa;qa=ja?ja.masterToken:Ta;Qa(pa,ca,qa,{result:function(Ca){Na(Ra,function(){za(pa,ca.peerservicetokens,qa,Ca,la,Aa,{result:function(Ga){Na(Ra,function(){return {peerMasterToken:Ta,peerUserIdToken:Ca,peerServiceTokens:Ga};});},error:function(Ga){Na(Ra,function(){Ga instanceof fb && (Ga.setEntity(qa),Ga.setUser(Ca));throw Ga;});}});});},error:function(Ca){Na(Ra,function(){Ca instanceof fb && Ca.setEntity(qa);throw Ca;});}});});},error:Ra.error});});}function ma(pa,ca,ja,la){var Ra;function Aa(Ma,Qa){Na(la,function(){if(Qa >= Ma.length)return Ra;qe(pa,Ma[Qa],{result:function(Ta){Na(la,function(){Ra.push(Ta);Aa(Ma,Qa + 1);});},error:function(Ta){la.error(Ta);}});});}Ra=[];Na(la,function(){var Ma;Ma=ca.keyrequestdata;if(!Ma)return Ra;if(!(Ma instanceof Array))throw new Db(W.JSON_PARSE_ERROR,"headerdata " + ja);Aa(Ma,0);});}sa=Ge=Cb.Class.create({init:function(pa,ca,ja,la,Aa,Ra,Ma,Qa,Ta){Object.defineProperties(this,{messageId:{value:pa,writable:!1,configurable:!1},nonReplayableId:{value:ca,writable:!1,configurable:!1},renewable:{value:ja,writable:!1,configurable:!1},capabilities:{value:la,writable:!1,configurable:!1},keyRequestData:{value:Aa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Qa,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});Da=He=Cb.Class.create({init:function(pa,ca,ja){Object.defineProperties(this,{peerMasterToken:{value:pa,writable:!1,configurable:!1},peerUserIdToken:{value:ca,writable:!1,configurable:!1},peerServiceTokens:{value:ja,writable:!1,configurable:!1}});}});Yc=Cb.Class.create({init:function(pa,ca,ja,la,Aa,Ra,Ma){var Ta;function Qa(qa){Na(Ma,function(){var Ca,Ga,Ja,Ea,Ua,Ia,$a,bb,Ya,jb,mb,ob,pb,qb,zb,yb,r;ca=ja?null:ca;Ca=la.nonReplayableId;Ga=la.renewable;Ja=la.capabilities;Ea=la.messageId;Ua=la.keyRequestData?la.keyRequestData:[];Ia=la.keyResponseData;$a=la.userAuthData;bb=la.userIdToken;Ya=la.serviceTokens?la.serviceTokens:[];if(pa.isPeerToPeer()){jb=Aa.peerMasterToken;mb=Aa.peerUserIdToken;ob=Aa.peerServiceTokens?Aa.peerServiceTokens:[];}else (mb=jb=null,ob=[]);if(0 > Ea || Ea > Jb)throw new vb("Message ID " + Ea + " is out of range.");if(!ca && !ja)throw new vb("Message entity authentication data or master token must be provided.");if(Ia){if(pa.isPeerToPeer()){pb=ja;qb=Ia.masterToken;}else (pb=Ia.masterToken,qb=jb);}else (pb=ja,qb=jb);if(bb && (!pb || !bb.isBoundTo(pb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!qb || !mb.isBoundTo(qb)))throw new vb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!bb || !b.isBoundTo(bb)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ra){r=Ra.customer;zb=Ra.messageCryptoContext;yb=aa(pa,zb,r,ca,ja,qa,Ea,Ua,Ia,$a,bb,Ya,jb,mb,ob,Ca,Ga,Ja,Ra.headerdata,Ra.signature);Object.defineProperties(this,yb);return this;}r=bb?bb.customer:null;yb={};qa && (yb.sender=qa);yb.messageid=Ea;"number" === typeof Ca && (yb.nonreplayableid=Ca);yb.renewable=Ga;Ja && (yb.capabilities=Ja);0 < Ua.length && (yb.keyrequestdata=Ua);Ia && (yb.keyresponsedata=Ia);$a && (yb.userauthdata=$a);bb && (yb.useridtoken=bb);0 < Ya.length && (yb.servicetokens=Ya);jb && (yb.peermastertoken=jb);mb && (yb.peeruseridtoken=mb);0 < ob.length && (yb.peerservicetokens=ob);try{zb=X(pa,ca,ja);}catch(b){throw (b instanceof fb && (b.setEntity(ja),b.setEntity(ca),b.setUser(bb),b.setUser($a),b.setMessageId(Ea)),b);}yb=Yb(JSON.stringify(yb),Lb);zb.encrypt(yb,{result:function(b){Na(Ma,function(){zb.sign(b,{result:function(a){Na(Ma,function(){var c;c=aa(pa,zb,r,ca,ja,qa,Ea,Ua,Ia,$a,bb,Ya,jb,mb,ob,Ca,Ga,Ja,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){Na(Ma,function(){a instanceof fb && (a.setEntity(ja),a.setEntity(ca),a.setUser(bb),a.setUser($a),a.setMessageId(Ea));throw a;},Ta);}});},Ta);},error:function(b){Na(Ma,function(){b instanceof fb && (b.setEntity(ja),b.setEntity(ca),b.setUser(bb),b.setUser($a),b.setMessageId(Ea));throw b;},Ta);}});},Ta);}Ta=this;Na(Ma,function(){Ra?Qa(Ra.sender):ja?pa.getEntityAuthenticationData(null,{result:function(qa){qa=qa.getIdentity();Qa(qa);},error:Ma.error}):Qa(null);},Ta);},isEncrypting:function(){return this.masterToken || ud(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var pa;pa={};this.masterToken?pa[ze]=this.masterToken:pa[Jd]=this.entityAuthenticationData;pa[Ae]=Eb(this.headerdata);pa[Kd]=Eb(this.signature);return pa;}});Fe=function(pa,ca,ja,la,Aa,Ra){new Yc(pa,ca,ja,la,Aa,null,Ra);};Ld=function(pa,ca,ja,la,Aa,Ra,Ma){Na(Ma,function(){var Qa,Ta;ja=la?null:ja;if(!ja && !la)throw new Hb(W.MESSAGE_ENTITY_NOT_FOUND);Qa=ca;try{ca=Gb(Qa);}catch(qa){throw new Hb(W.HEADER_DATA_INVALID,Qa,qa);}if(!ca || 0 == ca.length)throw new Hb(W.HEADER_DATA_MISSING,Qa);try{Ta=X(pa,ja,la);}catch(qa){throw (qa instanceof fb && (qa.setEntity(la),qa.setEntity(ja)),qa);}Y(pa,Ta,ca,Aa,{result:function(qa){Na(Ma,function(){var Ca,Ga,Ja,Ea,Ua;try{Ca=JSON.parse(qa);}catch(Ia){if(Ia instanceof SyntaxError)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa,Ia).setEntity(la).setEntity(ja);throw Ia;}Ga=parseInt(Ca.messageid);if(!Ga || Ga != Ga)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(la).setEntity(ja);if(0 > Ga || Ga > Jb)throw new Hb(W.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + qa).setEntity(la).setEntity(ja);Ja=la?Ca.sender:null;if(la && (!Ja || "string" !== typeof Ja))throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(la).setEntity(ja).setMessageId(Ga);Ea=Ca.keyresponsedata;if(Ea && "object" !== typeof Ea)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(la).setEntity(ja).setMessageId(Ga);Ua=Ma;Ma={result:function(Ia){Ua.result(Ia);},error:function(Ia){Ia instanceof fb && (Ia.setEntity(la),Ia.setEntity(ja),Ia.setMessageId(Ga));Ua.error(Ia);}};ea(pa,Ea,{result:function(Ia){Na(Ma,function(){var $a,bb;$a=!pa.isPeerToPeer() && Ia?Ia.masterToken:la;bb=Ca.useridtoken;if(bb && "object" !== typeof bb)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa);Z(pa,bb,$a,{result:function(Ya){Na(Ma,function(){var jb;jb=Ca.userauthdata;if(jb && "object" !== typeof jb)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa);ka(pa,$a,jb,{result:function(mb){Na(Ma,function(){var ob,pb,qb;if(mb){ob=mb.scheme;pb=pa.getUserAuthenticationFactory(ob);if(!pb)throw new uc(W.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Ya).setUser(mb);ob=la?la.identity:ja.getIdentity();qb=pb.authenticate(pa,ob,mb,Ya);}else qb=Ya?Ya.customer:null;za(pa,Ca.servicetokens,$a,Ya,Ra,qa,{result:function(zb){Na(Ma,function(){var yb,r,b,a;yb=Ca.nonreplayableid !== Ab?parseInt(Ca.nonreplayableid):null;r=Ca.renewable;if(yb != yb || "boolean" !== typeof r)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa);if(0 > yb || yb > Jb)throw new Hb(W.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + qa);b=null;a=Ca.capabilities;if(a){if("object" !== typeof a)throw new Db(W.JSON_PARSE_ERROR,"headerdata " + qa);b=Ee(a);}ma(pa,Ca,qa,{result:function(c){ta(pa,Ca,Ia,Ra,qa,{result:function(k){Na(Ma,function(){var h,g,d,f;h=k.peerMasterToken;g=k.peerUserIdToken;d=k.peerServiceTokens;f=new sa(Ga,yb,r,b,c,Ia,mb,Ya,zb);h=new Da(h,g,d);g=new ha(qb,Ja,Ta,ca,Aa);new Yc(pa,ja,la,f,h,g,Ma);});},error:Ma.error});},error:function(c){Na(Ma,function(){c instanceof fb && (c.setUser(Ya),c.setUser(mb));throw c;});}});});},error:function(zb){Na(Ma,function(){zb instanceof fb && (zb.setEntity($a),zb.setUser(Ya),zb.setUser(mb));throw zb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function ha(aa,X){this.payload=aa;this.signature=X;}Nd=Cb.Class.create({init:function(aa,X,Y,ea,Z,ka,za,ta){var ma;ma=this;Na(ta,function(){var sa,Da;if(0 > aa || aa > Jb)throw new vb("Sequence number " + aa + " is outside the valid range.");if(0 > X || X > Jb)throw new vb("Message ID " + X + " is outside the valid range.");if(za)return (Object.defineProperties(this,{sequenceNumber:{value:aa,writable:!1,configurable:!1},messageId:{value:X,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:Z,writable:!1,configurable:!1},endofmsg:{value:Y,writable:!1,enumerable:!1,configurable:!1},payload:{value:za.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:za.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){sa=Od(ea,Z);sa || (ea=null,sa=Z);}else (ea=null,sa=Z);Da={};Da.sequencenumber=aa;Da.messageid=X;Y && (Da.endofmsg=Y);ea && (Da.compressionalgo=ea);Da.data=Eb(sa);sa=Yb(JSON.stringify(Da),Lb);ka.encrypt(sa,{result:function(pa){Na(ta,function(){ka.sign(pa,{result:function(ca){Na(ta,function(){Object.defineProperties(this,{sequenceNumber:{value:aa,writable:!1,configurable:!1},messageId:{value:X,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:Z,writable:!1,configurable:!1},endofmsg:{value:Y,writable:!1,enumerable:!1,configurable:!1},payload:{value:pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(ca){ta.error(ca);}});},ma);},error:function(pa){ta.error(pa);}});},ma);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var aa;aa={};aa.payload=Eb(this.payload);aa.signature=Eb(this.signature);return aa;}});Je=function(aa,X,Y,ea,Z,ka,za){new Nd(aa,X,Y,ea,Z,ka,null,za);};Ke=function(aa,X,Y){Na(Y,function(){var ea,Z,ka,za;ea=aa.payload;Z=aa.signature;if(!ea || "string" !== typeof ea || "string" !== typeof Z)throw new Db(W.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(aa));try{ka=Gb(ea);}catch(ta){throw new Hb(W.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(aa),ta);}try{za=Gb(Z);}catch(ta){throw new Hb(W.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(aa),ta);}X.verify(ka,za,{result:function(ta){Na(Y,function(){if(!ta)throw new tb(W.PAYLOAD_VERIFICATION_FAILED);X.decrypt(ka,{result:function(ma){Na(Y,function(){var sa,Da,pa,ca,ja,la,Aa;sa=Xb(ma,Lb);try{Da=JSON.parse(sa);}catch(Ra){if(Ra instanceof SyntaxError)throw new Db(W.JSON_PARSE_ERROR,"payload chunk payload " + sa,Ra);throw Ra;}pa=parseInt(Da.sequencenumber);ca=parseInt(Da.messageid);ja=Da.endofmsg;la=Da.compressionalgo;Da=Da.data;if(!pa || pa != pa || !ca || ca != ca || ja && "boolean" !== typeof ja || la && "string" !== typeof la || "string" !== typeof Da)throw new Db(W.JSON_PARSE_ERROR,"payload chunk payload " + sa);if(0 > pa || pa > Jb)throw new fb(W.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + sa);if(0 > ca || ca > Jb)throw new fb(W.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + sa);ja || (ja=!1);if(la && !Cc[la])throw new Hb(W.UNIDENTIFIED_COMPRESSION,la);try{Aa=Gb(Da);}catch(Ra){throw new Hb(W.PAYLOAD_DATA_CORRUPT,Da,Ra);}if(Aa && 0 != Aa.length)sa=la?pd(la,Aa):Aa;else {if(0 < Da.length)throw new Hb(W.PAYLOAD_DATA_CORRUPT,Da);if(ja)sa=new Uint8Array(0);else throw new Hb(W.PAYLOAD_DATA_MISSING,Da);}Aa=new ha(ka,za);new Nd(pa,ca,ja,la,sa,X,Aa,Y);});},error:function(ma){Y.error(ma);}});});},error:function(ta){Y.error(ta);}});});};})();(function(){var Y,ea;function ha(Z,ka,za,ta,ma){var Da,pa,ca,ja,la;function sa(){Na(ma,function(){var Aa,Ra;pa >= ka.length && (pa=0,++Da);if(Da >= ca.length){if(ja)throw ja;throw new Mb(W.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ka));}Aa=ca[Da];Ra=ka[pa];Aa.scheme != Ra.keyExchangeScheme?(++pa,sa()):Aa.generateResponse(Z,Ra,la,{result:function(Ma){ma.result(Ma);},error:function(Ma){Na(ma,function(){if(!(Ma instanceof fb))throw Ma;ja=Ma;++pa;sa();});}});});}Da=0;pa=0;ca=Z.getKeyExchangeFactories();la=za?za:ta;sa();}function aa(Z,ka,za,ta,ma){Na(ma,function(){var sa;sa=ka.keyRequestData;if(ka.isRenewable() && 0 < sa.length)ta?ta.isRenewable() || ta.isExpired()?ha(Z,sa,ta,null,ma):Z.getTokenFactory().isNewestMasterToken(Z,ta,{result:function(Da){Na(ma,function(){if(Da)return null;ha(Z,sa,ta,null,ma);});},error:ma.error}):ha(Z,sa,null,za.getIdentity(),ma);else return null;});}function X(Z,ka,za,ta){Na(ta,function(){var ma,sa,Da,pa;ma=ka.userIdToken;sa=ka.userAuthenticationData;Da=ka.messageId;if(ma && ma.isVerified()){if(ma.isRenewable() && ka.isRenewable() || ma.isExpired() || !ma.isBoundTo(za)){sa=Z.getTokenFactory();sa.renewUserIdToken(Z,ma,za,ta);return;}}else if(ka.isRenewable() && za && sa){ma=ka.customer;if(!ma){ma=sa.scheme;pa=Z.getUserAuthenticationFactory(ma);if(!pa)throw new uc(W.USERAUTH_FACTORY_NOT_FOUND,ma).setEntity(za).setUser(sa).setMessageId(Da);ma=pa.authenticate(Z,za.identity,sa,null);}sa=Z.getTokenFactory();sa.createUserIdToken(Z,ma,za,ta);return;}return ma;});}Y=new Uint8Array(0);ea=Fc=function(Z){if(0 > Z || Z > Jb)throw new vb("Message ID " + Z + " is outside the valid range.");return Z == Jb?0:Z + 1;};Nc=function(Z){if(0 > Z || Z > Jb)throw new vb("Message ID " + Z + " is outside the valid range.");return 0 == Z?Jb:Z - 1;};Gc=function(Z,ka,za,ta,ma){Na(ma,function(){var sa;if(ta == Ab || null == ta){sa=Z.getRandom();do {ta=sa.nextLong();}while(0 > ta || ta > Jb);}else if(0 > ta || ta > Jb)throw new vb("Message ID " + ta + " is outside the valid range.");Z.getEntityAuthenticationData(null,{result:function(Da){Na(ma,function(){var pa;pa=Z.getMessageCapabilities();return new qd(Z,ta,pa,Da,ka,za,null,null,null,null,null);});},error:function(Da){ma.error(Da);}});});};Le=function(Z,ka,za){Na(za,function(){var ma,sa,Da,pa,ca,ja;function ta(la){Na(za,function(){la instanceof fb && (la.setEntity(ma),la.setEntity(sa),la.setUser(Da),la.setUser(pa),la.setMessageId(ca));throw la;});}ma=ka.masterToken;sa=ka.entityAuthenticationData;Da=ka.userIdToken;pa=ka.userAuthenticationData;ca=ka.messageId;ja=ea(ca);aa(Z,ka,sa,ma,{result:function(la){Na(za,function(){var Aa;Aa=la?la.keyResponseData.masterToken:Aa=ma;Z.getEntityAuthenticationData(null,{result:function(Ra){Na(za,function(){X(Z,ka,Aa,{result:function(Ma){Na(za,function(){var Qa,Ta,qa;Da=Ma;Qa=Md(ka.messageCapabilities,Z.getMessageCapabilities());Ta=ka.keyResponseData;qa=ka.serviceTokens;return Z.isPeerToPeer()?new qd(Z,ja,Qa,Ra,Ta?Ta.masterToken:ka.peerMasterToken,ka.peerUserIdToken,ka.peerServiceTokens,ma,Da,qa,la):new qd(Z,ja,Qa,Ra,Ta?Ta.masterToken:ma,Da,qa,null,null,null,la);});},error:ta});});},error:ta});});},error:ta});});};Me=function(Z,ka,za,ta,ma){Na(ma,function(){Z.getEntityAuthenticationData(null,{result:function(sa){Na(ma,function(){var Da,pa;if(ka != Ab && null != ka)Da=ea(ka);else {pa=Z.getRandom();do {Da=pa.nextInt();}while(0 > Da || Da > Jb);}De(Z,sa,Da,za.responseCode,za.internalCode,za.message,ta,ma);});},error:function(sa){ma.error(sa);}});});};qd=Cb.Class.create({init:function(Z,ka,za,ta,ma,sa,Da,pa,ca,ja,la){var Aa,Ra,Ma,Qa,Ta;if(!Z.isPeerToPeer() && (pa || ca))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");Aa=la && !Z.isPeerToPeer()?la.keyResponseData.masterToken:ma;Ra=[];Aa=Z.getMslStore().getServiceTokens(Aa,sa);Ra.push.apply(Ra,Aa);Da && Da.forEach(function(qa){Ra.push(qa);},this);Ma=[];if(Z.isPeerToPeer()){Qa=pa;Ta=ca;Da=la?la.keyResponseData.masterToken:pa;ca=Z.getMslStore().getServiceTokens(Da,ca);Ma.push.apply(Ma,ca);ja && ja.forEach(function(qa){Ma.push(qa);},this);}Object.defineProperties(this,{_ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ta,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ma,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ka,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:za,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:la,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:sa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || ud(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ud(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Wd(this._entityAuthData.scheme);},getHeader:function(Z){Na(Z,function(){var ka,za,ta;ka=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;za=[];for(ta in this._keyRequestData){za.push(this._keyRequestData[ta]);}if(this._nonReplayable){if(!this._masterToken)throw new Hb(W.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ta=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ta=null;ka=new Ge(this._messageId,ta,this._renewable,this._capabilities,za,ka,this._userAuthData,this._userIdToken,this._serviceTokens);za=new He(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Fe(this._ctx,this._entityAuthData,this._masterToken,ka,za,Z);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(Z){this._nonReplayable=Z;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(Z){this._renewable=Z;return this;},setAuthTokens:function(Z,ka){var za,ma;if(ka && !ka.isBoundTo(Z))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{za=this._ctx.getMslStore().getServiceTokens(Z,ka);}catch(sa){if(sa instanceof fb)throw new vb("Invalid master token and user ID token combination despite checking above.",sa);throw sa;}for(var ta=this._serviceTokens.length - 1;0 <= ta;--ta){ma=this._serviceTokens[ta];(ma.isUserIdTokenBound() && !ma.isBoundTo(ka) || ma.isMasterTokenBound() && !ma.isBoundTo(Z)) && this._serviceTokens.splice(ta,1);}za.forEach(function(sa){this.excludeServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._serviceTokens.push(sa);},this);this._masterToken=Z;this._userIdToken=ka;},setUserAuthenticationData:function(Z){this._userAuthData=Z;return this;},setCustomer:function(Z,ka){var za;za=this;Na(ka,function(){var ta;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");ta=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ta)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,Z,ta,{result:function(ma){Na(ka,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ma:(this._userIdToken=ma,this._userAuthData=null);return !0;},za);},error:function(ma){ka.error(ma);}});},za);},addKeyRequestData:function(Z){this._keyRequestData[Z.uniqueKey()]=Z;return this;},removeKeyRequestData:function(Z){delete this._keyRequestData[Z.uniqueKey()];return this;},addServiceToken:function(Z){var ka;ka=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(Z.isMasterTokenBound() && !Z.isBoundTo(ka))throw new Hb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(Z) + "; mt " + JSON.stringify(ka)).setEntity(ka);if(Z.isUserIdTokenBound() && !Z.isBoundTo(this._userIdToken))throw new Hb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(Z) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ka).setUser(this._userIdToken);this.excludeServiceToken(Z.name,Z.isMasterTokenBound(),Z.isUserIdTokenBound());this._serviceTokens.push(Z);return this;},addServiceTokenIfAbsent:function(Z){var za;for(var ka=this._serviceTokens.length - 1;0 <= ka;--ka){za=this._serviceTokens[ka];if(za.name == Z.name && za.isMasterTokenBound() == Z.isMasterTokenBound() && za.isUserIdTokenBound() == Z.isUserIdTokenBound())return this;}this.addServiceToken(Z);return this;},excludeServiceToken:function(){var Z,ka,za,ma;if(1 == arguments.length){Z=arguments[0];ka=Z.name;za=Z.isMasterTokenBound();Z=Z.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],za=arguments[1],Z=arguments[2]);for(var ta=this._serviceTokens.length - 1;0 <= ta;--ta){ma=this._serviceTokens[ta];ma.name == ka && ma.isMasterTokenBound() == za && ma.isUserIdTokenBound() == Z && this._serviceTokens.splice(ta,1);}return this;},deleteServiceToken:function(){var Z,ka,za,ta;if(2 == arguments.length){Z=arguments[0];ka=Z.name;Z.isMasterTokenBound();Z.isUserIdTokenBound();za=arguments[1];}else (arguments.length=4,ka=arguments[0],za=arguments[3]);ta=this;Na(za,function(){var ma,sa;ma=originalToken.isMasterTokenBound()?this._masterToken:null;sa=originalToken.isUserIdTokenBound()?this._userIdToken:null;sc(this._ctx,ka,Y,ma,sa,!1,null,new Mc(),{result:function(Da){Na(za,function(){return this.addServiceToken(Da);},ta);},error:function(Da){Da instanceof fb && (Da=new vb("Failed to create and add empty service token to message.",Da));za.error(Da);}});},ta);},getServiceTokens:function(){var Z;Z=[];Z.push.apply(Z,this._serviceTokens);return Z;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(Z,ka){var za,ma;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ka && !Z)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(ka && !ka.isBoundTo(Z))throw new Hb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ka + "; mt " + Z).setEntity(Z).setUser(ka);try{za=this._ctx.getMslStore().getServiceTokens(Z,ka);}catch(sa){if(sa instanceof fb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",sa);throw sa;}for(var ta=this._peerServiceTokens.length - 1;0 <= ta;--ta){ma=this._peerServiceTokens[ta];(ma.isUserIdTokenBound() && !ma.isBoundTo(ka) || ma.isMasterTokenBound() && !ma.isBoundTo(Z)) && this._peerServiceTokens.slice(ta,1);}za.forEach(function(sa){this.excludePeerServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._peerServiceTokens.push(sa);},this);this._peerUserIdToken=ka;this._peerMasterToken=Z;return this;},addPeerServiceToken:function(Z){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(Z.isMasterTokenBound() && !Z.isBoundTo(this._peerMasterToken))throw new Hb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(Z) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(Z.isUserIdTokenBound() && !Z.isBoundTo(this._peerUserIdToken))throw new Hb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(Z) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(Z.name,Z.isMasterTokenBound(),Z.isUserIdTokenBound());this._peerServiceTokens.push(Z);return this;},addPeerServiceTokenIfAbsent:function(Z){var za;for(var ka=this._peerServiceTokens.length - 1;0 <= ka;--ka){za=this._peerServiceTokens[ka];if(za.name == Z.name && za.isMasterTokenBound() == Z.isMasterTokenBound() && za.isUserIdTokenBound() == Z.isUserIdTokenBound())return this;}this.addPeerServiceToken(Z);return this;},excludePeerServiceToken:function(){var Z,ka,za,ma;if(1 == arguments.length){Z=arguments[0];ka=Z.name;za=Z.isMasterTokenBound();Z=Z.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],za=arguments[1],Z=arguments[2]);for(var ta=this._peerServiceTokens.length - 1;0 <= ta;--ta){ma=this._peerServiceTokens[ta];ma.name == ka && ma.isMasterTokenBound() == za && ma.isUserIdTokenBound() == Z && this._peerServiceTokens.splice(ta,1);}return this;},deletePeerServiceToken:function(){var Z,ka,za,ta,ma,sa;if(2 == arguments.length){Z=arguments[0];ka=Z.name;za=Z.isMasterTokenBound();ta=Z.isUserIdTokenBound();ma=arguments[1];}else (arguments.length=4,ka=arguments[0],za=arguments[1],ta=arguments[2],ma=arguments[3]);sa=this;Na(ma,function(){sc(this._ctx,ka,Y,za?this._peerMasterToken:null,ta?this._peerUserIdToken:null,!1,null,new Mc(),{result:function(Da){Na(ma,function(){return this.addPeerServiceToken(Da);},sa);},error:function(Da){Da instanceof fb && (Da=new vb("Failed to create and add empty peer service token to message.",Da));ma.error(Da);}});},sa);},getPeerServiceTokens:function(){var Z;Z=[];Z.push.apply(Z,this._peerServiceTokens);return Z;}});})();(function(){function ha(X,Y){return Y[X]?Y[X]:Y[""];}function aa(X){var Y;Y=X.builder.getKeyExchangeData();return Y && !X.ctx.isPeerToPeer()?Y.keyResponseData.masterToken:X.builder.getMasterToken();}Ne=Cb.Class.create({init:function(X,Y,ea){X={ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:Y.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);},isPrimaryMasterTokenAvailable:function(){return aa(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(X){try{return (this.builder.addServiceToken(X),!0);}catch(Y){if(Y instanceof Hb)return !1;throw Y;}},addPeerServiceToken:function(X){try{return (this.builder.addPeerServiceToken(X),!0);}catch(Y){if(Y instanceof Hb)return !1;throw Y;}},addUnboundPrimaryServiceToken:function(X,Y,ea,Z,ka){var za;za=this;Na(ka,function(){var ta;ta=ha(X,this.cryptoContexts);if(!ta)return !1;sc(this.ctx,X,Y,null,null,ea,Z,ta,{result:function(ma){Na(ka,function(){try{this.builder.addServiceToken(ma);}catch(sa){if(sa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},za);},error:function(ma){ka.error(ma);}});},za);},addUnboundPeerServiceToken:function(X,Y,ea,Z,ka){var za;za=this;Na(ka,function(){var ta;ta=ha(X,this.cryptoContexts);if(!ta)return !1;sc(this.ctx,X,Y,null,null,ea,Z,ta,{result:function(ma){Na(ka,function(){try{this.builder.addPeerServiceToken(ma);}catch(sa){if(sa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},za);},error:function(ma){ka.error(ma);}});},za);},addMasterBoundPrimaryServiceToken:function(X,Y,ea,Z,ka){var za;za=this;Na(ka,function(){var ta,ma;ta=aa(this);if(!ta)return !1;ma=ha(X,this.cryptoContexts);if(!ma)return !1;sc(this.ctx,X,Y,ta,null,ea,Z,ma,{result:function(sa){Na(ka,function(){try{this.builder.addServiceToken(sa);}catch(Da){if(Da instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},za);},error:function(sa){ka.error(sa);}});},za);},addMasterBoundPeerServiceToken:function(X,Y,ea,Z,ka){var za;za=this;Na(ka,function(){var ta,ma;ta=this.builder.getPeerMasterToken();if(!ta)return !1;ma=ha(X,this.cryptoContexts);if(!ma)return !1;sc(this.ctx,X,Y,ta,null,ea,Z,ma,{result:function(sa){Na(ka,function(){try{this.builder.addPeerServiceToken(sa);}catch(Da){if(Da instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},za);},error:function(sa){ka.error(sa);}});},za);},addUserBoundPrimaryServiceToken:function(X,Y,ea,Z,ka){var za;za=this;Na(ka,function(){var ta,ma,sa;ta=aa(this);if(!ta)return !1;ma=this.builder.getUserIdToken();if(!ma)return !1;sa=ha(X,this.cryptoContexts);if(!sa)return !1;sc(this.ctx,X,Y,ta,ma,ea,Z,sa,{result:function(Da){Na(ka,function(){try{this.builder.addServiceToken(Da);}catch(pa){if(pa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",pa);throw pa;}return !0;},za);},error:function(Da){ka.error(Da);}});},za);},addUserBoundPeerServiceToken:function(X,Y,ea,Z,ka){var za;za=this;Na(ka,function(){var ta,ma,sa;ta=this.builder.getPeerMasterToken();if(!ta)return !1;ma=this.builder.getPeerUserIdToken();if(!ma)return !1;sa=ha(X,this.cryptoContexts);if(!sa)return !1;sc(this.ctx,X,Y,ta,ma,ea,Z,sa,{result:function(Da){Na(ka,function(){try{this.builder.addPeerServiceToken(Da);}catch(pa){if(pa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",pa);throw pa;}return !0;},za);},error:function(Da){ka.error(Da);}});},za);},excludePrimaryServiceToken:function(){var X,Y,ea,Z;if(1 == arguments.length){X=arguments[0];Y=X.name;ea=X.isMasterTokenBound();Z=X.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],ea=arguments[1],Z=arguments[2]);for(var ka=this.builder.getServiceTokens(),za=0;za < ka.length;++za){if((X=ka[za],X.name == Y && X.isMasterTokenBound() == ea && X.isUserIdTokenBound() == Z))return (this.builder.excludeServiceToken(Y,ea,Z),!0);}return !1;},excludePeerServiceToken:function(){var X,Y,ea,Z;if(1 == arguments.length){X=arguments[0];Y=X.name;ea=X.isMasterTokenBound();Z=X.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],ea=arguments[1],Z=arguments[2]);for(var ka=this.builder.getPeerServiceTokens(),za=0;za < ka.length;++za){if((X=ka[za],X.name == Y && X.isMasterTokenBound() == ea && X.isUserIdTokenBound() == Z))return (this.builder.excludePeerServiceToken(Y,ea,Z),!0);}return !1;},deletePrimaryServiceToken:function(){var X,Y,ea,Z,ka;if(2 == arguments.length){X=arguments[0];Y=X.name;ea=X.isMasterTokenBound();Z=X.isUserIdTokenBound();ka=arguments[1];}else 4 == arguments.length && (Y=arguments[0],ea=arguments[1],Z=arguments[2],ka=arguments[3]);Na(ka,function(){var ma;for(var za=this.builder.getServiceTokens(),ta=0;ta < za.length;++ta){ma=za[ta];if(ma.name == Y && ma.isMasterTokenBound() == ea && ma.isUserIdTokenBound() == Z){this.builder.deleteServiceToken(Y,ea,Z,{result:function(){ka.result(!0);},error:function(sa){ka.error(sa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var X,Y,ea,Z,ka;if(2 == arguments.length){X=arguments[0];Y=X.name;ea=X.isMasterTokenBound();Z=X.isUserIdTokenBound();ka=arguments[1];}else 4 == arguments.length && (Y=arguments[0],ea=arguments[1],Z=arguments[2],ka=arguments[3]);Na(ka,function(){var ma;for(var za=this.builder.getPeerServiceTokens(),ta=0;ta < za.length;++ta){ma=za[ta];if(ma.name == Y && ma.isMasterTokenBound() == ea && ma.isUserIdTokenBound() == Z){this.builder.deletePeerServiceToken(Y,ea,Z,{result:function(){ka.result(!0);},error:function(sa){ka.error(sa);}});return;}}return !1;},this);}});})();(function(){function ha(aa,X,Y,ea){Na(ea,function(){var ka,za,ta,ma,sa,Da;function Z(){Na(ea,function(){var pa;if(Da >= Y.length){if(sa)throw sa;throw new Mb(W.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(Y));}pa=Y[Da];ta != pa.keyExchangeScheme?(++Da,Z()):ma.getCryptoContext(aa,pa,za,ka,{result:ea.result,error:function(ca){Na(ea,function(){if(!(ca instanceof fb))throw ca;sa=ca;++Da;Z();});}});});}ka=X.masterToken;za=X.keyResponseData;if(!za)return null;ta=za.keyExchangeScheme;ma=aa.getKeyExchangeFactory(ta);if(!ma)throw new Mb(W.KEYX_FACTORY_NOT_FOUND,ta);Da=0;Z();});}Oe=Id.extend({init:function(aa,X,Y,ea,Z,ka,za){var ta;ta=this;db(za,function(){var ja;function ma(){ta._ready=!0;ta._readyQueue.add(!0);}function sa(la,Aa){var Ra;try{Ra=Aa.masterToken;la.getTokenFactory().isMasterTokenRevoked(la,Ra,{result:function(Ma){Ma?(ta._errored=new Sc(Ma,Ra).setUser(Aa.userIdToken).setUser(Aa.userAuthenticationData).setMessageId(Aa.messageId),ma()):Da(la,Aa);},error:function(Ma){Ma instanceof fb && (Ma.setEntity(Aa.masterToken),Ma.setUser(Aa.userIdToken),Ma.setUser(Aa.userAuthenticationData),Ma.setMessageId(Aa.messageId));ta._errored=Ma;ma();}});}catch(Ma){Ma instanceof fb && (Ma.setEntity(Aa.masterToken),Ma.setUser(Aa.userIdToken),Ma.setUser(Aa.userAuthenticationData),Ma.setMessageId(Aa.messageId));ta._errored=Ma;ma();}}function Da(la,Aa){var Ra,Ma;try{Ra=Aa.masterToken;Ma=Aa.userIdToken;Ma?la.getTokenFactory().isUserIdTokenRevoked(la,Ra,Ma,{result:function(Qa){Qa?(ta._errored=new MslUserIdTokenException(Qa,Ma).setEntity(Ra).setUser(Ma).setMessageId(Aa.messageId),ma()):pa(la,Aa);},error:function(Qa){Qa instanceof fb && (Qa.setEntity(Aa.masterToken),Qa.setUser(Aa.userIdToken),Qa.setUser(Aa.userAuthenticationData),Qa.setMessageId(Aa.messageId));ta._errored=Qa;ma();}}):pa(la,Aa);}catch(Qa){Qa instanceof fb && (Qa.setEntity(Aa.masterToken),Qa.setUser(Aa.userIdToken),Qa.setUser(Aa.userAuthenticationData),Qa.setMessageId(Aa.messageId));ta._errored=Qa;ma();}}function pa(la,Aa){var Ra;try{Ra=Aa.masterToken;Ra.isExpired()?Aa.isRenewable() && 0 != Aa.keyRequestData.length?la.getTokenFactory().isMasterTokenRenewable(la,Ra,{result:function(Ma){Ma?(ta._errored=new Hb(Ma,"Master token is expired and not renewable.").setEntity(Ra).setUser(Aa.userIdToken).setUser(Aa.userAuthenticationData).setMessageId(Aa.messageId),ma()):ca(la,Aa);},error:function(Ma){Ma instanceof fb && (Ma.setEntity(Aa.masterToken),Ma.setUser(Aa.userIdToken),Ma.setUser(Aa.userAuthenticationData),Ma.setMessageId(Aa.messageId));ta._errored=Ma;ma();}}):(ta._errored=new Hb(W.MESSAGE_EXPIRED,JSON.stringify(Aa)).setEntity(Ra).setUser(Aa.userIdToken).setUser(Aa.userAuthenticationData).setMessageId(Aa.messageId),ma()):ca(la,Aa);}catch(Ma){Ma instanceof fb && (Ma.setEntity(Aa.masterToken),Ma.setUser(Aa.userIdToken),Ma.setUser(Aa.userAuthenticationData),Ma.setMessageId(Aa.messageId));ta._errored=Ma;ma();}}function ca(la,Aa){var Ra,Ma;try{Ra=Aa.masterToken;Ma=Aa.nonReplayableId;"number" === typeof Ma?Ra?la.getTokenFactory().acceptNonReplayableId(la,Ra,Ma,{result:function(Qa){Qa || (ta._errored=new Hb(W.MESSAGE_REPLAYED,JSON.stringify(Aa)).setEntity(Ra).setUser(Aa.userIdToken).setUser(Aa.userAuthenticationData).setMessageId(Aa.messageId));ma();},error:function(Qa){Qa instanceof fb && (Qa.setEntity(Ra),Qa.setUser(Aa.userIdToken),Qa.setUser(Aa.userAuthenticationData),Qa.setMessageId(Aa.messageId));ta._errored=Qa;ma();}}):(ta._errored=new Hb(W.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(Aa)).setEntity(Aa.entityAuthenticationData).setUser(Aa.userIdToken).setUser(Aa.userAuthenticationData).setMessageId(Aa.messageId),ma()):ma();}catch(Qa){Qa instanceof fb && (Qa.setEntity(Aa.masterToken),Qa.setEntity(Aa.entityAuthenticationData),Qa.setUser(Aa.userIdToken),Qa.setUser(Aa.userAuthenticationData),Qa.setMessageId(Aa.messageId));ta._errored=Qa;ma();}}ja={_source:{value:X,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:Y,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ka,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);pe(ta._source,ka,{result:function(la){ta._json=la;ta._jsonIndex=0;null === ta._json?(ta._errored=new Db(W.MESSAGE_DATA_MISSING),ma()):ye(aa,ta._json[ta._jsonIndex++],Z,{result:function(Aa){var Ra;ta._header=Aa;if(ta._header instanceof Ac)(ta._keyxCryptoContext=null,ta._cryptoContext=null,ma());else {Ra=ta._header;ha(aa,Ra,ea,{result:function(Ma){var Qa;try{ta._keyxCryptoContext=Ma;aa.isPeerToPeer() || !ta._keyxCryptoContext?ta._cryptoContext=Ra.cryptoContext:ta._cryptoContext=ta._keyxCryptoContext;try{Qa=Ra.masterToken;Qa && (aa.isPeerToPeer() || Qa.isVerified())?sa(aa,Ra):ca(aa,Ra);}catch(Ta){Ta instanceof fb && (Ta.setEntity(Ra.masterToken),Ta.setUser(Ra.userIdToken),Ta.setUser(Ra.userAuthenticationData),Ta.setMessageId(Ra.messageId));ta._errored=Ta;ma();}}catch(Ta){Ta instanceof fb && (Ta.setEntity(Ra.masterToken),Ta.setEntity(Ra.entityAuthenticationData),Ta.setUser(Ra.userIdToken),Ta.setUser(Ra.userAuthenticationData),Ta.setMessageId(Ra.messageId));ta._errored=Ta;ma();}},error:function(Ma){Ma instanceof fb && (Ma.setEntity(Ra.masterToken),Ma.setEntity(Ra.entityAuthenticationData),Ma.setUser(Ra.userIdToken),Ma.setUser(Ra.userAuthenticationData),Ma.setMessageId(Ra.messageId));ta._errored=Ma;ma();}});}},error:function(Aa){ta._errored=Aa;ma();}});},timeout:function(){ta._timedout=!0;ma();},error:function(la){ta._errored=la;ma();}});return this;},ta);},nextData:function(aa,X){var Y;Y=this;db(X,function(){var Z;function ea(ka){db(ka,function(){var za;if(this._jsonIndex < this._json.length)return za=this._json[this._jsonIndex++];pe(this._source,this._timeout,{result:function(ta){ta && ta.length && 0 < ta.length?(ta.forEach(function(ma){this._json.push(ma);}),ea(ka)):(this._eom=!0,ka.result(null));},timeout:function(){ka.timeout();},error:function(ta){ka.error(ta);}});},Y);}Z=this.getMessageHeader();if(!Z)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ka){db(X,function(){if(!ka)return null;if("object" !== typeof ka)throw new Db(W.MESSAGE_FORMAT_ERROR);Ke(ka,this._cryptoContext,{result:function(za){db(X,function(){var ta,ma,sa,Da;ta=Z.masterToken;ma=Z.entityAuthenticationData;sa=Z.userIdToken;Da=Z.getUserAuthenticationData;if(za.messageId != Z.messageId)throw new Hb(W.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + za.messageId + " header mid " + Z.messageId).setEntity(ta).setEntity(ma).setUser(sa).setUser(Da);if(za.sequenceNumber != this._payloadSequenceNumber)throw new Hb(W.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + za.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ta).setEntity(ma).setUser(sa).setUser(Da);++this._payloadSequenceNumber;za.isEndOfMessage() && (this._eom=!0);ta=za.data;this._payloads.push(ta);this._payloadIndex=-1;return ta;},Y);},error:function(za){za instanceof SyntaxError && (za=new Db(W.JSON_PARSE_ERROR,"payloadchunk",za));X.error(za);}});},Y);},timeout:function(){X.timeout();},error:function(ka){X.error(ka);}});},Y);},isReady:function(aa,X){var ea;function Y(){db(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;db(X,function(){this._ready?Y():this._readyQueue.poll(aa,{result:function(Z){db(X,function(){if(Z === Ab)return !1;Y();},ea);},timeout:function(){X.timeout();},error:function(Z){X.error(Z);}});},ea);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorHeader:function(){return this._header instanceof Ac?this._header:null;},getIdentity:function(){var aa,X;aa=this.getMessageHeader();if(aa){X=aa.masterToken;return X?X.identity:aa.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var aa;aa=this.getMessageHeader();return aa?aa.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(aa){this._closeSource=aa;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(aa,X,Y){var Z;function ea(){db(Y,function(){var za,ta,ma,sa;function ka(Da){db(Da,function(){var pa,ca,ja;if(ta && sa >= ta.length)return ta.subarray(0,sa);pa=-1;if(this._currentPayload){ca=this._currentPayload.length - this._payloadOffset;if(!ta){ja=ca;if(-1 != this._payloadIndex)for(var la=this._payloadIndex;la < this._payloads.length;++la){ja+=this._payloads[la].length;}0 < ja && (ta=new Uint8Array(ja));}ca=Math.min(ca,ta?ta.length - sa:0);0 < ca && (pa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + ca),ta.set(pa,ma),pa=ca,ma+=ca,this._payloadOffset+=ca);}-1 != pa?(sa+=pa,ka(Da)):this.nextData(X,{result:function(Aa){db(Da,function(){if(this._aborted)return ta?ta.subarray(0,sa):new Uint8Array(0);this._currentPayload=Aa;this._payloadOffset=0;if(this._currentPayload)ka(Da);else return 0 == sa && 0 != aa?null:ta?ta.subarray(0,sa):new Uint8Array(0);},Z);},timeout:function(){Da.timeout(ta?ta.subarray(0,sa):new Uint8Array(0));},error:function(Aa){db(Da,function(){Aa instanceof fb && (Aa=new Rb("Error reading the payload chunk.",Aa));if(0 < sa)return (Z._readException=Aa,ta.subarray(0,sa));throw Aa;},Z);}});},Z);}if(this._aborted)return new Uint8Array(0);if(this._timedout)Y.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){za=this._readException;this._readException=null;throw za;}ta=-1 != aa?new Uint8Array(aa):Ab;ma=0;sa=0;ka(Y);}},Z);}Z=this;db(Y,function(){if(-1 > aa)throw new RangeError("read requested with illegal length " + aa);this._ready?ea():this._readyQueue.poll(X,{result:function(ka){ka === Ab?Y.result(!1):ea();},timeout:function(){Y.timeout(new Uint8Array(0));},error:function(ka){Y.error(ka);}});},Z);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Pe=function(aa,X,Y,ea,Z,ka,za){new Oe(aa,X,Y,ea,Z,ka,za);};})();(function(){Qe=md.extend({init:function(ha,aa,X,Y,ea,Z,ka){var za;za=this;db(ka,function(){var ma,sa,Da;function ta(){za._ready=!0;za._readyQueue.add(!0);}ma=Md(ha.getMessageCapabilities(),Y.messageCapabilities);sa=null;ma && (sa=ee(ma.compressionAlgorithms));ma={_destination:{value:aa,writable:!1,enumerable:!1,configurable:!1},_charset:{value:X,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ma,writable:!1,enumerable:!1,configurable:!1},_header:{value:Y,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:sa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ma);Da=Yb(JSON.stringify(Y),X);aa.write(Da,0,Da.length,Z,{result:function(pa){try{za._aborted?ta():pa < Da.length?(za._timedout=!0,ta()):aa.flush(Z,{result:function(ca){za._aborted || (za._timedout=!ca);ta();},timeout:function(){za._timedout=!0;ta();},error:function(ca){za._errored=ca;ta();}});}catch(ca){za._errored=ca;ta();}},timeout:function(){za._timedout=!0;ta();},error:function(pa){za._errored=pa;ta();}});return this;},za);},setCompressionAlgorithm:function(ha,aa,X){var ea;function Y(){ea.flush(aa,{result:function(Z){db(X,function(){if(!Z)throw new Rb("flush() aborted");this._compressionAlgo=ha;return !0;},ea);},timeout:function(){X.timeout();},error:function(Z){X.error(Z);}});}ea=this;db(X,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var Z=this._capabilities.compressionAlgorithms,ka=0;ka < Z.length;++ka){if(Z[ka] == ha){Y();return;}}return !1;}Y();},ea);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorMessage:function(){return this._header instanceof Ac?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,aa){var X;X=this;db(aa,function(){if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(Y){db(aa,function(){Y && (this._currentPayload=null);return Y;},X);},timeout:function(){aa.timeout();},error:function(Y){aa.error(Y);}});}},X);},flush:function(ha,aa){var Y;function X(){db(aa,function(){var ea,Z,ma;if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;Z=0;this._currentPayload && this._currentPayload.forEach(function(sa){Z+=sa.length;});for(var ka=new Uint8Array(Z),za=0,ta=0;this._currentPayload && ta < this._currentPayload.length;++ta){ma=this._currentPayload[ta];ka.set(ma,za);za+=ma.length;}Je(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ka,this._cryptoContext,{result:function(sa){db(aa,function(){var Da;this._payloads.push(sa);Da=Yb(JSON.stringify(sa),this._charset);this._destination.write(Da,0,Da.length,ha,{result:function(pa){db(aa,function(){if(this._aborted)return !1;pa < sa.length?aa.timeout():this._destination.flush(ha,{result:function(ca){db(aa,function(){if(this._aborted)return !1;if(ca)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);aa.timeout();},Y);},timeout:function(){aa.timeout();},error:function(ca){ca instanceof fb && (ca=new Rb("Error encoding payload chunk [sequence number " + Y._payloadSequenceNumber + "].",ca));aa.error(ca);}});},Y);},timeout:function(pa){aa.timeout();},error:function(pa){pa instanceof fb && (pa=new Rb("Error encoding payload chunk [sequence number " + Y._payloadSequenceNumber + "].",pa));aa.error(pa);}});},Y);},error:function(sa){sa instanceof fb && (sa=new Rb("Error encoding payload chunk [sequence number " + Y._payloadSequenceNumber + "].",sa));aa.error(sa);}});}},Y);}Y=this;db(aa,function(){this._ready?X():this._readyQueue.poll(ha,{result:function(ea){ea === Ab?aa.result(!1):X();},timeout:function(){aa.timeout();},error:function(ea){aa.error(ea);}});},Y);},write:function(ha,aa,X,Y,ea){db(ea,function(){var Z;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Rb("Message output stream already closed.");if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > X)throw new RangeError("Length cannot be negative.");if(aa + X > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");Z=ha.subarray(aa,aa + X);this._currentPayload.push(Z);return Z.length;}},this);}});rd=function(ha,aa,X,Y,ea,Z,ka){new Qe(ha,aa,X,Y,ea,Z,ka);};})();uf=Cb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Ha.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ha.SSOTOKEN_REJECTED});Re=Cb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,aa,X,Y){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,aa,X){},write:function(ha,aa,X){},getDebugContext:function(){}});Cb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var za,ta,ma,sa,Da,pa,ca,ja,la,Aa,Ra,Ma;function ha(Qa){return function(){Qa.abort();};}function aa(Qa,Ta){Object.defineProperties(this,{masterToken:{value:Qa,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function X(Qa,Ta){Object.defineProperties(this,{builder:{value:Qa,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function Y(Qa,Ta,qa){Object.defineProperties(this,{requestHeader:{value:Qa,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:qa,writable:!1,configurable:!1}});}function ea(Qa,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Qa,writable:!1,configurable:!1}});}function Z(Qa){for(;Qa;){if(Qa instanceof Vb)return !0;Qa=Qa instanceof fb?Qa.cause:Ab;}return !1;}function ka(Qa,Ta,qa,Ca,Ga,Ja,Ea,Ua,Ia){Me(Ta,Ca,Ga,Ja,{result:function($a){qa && qa.sentHeader($a);rd(Ta,Ea,Lb,$a,null,null,Ua,{result:function(bb){Qa.setAbort(function(){bb.abort();});bb.close(Ua,{result:function(Ya){db(Ia,function(){if(!Ya)throw new Vb("sendError aborted.");return Ya;});},timeout:function(){Ia.timeout();},error:function(Ya){Ia.error(Ya);}});},timeout:function(){},error:function(bb){Ia.error(bb);}});},error:function($a){Ia.error($a);}});}za=md.extend({close:function(Qa,Ta){Ta.result(!0);},write:function(Qa,Ta,qa,Ca,Ga){Na(Ga,function(){return Math.min(Qa.length - Ta,qa);});},flush:function(Qa,Ta){Ta.result(!0);}});ta=tf.extend({getUserMessage:function(Qa,Ta){return null;}});ma=Re.extend({init:function(Qa){Object.defineProperties(this,{_appCtx:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Qa,Ta,qa,Ca){this._appCtx.getUserAuthData(Qa,Ta,qa,Ca);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Qa){this._appCtx.getKeyRequestData(Qa);},updateServiceTokens:function(Qa,Ta,qa){this._appCtx.updateServiceTokens(Qa,Ta,qa);},write:function(Qa,Ta,qa){this._appCtx.write(Qa,Ta,qa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});sa=ma.extend({init:function Ca(Ta,qa){Ca.base.call(this,qa);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,qa,Ca){var Ja;function Ga(Ea,Ua){var Ia;if(Ea == Ja._payloads.length)Ca.result(!0);else {Ia=Ja._payloads[Ea];Ta.setCompressionAlgorithm(Ia.compressionAlgo,qa,{result:function($a){Ta.write(Ia.data,0,Ia.data.length,qa,{result:function(bb){db(Ca,function(){Ia.isEndOfMessage()?Ga(Ea + 1,Ua):Ta.flush(qa,{result:function(Ya){Ca.result(Ya);},timeout:function(){Ca.timeout();},error:function(Ya){Ca.error(Ya);}});},Ja);},timeout:function(bb){Ca.timeout(bb);},error:function(bb){Ca.error(bb);}});},timeout:function(){},error:function($a){Ca.error($a);}});}}Ja=this;Ga(0);}});Da=ma.extend({init:function Ca(qa){Ca.base.call(this,qa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(qa,Ca,Ga){Ga.result(!0);}});pa={};ca=Cb.Class.create({init:function(qa){qa || (qa=new ta());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(qa){this._filterFactory=qa;},getNewestMasterToken:function(qa,Ca,Ga,Ja){var Ea;Ea=this;db(Ja,function(){var Ua,Ia,$a,bb,Ya;Ua=Ca.getMslStore();Ia=Ua.getMasterToken();if(!Ia)return null;$a=Ia.uniqueKey();bb=this._masterTokenLocks[$a];bb || (bb=new xd(),this._masterTokenLocks[$a]=bb);Ya=bb.readLock(Ga,{result:function(jb){db(Ja,function(){var mb;if(jb === Ab)throw new Vb("getNewestMasterToken aborted.");mb=Ua.getMasterToken();if(Ia.equals(mb))return new aa(Ia,jb);bb.unlock(jb);bb.writeLock(Ga,{result:function(ob){db(Ja,function(){if(ob === Ab)throw new Vb("getNewestMasterToken aborted.");delete this._masterTokenLocks[$a];bb.unlock(ob);return this.getNewestMasterToken(qa,Ca,Ga,Ja);},Ea);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},Ea);},timeout:function(){Ja.timeout();},error:function(jb){Ja.error(jb);}});qa.setAbort(function(){Ya && (bb.cancel(Ya),Ya=Ab);});},Ea);},deleteMasterToken:function(qa,Ca){var Ga;if(Ca){Ga=this;setTimeout(function(){var Ja,Ea;Ja=Ca.uniqueKey();Ea=Ga._masterTokenLocks[Ja];Ea || (Ea=new xd(),Ga._masterTokenLocks[Ja]=Ea);Ea.writeLock(-1,{result:function(Ua){qa.getMslStore().removeCryptoContext(Ca);delete Ga._masterTokenLocks[Ja];Ea.unlock(Ua);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Ua){throw Ua;}});},0);}},releaseMasterToken:function(qa){var Ca;if(qa && qa.masterToken){Ca=qa.masterToken.uniqueKey();Ca=this._masterTokenLocks[Ca];if(!Ca)throw new vb("Master token read/write lock does not exist when it should.");Ca.unlock(qa.ticket);}},updateOutgoingCryptoContexts:function(qa,Ca,Ga){var Ja;Ja=qa.getMslStore();!qa.isPeerToPeer() && Ga && (Ja.setCryptoContext(Ga.keyResponseData.masterToken,Ga.cryptoContext),this.deleteMasterToken(qa,Ca.masterToken));},updateIncomingCryptoContexts:function(qa,Ca,Ga){var Ja,Ea;Ja=Ga.getMessageHeader();if(Ja){Ea=qa.getMslStore();if(Ja=Ja.keyResponseData)(Ea.setCryptoContext(Ja.masterToken,Ga.getKeyExchangeCryptoContext()),this.deleteMasterToken(qa,Ca.masterToken));}},storeServiceTokens:function(qa,Ca,Ga,Ja){var Ia,$a;qa=qa.getMslStore();for(var Ea=[],Ua=0;Ua < Ja.length;++Ua){Ia=Ja[Ua];if(!Ia.isBoundTo(Ca) || !Ca.isVerified()){$a=Ia.data;$a && 0 == $a.length?qa.removeServiceTokens(Ia.name,Ia.isMasterTokenBound()?Ca:null,Ia.isUserIdTokenBound()?Ga:null):Ea.push(Ia);}}0 < Ea.length && qa.addServiceTokens(Ea);},buildRequest:function(qa,Ca,Ga,Ja,Ea){var Ua;Ua=this;this.getNewestMasterToken(qa,Ca,Ja,{result:function(Ia){Na(Ea,function(){var $a,bb,Ya;$a=Ia && Ia.masterToken;if($a){bb=Ga.getUserId();Ya=Ca.getMslStore();bb=(bb=bb?Ya.getUserIdToken(bb):null) && bb.isBoundTo($a)?bb:null;}else bb=null;Gc(Ca,$a,bb,null,{result:function(jb){Na(Ea,function(){jb.setNonReplayable(Ga.isNonReplayable());return {builder:jb,tokenTicket:Ia};});},error:function(jb){Na(Ea,function(){this.releaseMasterToken(Ia);jb instanceof fb && (jb=new vb("User ID token not bound to master token despite internal check.",jb));throw jb;},Ua);}});},Ua);},timeout:function(){Ea.timeout();},error:function(Ia){Ea.error(Ia);}});},buildResponse:function(qa,Ca,Ga,Ja,Ea,Ua){var Ia;Ia=this;Le(Ca,Ja,{result:function($a){db(Ua,function(){$a.setNonReplayable(Ga.isNonReplayable());if(!Ca.isPeerToPeer() && !Ja.keyResponseData)return {builder:$a,tokenTicket:null};this.getNewestMasterToken(qa,Ca,Ea,{result:function(bb){db(Ua,function(){var Ya,jb,mb;Ya=bb && bb.masterToken;if(Ya){jb=Ga.getUserId();mb=Ca.getMslStore();jb=(jb=jb?mb.getUserIdToken(jb):null) && jb.isBoundTo(Ya)?jb:null;}else jb=null;$a.setAuthTokens(Ya,jb);return {builder:$a,tokenTicket:bb};},Ia);},timeout:function(){Ua.timeout();},error:function(bb){Ua.error(bb);}});},Ia);},error:function($a){Ua.error($a);}});},buildErrorResponse:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){var Ya;function $a(jb,mb){db(Ia,function(){var ob,pb;ob=Fc(Ea.messageId);pb=new sa(mb,Ga);Gc(Ca,null,null,ob,{result:function(qb){db(Ia,function(){Ca.isPeerToPeer() && qb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new X(qb,pb),tokenTicket:null};},Ya);},error:function(qb){Ia.error(qb);}});},Ya);}function bb(jb,mb){Ya.getNewestMasterToken(qa,Ca,Ua,{result:function(ob){db(Ia,function(){var pb,qb,zb;pb=ob && ob.masterToken;qb=Fc(Ea.messageId);zb=new sa(mb,Ga);Gc(Ca,pb,null,qb,{result:function(yb){db(Ia,function(){Ca.isPeerToPeer() && yb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);yb.setNonReplayable(zb.isNonReplayable());return {errorResult:new X(yb,zb),tokenTicket:ob};},Ya);},error:function(yb){Ia.error(yb);}});},Ya);},timeout:function(){Ia.timeout();},error:function(ob){Ia.error(ob);}});}Ya=this;db(Ia,function(){var jb,mb,ob,pb;jb=Ja.requestHeader;mb=Ja.payloads;ob=Ea.errorCode;switch(ob){case Ha.ENTITYDATA_REAUTH:case Ha.ENTITY_REAUTH:Ca.getEntityAuthenticationData(ob,{result:function(qb){db(Ia,function(){if(!qb)return null;$a(jb,mb);},Ya);},error:function(qb){Ia.error(qb);}});break;case Ha.USERDATA_REAUTH:case Ha.SSOTOKEN_REJECTED:Ga.getUserAuthData(ob,!1,!0,{result:function(qb){db(Ia,function(){if(!qb)return null;bb(jb,mb);},Ya);},error:function(qb){Ia.error(qb);}});break;case Ha.USER_REAUTH:bb(jb,mb);break;case Ha.KEYX_REQUIRED:ob=Fc(Ea.messageId);pb=new sa(mb,Ga);Gc(Ca,null,null,ob,{result:function(qb){db(Ia,function(){Ca.isPeerToPeer() && qb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);qb.setRenewable(!0);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new X(qb,pb),tokenTicket:null};},Ya);},error:function(qb){Ia.error(qb);}});break;case Ha.EXPIRED:this.getNewestMasterToken(qa,Ca,Ua,{result:function(qb){db(Ia,function(){var zb,yb,r,b;zb=qb && qb.masterToken;yb=jb.userIdToken;r=Fc(Ea.messageId);b=new sa(mb,Ga);Gc(Ca,zb,yb,r,{result:function(a){db(Ia,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new X(a,b),tokenTicket:qb};},Ya);},error:function(a){Ia.error(a);}},Ya);},Ya);},timeout:function(){Ia.timeout();},error:function(qb){Ia.error(qb);}});break;case Ha.REPLAYED:this.getNewestMasterToken(qa,Ca,Ua,{result:function(qb){db(Ia,function(){var zb,yb,r,b;zb=qb && qb.masterToken;yb=jb.userIdToken;r=Fc(Ea.messageId);b=new sa(mb,Ga);Gc(Ca,zb,yb,r,{result:function(a){db(Ia,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new X(a,b),tokenTicket:qb};},Ya);},error:function(a){Ia.error(a);}});},Ya);},timeout:function(){Ia.timeout();},error:function(qb){Ia.error(qb);}});break;default:return null;}},Ya);},cleanupContext:function(qa,Ca,Ga){switch(Ga.errorCode){case Ha.ENTITY_REAUTH:this.deleteMasterToken(qa,Ca.masterToken);break;case Ha.USER_REAUTH:(Ga=Ca.userIdToken,Ca.masterToken && Ga && qa.getMslStore().removeUserIdToken(Ga));}},send:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){var ob;function $a(pb,qb,zb){db(Ia,function(){var yb;yb=Ea.getPeerUserIdToken();!Ca.isPeerToPeer() && !qb || Ca.isPeerToPeer() && !yb?(yb=Ga.getCustomer())?Ea.setCustomer(yb,{result:function(r){db(Ia,function(){qb=Ea.getUserIdToken();bb(pb,qb,zb);},ob);},error:function(r){Ia.error(r);}}):bb(pb,qb,zb):bb(pb,qb,zb);},ob);}function bb(pb,qb,zb){db(Ia,function(){var yb,r;yb=!zb && (!Ga.isEncrypted() || Ea.willEncryptPayloads()) && (!Ga.isIntegrityProtected() || Ea.willIntegrityProtectPayloads()) && (!Ga.isNonReplayable() || Ea.isNonReplayable() && pb);yb || Ea.setNonReplayable(!1);r=[];Ea.isRenewable() && (!pb || pb.isRenewable() || Ga.isNonReplayable())?Ga.getKeyRequestData({result:function(b){db(Ia,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Ea.addKeyRequestData(c);}Ya(pb,qb,yb,r);},ob);},error:function(b){Ia.error(b);}}):Ya(pb,qb,yb,r);},ob);}function Ya(pb,qb,zb,yb){db(Ia,function(){var r;r=new Ne(Ca,Ga,Ea);Ga.updateServiceTokens(r,!zb,{result:function(b){Ea.getHeader({result:function(a){db(Ia,function(){var c,k;c=Ga.getDebugContext();c && c.sentHeader(a);c=Ea.getKeyExchangeData();this.updateOutgoingCryptoContexts(Ca,a,c);this.storeServiceTokens(Ca,pb,qb,a.serviceTokens);c=!Ca.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(qa.isAborted())throw new Vb("send aborted.");k=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;rd(Ca,k,Lb,a,c,Ua,{result:function(h){qa.setAbort(function(){h.abort();});jb(h,a,zb);},timeout:function(){Ia.timeout();},error:function(h){Ia.error(h);}});},ob);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},error:function(b){Ia.error(b);}});},ob);}function jb(pb,qb,zb){var yb,r;if(zb)Ga.write(pb,Ua,{result:function(b){db(Ia,function(){if(qa.isAborted())throw new Vb("MessageOutputStream write aborted.");mb(pb,qb,zb);},ob);},timeout:function(){Ia.timeout();},error:function(b){Ia.error(b);}});else {yb=new za();r=new Mc();rd(Ca,yb,Lb,qb,r,Ua,{result:function(b){Ga.write(b,Ua,{result:function(a){db(Ia,function(){if(qa.isAborted())throw new Vb("MessageOutputStream proxy write aborted.");b.close(Ua,{result:function(c){db(Ia,function(){var k;if(!c)throw new Vb("MessageOutputStream proxy close aborted.");k=b.getPayloads();mb(pb,qb,zb,k);},ob);},timeout:function(){Ia.timeout();},error:function(c){Ia.error(c);}});},ob);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},timeout:function(){Ia.timeout();},error:function(b){Ia.error(b);}});}}function mb(pb,qb,zb,yb){pb.close(Ua,{result:function(r){db(Ia,function(){if(!r)throw new Vb("MessageOutputStream close aborted.");yb || (yb=pb.getPayloads());return new Y(qb,yb,!zb);},ob);},timeout:function(){Ia.timeout();},error:function(r){Ia.error(r);}});}ob=this;db(Ia,function(){var pb,qb,zb,yb;pb=Ea.getMasterToken();qb=Ea.getUserIdToken();zb=!1;if(Ga.getUserId()){yb=!qb;Ga.getUserAuthData(null,Ea.isRenewable(),yb,{result:function(r){db(Ia,function(){r && (Ea.willEncryptHeader() && Ea.willIntegrityProtectHeader()?Ea.setUserAuthenticationData(r):zb=!0);$a(pb,qb,zb);},ob);},error:function(r){Ia.error(r);}});}else $a(pb,qb,zb);},ob);},receive:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){var $a;$a=this;db(Ia,function(){var bb,Ya,jb;if(qa.isAborted())throw new Vb("receive aborted.");bb=[];Ea && (bb=Ea.keyRequestData.filter(function(){return !0;}));Ya=Ga.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Pe(Ca,jb,Lb,bb,Ya,Ua,{result:function(mb){qa.setAbort(function(){mb.abort();});mb.isReady(Ua,{result:function(ob){db(Ia,function(){var pb,qb,zb,yb;if(!ob)throw new Vb("MessageInputStream aborted.");pb=mb.getMessageHeader();qb=mb.getErrorHeader();zb=Ga.getDebugContext();zb && zb.receivedHeader(pb?pb:qb);if(Ea && (zb=qb?qb.errorCode:null,pb || zb != Ha.FAIL && zb != Ha.TRANSIENT_FAILURE && zb != Ha.ENTITY_REAUTH && zb != Ha.ENTITYDATA_REAUTH)){zb=pb?pb.messageId:qb.messageId;yb=Fc(Ea.messageId);if(zb != yb)throw new Hb(W.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + yb + "; received " + zb);}Ca.getEntityAuthenticationData(null,{result:function(r){db(Ia,function(){var b,a,c,k;b=r.getIdentity();if(pb){a=pb.entityAuthenticationData;c=pb.masterToken;a=c?pb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Hb(W.UNEXPECTED_MESSAGE_SENDER,a);Ea && this.updateIncomingCryptoContexts(Ca,Ea,mb);b=pb.keyResponseData;Ca.isPeerToPeer()?(b=b?b.masterToken:pb.peerMasterToken,c=pb.peerUserIdToken,a=pb.peerServiceTokens):(b=b?b.masterToken:pb.masterToken,c=pb.userIdToken,a=pb.serviceTokens);k=Ga.getUserId();k && c && !c.isVerified() && Ca.getMslStore().addUserIdToken(k,c);this.storeServiceTokens(Ca,b,c,a);}else if((a=qb.entityAuthenticationData.getIdentity(),b == a))throw new Hb(W.UNEXPECTED_MESSAGE_SENDER,a);return mb;},$a);},error:Ia.error});},$a);},timeout:function(){Ia.timeout();},error:function(ob){Ia.error(ob);}});},timeout:function(){Ia.timeout();},error:function(mb){Ia.error(mb);}});},$a);},sendReceive:function(qa,Ca,Ga,Ja,Ea,Ua,Ia,$a,bb){var jb;function Ya(mb,ob){db(bb,function(){Ua.setRenewable(ob);this.send(qa,Ca,Ga,Ea,Ua,Ia,{result:function(pb){db(bb,function(){var qb;qb=pb.requestHeader.keyRequestData;$a || pb.handshake || !qb.isEmpty()?this.receive(qa,Ca,Ga,Ja,pb.requestHeader,Ia,{result:function(zb){db(bb,function(){ob && this.releaseRenewalLock(Ca,mb,zb);return new ea(zb,pb);},jb);},timeout:function(){db(bb,function(){ob && this.releaseRenewalLock(Ca,mb,null);bb.timeout();},jb);},error:function(zb){db(bb,function(){ob && this.releaseRenewalLock(Ca,mb,null);throw zb;},jb);}}):db(bb,function(){ob && this.releaseRenewalLock(Ca,mb,null);return new ea(null,pb);},jb);},jb);},timeout:function(){db(bb,function(){ob && this.releaseRenewalLock(Ca,mb,null);bb.timeout();},jb);},error:function(pb){db(bb,function(){ob && this.releaseRenewalLock(Ca,mb,null);throw pb;},jb);}});},jb);}jb=this;db(bb,function(){var mb;mb=new Qc();this.acquireRenewalLock(qa,Ca,Ga,mb,Ua,Ia,{result:function(ob){Ya(mb,ob);},timeout:function(){bb.timeout();},error:function(ob){ob instanceof Vb?bb.result(null):bb.error(ob);}});},jb);},acquireRenewalLock:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){var Ya;function $a(jb,mb,ob){db(Ia,function(){var zb,yb;if(qa.isAborted())throw new Vb("acquireRenewalLock aborted.");for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){zb=this._renewingContexts[qb];if(zb.ctx === Ca){pb=zb.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:Ca,queue:Ja}),!0);yb=pb.poll(Ua,{result:function(r){db(Ia,function(){var b;if(r === Ab)throw new Vb("acquireRenewalLock aborted.");pb.add(r);if(r === pa || r.isExpired())$a(r,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(r)){b=Ca.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(r)?b:null;}Ea.setAuthTokens(r,mb);Ea.isRenewable() && r.equals(jb)?$a(r,mb,ob):Ga.isRequestingTokens() && !mb?$a(r,mb,ob):bb(r,mb);}},Ya);},timeout:function(){},error:function(r){}});qa.setAbort(function(){yb && (pb.cancel(yb),yb=Ab);});},Ya);}function bb(jb,mb){db(Ia,function(){var qb;if(qa.isAborted())throw new Vb("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !mb && Ga.getUserId() || mb && mb.isRenewable()){for(var ob=null,pb=0;pb < this._renewingContexts.length;++pb){qb=this._renewingContexts[pb];if(qb.ctx === Ca){ob=qb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:Ca,queue:Ja}),!0);}return !1;},Ya);}Ya=this;db(Ia,function(){var jb,mb,ob;jb=Ea.getMasterToken();mb=Ea.getUserIdToken();ob=Ga.getUserId();Ga.isEncrypted() && !Ea.willEncryptPayloads() || Ga.isIntegrityProtected() && !Ea.willIntegrityProtectPayloads() || Ea.isRenewable() || !jb && Ga.isNonReplayable() || jb && jb.isExpired() || !(mb || !ob || Ea.willEncryptHeader() && Ea.willIntegrityProtectHeader()) || Ga.isRequestingTokens() && (!jb || ob && !mb)?$a(jb,mb,ob):bb(jb,mb);},Ya);},releaseRenewalLock:function(qa,Ca,Ga){var Ia;for(var Ja,Ea,Ua=0;Ua < this._renewingContexts.length;++Ua){Ia=this._renewingContexts[Ua];if(Ia.ctx === qa){Ja=Ua;Ea=Ia.queue;break;}}if(Ea !== Ca)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Ga?(Ga=Ga.messageHeader)?(Ea=Ga.keyResponseData)?Ca.add(Ea.masterToken):(qa=qa.isPeerToPeer()?Ga.peerMasterToken:Ga.masterToken)?Ca.add(qa):Ca.add(pa):Ca.add(pa):Ca.add(pa);this._renewingContexts.splice(Ja,1);}});Se=Cb.Class.create({init:function(){var qa;qa={_impl:{value:new ca(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,qa);},setFilterFactory:function(qa){this._impl.setFilterFactory(qa);},shutdown:function(){this._shutdown=!0;},receive:function(qa,Ca,Ga,Ja,Ea,Ua){var Ia;if(this._shutdown)throw new fb("MslControl is shutdown.");Ia=new ja(this._impl,qa,Ca,Ga,Ja,Ea);setTimeout(function(){Ia.call(Ua);},0);return ha(Ia);},respond:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){var $a;if(this._shutdown)throw new fb("MslControl is shutdown.");$a=new la(this._impl,qa,Ca,Ga,Ja,Ea,Ua);setTimeout(function(){$a.call(Ia);},0);return ha($a);},error:function Ga(qa,Ca,Ga,Ja,Ea,Ua,Ia){var $a;if(this._shutdown)throw new fb("MslControl is shutdown.");$a=new Aa(this._impl,qa,Ca,Ga,Ja,Ea,Ua);setTimeout(function(){$a.call(Ia);},0);return ha($a);},request:function(qa,Ca){var Ga,Ja,Ea,Ua,Ia,$a;if(this._shutdown)throw new fb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Ea=Ga=null;Ua=arguments[3];Ia=arguments[4];if(qa.isPeerToPeer()){Ia.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Ga=arguments[2],Ea=arguments[3],Ua=arguments[4],Ia=arguments[5],!qa.isPeerToPeer())){Ia.error(new vb("This method cannot be used in trusted network mode."));return;}$a=new Ma(this._impl,qa,Ca,Ja,Ga,Ea,null,0,Ua);setTimeout(function(){$a.call(Ia);},0);return ha($a);}});ja=Cb.Class.create({init:function(qa,Ca,Ga,Ja,Ea,Ua){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},call:function(qa){var Ea;function Ca(Ua){db(qa,function(){var Ia;Ia=Ua.messageHeader;if(!Ia)return Ua;this.setAbort(function(){Ua.abort();});Ua.mark(Number.MAX_VALUE);Ua.read(1,Ea._timeout,{result:function($a){db(qa,function(){if($a && 0 == $a.length)return null;if($a)return (Ua.reset(),Ua);Ga(Ua);},Ea);},timeout:function(){qa.timeout();},error:function($a){db(qa,function(){var bb,Ya,jb;if(Z($a))return null;bb=Ia?Ia.messageId:null;if($a instanceof Rb){Ya=W.MSL_COMMS_FAILURE;jb=$a;}else (Ya=W.INTERNAL_EXCEPTION,jb=new vb("Error peeking into the message payloads."));ka(this,this._ctx,this._msgCtx.getDebugContext(),bb,Ya,null,this._output,this._timeout,{result:function(mb){qa.error(jb);},timeout:function(){qa.timeout();},error:function(mb){db(qa,function(){if(Z(mb))return null;throw new dc("Error peeking into the message payloads.",mb,$a);},Ea);}});},Ea);}});},Ea);}function Ga(Ua){db(qa,function(){Ua.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ua.messageHeader,this._timeout,{result:function(Ia){db(qa,function(){var $a,bb,Ya,jb,mb;$a=Ia.builder;bb=Ia.tokenTicket;Ya=Ua.messageHeader;jb=new Da(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ja(Ya,$a,jb,bb);else {mb=new Ma(this._ctrl,this._ctx,jb,null,this._input,this._output,Ia,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(qa);}},Ea);},timeout:function(){qa.timeout();},error:function(Ia){db(qa,function(){var $a,bb,Ya,jb;if(Z(Ia))return null;if(Ia instanceof fb){$a=Ia.messageId;bb=Ia.error;Ya=Ua.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(bb,Ya?Ya.languages:null);jb=Ia;}else ($a=requestHeader?requestHeader.messageId:null,bb=W.INTERNAL_EXCEPTION,Ya=null,jb=new vb("Error creating an automatic handshake response.",Ia));ka(this,this._ctx,this._msgCtx.getDebugContext(),$a,bb,Ya,this._output,this._timeout,{result:function(mb){qa.error(jb);},timeout:function(){qa.timeout();},error:function(mb){db(qa,function(){if(Z(mb))return null;throw new dc("Error creating an automatic handshake response.",mb,Ia);},Ea);}});},Ea);}});},Ea);}function Ja(Ua,Ia,$a,bb){db(qa,function(){Ia.setRenewable(!1);this._ctrl.send(this._ctx,$a,this._output,Ia,this._timeout,{result:function(Ya){db(qa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb);return null;},Ea);},timeout:function(){db(qa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb);qa.timeout();},Ea);},error:function(Ya){db(qa,function(){var jb,mb,ob,pb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb);if(Z(Ya))return null;if(Ya instanceof fb){jb=Ya.messageId;mb=Ya.error;ob=Ua?Ua.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);pb=Ya;}else Ya instanceof Rb?(jb=Ua?Ua.messageId:null,mb=W.MSL_COMMS_FAILURE,ob=null,pb=Ya):(jb=Ua?Ua.messageId:null,mb=W.INTERNAL_EXCEPTION,ob=null,pb=new vb("Error sending an automatic handshake response.",Ya));ka(this,this._ctx,this._msgCtx.getDebugContext(),jb,mb,ob,this._output,this._timeout,{result:function(qb){qa.error(pb);},timeout:function(){qa.timeout();},error:function(qb){db(qa,function(){if(Z(qb))return null;throw new dc("Error sending an automatic handshake response.",qb,Ya);},Ea);}});},Ea);}});},Ea);}Ea=this;db(qa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ua){Ca(Ua);},timeout:function(){qa.timeout();},error:function(Ua){db(qa,function(){var Ia,$a,bb,Ya;if(Z(Ua))return null;if(Ua instanceof fb){Ia=Ua.messageId;$a=Ua.error;bb=this._ctrl.messageRegistry.getUserMessage($a,null);Ya=Ua;}else (Ia=null,$a=W.INTERNAL_EXCEPTION,bb=null,Ya=new vb("Error receiving the message header.",Ua));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ia,$a,bb,this._output,this._timeout,{result:function(jb){qa.error(Ya);},timeout:function(){qa.timeout();},error:function(jb){db(qa,function(){if(Z(jb))return null;throw new dc("Error receiving the message header.",jb,Ua);},Ea);}});},Ea);}});},Ea);}});la=Cb.Class.create({init:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},trustedNetworkExecute:function(qa,Ca,Ga){var Ja;Ja=this;db(Ga,function(){var Ea,Ua;if(12 < Ca + 1)return !1;if(Ea=this._msgCtx.isIntegrityProtected() && !qa.willIntegrityProtectHeader()?W.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !qa.willEncryptPayloads()?W.RESPONSE_REQUIRES_ENCRYPTION:null){Ua=Nc(qa.getMessageId());ka(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Ea,null,this._output,this._timeout,{result:function(Ia){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Ia){db(Ga,function(){if(Z(Ia))return !1;throw new dc("Response requires encryption or integrity protection but cannot be protected: " + Ea,Ia,null);},Ja);}});}else !this._msgCtx.getCustomer() || qa.getMasterToken() || qa.getKeyExchangeData()?(qa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,qa,this._timeout,{result:function(Ia){Ga.result(!0);},timeout:function(){Ga.timeout();},error:function(Ia){Ga.error(Ia);}})):(Ua=Nc(qa.getMessageId()),ka(this,this._ctx,this._msgCtx.getDebugContext(),Ua,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ia){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Ia){db(Ga,function(){if(Z(Ia))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",Ia,null);},Ja);}}));},Ja);},peerToPeerExecute:function(qa,Ca,Ga,Ja){var Ua;function Ea(Ia){db(Ja,function(){var $a;$a=Ia.response;$a.close();$a=$a.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ia.requestHeader,$a);this._ctrl.buildErrorResponse(this,this._ctx,qa,Ia,$a,{result:function(bb){db(Ja,function(){var Ya,jb;if(!bb)return !1;Ya=bb.errorResult;jb=bb.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Ga,{result:function(mb){db(Ja,function(){this._ctrl.releaseMasterToken(jb);return mb;},Ua);},timeout:function(){db(Ja,function(){this._ctrl.releaseMasterToken(jb);Ja.timeout();},Ua);},error:function(mb){db(Ja,function(){this._ctrl.releaseMasterToken(jb);throw mb;},Ua);}});},Ua);}});},Ua);}Ua=this;db(Ja,function(){var Ia;if(12 < Ga + 2)return !1;if(null != qa.getCustomer() && null == Ca.getPeerMasterToken() && null == Ca.getKeyExchangeData()){Ia=Nc(Ca.getMessageId());ka(this,this._ctx,qa.getDebugContext(),Ia,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function($a){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function($a){db(Ja,function(){if(Z($a))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",$a,null);},Ua);}});}else this._ctrl.sendReceive(this._ctx,qa,this._input,this._output,Ca,this._timeout,!1,{result:function($a){db(Ja,function(){var jb,mb,ob;function bb(){jb.read(32768,Ua._timeout,{result:function(pb){db(Ja,function(){pb?bb():Ya();},Ua);},timeout:function(){Ja.timeout();},error:function(pb){Ja.error(pb);}});}function Ya(){db(Ja,function(){var pb;pb=new sa($a.payloads,qa);this._ctrl.buildResponse(this,this._ctx,pb,mb,this._timeout,{result:function(qb){db(Ja,function(){var zb;zb=qb.tokenTicket;this.peerToPeerExecute(pb,qb.builder,Ga,{result:function(yb){db(Ja,function(){this._ctrl.releaseMasterToken(zb);return yb;},Ua);},timeout:function(){db(Ja,function(){this._ctrl.releaseMasterToken(zb);Ja.timeout();},Ua);},error:function(yb){db(Ja,function(){this._ctrl.releaseMasterToken(zb);throw yb;},Ua);}});},Ua);},timeout:function(){Ja.timeout();},error:function(qb){Ja.error(qb);}});},Ua);}jb=$a.response;Ga+=2;if(!jb)return !0;mb=jb.getMessageHeader();if(mb){ob=$a.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if($a.handshake && ob)bb();else return !0;}else Ea($a);},Ua);},timeout:function(){Ja.timeout();},error:function($a){Ja.error($a);}});},Ua);},call:function(qa){var Ca;Ca=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ga){db(qa,function(){var Ja,Ea;Ja=Ga.builder;Ea=Ga.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Ua){db(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ea);return Ua;},Ca);},timeout:function(){db(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ea);qa.timeout();},Ca);},error:function(Ua){db(qa,function(){var Ia,$a,bb,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ea);if(Z(Ua))return !1;Ia=Nc(Ja.getMessageId());if(Ua instanceof fb){$a=Ua.error;bb=this._request.messageCapabilities;bb=this._ctrl.messageRegistry.getUserMessage($a,bb?bb.languages:null);Ya=Ua;}else Ua instanceof Rb?($a=W.MSL_COMMS_FAILURE,bb=null,Ya=Ua):($a=W.INTERNAL_EXCEPTION,bb=null,Ya=new vb("Error sending the response.",Ua));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ia,$a,bb,this._output,this._timeout,{result:function(jb){qa.error(Ya);},timeout:function(){qa.timeout();},error:function(jb){db(qa,function(){if(Z(jb))return !1;throw new dc("Error sending the response.",jb,null);},Ca);}});},Ca);}}):this.trustedNetworkExecute(Ja,3,{result:function(Ua){db(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ea);return Ua;},Ca);},timeout:function(){db(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ea);qa.timeout();},Ca);},error:function(Ua){db(qa,function(){var Ia,$a,bb,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ea);if(Z(Ua))return !1;Ia=Nc(Ja.getMessageId());if(Ua instanceof fb){$a=Ua.error;bb=this._request.messageCapabilities;bb=this._ctrl.messageRegistry.getUserMessage($a,bb?bb.languages:null);Ya=Ua;}else Ua instanceof Rb?($a=W.MSL_COMMS_FAILURE,bb=null,Ya=Ua):($a=W.INTERNAL_EXCEPTION,bb=null,Ya=new vb("Error sending the response.",Ua));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ia,$a,bb,this._output,this._timeout,{result:function(jb){qa.error(Ya);},timeout:function(){qa.timeout();},error:function(jb){db(qa,function(){if(Z(jb))return !1;throw new dc("Error sending the response.",jb,null);},Ca);}});},Ca);}});},Ca);},timeout:function(){qa.timeout();},error:function(Ga){db(qa,function(){var Ja,Ea,Ua,Ia;if(Z(Ga))return !1;if(Ga instanceof fb){Ja=Ga.messageId;Ea=Ga.error;Ua=this._request.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Ea,Ua?Ua.languages:null);Ia=Ga;}else (Ja=null,Ea=W.INTERNAL_EXCEPTION,Ua=null,Ia=new vb("Error building the response.",Ga));ka(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Ea,Ua,this._output,this._timeout,{result:function($a){qa.error(Ia);},timeout:function(){qa.timeout();},error:function($a){db(qa,function(){if(Z($a))return null;throw new dc("Error building the response.",$a,Ga);},Ca);}});},Ca);}});}});Aa=Cb.Class.create({init:function(qa,Ca,Ga,Ja,Ea,Ua,Ia){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},call:function(qa){var Ca;Ca=this;db(qa,function(){var Ga,Ja;if(this._appError == ENTITY_REJECTED)Ga=this._request.masterToken?W.MASTERTOKEN_REJECTED_BY_APP:W.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ga=this._request.userIdToken?W.USERIDTOKEN_REJECTED_BY_APP:W.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Ga,Ja?Ja.languages:null);ka(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ga,Ja,this._output,this._timeout,{result:function(Ea){qa.result(Ea);},timeout:qa.timeout,error:function(Ea){db(qa,function(){if(Z(Ea))return !1;if(Ea instanceof fb)throw Ea;throw new vb("Error building the error response.",Ea);},Ca);}});},Ca);}});Ra={result:function(){},timeout:function(){},error:function(){}};Ma=Cb.Class.create({init:function(qa,Ca,Ga,Ja,Ea,Ua,Ia,$a,bb){var Ya;if(Ia){Ya=Ia.builder;Ia=Ia.tokenTicket;}else Ia=Ya=null;Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ea,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ia,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:bb,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:$a,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},execute:function(qa,Ca,Ga,Ja,Ea){var $a;function Ua(bb){function Ya(jb){db(Ea,function(){var mb;mb=bb.response;return jb?jb:mb;},$a);}db(Ea,function(){var jb,mb;jb=bb.response;jb.close();mb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,bb.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,qa,bb,mb,Ga,{result:function(ob){db(Ea,function(){var pb,qb,zb,yb;if(!ob)return jb;pb=ob.errorResult;qb=ob.tokenTicket;zb=pb.builder;pb=pb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(pb,zb,this._timeout,Ja,{result:function(r){db(Ea,function(){this._ctrl.releaseMasterToken(qb);Ya(r);},$a);},timeout:function(){db(Ea,function(){this._ctrl.releaseMasterToken(qb);Ea.timeout();},$a);},error:function(r){db(Ea,function(){this._ctrl.releaseMasterToken(qb);Ea.error(r);},$a);}});else {this._openedStreams && (this._input.close(),this._output.close(Ga,Ra));yb=new Ma(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,{builder:zb,tokenTicket:qb},Ja,this._timeout);this.setAbort(function(){yb.abort();});yb.call({result:function(r){Ya(r);},timeout:function(){Ea.timeout();},error:function(r){Ea.error(r);}});}},$a);},timeout:function(){Ea.timeout();},error:function(ob){Ea.error(ob);}});},$a);}function Ia(bb){db(Ea,function(){var mb,ob,pb,qb,zb;function Ya(){mb.read(32768,$a._timeout,{result:function(yb){yb?Ya():jb();},timeout:function(){Ea.timeout();},error:function(yb){Ea.error(yb);}});}function jb(){db(Ea,function(){var yb;yb=new sa(bb.payloads,qa);this._ctrl.buildResponse(this,this._ctx,qa,ob,Ga,{result:function(r){db(Ea,function(){var b;b=r.tokenTicket;this.execute(yb,r.builder,this._timeout,Ja,{result:function(a){db(Ea,function(){this._ctrl.releaseMasterToken(b);return a;},$a);},timeout:function(){db(Ea,function(){this._ctrl.releaseMasterToken(b);Ea.timeout();},$a);},error:function(a){db(Ea,function(){this._ctrl.releaseMasterToken(b);throw a;},$a);}});},$a);},timeout:function(){Ea.timeout();},error:function(r){Ea.error(r);}});},$a);}mb=bb.response;ob=mb.getMessageHeader();pb=bb.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!bb.handshake || !pb)return mb;this._openedStreams && (this._input.close(),this._output.close(Ga,Ra));qb=new sa(bb.payloads,qa);this._ctrl.buildResponse(this,this._ctx,qa,ob,Ga,{result:function(yb){db(Ea,function(){var r;r=new Ma(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,yb,Ja,this._timeout);this.setAbort(function(){r.abort();});r.call(Ea);},$a);},timeout:function(){Ea.timeout();},error:function(yb){Ea.error(yb);}});}else if(bb.handshake && pb)Ya();else if(0 < ob.keyRequestData.length){zb=new Da(qa);this._ctrl.buildResponse(this,this._ctx,zb,ob,Ga,{result:function(yb){db(Ea,function(){var r,b;r=yb.builder;b=yb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){db(Ea,function(){function c(){mb.read(32768,$a._timeout,{result:function(h){h?c():k();},timeout:function(){Ea.timeout();},error:function(h){Ea.error(h);}});}function k(){$a.execute(zb,r,$a._timeout,Ja,{result:function(h){db(Ea,function(){this._ctrl.releaseMasterToken(b);return h;},$a);},timeout:function(){db(Ea,function(){this._ctrl.releaseMasterToken(b);Ea.timeout();},$a);},error:function(h){db(Ea,function(){this._ctrl.releaseMasterToken(b);throw h;},$a);}});}if(a){if((mb.reset(),12 >= Ja + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(h){db(Ea,function(){this.releaseMasterToken(b);return mb;},$a);},timeout:function(){Ea.timeout();},error:function(h){Ea.error(h);}}));else return (this.releaseMasterToken(b),mb);}else c();},$a);},timeout:function(){db(Ea,function(){this.releaseMasterToken(b);Ea.timeout();},$a);},error:function(a){db(Ea,function(){this.releaseMasterToken(b);throw a;},$a);}});},$a);},timeout:function(){Ea.timeout();},error:function(yb){Ea.error(yb);}});}},$a);}$a=this;db(Ea,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,qa,this._input,this._output,Ca,Ga,!0,{result:function(bb){db(Ea,function(){var Ya;if(!bb)return null;Ya=bb.response;Ja+=2;Ya.getMessageHeader()?Ia(bb):Ua(bb);},$a);},timeout:function(){Ea.timeout();},error:function(bb){Ea.error(bb);}});},$a);},call:function(qa){var Ga;function Ca(Ja,Ea,Ua){db(qa,function(){this.execute(this._msgCtx,Ja,Ua,this._msgCount,{result:function(Ia){db(qa,function(){this._ctrl.releaseMasterToken(Ea);this._openedStreams && this._output.close(Ua,Ra);Ia && Ia.closeSource(this._openedStreams);return Ia;},Ga);},timeout:function(){db(qa,function(){this._ctrl.releaseMasterToken(Ea);this._openedStreams && (this._output.close(Ua,Ra),this._input.close());qa.timeout();},Ga);},error:function(Ia){db(qa,function(){this._ctrl.releaseMasterToken(Ea);this._openedStreams && (this._output.close(Ua,Ra),this._input.close());if(Z(Ia))return null;throw Ia;},Ga);}});},Ga);}Ga=this;db(qa,function(){var Ja,Ea,Ua;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ea=Date.now();Ua=this._remoteEntity.openConnection();this._output=Ua.output;this._input=Ua.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Ea));this._openedStreams=!0;}catch(Ia){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ra);this._input && this._input.close();if(Z(Ia))return null;throw Ia;}this._builder?Ca(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ia){db(qa,function(){Ca(Ia.builder,Ia.tokenTicket,Ja);},Ga);},timeout:function(){db(qa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());qa.timeout();},Ga);},error:function(Ia){db(qa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());if(Z(Ia))return null;throw Ia;},Ga);}});},Ga);}});})();(function(){Pd=Cb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof Pd?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});Te=function(ha){var aa;aa=ha.id;if(!aa)throw new Db(W.JSON_PARSE_ERROR,JSON.stringify(ha));return new Pd(aa);};})();Cb.Class.create({isNewestMasterToken:function(ha,aa,X){},isMasterTokenRevoked:function(ha,aa){},acceptNonReplayableId:function(ha,aa,X,Y){},createMasterToken:function(ha,aa,X,Y,ea){},isMasterTokenRenewable:function(ha,aa,X){},renewMasterToken:function(ha,aa,X,Y,ea){},isUserIdTokenRevoked:function(ha,aa,X,Y){},createUserIdToken:function(ha,aa,X,Y){},renewUserIdToken:function(ha,aa,X,Y){}});(function(){function ha(aa,X,Y,ea){this.sessiondata=aa;this.tokendata=X;this.signature=Y;this.verified=ea;}cc=Cb.Class.create({init:function(aa,X,Y,ea,Z,ka,za,ta,ma,sa,Da){var pa;pa=this;Na(Da,function(){var ca,ja,la,Aa,Ra;if(Y.getTime() < X.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Jb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > Z || Z > Jb)throw new vb("Serial number " + Z + " is outside the valid range.");ca=Math.floor(X.getTime() / 1E3);ja=Math.floor(Y.getTime() / 1E3);if(sa)la=sa.sessiondata;else {Aa={};ka && (Aa.issuerdata=ka);Aa.identity=za;Aa.encryptionkey=Eb(ta.toByteArray());Aa.hmackey=Eb(ma.toByteArray());la=Yb(JSON.stringify(Aa),Lb);}if(sa)return (Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ja,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:Z,writable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},identity:{value:za,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1},sessiondata:{value:la,writable:!1,enumerable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:sa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ra=aa.getMslCryptoContext();Ra.encrypt(la,{result:function(Ma){Na(Da,function(){var Qa,Ta;Qa={};Qa.renewalwindow=ca;Qa.expiration=ja;Qa.sequencenumber=ea;Qa.serialnumber=Z;Qa.sessiondata=Eb(Ma);Ta=Yb(JSON.stringify(Qa),Lb);Ra.sign(Ta,{result:function(qa){Na(Da,function(){Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ja,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:Z,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},identity:{value:za,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1},sessiondata:{value:la,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa,writable:!1,enumerable:!1,configurable:!1}});return this;},pa);},error:function(qa){Da.error(qa);}});},pa);},error:function(Ma){Da.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(aa){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(aa){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(aa){var X;if(this.sequenceNumber == aa.sequenceNumber)return this.expiration > aa.expiration;if(this.sequenceNumber > aa.sequenceNumber){X=this.sequenceNumber - Jb + 127;return aa.sequenceNumber >= X;}X=aa.sequenceNumber - Jb + 127;return this.sequenceNumber < X;},toJSON:function(){var aa;aa={};aa.tokendata=Eb(this.tokendata);aa.signature=Eb(this.signature);return aa;},equals:function(aa){return this === aa?!0:aa instanceof cc?this.serialNumber == aa.serialNumber && this.sequenceNumber == aa.sequenceNumber && this.expiration.getTime() == aa.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Wc=function(aa,X,Y){Na(Y,function(){var ea,Z,ka,za,ta;ea=aa.getMslCryptoContext();Z=X.tokendata;ka=X.signature;if("string" !== typeof Z || "string" !== typeof ka)throw new Db(W.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(X));try{za=Gb(Z);}catch(ma){throw new fb(W.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(X),ma);}if(!za || 0 == za.length)throw new Db(W.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(X));try{ta=Gb(ka);}catch(ma){throw new fb(W.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(X),ma);}ea.verify(za,ta,{result:function(ma){Na(Y,function(){var sa,Da,pa,ca,ja,la,Aa,Ra,Ma,Qa;sa=Xb(za,Lb);try{Da=JSON.parse(sa);pa=parseInt(Da.renewalwindow);ca=parseInt(Da.expiration);ja=parseInt(Da.sequencenumber);la=parseInt(Da.serialnumber);Aa=Da.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new Db(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa,Ta);throw Ta;}if(!pa || pa != pa || !ca || ca != ca || "number" !== typeof ja || ja != ja || "number" !== typeof la || la != la || "string" !== typeof Aa)throw new Db(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa);if(ca < pa)throw new fb(W.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + sa);if(0 > ja || ja > Jb)throw new fb(W.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);if(0 > la || la > Jb)throw new fb(W.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);Ra=new Date(1E3 * pa);Ma=new Date(1E3 * ca);try{Qa=Gb(Aa);}catch(Ta){throw new fb(W.MASTERTOKEN_SESSIONDATA_INVALID,Aa,Ta);}if(!Qa || 0 == Qa.length)throw new fb(W.MASTERTOKEN_SESSIONDATA_MISSING,Aa);ma?ea.decrypt(Qa,{result:function(Ta){Na(Y,function(){var qa,Ca,Ga,Ja,Ea,Ua;qa=Xb(Ta,Lb);try{Ca=JSON.parse(qa);Ga=Ca.issuerdata;Ja=Ca.identity;Ea=Ca.encryptionkey;Ua=Ca.hmackey;}catch(Ia){if(Ia instanceof SyntaxError)throw new Db(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + qa,Ia);throw Ia;}if(Ga && "object" !== typeof Ga || !Ja || "string" !== typeof Ea || "string" !== typeof Ua)throw new Db(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + qa);mc(Ea,hc,vc,{result:function(Ia){mc(Ua,ic,Ec,{result:function($a){Na(Y,function(){var bb;bb=new ha(Ta,za,ta,ma);new cc(aa,Ra,Ma,ja,la,Ga,Ja,Ia,$a,bb,Y);});},error:function($a){Y.error(new tb(W.MASTERTOKEN_KEY_CREATION_ERROR,$a));}});},error:function(Ia){Y.error(new tb(W.MASTERTOKEN_KEY_CREATION_ERROR,Ia));}});});},error:function(Ta){Y.error(Ta);}}):(pa=new ha(null,za,ta,ma),new cc(aa,Ra,Ma,ja,la,null,null,null,null,pa,Y));});},error:function(ma){Y.error(ma);}});});};})();(function(){function ha(aa,X,Y){this.tokendata=aa;this.signature=X;this.verified=Y;}Kc=Cb.Class.create({init:function(aa,X,Y,ea,Z,ka,za,ta,ma){var sa;sa=this;Na(ma,function(){var Da,pa,ca,ja,la,Aa,Ra;if(Y.getTime() < X.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > Z || Z > Jb)throw new vb("Serial number " + Z + " is outside the valid range.");Da=Math.floor(X.getTime() / 1E3);pa=Math.floor(Y.getTime() / 1E3);ca=ea.serialNumber;if(ta){ja=ta.tokendata;la=ta.signature;Aa=ta.verified;ca=ea.serialNumber;Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:pa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ca,writable:!1,configurable:!1},serialNumber:{value:Z,writable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},customer:{value:za,writable:!1,configurable:!1},verified:{value:Aa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ja,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;}ja={};ka && (ja.issuerdata=ka);ja.identity=za;ja=Yb(JSON.stringify(ja),Lb);Ra=aa.getMslCryptoContext();Ra.encrypt(ja,{result:function(Ma){Na(ma,function(){var Qa,Ta;Qa={};Qa.renewalwindow=Da;Qa.expiration=pa;Qa.mtserialnumber=ca;Qa.serialnumber=Z;Qa.userdata=Eb(Ma);Ta=Yb(JSON.stringify(Qa),Lb);Ra.sign(Ta,{result:function(qa){Na(ma,function(){Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:pa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:Z,writable:!1,configurable:!1},issuerData:{value:ka,writable:!1,configurable:!1},customer:{value:za,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa,writable:!1,enumerable:!1,configurable:!1}});return this;},sa);},error:function(qa){Na(ma,function(){qa instanceof fb && qa.setEntity(ea);throw qa;},sa);}});},sa);},error:function(Ma){Na(ma,function(){Ma instanceof fb && Ma.setEntity(ea);throw Ma;},sa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(aa){return aa && aa.serialNumber == this.mtSerialNumber;},toJSON:function(){var aa;aa={};aa.tokendata=Eb(this.tokendata);aa.signature=Eb(this.signature);return aa;},equals:function(aa){return this === aa?!0:aa instanceof Kc?this.serialNumber == aa.serialNumber && this.mtSerialNumber == aa.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});nd=function(aa,X,Y,ea){Na(ea,function(){var Z,ka,za,ta,ma;Z=aa.getMslCryptoContext();ka=X.tokendata;za=X.signature;if("string" !== typeof ka || "string" !== typeof za)throw new Db(W.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(X)).setEntity(Y);try{ta=Gb(ka);}catch(sa){throw new fb(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(X),sa).setEntity(Y);}if(!ta || 0 == ta.length)throw new Db(W.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(X)).setEntity(Y);try{ma=Gb(za);}catch(sa){throw new fb(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(X),sa).setEntity(Y);}Z.verify(ta,ma,{result:function(sa){Na(ea,function(){var Da,pa,ca,ja,la,Aa,Ra,Ma,Qa,Ta;Da=Xb(ta,Lb);try{pa=JSON.parse(Da);ca=parseInt(pa.renewalwindow);ja=parseInt(pa.expiration);la=parseInt(pa.mtserialnumber);Aa=parseInt(pa.serialnumber);Ra=pa.userdata;}catch(qa){if(qa instanceof SyntaxError)throw new Db(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da,qa).setEntity(Y);throw qa;}if(!ca || ca != ca || !ja || ja != ja || "number" !== typeof la || la != la || "number" !== typeof Aa || Aa != Aa || "string" !== typeof Ra)throw new Db(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da).setEntity(Y);if(ja < ca)throw new fb(W.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Da).setEntity(Y);if(0 > la || la > Jb)throw new fb(W.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(Y);if(0 > Aa || Aa > Jb)throw new fb(W.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(Y);Ma=new Date(1E3 * ca);Qa=new Date(1E3 * ja);if(!Y || la != Y.serialNumber)throw new fb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + la + "; mt " + JSON.stringify(Y)).setEntity(Y);try{Ta=Gb(Ra);}catch(qa){throw new fb(W.USERIDTOKEN_USERDATA_INVALID,Ra,qa).setEntity(Y);}if(!Ta || 0 == Ta.length)throw new fb(W.USERIDTOKEN_USERDATA_MISSING,Ra).setEntity(Y);sa?Z.decrypt(Ta,{result:function(qa){Na(ea,function(){var Ca,Ga,Ja,Ea,Ua;Ca=Xb(qa,Lb);try{Ga=JSON.parse(Ca);Ja=Ga.issuerdata;Ea=Ga.identity;}catch(Ia){if(Ia instanceof SyntaxError)throw new Db(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(Y);throw Ia;}if(Ja && "object" !== typeof Ja || "object" !== typeof Ea)throw new Db(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(Y);try{Ua=Te(Ea);}catch(Ia){throw new fb(W.USERIDTOKEN_IDENTITY_INVALID,"userdata " + Ca,Ia).setEntity(Y);}Ea=new ha(ta,ma,sa);new Kc(aa,Ma,Qa,Y,Aa,Ja,Ua,Ea,ea);});},error:function(qa){Na(ea,function(){qa instanceof fb && qa.setEntity(Y);throw qa;});}}):(ca=new ha(ta,ma,sa),new Kc(aa,Ma,Qa,Y,Aa,null,null,ca,ea));});},error:function(sa){Na(ea,function(){sa instanceof fb && sa.setEntity(Y);throw sa;});}});});};})();(function(){function ha(X,Y){var ea,Z,ka;ea=X.tokendata;if("string" !== typeof ea)throw new Db(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(X));try{Z=Gb(ea);}catch(za){throw new fb(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(X),za);}if(!Z || 0 == Z.length)throw new Db(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(X));try{ka=JSON.parse(Xb(Z,Lb)).name;}catch(za){if(za instanceof SyntaxError)throw new Db(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(X),za);throw za;}if(!ka)throw new Db(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(X));return Y[ka]?Y[ka]:Y[""];}function aa(X,Y,ea){this.tokendata=X;this.signature=Y;this.verified=ea;}xc=Cb.Class.create({init:function(X,Y,ea,Z,ka,za,ta,ma,sa,Da){var pa;pa=this;Na(Da,function(){var ca,ja,la,Aa,Ra;if(Z && ka && !ka.isBoundTo(Z))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");ca=Z?Z.serialNumber:-1;ja=ka?ka.serialNumber:-1;if(sa)return (Ra=sa.tokendata,Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},name:{value:Y,writable:!1,configurable:!1},mtSerialNumber:{value:ca,writable:!1,configurable:!1},uitSerialNumber:{value:ja,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ta){la=Od(ta,ea);la.length < ea.length || (ta=null,la=ea);}else (ta=null,la=ea);Aa={};Aa.name=Y;-1 != ca && (Aa.mtserialnumber=ca);-1 != ja && (Aa.uitserialnumber=ja);Aa.encrypted=za;ta && (Aa.compressionalgo=ta);if(za && 0 < la.length)ma.encrypt(la,{result:function(Ma){Na(Da,function(){var Qa;Aa.servicedata=Eb(Ma);Qa=Yb(JSON.stringify(Aa),Lb);ma.sign(Qa,{result:function(Ta){Na(Da,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},name:{value:Y,writable:!1,configurable:!1},mtSerialNumber:{value:ca,writable:!1,configurable:!1},uitSerialNumber:{value:ja,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},pa);},error:function(Ta){Na(Da,function(){Ta instanceof fb && (Ta.setEntity(Z),Ta.setUser(ka));throw Ta;});}});},pa);},error:function(Ma){Na(Da,function(){Ma instanceof fb && (Ma.setEntity(Z),Ma.setUser(ka));throw Ma;});}});else {Aa.servicedata=Eb(la);Ra=Yb(JSON.stringify(Aa),Lb);ma.sign(Ra,{result:function(Ma){Na(Da,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},name:{value:Y,writable:!1,configurable:!1},mtSerialNumber:{value:ca,writable:!1,configurable:!1},uitSerialNumber:{value:ja,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},pa);},error:function(Ma){Na(Da,function(){Ma instanceof fb && (Ma.setEntity(Z),Ma.setUser(ka));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(X){return X?X instanceof cc?X.serialNumber == this.mtSerialNumber:X instanceof Kc?X.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Eb(this.tokendata);X.signature=Eb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof xc?this.name == X.name && this.mtSerialNumber == X.mtSerialNumber && this.uitSerialNumber == X.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});sc=function(X,Y,ea,Z,ka,za,ta,ma,sa){new xc(X,Y,ea,Z,ka,za,ta,ma,null,sa);};od=function(X,Y,ea,Z,ka,za){Na(za,function(){var ta,ma,sa,Da,pa,ca,ja,la,Aa,Ra,Ma,Qa,Ta;!ka || ka instanceof Lc || (ka=ha(Y,ka));ta=Y.tokendata;ma=Y.signature;if("string" !== typeof ta || "string" !== typeof ma)throw new Db(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y)).setEntity(ea).setEntity(Z);try{sa=Gb(ta);}catch(qa){throw new fb(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Y),qa).setEntity(ea).setEntity(Z);}if(!sa || 0 == sa.length)throw new Db(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Y)).setEntity(ea).setEntity(Z);try{Da=Gb(ma);}catch(qa){throw new fb(W.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(Y),qa).setEntity(ea).setEntity(Z);}pa=Xb(sa,Lb);try{ca=JSON.parse(pa);ja=ca.name;la=ca.mtserialnumber?parseInt(ca.mtserialnumber):-1;Aa=ca.uitserialnumber?parseInt(ca.uitserialnumber):-1;Ra=ca.encrypted;Ma=ca.compressionalgo;Qa=ca.servicedata;}catch(qa){if(qa instanceof SyntaxError)throw new Db(W.JSON_PARSE_ERROR,"servicetokendata " + pa,qa).setEntity(ea).setEntity(Z);throw qa;}if(!ja || "number" !== typeof la || la != la || "number" !== typeof Aa || Aa != Aa || "boolean" !== typeof Ra || Ma && "string" !== typeof Ma || "string" !== typeof Qa)throw new Db(W.JSON_PARSE_ERROR,"servicetokendata " + pa).setEntity(ea).setEntity(Z);if(ca.mtserialnumber && 0 > la || la > Jb)throw new fb(W.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + pa).setEntity(ea).setEntity(Z);if(ca.uitserialnumber && 0 > Aa || Aa > Jb)throw new fb(W.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + pa).setEntity(ea).setEntity(Z);if(-1 != la && (!ea || la != ea.serialNumber))throw new fb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + la + "; mt " + ea).setEntity(ea).setEntity(Z);if(-1 != Aa && (!Z || Aa != Z.serialNumber))throw new fb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + Aa + "; uit " + Z).setEntity(ea).setEntity(Z);Ra=!0 === Ra;if(Ma){if(!Cc[Ma])throw new fb(W.UNIDENTIFIED_COMPRESSION,Ma);Ta=Ma;}else Ta=null;ka?ka.verify(sa,Da,{result:function(qa){Na(za,function(){var Ca,Ga;if(qa){try{Ca=Gb(Qa);}catch(Ja){throw new fb(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + pa,Ja).setEntity(ea).setEntity(Z);}if(!Ca || 0 != Qa.length && 0 == Ca.length)throw new fb(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + pa).setEntity(ea).setEntity(Z);if(Ra && 0 < Ca.length)ka.decrypt(Ca,{result:function(Ja){Na(za,function(){var Ea,Ua;Ea=Ta?pd(Ta,Ja):Ja;Ua=new aa(sa,Da,qa);new xc(X,ja,Ea,-1 != la?ea:null,-1 != Aa?Z:null,Ra,Ta,ka,Ua,za);});},error:function(Ja){Na(za,function(){Ja instanceof fb && (Ja.setEntity(ea),Ja.setUser(Z));throw Ja;});}});else {Ca=Ta?pd(Ta,Ca):Ca;Ga=new aa(sa,Da,qa);new xc(X,ja,Ca,-1 != la?ea:null,-1 != Aa?Z:null,Ra,Ta,ka,Ga,za);}}else (Ca="" == Qa?new Uint8Array(0):null,Ga=new aa(sa,Da,qa),new xc(X,ja,Ca,-1 != la?ea:null,-1 != Aa?Z:null,Ra,Ta,ka,Ga,za));});},error:function(qa){Na(za,function(){qa instanceof fb && (qa.setEntity(ea),qa.setUser(Z));throw qa;});}}):(ta="" == Qa?new Uint8Array(0):null,ma=new aa(sa,Da,!1),new xc(X,ja,ta,-1 != la?ea:null,-1 != Aa?Z:null,Ra,Ta,ka,ma,za));});};})();yc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(yc);(function(){Rc=Cb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof Rc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});Ie=function(ha,aa,X,Y){Na(Y,function(){var ea,Z,ka;ea=X.scheme;Z=X.authdata;if(!ea || !Z)throw new Db(W.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(X));if(!yc[ea])throw new uc(W.UNIDENTIFIED_USERAUTH_SCHEME,ea);ka=ha.getUserAuthenticationFactory(ea);if(!ka)throw new uc(W.USERAUTH_FACTORY_NOT_FOUND,ea);ka.createData(ha,aa,Z,Y);});};})();Ue=Cb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,aa,X,Y){},authenticate:function(ha,aa,X,Y){}});(function(){Zc=Rc.extend({init:function Y(aa,X){Y.base.call(this,yc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:aa,writable:!1,configurable:!1},secureNetflixId:{value:X,writable:!1,configurable:!1}});},getAuthData:function(){var aa;aa={};aa.netflixid=this.netflixId;this.secureNetflixId && (aa.securenetflixid=this.secureNetflixId);return aa;},equals:function Y(X){return this === X?!0:X instanceof Zc?Y.base.call(this,X) && this.netflixId == X.netflixId && this.secureNetflixId == X.secureNetflixId:!1;}});Ve=function(X){var Y,ea;Y=X.netflixid;ea=X.securenetflixid;if(!Y)throw new Db(W.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(X));return new Zc(Y,ea);};})();vf=Ue.extend({init:function aa(){aa.base.call(this,yc.NETFLIXID);},createData:function(aa,X,Y,ea){Na(ea,function(){return Ve(Y);});},authenticate:function(aa,X,Y,ea){if(!(Y instanceof Zc))throw new vb("Incorrect authentication data type " + Y + ".");aa=Y.secureNetflixId;if(!Y.netflixId || !aa)throw new uc(W.NETFLIXID_COOKIES_BLANK).setUser(Y);throw new uc(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(Y);}});(function(){$c=Rc.extend({init:function ea(X,Y){ea.base.call(this,yc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:X,writable:!1,configurable:!1},password:{value:Y,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.email=this.email;X.password=this.password;return X;},equals:function ea(Y){return this === Y?!0:Y instanceof $c?ea.base.call(this,this,Y) && this.email == Y.email && this.password == Y.password:!1;}});We=function(Y){var ea,Z;ea=Y.email;Z=Y.password;if(!ea || !Z)throw new Db(W.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(Y));return new $c(ea,Z);};})();wf=Ue.extend({init:function X(){X.base.call(this,yc.EMAIL_PASSWORD);},createData:function(X,Y,ea,Z){Na(Z,function(){return We(ea);});},authenticate:function(X,Y,ea,Z){if(!(ea instanceof $c))throw new vb("Incorrect authentication data type " + ea + ".");X=ea.password;if(!ea.email || !X)throw new uc(W.EMAILPASSWORD_BLANK).setUser(ea);throw new uc(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Ha.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ha.ENTITYDATA_REAUTH});xf=Cb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(X,Y){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(X){},getUserAuthenticationFactory:function(X){},getTokenFactory:function(){},getKeyExchangeFactory:function(X){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Xe=Cb.Class.create({setCryptoContext:function(X,Y){},getMasterToken:function(){},getNonReplayableId:function(X){},getCryptoContext:function(X){},removeCryptoContext:function(X){},clearCryptoContexts:function(){},addUserIdToken:function(X,Y){},getUserIdToken:function(X){},removeUserIdToken:function(X){},clearUserIdTokens:function(){},addServiceTokens:function(X){},getServiceTokens:function(X,Y){},removeServiceTokens:function(X,Y,ea){},clearServiceTokens:function(){}});(function(){var X;X=Cc;Od=function(Y,ea){var Z;Z={};switch(Y){case X.LZW:return ce(ea,Z);case X.GZIP:return gzip$compress(ea);default:throw new fb(W.UNSUPPORTED_COMPRESSION,Y);}};pd=function(Y,ea,Z){switch(Y){case X.LZW:return de(ea);case X.GZIP:return gzip$uncompress(ea);default:throw new fb(W.UNSUPPORTED_COMPRESSION,Y.name());}};})();Xe.extend({setCryptoContext:function(X,Y){},getMasterToken:function(){return null;},getNonReplayableId:function(X){return 1;},getCryptoContext:function(X){return null;},removeCryptoContext:function(X){},clearCryptoContexts:function(){},addUserIdToken:function(X,Y){},getUserIdToken:function(X){return null;},removeUserIdToken:function(X){},clearUserIdTokens:function(){},addServiceTokens:function(X){},getServiceTokens:function(X,Y){if(Y){if(!X)throw new fb(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!Y.isBoundTo(X))throw new fb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + X.serialNumber);}return [];},removeServiceTokens:function(X,Y,ea){if(ea && Y && !ea.isBoundTo(Y))throw new fb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + Y.serialNumber);},clearServiceTokens:function(){}});(function(){Ye=Xe.extend({init:function Y(){Y.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(Y,ea){var Z;if(ea){Z=Y.uniqueKey();this.masterTokens[Z]=Y;this.cryptoContexts[Z]=ea;}else this.removeCryptoContext(Y);},getMasterToken:function(){var Y,ea,Z;Y=null;for(ea in this.masterTokens){Z=this.masterTokens[ea];if(!Y || Z.isNewerThan(Y))Y=Z;}return Y;},getNonReplayableId:function(Y){var ea;Y=Y.serialNumber;ea=this.nonReplayableIds[Y] !== Ab?this.nonReplayableIds[Y]:0;if(0 > ea || ea > Jb)throw new vb("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Jb?0:ea + 1;return this.nonReplayableIds[Y]=ea;},getCryptoContext:function(Y){return this.cryptoContexts[Y.uniqueKey()];},removeCryptoContext:function(Y){var ea,Z,ka,za;ea=Y.uniqueKey();if(this.masterTokens[ea]){Z=Y.serialNumber;for(ka in this.masterTokens){za=this.masterTokens[ka];if(!za.equals(Y) && za.serialNumber == Z){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(ta){ta=this.userIdTokens[ta];ta.isBoundTo(Y) && this.removeUserIdToken(ta);},this);try{this.removeServiceTokens(null,Y,null);}catch(ta){if(ta instanceof fb)throw new vb("Unexpected exception while removing master token bound service tokens.",ta);throw ta;}delete this.nonReplayableIds[Z];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(Y){for(var ea in Y){delete Y[ea];}},this);},addUserIdToken:function(Y,ea){var Z,ka;Z=!1;for(ka in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ka])){Z=!0;break;}}if(!Z)throw new fb(W.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[Y]=ea;},getUserIdToken:function(Y){return this.userIdTokens[Y];},removeUserIdToken:function(Y){var ea,Z,ka;ea=null;for(Z in this.masterTokens){ka=this.masterTokens[Z];if(Y.isBoundTo(ka)){ea=ka;break;}}Object.keys(this.userIdTokens).forEach(function(za){if(this.userIdTokens[za].equals(Y)){try{this.removeServiceTokens(null,ea,Y);}catch(ta){if(ta instanceof fb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",ta);throw ta;}delete this.userIdTokens[za];}},this);},clearUserIdTokens:function(){for(var Y in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[Y]);}},addServiceTokens:function(Y){Y.forEach(function(ea){var Z,ka;if(ea.isMasterTokenBound()){Z=!1;for(ka in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ka])){Z=!0;break;}}if(!Z)throw new fb(W.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){Z=!1;for(var za in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[za])){Z=!0;break;}}if(!Z)throw new fb(W.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);Y.forEach(function(ea){var Z;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){Z=this.mtServiceTokens[ea.mtSerialNumber];Z || (Z={});Z[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=Z;}ea.isUserIdTokenBound() && ((Z=this.uitServiceTokens[ea.uitSerialNumber]) || (Z={}),Z[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=Z);}},this);},getServiceTokens:function(Y,ea){var Z,ka,za;if(ea){if(!Y)throw new fb(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(Y))throw new fb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + Y.serialNumber);}Z={};for(ka in this.unboundServiceTokens){za=this.unboundServiceTokens[ka];Z[za.uniqueKey()]=za;}if(Y && (ka=this.mtServiceTokens[Y.serialNumber]))for(var ta in ka){za=ka[ta];za.isUserIdTokenBound() || (Z[ta]=za);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var ma in ea){ta=ea[ma];ta.isBoundTo(Y) && (Z[ma]=ta);}Y=[];for(var sa in Z){Y.push(Z[sa]);}return Y;},removeServiceTokens:function(Y,ea,Z){var ka,za,ta;if(Z && ea && !Z.isBoundTo(ea))throw new fb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.mtSerialNumber + "; mt " + ea.serialNumber);!Y || ea || Z || Object.keys(this.unboundServiceTokens).forEach(function(ma){this.unboundServiceTokens[ma].name == Y && delete this.unboundServiceTokens[ma];},this);if(ea && !Z && (ka=this.mtServiceTokens[ea.serialNumber])){ta=Object.keys(ka);ta.forEach(function(ma){var sa;sa=ka[ma];Y && sa.name != Y || delete ka[ma];},this);this.mtServiceTokens[ea.serialNumber]=ka;}Z && (za=this.uitServiceTokens[Z.serialNumber]) && (ea=Object.keys(za),ea.forEach(function(ma){var sa;sa=za[ma];Y && sa.name != Y || delete za[ma];},this),this.uitServiceTokens[Z.serialNumber]=za);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(Y){for(var ea in Y){delete Y[ea];}},this);}});})();sf.extend({init:function Y(){Y.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(Y,ea){ea && Y && Y.length && (Y=Eb(Y),this._contextMap[Y]=ea);},getCryptoContext:function(Y){return Y && Y.length?(Y=Eb(Y),this._contextMap[Y] || null):null;},removeCryptoContext:function(Y){Y && Y.length && (Y=Eb(Y),delete this._contextMap[Y]);}});kf.extend({init:function ta(ea,Z,ka,za){ta.base.call(this,ea);Object.defineProperties(this,{_kde:{value:Z,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ka,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:za,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,Z){if(!(Z instanceof qc))throw new vb("Incorrect authentication data type " + JSON.stringify(Z) + ".");if(Z.identity != this.localIdentity)throw new kc(W.ENTITY_NOT_FOUND,"mgk " + Z.identity);return new jd(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});lf.extend({init:function ma(Z,ka,za,ta){ma.base.call(this,Z);Object.defineProperties(this,{_kpe:{value:ka,writable:!1,enumerable:!1,configurable:!1},_kph:{value:za,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Z,ka){if(!(ka instanceof rc))throw new vb("Incorrect authentication data type " + JSON.stringify(ka) + ".");if(ka.identity != this.localIdentity)throw new kc(W.ENTITY_NOT_FOUND,"psk " + ka.identity);return new jd(Z,this.localIdentity,this._kpe,this._kph,this._kpw);}});zf=Ye.extend({init:function pa(ka,za,ta,ma,sa,Da){pa.base.call(this);this._log=ka;this._esn=za;this._keyRequestData=ta;this._createKeyRequestData=ma;this._systemKeyName=sa;this._systemKeyWrapFormat=Da;},setCryptoContext:function sa(za,ta,ma){var Da;Da=this;Da._log.trace("Adding MasterToken",{SequenceNumber:za.sequenceNumber,SerialNumber:za.serialNumber,Expiration:za.expiration.getTime()});sa.base.call(this,za,ta);!ma && (za=Da._createKeyRequestData) && (Da._log.trace("Generating new keyx request data"),za().then(function(pa){Da._keyRequestData=pa;},function(pa){Da._log.error("Unable to generate new keyx request data","" + pa);}));},addUserIdToken:function sa(ta,ma){this._log.trace("Adding UserIdToken",{UserId:ta,SerialNumber:ma.serialNumber,MTSerialNumber:ma.mtSerialNumber,Expiration:ma.expiration.getTime()});sa.base.call(this,ta,ma);},addServiceTokens:function sa(ma){sa.base.call(this,ma.filter(function(Da){return !yf[Da.name];}));},getUserIdTokenKeys:function(){var ma,sa;ma=[];for(sa in this.userIdTokens){ma.push(sa);}return ma;},rekeyUserIdToken:function(ma,sa){this.userIdTokens[ma] && (this.userIdTokens[sa]=this.userIdTokens[ma],delete this.userIdTokens[ma]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ma){var sa;sa=this;Na(ma,function(){var Da;Da=sa.getMasterToken();Da?sa.getKeysForStore(Da,{result:function(pa){Na(ma,function(){var ca,ja,la;ca=sa.userIdTokens;ja=Object.keys(ca).map(function(Aa){var Ra;Ra=ca[Aa];return {userId:Aa,userIdTokenJSON:ca[Aa].toJSON(),serviceTokenJSONList:sa.getServiceTokens(Da,Ra).map(df)};});pa.esn=sa._esn;pa.masterTokenJSON=Da.toJSON();pa.userList=ja;la=sa._keyRequestData.storeData;la && Object.keys(la).forEach(function(Aa){pa[Aa]=la[Aa];});return pa;});},timeout:ma.timeout,error:ma.error}):ma.result(null);});},getKeysForStore:function(ma,sa){var Da;Da=this;Na(sa,function(){var pa;pa=Da.getCryptoContext(ma);pa={encryptionKey:pa.encryptionKey,hmacKey:pa.hmacKey};if(pa.encryptionKey && pa.hmacKey){if(Da._systemKeyWrapFormat)Da.wrapKeysWithSystemKey(pa,sa);else return pa;}else throw new fb(W.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ma,sa){var Da;Da=this;Xd(this._systemKeyName,{result:function(pa){Na(sa,function(){var ca,ja,la,Aa;ca=ma.encryptionKey;ja=ma.hmacKey;la=ca[Oc];Aa=ja[Oc];if(la && Aa)return {wrappedEncryptionKey:la,wrappedHmacKey:Aa};Promise.resolve().then(function(){return Promise.all([Ib.wrapKey(Da._systemKeyWrapFormat,ca,pa,pa.algorithm),Ib.wrapKey(Da._systemKeyWrapFormat,ja,pa,pa.algorithm)]);}).then(function(Ra){la=Eb(Ra[0]);ca[Oc]=la;Aa=Eb(Ra[1]);ja[Oc]=Aa;sa.result({wrappedEncryptionKey:la,wrappedHmacKey:Aa});}).catch(function(Ra){sa.error(new fb(W.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:sa.timeout,error:sa.error});},unwrapKeysWithSystemKey:function(ma,sa){var Da;Da=this;Xd(this._systemKeyName,{result:function(pa){Na(sa,function(){var ca,ja;ca=Gb(ma.wrappedEncryptionKey);ja=Gb(ma.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ib.unwrapKey(Da._systemKeyWrapFormat,ca,pa,pa.algorithm,hc,!1,vc),Ib.unwrapKey(Da._systemKeyWrapFormat,ja,pa,pa.algorithm,ic,!1,Ec)]);}).then(function(la){var Aa;Aa=la[0];la=la[1];Aa[Oc]=ma.wrappedEncryptionKey;la[Oc]=ma.wrappedHmacKey;sa.result({encryptionKey:Aa,hmacKey:la});}).catch(function(la){sa.error(new fb(W.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",la));});});},timeout:sa.timeout,error:sa.error});},loadStoreState:function(ma,sa,Da,pa){var la,Aa;function ca(Ra,Ma){var Qa;try{Qa=Da.userList.slice();}catch(Ta){}Qa?(function qa(){var Ca;Ca=Qa.shift();Ca?nd(sa,Ca.userIdTokenJSON,Ra,{result:function(Ga){try{la.addUserIdToken(Ca.userId,Ga);ja(Ra,Ga,Ca.serviceTokenJSONList,{result:qa,timeout:qa,error:qa});}catch(Ja){qa();}},timeout:qa,error:qa}):Ma.result();})():Ma.result();}function ja(Ra,Ma,Qa,Ta){var qa,Ca;try{qa=Qa.slice();}catch(Ga){}if(qa){Ca=la.getCryptoContext(Ra);(function Ja(){var Ea;Ea=qa.shift();Ea?od(sa,Ea,Ra,Ma,Ca,{result:function(Ua){la.addServiceTokens([Ua]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Ta.result();})();}else Ta.result();}la=this;Aa=la._log;Da.esn != la._esn?(Aa.error("Esn mismatch, starting fresh"),pa.error()):(function(Ra){var Ta,qa,Ca,Ga;function Ma(){var Ja;if(!Ta && qa && Ca && Ga){Ta=!0;Ja=new fc(sa,qa,ma.esn,{rawKey:Ca},{rawKey:Ga});la.setCryptoContext(qa,Ja,!0);Ra.result(qa);}}function Qa(Ja,Ea){Aa.error(Ja,Ea && "" + Ea);Ta || (Ta=!0,Ra.error());}Da.masterTokenJSON?(Wc(sa,Da.masterTokenJSON,{result:function(Ja){qa=Ja;Ma();},timeout:function(){Qa("Timeout parsing MasterToken");},error:function(Ja){Qa("Error parsing MasterToken",Ja);}}),la._systemKeyWrapFormat?la.unwrapKeysWithSystemKey(Da,{result:function(Ja){Ca=Ja.encryptionKey;Ga=Ja.hmacKey;Ma();},timeout:function(){Qa("Timeout unwrapping keys");},error:function(Ja){Qa("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Ib.encrypt({name:hc.name,iv:new Uint8Array(16)},Da.encryptionKey,new Uint8Array(1));}).then(function(Ja){Ca=Da.encryptionKey;}).catch(function(Ja){Qa("Error loading encryptionKey");}).then(function(){return Ib.sign(ic,Da.hmacKey,new Uint8Array(1));}).then(function(Ja){Ga=Da.hmacKey;Ma();}).catch(function(Ja){Qa("Error loading hmacKey");})):Qa("Persisted store is corrupt");})({result:function(Ra){ca(Ra,pa);},timeout:pa.timeout,error:pa.error});}});yf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Oc="$netflix$msl$wrapsys";Af=xf.extend({init:function(ma,sa,Da,pa,ca,ja){var la,Aa;la=new Xc([Cc.LZW]);Aa=new nf();Aa.addPublicKey(sa,Da);pa[Ob.RSA]=new mf(Aa);sa={};sa[yc.EMAIL_PASSWORD]=new wf();sa[yc.NETFLIXID]=new vf();ma={_mslCryptoContext:{value:new jf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ca,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:pa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:sa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ja,writable:!1,enumerable:!1,configurable:!1},_store:{value:ma,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ma);},getTime:function(){return Date.now();},getRandom:function(){return new he();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ma,sa){sa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ma){return this._entityAuthFactories[ma];},getUserAuthenticationFactory:function(ma){return this._userAuthFactories[ma];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ma){return this._keyExchangeFactories.filter(function(sa){return sa.scheme == ma;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Zd=Re.extend({init:function(ma,sa,Da,pa){this._log=ma;this._mslContext=sa;this._mslRequest=Da;this._keyRequestData=pa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ma,sa,Da,pa){var ca;ca=this._mslRequest;Na(pa,function(){return ma || !ca.shouldSendUserAuthData?null:ca.email?new $c(ca.email,ca.password):ca.useNetflixUserAuthData || Da && ca.sendUserAuthIfRequired?new Zc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ma){ma.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ma,sa,Da){var pa,ca,ja,la,Aa,Ra;pa=this._log;ca=(this._mslRequest.serviceTokens || []).slice();ja=this._mslContext;sa=ja.getMslStore();la=ma.builder.getMasterToken();Aa=this.getUserId();Ra=sa.getUserIdToken(Aa);(function Qa(){var Ta;Ta=ca.shift();if(Ta)try{Ta instanceof xc?(ma.addPrimaryServiceToken(Ta),Qa()):od(ja,Ta,la,Ra,null,{result:function(qa){try{ma.addPrimaryServiceToken(qa);}catch(Ca){pa.warn("Exception adding service token","" + Ca);}Qa();},timeout:function(){pa.warn("Timeout parsing service token");Qa();},error:function(qa){pa.warn("Error parsing service token","" + qa);Qa();}});}catch(qa){pa.warn("Exception processing service token","" + qa);Qa();}else Da.result(!0);})();},write:function(ma,sa,Da){var pa;pa=Yb(this._mslRequest.body);ma.write(pa,0,pa.length,sa,{result:function(ca){ca != pa.length?Da.error(new Rb("Not all data was written to output.")):ma.flush(sa,{result:function(){Da.result(!0);},timeout:function(){Da.timeout();},error:function(ja){Da.error(ja);}});},timeout:function(){Da.timeout();},error:function(ca){Da.error(ca);}});},getDebugContext:function(){this._dc || (this._dc=new Bf(this._log,this._mslRequest));return this._dc;}});Bf=uf.extend({init:function(ma,sa){this._log=ma;this._mslRequest=sa;},sentHeader:function(ma){this._log.trace("Sent MSL header",Yd(this._mslRequest,ma),ma.serviceTokens && ma.serviceTokens.map(ef).join("\n"));},receivedHeader:function(ma){var sa,Da;sa=Yd(this._mslRequest,ma);Da=ma.errorCode;Da?this._log.warn("Received MSL error header",sa,{errorCode:Da,errorMessage:ma.errorMessage,internalCode:ma.internalCode}):this._log.trace("Received MSL header",sa);}});Cf={JWK_RSA:function(ma){return gf(ma,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},we.JWK_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(ma,sa){var Da,pa,ca,ja,la;Da=ma.log;la=ma.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Nb && Nb.generateKey && Nb.importKey && Nb.unwrapKey))throw new fb(W.INTERNAL_EXCEPTION,"No WebCrypto");Wb=Nb.generateKey({name:"AES-CBC",length:128},!0,vc).then?ed.V2014_02:ed.LEGACY;la("mslisik");return Ib.importKey("spki",ma.serverIdentityKeyData,ie,!1,["verify"]);}).then(function(Aa){return new Promise(function(Ra,Ma){Bc(Aa,{result:Ra,error:function(){Ma(new fb(W.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Aa){pa=Aa;if(Aa=Cf.JWK_RSA)return (la("mslcc"),Aa(ma));throw new fb(W.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(Aa){var Ra;ca=new zf(Da,ma.esn,Aa.keyRequestData,Aa.createKeyRequestData,ma.authenticationKeyNames.s,ma.systemKeyWrapFormat);ja=new Af(ca,ma.serverIdentityId,pa,Aa.entityAuthFactories,Aa.entityAuthData,Aa.keyExchangeFactories);Ra=ma.storeState;if(Ra)return (la("mslss"),Da.info("Loading store state"),new Promise(function(Ma,Qa){ca.loadStoreState(ma,ja,Ra,{result:Ma,timeout:Ma,error:Ma});}));Da.info("No store state, starting fresh");}).then(function(){var Aa;Aa=new Se();la("msldone");sa.result(new ff(Da,Aa,ja,ca,ma.ErrorSubCodes));}).catch(function(Aa){sa.error(Aa);});},IHttpLocation:qf,MslIoException:Rb};(function(){var bb,Ya,jb,mb,ob,pb,qb,zb,yb;function ma(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function sa(r,b){var a,k;if(b)a:{a=Ya;r=r.split(".");for(var c=0;c < r.length - 1;c++){k=r[c];if(!((k in a)))break a;a=a[k];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && bb(a,r,{configurable:!0,writable:!0,value:b});}}function Da(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function pa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:ma(r)};}function ca(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ja(r){return r instanceof Array?r:ca(pa(r));}function la(r,b){var c;r.prototype=jb(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Chc=b.prototype;}function Aa(){this.iY=!1;this.yF=null;this.qea=void 0;this.FE=1;this.L_a=this.Nyb=0;this.OU=null;}function Ra(r){if(r.iY)throw new TypeError("Generator is already running");r.iY=!0;}function Ma(r,b){r.FE=2;return {value:b};}function Qa(r){this.Qf=new Aa();this.VYb=r;}function Ta(r,b){var a;Ra(r.Qf);a=r.Qf.yF;if(a)return qa(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.Qf.return);r.Qf.return(b);return Ca(r);}function qa(r,b,a,c){var k,h;try{k=b.call(r.Qf.yF,a);if(!(k instanceof Object))throw new TypeError("Iterator result " + k + " is not an object");if(!k.done)return (r.Qf.iY=!1,k);h=k.value;}catch(g){return (r.Qf.yF=null,r.Qf.C0(g),Ca(r));}r.Qf.yF=null;c.call(r.Qf,h);return Ca(r);}function Ca(r){var b;for(;r.Qf.FE;){try{b=r.VYb(r.Qf);if(b)return (r.Qf.iY=!1,{value:b.value,done:!1});}catch(a){r.Qf.qea=void 0;r.Qf.C0(a);}}r.Qf.iY=!1;if(r.Qf.OU){b=r.Qf.OU;r.Qf.OU=null;if(b.BPb)throw b.oO;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ga(r){this.next=function(b){return r.iZ(b);};this.throw=function(b){return r.C0(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ja(r,b){b=new Ga(new Qa(b));zb && r.prototype && zb(b,r.prototype);return b;}function Ea(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Ua(r,b){var a,c,k;r instanceof String && (r+="");a=0;c=!1;k={next:function(){var h;if(!c && a < r.length){h=a++;return {value:b(h,r[h]),done:!1};}c=!0;return {done:!0,value:void 0};}};k[Symbol.iterator]=function(){return k;};return k;}function Ia(r,b,a){var h;r instanceof String && (r=String(r));for(var c=r.length,k=0;k < c;k++){h=r[k];if(b.call(a,h,k,r))return {Xsa:k,tF:h};}return {Xsa:-1,tF:void 0};}function $a(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}bb="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Ya=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);sa("Symbol",function(r){var c;function b(k){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (k || "") + "_" + c++,k);}function a(k,h){this.phb=k;bb(this,"description",{configurable:!0,writable:!0,value:h});}if(r)return r;a.prototype.toString=function(){return this.phb;};c=0;return b;});sa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ya[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && bb(c.prototype,r,{configurable:!0,writable:!0,value:function(){return Da(ma(this));}});}return r;});jb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};mb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,k){a=b(a,c);k && Reflect.setPrototypeOf(a,k.prototype);return a;};}return function(a,c,k){void 0 === k && (k=a);k=jb(k.prototype || Object.prototype);return Function.prototype.apply.call(a,k,c) || k;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{pb={a:!0};qb={};try{qb.__proto__=pb;ob=qb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=ob;Aa.prototype.iZ=function(r){this.qea=r;};Aa.prototype.C0=function(r){this.OU={oO:r,BPb:!0};this.FE=this.Nyb || this.L_a;};Aa.prototype.return=function(r){this.OU={return:r};this.FE=this.L_a;};Qa.prototype.iZ=function(r){Ra(this.Qf);if(this.Qf.yF)return qa(this,this.Qf.yF.next,r,this.Qf.iZ);this.Qf.iZ(r);return Ca(this);};Qa.prototype.C0=function(r){Ra(this.Qf);if(this.Qf.yF)return qa(this,this.Qf.yF["throw"],r,this.Qf.iZ);this.Qf.C0(r);return Ca(this);};sa("Reflect",function(r){return r?r:{};});sa("Reflect.construct",function(){return mb;});sa("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});sa("Object.setPrototypeOf",function(r){return r || zb;});yb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var k in c){Ea(c,k) && (r[k]=c[k]);}}return r;};sa("Object.assign",function(r){return r || yb;});sa("Promise",function(r){var k,h;function b(g){var d;this.XQ=0;this.I_=void 0;this.QP=[];this.b5a=!1;d=this.ioa();try{g(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.mD=null;}function c(g){return g instanceof b?g:new b(function(d){d(g);});}if(r)return r;a.prototype.cVa=function(g){var d;if(null == this.mD){this.mD=[];d=this;this.dVa(function(){d.dHb();});}this.mD.push(g);};k=Ya.setTimeout;a.prototype.dVa=function(g){k(g,0);};a.prototype.dHb=function(){var g,f;for(;this.mD && this.mD.length;){g=this.mD;this.mD=[];for(var d=0;d < g.length;++d){f=g[d];g[d]=null;try{f();}catch(m){this.Jwb(m);}}}this.mD=null;};a.prototype.Jwb=function(g){this.dVa(function(){throw g;});};b.prototype.ioa=function(){var d,f;function g(m){return function(l){f || (f=!0,m.call(d,l));};}d=this;f=!1;return {resolve:g(this.f0b),reject:g(this.Jya)};};b.prototype.f0b=function(g){var d;if(g === this)this.Jya(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.g2b(g);else {a:switch(typeof g){case "object":d=null != g;break a;case "function":d=!0;break a;default:d=!1;}d?this.e0b(g):this.u0a(g);}};b.prototype.e0b=function(g){var d;d=void 0;try{d=g.then;}catch(f){this.Jya(f);return;}"function" == typeof d?this.h2b(d,g):this.u0a(g);};b.prototype.Jya=function(g){this.$cb(2,g);};b.prototype.u0a=function(g){this.$cb(1,g);};b.prototype.$cb=function(g,d){if(0 != this.XQ)throw Error("Cannot settle(" + g + ", " + d + "): Promise already settled in state" + this.XQ);this.XQ=g;this.I_=d;2 === this.XQ && this.N0b();this.eHb();};b.prototype.N0b=function(){var g;g=this;k(function(){var d;if(g.YUb()){d=Ya.console;"undefined" !== typeof d && d.error(g.I_);}},1);};b.prototype.YUb=function(){var g,d,f;if(this.b5a)return !1;g=Ya.CustomEvent;d=Ya.Event;f=Ya.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof g?g=new g("unhandledrejection",{cancelable:!0}):"function" === typeof d?g=new d("unhandledrejection",{cancelable:!0}):(g=Ya.document.createEvent("CustomEvent"),g.initCustomEvent("unhandledrejection",!1,!0,g));g.promise=this;g.reason=this.I_;return f(g);};b.prototype.eHb=function(){if(null != this.QP){for(var g=0;g < this.QP.length;++g){h.cVa(this.QP[g]);}this.QP=null;}};h=new a();b.prototype.g2b=function(g){var d;d=this.ioa();g.N6(d.resolve,d.reject);};b.prototype.h2b=function(g,d){var f;f=this.ioa();try{g.call(d,f.resolve,f.reject);}catch(m){f.reject(m);}};b.prototype.then=function(g,d){var m,l,n;function f(p,q){return "function" == typeof p?function(t){try{m(p(t));}catch(w){l(w);}}:q;}n=new b(function(p,q){m=p;l=q;});this.N6(f(g,m),f(d,l));return n;};b.prototype.catch=function(g){return this.then(void 0,g);};b.prototype.N6=function(g,d){var m;function f(){switch(m.XQ){case 1:g(m.I_);break;case 2:d(m.I_);break;default:throw Error("Unexpected state: " + m.XQ);}}m=this;null == this.QP?h.cVa(f):this.QP.push(f);this.b5a=!0;};b.resolve=c;b.reject=function(g){return new b(function(d,f){f(g);});};b.race=function(g){return new b(function(d,f){for(var m=pa(g),l=m.next();!l.done;l=m.next()){c(l.value).N6(d,f);}});};b.all=function(g){var d,f;d=pa(g);f=d.next();return f.done?c([]):new b(function(m,l){var p,q;function n(t){return function(w){p[t]=w;q--;0 == q && m(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).N6(n(p.length - 1),l);f=d.next();}while(!f.done);});};return b;});sa("Array.prototype.keys",function(r){return r?r:function(){return Ua(this,function(b){return b;});};});sa("Array.prototype.find",function(r){return r?r:function(b,a){return Ia(this,b,a).tF;};});sa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});sa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,k,h;c=this;c instanceof String && (c=String(c));k=c.length;a=a || 0;for(0 > a && (a=Math.max(a + k,0));a < k;a++){h=c[a];if(h === b || Object.is(h,b))return !0;}return !1;};});sa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== $a(this,b,"includes").indexOf(b,a || 0);};});sa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});sa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});sa("WeakMap",function(r){var g,d;function b(f){this.TX=(d+=Math.random() + 1).toString();if(f){f=pa(f);for(var m;!(m=f.next()).done;){m=m.value;this.set(m[0],m[1]);}}}function a(){}function c(f){var m;m=typeof f;return "object" === m && null !== f || "function" === m;}function k(f){var m;if(!Ea(f,g)){m=new a();bb(f,g,{value:m});}}function h(f){var m;m=Object[f];m && (Object[f]=function(l){if(l instanceof a)return l;Object.isExtensible(l) && k(l);return m(l);});}if((function(){var f,m,l;if(!r || !Object.seal)return !1;try{f=Object.seal({});m=Object.seal({});l=new r([[f,2],[m,3]]);if(2 != l.get(f) || 3 != l.get(m))return !1;l.delete(f);l.set(m,4);return !l.has(f) && 4 == l.get(m);}catch(n){return !1;}})())return r;g="$jscomp_hidden_" + Math.random();h("freeze");h("preventExtensions");h("seal");d=0;b.prototype.set=function(f,m){if(!c(f))throw Error("Invalid WeakMap key");k(f);if(!Ea(f,g))throw Error("WeakMap key fail: " + f);f[g][this.TX]=m;return this;};b.prototype.get=function(f){return c(f) && Ea(f,g)?f[g][this.TX]:void 0;};b.prototype.has=function(f){return c(f) && Ea(f,g) && Ea(f[g],this.TX);};b.prototype.delete=function(f){return c(f) && Ea(f,g) && Ea(f[g],this.TX)?delete f[g][this.TX]:!1;};return b;});sa("Map",function(r){var h,g;function b(){var d;d={};return d.Lp=d.next=d.head=d;}function a(d,f){var m;m=d.JA;return Da(function(){if(m){for(;m.head != d.JA;){m=m.Lp;}for(;m.next != m.head;){return (m=m.next,{done:!1,value:f(m)});}m=null;}return {done:!0,value:void 0};});}function c(d,f){var m,l,n;m=f && typeof f;"object" == m || "function" == m?h.has(f)?m=h.get(f):(m="" + ++g,h.set(f,m)):m="p_" + f;l=d.fA[m];if(l && Ea(d.fA,m))for(d=0;d < l.length;d++){n=l[d];if(f !== f && n.key !== n.key || f === n.key)return {id:m,list:l,index:d,entry:n};}return {id:m,list:l,index:-1,entry:void 0};}function k(d){this.fA={};this.JA=b();this.size=0;if(d){d=pa(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,m,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new r(pa([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;m=f.entries();l=m.next();if(l.done || l.value[0] != d || "s" != l.value[1])return !1;l=m.next();return l.done || 4 != l.value[0].x || "t" != l.value[1] || !m.next().done?!1:!0;}catch(n){return !1;}})())return r;h=new WeakMap();k.prototype.set=function(d,f){var m;d=0 === d?0:d;m=c(this,d);m.list || (m.list=this.fA[m.id]=[]);m.entry?m.entry.value=f:(m.entry={next:this.JA,Lp:this.JA.Lp,head:this.JA,key:d,value:f},m.list.push(m.entry),this.JA.Lp.next=m.entry,this.JA.Lp=m.entry,this.size++);return this;};k.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.fA[d.id],d.entry.Lp.next=d.entry.next,d.entry.next.Lp=d.entry.Lp,d.entry.head=null,this.size--,!0):!1;};k.prototype.clear=function(){this.fA={};this.JA=this.JA.Lp=b();this.size=0;};k.prototype.has=function(d){return ! !c(this,d).entry;};k.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};k.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};k.prototype.keys=function(){return a(this,function(d){return d.key;});};k.prototype.values=function(){return a(this,function(d){return d.value;});};k.prototype.forEach=function(d,f){for(var m=this.entries(),l;!(l=m.next()).done;){l=l.value;d.call(f,l[1],l[0],this);}};k.prototype[Symbol.iterator]=k.prototype.entries;g=0;return k;});sa("Set",function(r){function b(a){this.Kx=new Map();if(a){a=pa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Kx.size;}if((function(){var a,c,k,h;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(pa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;k=c.entries();h=k.next();if(h.done || h.value[0] != a || h.value[1] != a)return !1;h=k.next();return h.done || h.value[0] == a || 4 != h.value[0].x || h.value[1] != h.value[0]?!1:k.next().done;}catch(g){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Kx.set(a,a);this.size=this.Kx.size;return this;};b.prototype.delete=function(a){a=this.Kx.delete(a);this.size=this.Kx.size;return a;};b.prototype.clear=function(){this.Kx.clear();this.size=0;};b.prototype.has=function(a){return this.Kx.has(a);};b.prototype.entries=function(){return this.Kx.entries();};b.prototype.values=function(){return this.Kx.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var k;k=this;this.Kx.forEach(function(h){return a.call(c,h,h,k);});};return b;});sa("Array.prototype.entries",function(r){return r?r:function(){return Ua(this,function(b,a){return [b,a];});};});sa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ea(b,c) && a.push([c,b[c]]);}return a;};});sa("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});sa("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,c,k){return b.call(a,c,k);};});sa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});sa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=$a(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var k=b.length;0 < k && 0 < a;){if(c[--a] != b[--k])return !1;}return 0 >= k;};});sa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=$a(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});sa("Array.prototype.values",function(r){return r?r:function(){return Ua(this,function(b,a){return a;});};});sa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});sa("Array.from",function(r){return r?r:function(b,a,c){var k,h;a=null != a?a:function(d){return d;};k=[];h="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof h){b=h.call(b);for(var g=0;!(h=b.next()).done;){k.push(a.call(c,h.value,g++));}}else for((h=b.length,g=0);g < h;g++){k.push(a.call(c,b[g],g));}return k;};});sa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ea(b,c) && a.push(b[c]);}return a;};});sa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,k,h;c=$a(this,b,"startsWith");b+="";k=c.length;h=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var g=0;g < h && a < k;){if(c[a++] != b[g++])return !1;}return g >= h;};});sa("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});sa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ia(this,b,a).Xsa;};});sa("String.fromCodePoint",function(r){return r?r:function(b){var k;for(var a="",c=0;c < arguments.length;c++){k=Number(arguments[c]);if(0 > k || 1114111 < k || k !== Math.floor(k))throw new RangeError("invalid_code_point " + k);65535 >= k?a+=String.fromCharCode(k):(k-=65536,a+=String.fromCharCode(k >>> 10 & 1023 | 55296),a+=String.fromCharCode(k & 1023 | 56320));}return a;};});sa("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(c){var k;if(a[c])return a[c].exports;k=a[c]={Xsa:c,KQb:!1,exports:{}};r[c].call(k.exports,k,k.exports,b);k.KQb=!0;return k.exports;}a={};b.vfc=r;b.c=a;b.d=function(c,k,h){b.hVb(c,k) || Object.defineProperty(c,k,{enumerable:!0,get:h});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,k){var h;k & 1 && (c=b(c));if(k & 8 || k & 4 && "object" === typeof c && c && c.__esModule)return c;h=Object.create(null);b.r(h);Object.defineProperty(h,"default",{enumerable:!0,value:c});if(k & 2 && "string" != typeof c)for(var g in c){b.d(h,g,(function(d){return c[d];}).bind(null,g));}return h;};b.n=function(c){var k;k=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(k,"a",k);return k;};b.hVb=function(c,k){return Object.prototype.hasOwnProperty.call(c,k);};b.p="";return b(b.x0b=593);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(42);b.X$b=r;r=a(641);b.Q1=r.Q1;r=a(74);b.Rt=r.Rt;b.ak=r.ak;b.bz=r.bz;r=a(657);b.nDa=r.nDa;b.zd=r.zd;r=a(658);b.U=r.U;r=a(659);b.xeb=r.xeb;r=a(660);b.p8a=r.p8a;r=a(332);b.l=r.l;b.Ega=r.Ega;r=a(661);b.optional=r.optional;r=a(662);b.Eo=r.Eo;r=a(663);b.pJ=r.pJ;r=a(664);b.y0=r.y0;r=a(665);b.I$a=r.I$a;r=a(330);b.aha=r.aha;r=a(110);b.id=r.id;r=a(94);b.Cs=r.Cs;r=a(335);b.pfb=r.pfb;b.yeb=r.yeb;b.q8a=r.q8a;b.xfb=r.xfb;r=a(140);b.MO=r.MO;a=a(666);b.l8a=a.l8a;},function(r,b,a){function c(){c=Object.assign || (function(E){for(var I,N=1,L=arguments.length;N < L;N++){I=arguments[N];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(N,L){N.__proto__=L;}) || (function(N,L){for(var H in L){L.hasOwnProperty(H) && (N[H]=L[H]);}});return k(E,I);}function h(E,I){function N(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(N.prototype=I.prototype,new N());}function g(E,I){var N,L,H;N={};for(L in E){Object.prototype.hasOwnProperty.call(E,L) && 0 > I.indexOf(L) && (N[L]=E[L]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(L=Object.getOwnPropertySymbols(E);H < L.length;H++){0 > I.indexOf(L[H]) && Object.prototype.propertyIsEnumerable.call(E,L[H]) && (N[L[H]]=E[L[H]]);}}return N;}function d(E,I,N,L){var H,Q,O;H=arguments.length;Q=3 > H?I:null === L?L=Object.getOwnPropertyDescriptor(I,N):L;if("object" === typeof Reflect && "function" === typeof Reflect.Cs)Q=Reflect.Cs(E,I,N,L);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])Q=(3 > H?O(Q):3 < H?O(I,N,Q):O(I,N)) || Q;}return (3 < H && Q && Object.defineProperty(I,N,Q),Q);}function f(E,I){return function(N,L){I(N,L,E);};}function m(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Nc)return Reflect.Nc(E,I);}function l(E,I,N,L){function H(Q){return Q instanceof N?Q:new N(function(O){O(Q);});}return new (N || (N=Promise))(function(Q,O){function J(R){try{P(L.next(R));}catch(S){O(S);}}function M(R){try{P(L["throw"](R));}catch(S){O(S);}}function P(R){R.done?Q(R.value):H(R.value).then(J,M);}P((L=L.apply(E,I || [])).next());});}function n(E,I){var H,Q,O,J,M;function N(P){return function(R){return L([P,R]);};}function L(P){if(Q)throw new TypeError("Generator is already executing.");for(;H;){try{if((Q=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (H.label++,{value:P[1],done:!1});case 5:H.label++;O=P[1];P=[0];continue;case 7:P=H.ro.pop();H.Dl.pop();continue;default:if(!(J=H.Dl,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){H=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))H.label=P[1];else if(6 === P[0] && H.label < J[1])(H.label=J[1],J=P);else if(J && H.label < J[2])(H.label=J[2],H.ro.push(P));else {J[2] && H.ro.pop();H.Dl.pop();continue;}}P=I.call(E,H);}catch(R){P=[6,R];O=0;}finally{Q=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}H={label:0,jc:function(){if(J[0] & 1)throw J[1];return J[1];},Dl:[],ro:[]};return (M={next:N(0),"throw":N(1),"return":N(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,N,L){void 0 === L && (L=N);E[L]=I[N];}function q(E,I){for(var N in E){"default" === N || I.hasOwnProperty(N) || (I[N]=E[N]);}}function t(E){var I,N,L;I="function" === typeof Symbol && Symbol.iterator;N=I && E[I];L=0;if(N)return N.call(E);if(E && "number" === typeof E.length)return {next:function(){E && L >= E.length && (E=void 0);return {value:E && E[L++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function w(E,I){var N,L,H;N="function" === typeof Symbol && E[Symbol.iterator];if(!N)return E;E=N.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(L=E.next()).done;){H.push(L.value);}}catch(O){var Q;Q={error:O};}finally{try{L && !L.done && (N=E["return"]) && N.call(E);}finally{if(Q)throw Q.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(w(arguments[I]));}return E;}function u(){var L;for(var E=0,I=0,N=arguments.length;I < N;I++){E+=arguments[I].length;}E=Array(E);L=0;for(I=0;I < N;I++){for(var H=arguments[I],Q=0,O=H.length;Q < O;(Q++,L++)){E[L]=H[Q];}}return E;}function x(E){return this instanceof x?(this.tF=E,this):new x(E);}function y(E,I,N){var M,P,R;function L(S){M[S] && (P[S]=function(U){return new Promise(function(ba,na){1 < R.push([S,U,ba,na]) || H(S,U);});});}function H(S,U){var ba;try{ba=M[S](U);ba.value instanceof x?Promise.resolve(ba.value.tF).then(Q,O):J(R[0][2],ba);}catch(na){J(R[0][3],na);}}function Q(S){H("next",S);}function O(S){H("throw",S);}function J(S,U){(S(U),R.shift(),R.length) && H(R[0][0],R[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=N.apply(E,I || []);R=[];return (P={},L("next"),L("throw"),L("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var N,L;function I(H,Q){N[H]=E[H]?function(O){return (L=!L)?{value:x(E[H](O)),done:"return" === H}:Q?Q(O):O;}:Q;}return (N={},I("next"),I("throw",function(H){throw H;}),I("return"),N[Symbol.iterator]=function(){return this;},N);}function A(E){var L,H;function I(Q){H[Q]=E[Q] && (function(O){return new Promise(function(J,M){O=E[Q](O);N(J,M,O.done,O.value);});});}function N(Q,O,J,M){Promise.resolve(M).then(function(P){Q({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");L=E[Symbol.asyncIterator];return L?L.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function D(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var N in E){Object.hasOwnProperty.call(E,N) && (I[N]=E[N]);}I.default=E;return I;}function C(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,N){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,N);return N;}a.r(b);a.d(b,"__extends",function(){return h;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return g;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return w;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b,a){var I,N;function c(){c=Object.assign || (function(L){for(var H,Q=1,O=arguments.length;Q < O;Q++){H=arguments[Q];for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (L[J]=H[J]);}}return L;});return c.apply(this,arguments);}function k(L,H){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(Q,O){Q.__proto__=O;}) || (function(Q,O){for(var J in O){Object.prototype.hasOwnProperty.call(O,J) && (Q[J]=O[J]);}});return k(L,H);}function h(L,H){function Q(){this.constructor=L;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");k(L,H);L.prototype=null === H?Object.create(H):(Q.prototype=H.prototype,new Q());}function g(L,H){var Q,O,J;Q={};for(O in L){Object.prototype.hasOwnProperty.call(L,O) && 0 > H.indexOf(O) && (Q[O]=L[O]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){J=0;for(O=Object.getOwnPropertySymbols(L);J < O.length;J++){0 > H.indexOf(O[J]) && Object.prototype.propertyIsEnumerable.call(L,O[J]) && (Q[O[J]]=L[O[J]]);}}return Q;}function d(L,H,Q,O){var J,M,P;J=arguments.length;M=3 > J?H:null === O?O=Object.getOwnPropertyDescriptor(H,Q):O;if("object" === typeof Reflect && "function" === typeof Reflect.Cs)M=Reflect.Cs(L,H,Q,O);else for(var R=L.length - 1;0 <= R;R--){if(P=L[R])M=(3 > J?P(M):3 < J?P(H,Q,M):P(H,Q)) || M;}return (3 < J && M && Object.defineProperty(H,Q,M),M);}function f(L,H){return function(Q,O){H(Q,O,L);};}function m(L,H){if("object" === typeof Reflect && "function" === typeof Reflect.Nc)return Reflect.Nc(L,H);}function l(L,H,Q,O){function J(M){return M instanceof Q?M:new Q(function(P){P(M);});}return new (Q || (Q=Promise))(function(M,P){function R(ba){try{U(O.next(ba));}catch(na){P(na);}}function S(ba){try{U(O["throw"](ba));}catch(na){P(na);}}function U(ba){ba.done?M(ba.value):J(ba.value).then(R,S);}U((O=O.apply(L,H || [])).next());});}function n(L,H){var J,M,P,R,S;function Q(U){return function(ba){return O([U,ba]);};}function O(U){if(M)throw new TypeError("Generator is already executing.");for(;J;){try{if((M=1,P && (R=U[0] & 2?P["return"]:U[0]?P["throw"] || ((R=P["return"]) && R.call(P),0):P.next) && !(R=R.call(P,U[1])).done))return R;if((P=0,R))U=[U[0] & 2,R.value];switch(U[0]){case 0:case 1:R=U;break;case 4:return (J.label++,{value:U[1],done:!1});case 5:J.label++;P=U[1];U=[0];continue;case 7:U=J.ro.pop();J.Dl.pop();continue;default:if(!(R=J.Dl,R=0 < R.length && R[R.length - 1]) && (6 === U[0] || 2 === U[0])){J=0;continue;}if(3 === U[0] && (!R || U[1] > R[0] && U[1] < R[3]))J.label=U[1];else if(6 === U[0] && J.label < R[1])(J.label=R[1],R=U);else if(R && J.label < R[2])(J.label=R[2],J.ro.push(U));else {R[2] && J.ro.pop();J.Dl.pop();continue;}}U=H.call(L,J);}catch(ba){U=[6,ba];P=0;}finally{M=R=0;}}if(U[0] & 5)throw U[1];return {value:U[0]?U[1]:void 0,done:!0};}J={label:0,jc:function(){if(R[0] & 1)throw R[1];return R[1];},Dl:[],ro:[]};return (S={next:Q(0),"throw":Q(1),"return":Q(2)},"function" === typeof Symbol && (S[Symbol.iterator]=function(){return this;}),S);}function p(L,H){for(var Q in L){"default" === Q || Object.prototype.hasOwnProperty.call(H,Q) || I(H,L,Q);}}function q(L){var H,Q,O;H="function" === typeof Symbol && Symbol.iterator;Q=H && L[H];O=0;if(Q)return Q.call(L);if(L && "number" === typeof L.length)return {next:function(){L && O >= L.length && (L=void 0);return {value:L && L[O++],done:!L};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(L,H){var Q,O,J;Q="function" === typeof Symbol && L[Symbol.iterator];if(!Q)return L;L=Q.call(L);J=[];try{for(;(void 0 === H || 0 < H--) && !(O=L.next()).done;){J.push(O.value);}}catch(P){var M;M={error:P};}finally{try{O && !O.done && (Q=L["return"]) && Q.call(L);}finally{if(M)throw M.error;}}return J;}function w(){for(var L=[],H=0;H < arguments.length;H++){L=L.concat(t(arguments[H]));}return L;}function v(){var O;for(var L=0,H=0,Q=arguments.length;H < Q;H++){L+=arguments[H].length;}L=Array(L);O=0;for(H=0;H < Q;H++){for(var J=arguments[H],M=0,P=J.length;M < P;(M++,O++)){L[O]=J[M];}}return L;}function u(L,H,Q){if(Q || 2 === arguments.length)for(var O=0,J=H.length,M;O < J;O++){!M && (O in H) || (M || (M=Array.prototype.slice.call(H,0,O)),M[O]=H[O]);}return L.concat(M || Array.prototype.slice.call(H));}function x(L){return this instanceof x?(this.tF=L,this):new x(L);}function y(L,H,Q){var S,U,ba;function O(na){S[na] && (U[na]=function(va){return new Promise(function(ya,ra){1 < ba.push([na,va,ya,ra]) || J(na,va);});});}function J(na,va){var ya;try{ya=S[na](va);ya.value instanceof x?Promise.resolve(ya.value.tF).then(M,P):R(ba[0][2],ya);}catch(ra){R(ba[0][3],ra);}}function M(na){J("next",na);}function P(na){J("throw",na);}function R(na,va){(na(va),ba.shift(),ba.length) && J(ba[0][0],ba[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");S=Q.apply(L,H || []);ba=[];return (U={},O("next"),O("throw"),O("return"),U[Symbol.asyncIterator]=function(){return this;},U);}function z(L){var Q,O;function H(J,M){Q[J]=L[J]?function(P){return (O=!O)?{value:x(L[J](P)),done:"return" === J}:M?M(P):P;}:M;}return (Q={},H("next"),H("throw",function(J){throw J;}),H("return"),Q[Symbol.iterator]=function(){return this;},Q);}function A(L){var O,J;function H(M){J[M]=L[M] && (function(P){return new Promise(function(R,S){P=L[M](P);Q(R,S,P.done,P.value);});});}function Q(M,P,R,S){Promise.resolve(S).then(function(U){M({value:U,done:R});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=L[Symbol.asyncIterator];return O?O.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),J={},H("next"),H("throw"),H("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(L,H){Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H;return L;}function D(L){var H;if(L && L.__esModule)return L;H={};if(null != L)for(var Q in L){"default" !== Q && Object.prototype.hasOwnProperty.call(L,Q) && I(H,L,Q);}N(H,L);return H;}function C(L){return L && L.__esModule?L:{default:L};}function F(L,H,Q,O){if("a" === Q && !O)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?L !== H || !O:!H.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === Q?O:"a" === Q?O.call(L):O?O.value:H.get(L);}function G(L,H,Q,O,J){if("m" === O)throw new TypeError("Private method is not writable");if("a" === O && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?L !== H || !J:!H.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === O?J.call(L,Q):J?J.value=Q:H.set(L,Q),Q);}function E(L,H){if(null === H || "object" !== typeof H && "function" !== typeof H)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?H === L:L.has(H);}a.r(b);a.d(b,"__extends",function(){return h;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return g;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return I;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return E;});I=Object.create?function(L,H,Q,O){var J;void 0 === O && (O=Q);J=Object.getOwnPropertyDescriptor(H,Q);if(!J || (("get" in J)?!H.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return H[Q];}};Object.defineProperty(L,O,J);}:function(L,H,Q,O){void 0 === O && (O=Q);L[O]=H[Q];};N=Object.create?function(L,H){Object.defineProperty(L,"default",{enumerable:!0,value:H});}:function(L,H){L["default"]=H;};},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ly=b.wGa=b.vGa=b.Tfa=b.uGa=b.Sfa=b.o3=b.d3=b.tGa=b.O=b.T=void 0;(function(k){k[k.zn=7001]="UNKNOWN";k[k.cQa=7002]="UNHANDLED_EXCEPTION";k[k.xlb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";k[k.Xkb=7004]="HLS_NOT_SUPPORTED";k[k.sga=7010]="INIT_ASYNCCOMPONENT";k[k.Blb=7011]="INIT_HTTP";k[k.vlb=7014]="INIT_BADMOVIEID";k[k.aIa=7020]="INIT_PLAYBACK_LOCK";k[k.bIa=7022]="INIT_SESSION_LOCK";k[k.Clb=7029]="INIT_POSTAUTHORIZE";k[k.$Ha=7031]="INIT_HEADER_MEDIA";k[k.Dlb=7034]="INIT_TIMEDTEXT_TRACK";k[k.xhb=7037]="ASE_SESSION_ERROR";k[k.whb=7038]="ASE_SEEK_THREW";k[k.yhb=7039]="ASE_SKIPPED_THREW";k[k.ylb=7041]="INIT_CORE_OBJECTS1";k[k.zlb=7042]="INIT_CORE_OBJECTS2";k[k.Alb=7043]="INIT_CORE_OBJECTS3";k[k.UHa=7053]="INIT_COMPONENT_STORAGE";k[k.VHa=7054]="INIT_COMPONENT_STORAGELOCK";k[k.RHa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";k[k.tga=7059]="INIT_COMPONENT_DEVICE";k[k.SHa=7063]="INIT_COMPONENT_MSL";k[k.QHa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";k[k.tC=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";k[k.ZHa=7083]="INIT_COMPONENT_WEBCRYPTO";k[k.PHa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";k[k.NHa=7088]="INIT_COMPONENT_BATTERY_MANAGER";k[k.MHa=7089]="INIT_COMPONENT_ASE";k[k.vL=7091]="INIT_COMPONENT_DRM_CACHE";k[k.wlb=7092]="INIT_COMPONENT_DRM";k[k.OHa=7094]="INIT_COMPONENT_FTL";k[k.THa=7095]="INIT_COMPONENT_PREPARE_MODEL";k[k.WHa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";k[k.XHa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";k[k.YHa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";k[k.BL=7111]="MANIFEST";k[k.rJa=7117]="MANIFEST_VERIFY";k[k.zob=7120]="START";k[k.yL=7121]="LICENSE";k[k.dia=7122]="RELEASE";k[k.Aob=7123]="STOP";k[k.Bga=7125]="KEEPALIVE";k[k.unb=7131]="PING";k[k.Ikb=7134]="ENGAGE";k[k.Zlb=7137]="LOGBLOB";k[k.Xac=7138]="PAUSE";k[k.nbc=7139]="RESUME";k[k.sOa=7140]="SPLICE";k[k.Vhb=7142]="BIND";k[k.Whb=7144]="BIND_DEVICE";k[k.Ukb=7145]="GENERATE_SCREENSHOTS";k[k.ynb=7202]="PLAY_INIT_EXCEPTION";k[k.rha=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";k[k.Enb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";k[k.pLa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";k[k.Fnb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";k[k.sha=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";k[k.Dnb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";k[k.tLa=7351]="PLAY_MSE_NOTSUPPORTED";k[k.oLa=7353]="PLAY_MSE_DECODER_TIMEOUT";k[k.tha=7355]="PLAY_MSE_SOURCEADD";k[k.nLa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";k[k.$S=7357]="PLAY_MSE_GENERATEKEYREQUEST";k[k.sLa=7361]="PLAY_MSE_EVENT_ERROR";k[k.LL=7362]="PLAY_MSE_SETMEDIAKEYS";k[k.Xr=7363]="PLAY_MSE_EVENT_KEYERROR";k[k.Hnb=7364]="PLAY_MSE_EME_SESSION_CLOSE";k[k.Inb=7365]="PLAY_MSE_GETCURRENTTIME";k[k.Jnb=7367]="PLAY_MSE_SETCURRENTTIME";k[k.Knb=7371]="PLAY_MSE_SOURCEAPPEND";k[k.Onb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";k[k.Nnb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";k[k.Mnb=7377]="PLAY_MSE_UNEXPECTED_REWIND";k[k.Lnb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";k[k.uLa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";k[k.znb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";k[k.Anb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";k[k.Bnb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";k[k.qLa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";k[k.Gnb=7395]="PLAY_MSE_EME_MISSING_PSSH";k[k.rLa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";k[k.Cnb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";k[k.z3=7399]="PLAY_MSE_SET_LICENSE_ERROR";k[k.fGa=7400]="EXTERNAL";k[k.y3=7500]="PAUSE_TIMEOUT";k[k.e3=7502]="INACTIVITY_TIMEOUT";k[k.Hhb=7510]="AUTHORIZATION_EXPIRED";k[k.Akb=7700]="EME_INVALID_KEYSYSTEM";k[k.TFa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";k[k.hS=7702]="EME_CREATE_MEDIAKEYS_FAILED";k[k.k2=7703]="EME_GENERATEREQUEST_FAILED";k[k.$Fa=7704]="EME_UPDATE_FAILED";k[k.YFa=7705]="EME_KEYSESSION_ERROR";k[k.XFa=7706]="EME_KEYMESSAGE_EMPTY";k[k.Ekb=7707]="EME_REMOVE_FAILED";k[k.Ckb=7708]="EME_LOAD_FAILED";k[k.wkb=7709]="EME_CREATE_SESSION_FAILED";k[k.Nfa=7710]="EME_LDL_RENEWAL_ERROR";k[k.VFa=7711]="EME_INVALID_INITDATA_DATA";k[k.WFa=7712]="EME_INVALID_LICENSE_DATA";k[k.Bkb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";k[k.SFa=7716]="EME_CLOSE_FAILED";k[k.Ofa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";k[k.Gkb=7718]="EME_SET_SERVER_CERTIFICATE";k[k.vnb=7800]="PLAYDATA_STORE_FAILURE";k[k.OR=7900]="BRANCH_PLAY_FAILURE";k[k.PR=7901]="BRANCH_QUEUE_FAILURE";k[k.wDa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";k[k.cib=7903]="BRANCH_CHOICE_MAP_MISSING";k[k.hnb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.T || (b.T={}));(function(k){k[k.zn=1001]="UNKNOWN";k[k.km=1003]="EXCEPTION";k[k.Glb=1004]="INVALID_DI";k[k.Bhb=1011]="ASYNCLOAD_EXCEPTION";k[k.Chb=1013]="ASYNCLOAD_TIMEOUT";k[k.z8b=1015]="ASYNCLOAD_BADCONFIG";k[k.zhb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";k[k.Ahb=1017]="ASYNCLOAD_COMPONENT_MISSING";k[k.zS=1101]="HTTP_UNKNOWN";k[k.nga=1102]="HTTP_XHR";k[k.wS=1103]="HTTP_PROTOCOL";k[k.vS=1104]="HTTP_OFFLINE";k[k.yS=1105]="HTTP_TIMEOUT";k[k.PF=1106]="HTTP_READTIMEOUT";k[k.sC=1107]="HTTP_ABORT";k[k.mHa=1108]="HTTP_PARSE";k[k.iHa=1110]="HTTP_BAD_URL";k[k.xS=1111]="HTTP_PROXY";k[k.Uga=1203]="MSE_AUDIO";k[k.Vga=1204]="MSE_VIDEO";k[k.lmb=1250]="MSE_MEDIA_ERR_BASE";k[k.Z$b=1251]="MSE_MEDIA_ERR_ABORTED";k[k.bac=1252]="MSE_MEDIA_ERR_NETWORK";k[k.$$b=1253]="MSE_MEDIA_ERR_DECODE";k[k.cac=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";k[k.aac=1255]="MSE_MEDIA_ERR_ENCRYPTED";k[k.Tt=1260]="EME_MEDIA_KEYERR_BASE";k[k.W9b=1261]="EME_MEDIA_KEYERR_UNKNOWN";k[k.R9b=1262]="EME_MEDIA_KEYERR_CLIENT";k[k.V9b=1263]="EME_MEDIA_KEYERR_SERVICE";k[k.U9b=1264]="EME_MEDIA_KEYERR_OUTPUT";k[k.T9b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";k[k.S9b=1266]="EME_MEDIA_KEYERR_DOMAIN";k[k.X9b=1269]="EME_MEDIA_UNAVAILABLE_CDM";k[k.zkb=1270]="EME_INTERNAL_ERROR";k[k.vkb=1271]="EME_CLOSED_BY_APPLICATION";k[k.Dkb=1272]="EME_RELEASE_ACKNOWLEDGED";k[k.Mfa=1273]="EME_HARDWARE_CONTEXT_RESET";k[k.Fkb=1274]="EME_RESOURCE_EVICTED";k[k.ykb=1280]="EME_ERROR_NODRMSESSSION";k[k.xkb=1281]="EME_ERROR_NODRMREQUESTS";k[k.O9b=1282]="EME_ERROR_INDIV_FAILED";k[k.P9b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";k[k.Hkb=1284]="EME_TIMEOUT_MESSAGE";k[k.Y9b=1285]="EME_TIMEOUT_KEYCHANGE";k[k.ZFa=1286]="EME_UNDEFINED_DATA";k[k.qL=1287]="EME_INVALID_STATE";k[k.Q9b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";k[k.UFa=1289]="EME_EMPTY_DATA";k[k.iS=1290]="EME_TIMEOUT";k[k.qac=1303]="NCCP_METHOD_NOT_SUPPORTED";k[k.tac=1305]="NCCP_PARSEXML";k[k.Rnb=1309]="PROCESS_EXCEPTION";k[k.sac=1311]="NCCP_NETFLIXID_MISSING";k[k.uac=1312]="NCCP_SECURENETFLIXID_MISSING";k[k.nac=1313]="NCCP_HMAC_MISSING";k[k.mac=1315]="NCCP_HMAC_MISMATCH";k[k.lac=1317]="NCCP_HMAC_FAILED";k[k.kac=1321]="NCCP_CLIENTTIME_MISSING";k[k.jac=1323]="NCCP_CLIENTTIME_MISMATCH";k[k.QGa=1331]="GENERIC";k[k.Dmb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";k[k.Emb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";k[k.vac=1341]="NCCP_TRANSACTION";k[k.oac=1343]="NCCP_INVALID_DRMTYPE";k[k.pac=1344]="NCCP_INVALID_LICENCE_RESPONSE";k[k.rac=1345]="NCCP_MISSING_PAYLOAD";k[k.bbc=1346]="PROTOCOL_NOT_INITIALIZED";k[k.abc=1347]="PROTOCOL_MISSING_FIELD";k[k.$ac=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";k[k.FC=1402]="STORAGE_NODATA";k[k.xbc=1403]="STORAGE_EXCEPTION";k[k.Fbc=1405]="STORAGE_QUOTA_NOT_GRANTED";k[k.Gbc=1407]="STORAGE_QUOTA_TO_SMALL";k[k.vOa=1411]="STORAGE_LOAD_ERROR";k[k.Cob=1412]="STORAGE_LOAD_TIMEOUT";k[k.wOa=1414]="STORAGE_SAVE_ERROR";k[k.Fob=1415]="STORAGE_SAVE_TIMEOUT";k[k.mia=1417]="STORAGE_DELETE_ERROR";k[k.uOa=1418]="STORAGE_DELETE_TIMEOUT";k[k.Ebc=1421]="STORAGE_FS_REQUESTFILESYSTEM";k[k.Bbc=1423]="STORAGE_FS_GETDIRECTORY";k[k.Dbc=1425]="STORAGE_FS_READENTRIES";k[k.ybc=1427]="STORAGE_FS_FILEREAD";k[k.Abc=1429]="STORAGE_FS_FILEWRITE";k[k.zbc=1431]="STORAGE_FS_FILEREMOVE";k[k.Cbc=1432]="STORAGE_FS_PARSEJSON";k[k.Eob=1451]="STORAGE_NO_LOCALSTORAGE";k[k.Dob=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";k[k.Eac=1501]="NTBA_UNKNOWN";k[k.Dac=1502]="NTBA_EXCEPTION";k[k.zac=1504]="NTBA_CRYPTO_KEY";k[k.Bac=1506]="NTBA_CRYPTO_OPERATION";k[k.Aac=1508]="NTBA_CRYPTO_KEYEXCHANGE";k[k.Cac=1515]="NTBA_DECRYPT_UNSUPPORTED";k[k.VEa=1553]="DEVICE_NO_ESN";k[k.Fjb=1555]="DEVICE_ERROR_GETTING_ESN";k[k.z$b=1701]="FORMAT_UNKNOWN";k[k.Nkb=1713]="FORMAT_XML";k[k.A$b=1715]="FORMAT_XML_CONTENT";k[k.x$b=1721]="FORMAT_BASE64";k[k.y$b=1723]="FORMAT_DFXP";k[k.hlb=1801]="INDEXDB_OPEN_EXCEPTION";k[k.KHa=1802]="INDEXDB_NOT_SUPPORTED";k[k.glb=1803]="INDEXDB_OPEN_ERROR";k[k.LHa=1804]="INDEXDB_OPEN_NULL";k[k.flb=1805]="INDEXDB_OPEN_BLOCKED";k[k.ilb=1807]="INDEXDB_OPEN_TIMEOUT";k[k.elb=1808]="INDEXDB_INVALID_STORE_STATE";k[k.f3=1809]="INDEXDB_ACCESS_EXCEPTION";k[k.vmb=1901]="MSL_UNKNOWN";k[k.omb=1911]="MSL_INIT_NO_MSL";k[k.CJa=1913]="MSL_INIT_ERROR";k[k.pmb=1915]="MSL_INIT_NO_WEBCRYPTO";k[k.mmb=1931]="MSL_ERROR";k[k.umb=1933]="MSL_REQUEST_TIMEOUT";k[k.tmb=1934]="MSL_READ_TIMEOUT";k[k.nmb=1935]="MSL_ERROR_HEADER";k[k.dac=1936]="MSL_ERROR_ENVELOPE";k[k.eac=1937]="MSL_ERROR_MISSING_PAYLOAD";k[k.BJa=1957]="MSL_ERROR_REAUTH";k[k.Pia=2103]="WEBCRYPTO_MISSING";k[k.lcc=2105]="WEBCRYPTOKEYS_MISSING";k[k.dpb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";k[k.h9b=2200]="CACHEDDATA_PARSEJSON";k[k.UDa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";k[k.i9b=2202]="CACHEDDATA_UPGRADE_FAILED";k[k.pC=2203]="CACHEDDATA_INVALID_FORMAT";k[k.x8b=3E3]="ACCOUNT_CHANGE_INFLIGHT";k[k.y8b=3001]="ACCOUNT_INVALID";k[k.G9b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";k[k.F9b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";k[k.D9b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";k[k.E9b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";k[k.C9b=3202]="DOWNLOADED_LICENSE_EXCEPTION";k[k.Hbc=3300]="STORAGE_VA_LOAD_ERROR";k[k.Ibc=3301]="STORAGE_VA_LOAD_TIMEOUT";k[k.Lbc=3302]="STORAGE_VA_SAVE_ERROR";k[k.Mbc=3303]="STORAGE_VA_SAVE_TIMEOUT";k[k.Jbc=3304]="STORAGE_VA_REMOVE_ERROR";k[k.Kbc=3305]="STORAGE_VA_REMOVE_TIMEOUT";k[k.oha=3077]="PBO_DEVICE_EOL_WARNING";k[k.hLa=3078]="PBO_DEVICE_EOL_FINAL";k[k.kLa=3100]="PBO_DEVICE_RESET";k[k.jLa=3101]="PBO_DEVICE_RELOAD";k[k.iLa=3102]="PBO_DEVICE_EXIT";k[k.snb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.cnb=5005]="PBO_ACCOUNT_ON_HOLD";k[k.gnb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.lLa=5007]="PBO_INCORRECT_PIN";k[k.pnb=5008]="PBO_MOBILE_ONLY";k[k.tnb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";k[k.lnb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";k[k.enb=5059]="PBO_BLACKLISTED_IP";k[k.dnb=5070]="PBO_AGE_VERIFICATION_REQUIRED";k[k.fnb=5080]="PBO_CHOICE_MAP_ERROR";k[k.qnb=5090]="PBO_RESTRICTED_TO_TESTERS";k[k.nnb=5091]="PBO_MALFORMED_REQUEST";k[k.mnb=5092]="PBO_INVALID_SERVICE_VERSION";k[k.onb=5093]="PBO_MDX_INVALID_CTICKET";k[k.knb=5094]="PBO_FREE_PREVIEW_ENDED";k[k.rnb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";k[k.jnb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";k[k.inb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";k[k.njb=5100]="DECODER_TIMEOUT_BUFFERING";k[k.pjb=5101]="DECODER_TIMEOUT_PRESENTING";k[k.ojb=5102]="DECODER_TIMEOUT_PLAYING";k[k.fkb=5200]="DOWNLOADER_IO_ERROR";k[k.vDa=5300]="BRANCHING_SEGMENT_NOTFOUND";k[k.Zhb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";k[k.M8b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";k[k.$ea=5303]="BRANCHING_ASE_UNINITIALIZED";k[k.I8b=5304]="BRANCHING_ASE_FAILURE";k[k.J8b=5305]="BRANCHING_MOMENT_FAILURE";k[k.Xhb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";k[k.L8b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";k[k.$hb=5308]="BRANCHING_SEEK_THREW";k[k.K8b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";k[k.Yhb=5310]="BRANCHING_PLAY_TIMEDOUT";k[k.aib=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";k[k.bib=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";k[k.Gob=5500]="STUDIO_MUXED_MANIFEST";k[k.Pga=5600]="MANIFEST_HYDRATION_FAILURE";k[k.Ihb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";k[k.Jhb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.O || (b.O={}));(function(k){k[k.X8b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.N8b=5005]="BR_ACCOUNT_ON_HOLD";k[k.R8b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.U8b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";k[k.Q8b=5059]="BR_BLACKLISTED_IP";k[k.O8b=5070]="BR_AGE_VERIFICATION_REQUIRED";k[k.V8b=2204]="BR_PLAYBACK_CONTEXT_CREATION";k[k.S8b=2205]="BR_DRM_LICENSE_AQUISITION";k[k.W8b=2206]="BR_PLAYBACK_SERVICE_ERROR";k[k.T8b=2207]="BR_ENDPOINT_ERROR";k[k.P8b=2208]="BR_AUTHORIZATION_ERROR";})(b.tGa || (b.tGa={}));b.d3={jib:"400",gcc:"401",ALa:"413"};b.o3={v$b:1,Zbc:2,a$b:3,ecc:4,Q$b:5,$9b:6,Gia:7,c$b:8,lbc:9,ubc:10};b.Sfa=function(k,h,g,d){return k == a.y3 || k == a.e3 || k == a.rha && 432E5 <= g || k == a.Ofa && h === c.Mfa && 0 < Number(d);};b.uGa=function(k){return 1100 <= k && 1199 >= k;};b.Tfa=function(k,h){return 1 <= k && 9 >= k?h + k:h;};b.vGa=function(k){return (0,b.Tfa)(k,c.lmb);};b.wGa=function(k){return (0,b.Tfa)(k,c.Tt);};b.Ly=function(k){var h,g,d;h={};g=k.errorExternalCode || k.Df;d=k.errorDetails || k.Sb;h.ErrorSubCode=k.errorSubCode || k.wa || c.zn;g && (h.ErrorExternalCode=g);d && (h.ErrorDetails=d);return h;};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(1);k=a(147);h=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);return d;})(Error);b.assert=function(g,d){if(!g)try{throw new h(d || "Assertion failed");}catch(f){throw (k.rn.I.error("Assertion failed",{value:g,message:d,stack:f.stack}),f);}};},function(r,b,a){var h;function c(){return h.rT.apply(this,arguments) || this;}function k(g){return new h.Xt(g,b.la);}Object.defineProperty(b,"__esModule",{value:!0});b.hb=b.yHa=b.cha=b.Oo=b.la=b.aG=b.timestamp=b.VNb=b.Naa=b.Kh=b.Sc=b.L$a=b.BTb=b.Tob=void 0;h=a(336);la(c,h.rT);b.Tob=c;b.BTb=function(g){return new h.Xt(g,b.aG);};b.L$a=function(g){return new h.Xt(g * b.Oo.Ag,b.aG);};b.Sc=k;b.Kh=function(g){return new h.Xt(g,b.Oo);};b.Naa=function(g){return new h.Xt(g,b.cha);};b.VNb=function(g){return new h.Xt(g,b.yHa);};b.timestamp=function(g){return k(g);};b.aG=new c(1,"\u03bcs");b.la=new c(1E3,"ms",b.aG);b.Oo=new c(1E3 * b.la.Ag,"s",b.aG);b.cha=new c(60 * b.Oo.Ag,"min",b.aG);b.yHa=new c(60 * b.cha.Ag,"hr",b.aG);b.hb=k(0);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={WX:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gS=b.yb=b.Jga=b.bk=void 0;r=b.bk || (b.bk={});r[r.Mkb=0]="FATAL";r[r.ag=1]="ERROR";r[r.Oia=2]="WARN";r[r.rga=3]="INFO";r[r.xPa=4]="TRACE";r[r.Z=5]="DEBUG";b.Jga="LogFieldBuilderFactorySymbol";b.yb="LoggerFactorySymbol";b.gS={};},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aa=b.bNa=b.fX=b.Ii=b.Aj=b.log=b.Vf=b.DO=b.yVa=b.us=b.Nz=b.uc=b.uxb=b.xma=b.sxb=b.txb=b.yj=b.rR=b.Z0=b.Nh=b.Tc=b.Da=void 0;c=a(204);r=a(7);k=a(28);h=a(70);g=a(76);d=a(33);f=a(13);m=a(145);l=a(35);a=a(50);b.Da=c.pc.get(l.wi);b.Tc=c.pc.get(a.ek);b.Nh=c.pc.get(h.au);b.Z0=b.Nh.encode.bind(b.Nh);b.rR=b.Nh.decode.bind(b.Nh);b.yj=c.pc.get(g.Cy);b.txb=b.yj.encode.bind(b.yj);b.sxb=b.yj.decode.bind(b.yj);b.xma=b.yj.lI.bind(b.yj);b.uxb=b.yj.cfb.bind(b.yj);b.uc=c.pc.get(d.vi);b.Nz=function(n){n=(0,f.Uf)(n)?(0,b.rR)(n):n;return b.uc.encode(n);};b.us=b.uc.decode.bind(b.uc);b.yVa=function(n){return (0,b.Z0)((0,b.us)(n));};b.DO=function(){return c.pc.get(k.Gy);};b.Vf=c.pc.get(r.yb);b.log=b.Vf.kb("General");b.Aj=function(n,p){return b.Vf.kb(n,void 0,p);};b.Ii=function(n,p,q){return b.Vf.kb(p,n,q);};b.fX=function(n,p,q,t){return b.Vf.kb(n,void 0,t,p,q);};b.bNa=function(n,p,q){return c.pc.get(m.dT)(n,p,q).J0();};b.Aa=c.pc;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cT=b.RGa=b.HQa=void 0;r=a(1);r.__exportStar(a(375),b);r.__exportStar(a(99),b);r.__exportStar(a(21),b);r.__exportStar(a(828),b);r.__exportStar(a(829),b);r.__exportStar(a(830),b);r.__exportStar(a(831),b);r.__exportStar(a(832),b);r.__exportStar(a(833),b);r.__exportStar(a(834),b);c=r.__importDefault(a(835));b.HQa=c.default;c=r.__importDefault(a(836));b.RGa=c.default;a=r.__importDefault(a(385));b.cT=a.default;},function(r){var b;b={Ga:function(a){return "number" === typeof a;},Bj:function(a){return "object" === typeof a;},Uf:function(a){return "string" === typeof a;},ma:function(a){return "undefined" === typeof a;},dfc:function(a){return "boolean" === typeof a;},kd:function(a){return "function" === typeof a;},xb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},EWb:function(a){var c,k;k=[];if(!b.Bj(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && k.push([c,a[c]]);}return k;}};b.Cf=b.forEach=function(a,c,k){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var h=0,g=a.length;h < g;h++){c.call(k,a[h],h,a);}else for(h in a){b.has(a,h) && c.call(k,a[h],h,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tn={qdc:"casttv",xna:"chrome",udc:"chromecast",Hq:"edge",DZa:"edgeoss",Z_a:"firefox",Xec:"ie",opera:"opera",Qbb:"safari",Beb:"tesla"};b.Ko={c6:"android",y4a:"ios",HWa:"chromeos",c6a:"linux",F6a:"mac",oea:"windows"};b.c3={pAb:"computer",phone:"phone",p4b:"tablet"};b.Wc="ConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lua=b.localStorage=b.KOb=b.indexedDB=b.HKa=b.Cq=b.zC=b.yC=b.URL=b.r3=b.Hmb=b.SJa=b.RJa=b.m3=b.MS=b.Ry=b.Wt=b.wn=b.xmb=b.DL=b.qPa=b.aFa=b.Zmb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Kz=b.Gmb=b.wh=b.xw=b.IKa=b.yw=b.q3=b.fG=void 0;r=nb;b.Ee=r.navigator;b.fG=null === b.Ee || void 0 === b.Ee?void 0:b.Ee.userAgent;b.q3=r.location;b.yw=r.screen;b.IKa=r.devicePixelRatio;b.xw=r.performance;b.wh=r.document;b.Gmb=b.wh.documentElement;b.Kz=Array.prototype;b.sort=b.Kz.sort;b.map=b.Kz.map;b.slice=b.Kz.slice;b.every=b.Kz.every;b.reduce=b.Kz.reduce;b.filter=b.Kz.filter;b.forEach=b.Kz.forEach;b.pop=b.Kz.pop;b.Zmb=Object.create;b.aFa=Date.now;b.qPa=String.fromCharCode;b.DL=Math.floor;b.xmb=Math.ceil;b.wn=Math.round;b.Wt=Math.max;b.Ry=Math.min;b.MS=Math.random;b.m3=Math.abs;b.RJa=Math.pow;b.SJa=Math.sqrt;b.Hmb=r.escape;b.r3=r.unescape;b.URL=r.URL || r.webkitURL;b.yC=r.MediaSource || r.WebKitMediaSource;b.zC=r.webkitCrypto || r.msCrypto || r.crypto;b.Cq=b.zC && (b.zC.webkitSubtle || b.zC.subtle);b.HKa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.KOb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Lua=a || "noex";}},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.kd=b.B4a=b.lP=b.Uf=b.cua=b.FPb=b.tPb=b.Sta=b.mE=b.O4a=b.Ga=b.aua=b.isArray=b.m5a=b.Bj=b.sd=b.is=void 0;r=a(203);b.is=r.TF;b.sd=function(c){return b.is.Qg(c);};b.Bj=function(c){return b.is.VU(c);};b.m5a=function(c){return b.is.lla(c);};b.isArray=function(c){return b.is.iD(c);};b.aua=function(c){return b.is.FUa(c);};b.Ga=function(c,k,h){return b.is.uj(c,k,h);};b.O4a=function(c,k,h){return b.is.Rla(c,k,h);};b.mE=function(c,k,h){return b.is.WU(c,k,h);};b.Sta=function(c){return b.is.MU(c);};b.tPb=function(c){return b.is.Qub(c);};b.FPb=function(c){return b.is.Rub(c);};b.cua=function(c){return b.is.GUa(c);};b.Uf=function(c){return b.is.lu(c);};b.lP=function(c){return b.is.In(c);};b.B4a=function(c){return b.is.M5(c);};b.kd=function(c){return b.is.O5(c);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LS=b.j3=b.uib=b.pib=b.rib=b.sib=b.IDa=b.oib=b.qib=b.HDa=b.tib=b.Aib=b.yib=b.zib=b.xib=b.rkb=b.qkb=b.pkb=b.dmb=b.emb=b.l3=b.xJa=b.yJa=b.k3=b.LFa=b.skb=b.Kfa=b.j2=b.Umb=b.vob=b.tJa=b.iib=b.SEa=b.x3=b.KL=b.w3=b.sJa=b.Qy=b.hib=b.uDa=b.Ulb=b.apb=b.cmb=b.bmb=b.oob=b.nob=b.Vt=b.Fg=b.VNa=b.zw=void 0;b.tDa=b.eia=void 0;b.zw=function(){};b.VNa=function(){return !0;};b.Fg={da:!0};b.Vt=1E3;b.nob=86400;b.oob=604800;b.bmb=1E4;b.cmb=1E7;b.apb=1.5;b.Ulb=.128;b.uDa=7.8125;b.hib=128;b.Qy=145152E5;b.sJa=1E5;b.w3="$netflix$player$order";b.KL=-1;b.x3=1;b.SEa=["en-US"];b.iib=8;b.tJa=65535;b.vob=65536;b.Umb=Number.MAX_VALUE;b.j2="playready";b.Kfa="widevine";b.skb="fps";b.LFa="clearkey";b.k3='audio/mp4; codecs="mp4a.40.5"';b.yJa='audio/mp4; codecs="mp4a.40.42"';b.xJa='audio/mp4; codecs="mp4a.a6"';b.l3='video/mp4; codecs="avc1.640028"';b.emb='video/mp4; codecs="hev1.2.6.L153.B0"';b.dmb='video/mp4; codecs="dvhe.01000000"';b.pkb="9A04F079-9840-4286-AB92-E65BE0885F95";b.qkb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.rkb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.xib=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.zib="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.yib="4E657466-6C69-7846-7261-6D6552617465";b.Aib="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.tib="mp4a";b.HDa="enca";b.qib="ec-3";b.oib="avc1";b.IDa="encv";b.sib="hvcC";b.rib="hev1";b.pib="dvhe";b.uib="vp09";b.j3=0;b.LS=1;b.eia="position:relative;width:100%;height:100%;overflow:hidden";b.tDa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(1).__exportStar(a(371),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Z=!1;},function(r,b,a){b=a(116);b.nEb=0;r.exports={EventEmitter:b,Dg:a(824)};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ye=b.jb=b.Kf=b.dc=b.ga=b.wga=b.mG=b.Ja=void 0;(function(c){c.k6a="loadedtracks";c.j6a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Dq="currenttimechanged";c.Ifb="unthrottledcurrenttimechanged";c.Lma="bufferedtimechanged";c.AZa="durationchanged";c.Mgb="videosizechanged";c.Y9a="pausedchanged";c.Mxa="playingchanged";c.f_a="endedchanged";c.uN="busychanged";c.v6="audiotracklistchanged";c.zm="audiotrackchanged";c.aw="timedtexttracklistchanged";c.fm="timedtexttrackchanged";c.N0="trickplayframeschanged";c.n8a="mutedchanged";c.Rgb="volumechanged";c.kAa="showsubtitle";c.Mya="removesubtitle";c.I7b="watermark";c.Wta="isReadyToTransition";c.XO="inactivated";c.v4a="internalPlaybackError";c.Y0b="segmentmaploaded";c.Z0b="segmentpresenting";c.pVa="autoplaywasallowed";c.x6="autoplaywasblocked";})(b.Ja || (b.Ja={}));(b.mG || (b.mG={})).O_="playgraphsegmenttransition";b.wga=a;a.ncb="serverTimeChanged";(function(c){c.kN="aseReport";c.oma="autoplayWasAllowed";c.Fi="autoplayWasBlocked";c.Qz="bufferUnderrun";c.closed="closed";c.fh="closing";c.Dq="currentTimeChanged";c.HD="downloadComplete";c.XO="inactivated";c.X5a="licenseAdded";c.yY="licensed";c.BY="locationSelected";c.jva="manifestClosing";c.bJ="manifestPresenting";c.taa="mediaBufferChanged";c.$aa="nextBranchingSegmentChosen";c.Av="playbackStart";c.Ym="playbackReady";c.Lk="repositioned";c.UJ="repositioning";c.Sbb="safePlayRequested";c.jK="segmentPresenting";c.S_="serverSwitch";c.hdb="shouldUpdateVideoDiagInfo";c.$Q="subtitleError";c.lBa="throttledMediaTimeChanged";c.Jfb="unthrottledMediaTimeChanged";c.fR="timedTextRebuffer";c.aw="timedTextTrackListChanged";c.N0="trickPlayFramesChanged";c.SBa="updateNextBranchingSegmentWeights";c.V6b="userInitiatedPause";c.Agb="userInitiatedResume";c.jfb="tracksHydrated";})(b.ga || (b.ga={}));(function(c){c[c.IL=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.we=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.dc || (b.dc={}));(function(c){c[c.we=1]="NORMAL";c[c.yd=2]="BUFFERING";c[c.tOa=3]="STALLED";})(b.Kf || (b.Kf={}));(function(c){c[c.cg=1]="WAITING";c[c.Rc=2]="PLAYING";c[c.xh=3]="PAUSED";c[c.Or=4]="ENDED";})(b.jb || (b.jb={}));(function(c){c[c.Ny=0]="INITIAL";c[c.pG=1]="SEEK";c[c.Y3=2]="TRACK_CHANGED";c[c.SL=3]="SEGMENT_CHANGED";c[c.n2=4]="FORCE_REBUFFER";})(b.Ye || (b.Ye={}));},function(r,b,a){var h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D;function c(C){return (C=b.config.L5b[k(C)])?C:{};}function k(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":C;}Object.defineProperty(b,"__esModule",{value:!0});b.tAb=b.uAb=b.tXa=b.Una=b.sAb=b.uXa=b.rAb=b.vXa=b.Tna=b.config=void 0;h=a(14);g=a(44);d=a(8);f=a(40);m=a(24);l=a(28);n=a(43);p=a(25);a(7);q=a(12);t=a(13);w=a(173);v=a(52);u=a(86);x=a(111);y=a(53);z=a(5);A=a(46);B=a(20);D=a(123);b.vXa=function(C,F){var ya,ra,V,K,T,fa,ia,Ba,Sa;function G(La,Za){(0,p.Rg)(La,function(Wa,Va){(0,t.kd)(Va)?Za[Wa]=Va.call(void 0,Za[Wa]):(0,t.Bj)(Va) && (Za[Wa]=Za[Wa] || ({}),G(Va,Za[Wa]));});}function E(La,Za,Wa,Va){for(var cb=[],wb=3;wb < arguments.length;++wb){cb[wb - 3]=arguments[wb];}return function(da){(0,t.sd)(da) && (Wa=da);(0,m.sb)((0,t.kd)(La));return La.apply(void 0,[Za,Wa].concat(ja(cb)));};}function I(La){La=La.toLowerCase();K.hasOwnProperty(La) && (V[La]=K[La],T[La]=K[La]);return La;}function N(La,Za,Wa){var Va;La=La.toLowerCase();if(V.hasOwnProperty(La)){Va=V[La];try{Va=Wa?Wa(Va):Va;}catch(cb){Va=void 0;}if(void 0 !== Va)return Va;(0,m.sb)(!1);d.log.error("Invalid configuration value. Name: " + La);}return Za;}function L(La,Za,Wa,Va){return N(La,Za,function(cb){(0,t.Uf)(cb) && (cb=(0,p.Mj)(cb));if((0,t.O4a)(cb,Wa,Va))return cb;});}function H(La,Za,Wa,Va){return N(La,Za,function(cb){(0,t.Uf)(cb) && (cb=(0,p.Mj)(cb));if((0,t.mE)(cb,Wa,Va))return cb;});}function Q(La,Za,Wa,Va){return N(La,Za,function(cb){(0,t.Uf)(cb) && (cb=parseFloat(cb));if((0,t.Ga)(cb,Wa,Va))return cb;});}function O(La,Za,Wa){return N(La,Za,function(Va){if(Wa?Wa.test(Va):(0,t.Uf)(Va))return Va;});}function J(La,Za){return N(La,Za,function(Wa){if("true" == Wa || !0 === Wa)return !0;if("false" == Wa || !1 === Wa)return !1;});}function M(La,Za){return N(La,Za,function(Wa){if((0,t.Uf)(Wa))return JSON.parse((0,q.r3)(Wa));if((0,t.Bj)(Wa))return Wa;});}function P(La,Za,Wa,Va,cb,wb){var da;La=La.toLowerCase();V.hasOwnProperty(La) && (da=V[La]);if(!(0,t.sd)(da))return Za;if((0,t.Uf)(da))if(da[0] !== Wa)da=Va(da);else try{da=JSON.parse((0,q.r3)(da));}catch(ua){da=void 0;}if(void 0 === da)return Za;for(La=0;La < cb.length;La++){if(!cb[La](da))return Za;}return wb?wb(da):da;}function R(La,Za,Wa,Va,cb){return P(La,Za,"[",function(wb){wb=wb.split("|");for(var da=wb.length;da--;){wb[da]=(0,p.Mj)(wb[da]);}return wb;},[function(wb){return (0,t.isArray)(wb) && 0 < wb.length;},function(wb){for(var da=wb.length;da--;){if(!(0,t.mE)(wb[da],Wa,Va))return !1;}return !0;},function(wb){return void 0 === cb || wb.length >= cb;}]);}function S(La,Za){return P(La,Za,"[",function(Wa){Wa=(0,t.isArray)(Wa)?Wa:Wa.split("|");for(var Va=Wa.length;Va--;){try{Wa[Va]=JSON.parse((0,q.r3)(Wa[Va]));}catch(cb){Wa=void 0;break;}}return Wa;},[function(Wa){return (0,t.isArray)(Wa) && 0 < Wa.length;},function(Wa){for(var Va=Wa.length;Va--;){if(!(0,t.sd)(Wa[Va]) || !(0,t.Bj)(Wa[Va]))return !1;}return !0;}]);}function U(La,Za){var Wa;Wa=ba(La,[]);return Wa && 0 < Wa.length?(0,D.wo)(Wa):S(La,Za);}function ba(La,Za,Wa,Va){return P(La,Za,"[",function(cb){return (0,t.isArray)(cb)?cb:cb.split("|");},[function(cb){return (0,t.isArray)(cb) && 0 < cb.length;},function(cb){for(var wb=cb.length;wb--;){if(Wa?!Wa.test(cb[wb]):!(0,t.lP)(cb[wb]))return !1;}return !0;},function(cb){return void 0 === Va || cb.length >= Va;}]);}function na(La,Za,Wa){return P(La,Za,"{",function(Va){var cb,da,ua;cb={};Va=Va.split(";");for(var wb=Va.length;wb--;){da=Va[wb];ua=da.indexOf(":");if(0 >= ua)return;cb[da.substring(0,ua)]=da.substring(ua + 1);}return cb;},[function(Va){return (0,t.Bj)(Va) && 0 < Object.keys(Va).length;},function(Va){if(Wa)for(var cb in Va){if(!Wa.test(Va[cb]))return !1;}return !0;}],function(Va){var cb;cb={};(0,p.Gd)(cb,Za);(0,p.Gd)(cb,Va);return cb;});}function va(La){var Za;Za=[];(0,p.Rg)(La,function(Wa,Va){var cb;try{cb="videoapp" === Wa.toLowerCase()?"[object object]":JSON.stringify(Va);}catch(wb){cb="cantparse";}Za.push(Wa + "=" + cb);});return Za.join("\n");}ya=/^[0-9]+[%]?$/;ra=/^[0-9]*$/;T={};fa=d.Aa.get(f.Io);ia=d.Aa.get(x.jG);(function(La){function Za(Wa){Wa.split(",").forEach(function(Va){var cb;cb=Va.indexOf("=");0 < cb && (V[Va.substring(0,cb).toLowerCase()]=Va.substring(cb + 1));});}V={};(0,p.Gd)(V,La);C && C.length && q.forEach.call(C,function(Wa){(0,t.Uf)(Wa)?Za(Wa):(0,t.Bj)(Wa) && (0,p.Gd)(V,Wa,{GY:!0});});K=(0,p.Gd)({},(0,g.m9)(),{GY:!0});if(La=(0,g.wab)().cadmiumconfig)(d.log.info("Config cookie loaded",La),Za(La));if(d.Aa.get(A.Mo).Z5 || V.istestaccount)((0,p.Gd)(V,K),T=K);})(F);b.config={};Ba={IGb:E(J,I("enableXHEAAC"),!1),OZa:E(J,I("enableDDPlus20"),!0),NZa:E(J,I("enableDDPlus"),!0),eO:E(J,I("enableDDPlusAtmos"),!1),oGb:E(J,I("enableLSSDH"),!0),iGb:E(J,I("enableHEVC"),!1),K9a:E(J,I("overrideEnableHEVC"),!1),rpa:E(J,I("enableHDR"),!1),J9a:E(J,I("overrideEnableHDR"),!1),I9a:E(J,I("overrideEnableDV"),!1),cO:E(J,I("enableAVCHigh"),ia.cO),AJ:E(J,I("overrideEnableAVCHigh"),ia.AJ),FGb:E(J,I("enableVP9"),!1),L9a:E(J,I("overrideEnableVP9"),!1),bGb:E(J,I("enableAV1"),!1),H9a:E(J,I("overrideEnableAV1"),!1),AWb:E(J,I("overrideEnableXHEAAC"),!1),yWb:E(J,"overrideEnableAllAudioProfiles",!1),zWb:E(J,"overrideEnableAllVideoProfiles",!1),vGb:E(J,I("enablePRK"),!1),gGb:E(J,I("enableDV"),!1),RZa:E(J,I("enableHWDRM"),!1),lGb:E(J,I("enableImageSubs"),!0),rH:E(U,I("audioProfiles"),ia.rH),Odc:E(J,I("disableHD"),!1),DGb:E(J,I("enableUHD"),!0),fea:E(H,"videoCapabilityDetectorType",l.Gl.ow),jma:E(H,"audioCapabilityDetectorType",l.iw.ow),qn:E(U,I("videoProfiles"),ia.qn),sUa:E(U,I("additionalVideoProfiles"),[]),uub:E(ba,I("timedTextProfiles"),ia.$v),$v:function(){return Ba.uub().filter(function(La){return La === n.mm.ufa?Ba.oGb():La === n.mm.HL?Ba.lGb():!0;});},endpoint:E(J,I("endpoint"),!1),version:E(O,"version","unknown"),jGb:E(J,I("enableHdcp"),!1),Iv:E(J,I("prepareCadmium"),!1),Vub:E(J,I("acceptManifestOnPrepareItemParams"),!0),UXb:E(M,"ppmconfig",{maxNumberTitlesScheduled:1}),HW:E(J,I("enableLdlPrefetch"),!1),VZa:E(J,I("enableMediaPrefetch"),!1),pGb:E(J,I("enableManifestCache"),!0),BEb:E(J,I("deleteCachedManifestOnPlayback"),!1),AEb:E(J,I("deleteCachedManifestOnCreate"),!1),EEb:E(J,I("deleteOtherManifestCacheOnCreate"),!1),DEb:E(J,I("deleteOtherLdlCacheOnCreate"),!1),zgc:E(H,I("periodicPrepareLogsIntervalMilliseconds"),36E5),pYb:E(H,I("prepareManifestCacheMaxCount"),50),nYb:E(H,I("prepareLdlCacheMaxCount"),30),P$a:E(H,I("prepareManifestExpiryMilliseconds"),12E5),oYb:E(H,I("prepareLdlExpiryMilliseconds"),78E4),hYb:E(H,I("prefetcherMaxWishlistSize"),10),gYb:E(H,I("prefetcherBudgetInBytes"),Infinity),iYb:E(J,I("prefetcherOverrideItemPriority"),!0),mYb:E(O,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),aic:E(M,"videoApp"),hF:E(M,"storageRules"),B8:E(J,"ftlEnabled",ia.B8),Zsa:E(H,I("imageSubsResolution"),0),uOb:E(H,I("imageSubsMaxBuffer"),ia.QSb.ca(y.jw),0),BV:E(J,I("captureBatteryStatus"),!1),AJb:E(H,I("getBatteryApiTimeoutMilliseconds"),5E3),Qm:E(O,I("keySystemId"),ia.Qm),F5a:E(ba,I("keySystemList"),void 0,void 0),gCa:E(J,I("validateKeySystemAccess"),!1),FTb:E(H,I("hdcpGlobalTimeout1"),1E4),GTb:E(H,I("hdcpGlobalTimeout2"),1E4),Qfc:E(H,I("hdcpQueryTimeout1"),1E3),Rfc:E(H,I("hdcpQueryTimeout2"),1E3),N7a:E(H,I("hdcpQueryTimeout2"),100),HTb:E(J,I("microsoftHwdrmRequiresHevc"),!1),Mva:E(J,I("microsoftClearLeadRequiresSwdrm"),!1),CTb:E(J,I("microsoftEnableDeviceInfo"),!1),DTb:E(J,I("microsoftEnableHardwareInfo"),!1),ETb:E(J,I("microsoftEnableHardwareReset"),!1),K6b:E(J,I("useHevcCodecForDolbyVision"),!1),rGb:E(J,I("enableMediaCapabilities"),!1),TXb:E(J,I("powerEfficientForVideo"),!1),sGb:E(J,I("enableMediaCapabilitiesSourceBufferCheck"),!1),TRb:E(J,"logMediaPipelineStatus",!1),v_:E(J,I("renderDomDiagnostics"),!0),t6a:function(){return -1;},rP:E(L,I("logDisplayMaxEntryCount"),ia.rP,-1),ZRb:E(L,I("logToConsoleLevel"),-1),gdc:E(L,I("bladerunnerCmdHistorySize"),10),qA:function(){return fa.qA;},Pua:E(J,"logErrorIfEsnNotProvided",!0),ypa:E(J,"enforceSinglePlayback",ia.ypa),R7:E(J,"enforceSingleSession",ia.R7),Jna:E(J,"closeOtherPlaybacks",!0),Iwb:E(H,"asyncLoadTimeout",15E3,1),gSb:E(H,"mainThreadMonitorPollRate",0),CI:function(){return fa.CI;},zN:function(){return fa.zN;},R0:function(){return fa.R0;},Ggb:E(H,I("verbosePlaybackInfoDenominator"),0),rca:E(J,"renderTimedText",!0),VXb:E(J,"preBufferTimedText",!0),BHb:E(J,"fatalOnTimedTextLoadError",!0),Ueb:E(na,"timedTextStyleDefaults",{}),qBa:E(na,"timedTextStyleOverrides",{}),pBa:E(na,"timedTextFontFamilyMapping",ia.pBa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),gR:E(H,"timedTextSimpleFallbackThreshold",ia.gR.ca(y.jw)),WO:E(ba,I("imscLanguageList"),ia.WO,[]),soa:E(O,I("customDfxpUrl")),CGb:E(J,I("enableSubtitleTrackerLogging"),!1),k1b:E(J,I("sendSubtitleQoeLogblobOnMidplay"),!1),ina:E(R,"cdnIdWhiteList",[]),hna:E(R,"cdnIdBlackList",[]),uqa:E(O,I("forceAudioTrack")),yqa:E(O,I("forceTimedTextTrack")),YSb:E(H,I("maxRetriesTimedTextDownload"),0),O4b:E(H,I("timedTextRetryInterval"),8E3),v3b:E(O,"storageType","idb",/^(none|fs|idb|ls)$/),p6a:E(H,"lockExpiration",1E4),RRb:E(H,"lockRefresh",3E3),Myb:E(J,"captureUnhandledExceptions",!0),tOb:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),O5b:E(J,"unhandledExceptionsArePlaybackErrors",!1),Dfb:E(O,"unhandledExceptionSource",""),zYb:E(J,"preserveLastFrame",!1),OTb:E(H,"minBufferingTimeInMilliseconds",4E3),WYb:E(H,"progressBackwardsGraceTimeMilliseconds",4E3),XYb:E(H,"progressBackwardsMinPercent",10),Fxb:E(O,I("bookmarkIgnoreBeginning"),"0",ya),Gxb:E(O,I("bookmarkIgnoreEnd"),"5%",ya),Hxb:E(O,I("bookmarkIgnoreEndForBranching"),"60000",ya),vP:E(H,"maxParallelConnections",3),Wya:E(J,"reportThroughputInLogblobs",!0),Qx:E(H,"minAudioMediaRequestDuration",16E3),MTb:E(H,"minAudioMediaRequestDurationBranching",0),jB:E(H,"minVideoMediaRequestDuration",4E3),WTb:E(H,"minVideoMediaRequestDurationVariableGOP",0),UTb:E(H,"minVideoMediaRequestDurationBranching",0),Daa:E(H,"minAudioMediaRequestSizeBytes",0),Laa:E(H,"minVideoMediaRequestSizeBytes",0),JFb:E(J,"droppedFrameRateFilterEnabled",!1),KFb:E(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),MFb:E(function(La,Za,Wa,Va,cb,wb){return P(La,Za,"[",function(da){da=da.split(";");for(var ua=da.length;ua--;){da[ua]=da[ua].split("|");for(var wa=da[ua].length;wa--;){da[ua][wa]=(0,p.Mj)(da[ua][wa]);}}return da;},[function(da){return (0,t.isArray)(da) && 0 < da.length;},function(da){for(var ua=da.length;ua-- && void 0 !== da;){if(!(0,t.isArray)(da[ua]))return !1;for(var wa=da[ua].length;wa--;){if(!(0,t.mE)(da[ua][wa],Wa,Va))return !1;}}return !0;},function(da){if(void 0 !== cb)for(var ua=da.length;ua--;){if(cb !== da[ua].length)return !1;}return !0;},function(da){return void 0 === wb || da.length >= wb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),LFb:E(H,"droppedFrameRateFilterMinHeight",384),NFb:E(R,"droppedFramesPercentilesList",[]),ITb:E(J,"microsoftScreenSizeFilterEnabled",!1),DQb:E(J,"keyStatusFilterEnabled",!1),t3a:E(H,"hdcpEngagementWaitTime",0),K5b:E(J,"uiLabelFilterEnabled",!0),J5b:E(M,"uiLabelFilter",{}),vEb:E(H,I("defaultVolume"),100,0,100),wva:E(H,I("maxPlaybackRate"),2,0,16),cZa:E(J,"disableVideoRightClickMenu",!1),Haa:E(H,"minDecoderBufferMilliseconds",1E3,0,h.Qy),zJ:E(H,"optimalDecoderBufferMilliseconds",5E3,0,h.Qy),w9a:E(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,h.Qy),AE:E(H,"minimumTimeBeforeBranchDecision",3E3,0,h.Qy),c8a:E(H,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,h.Qy),dB:E(H,"maxDecoderBufferMilliseconds",ia.dB.ca(z.la),0,h.Qy),GYa:E(H,"decoderTimeoutMilliseconds",1E4,1),D8a:E(H,"noRenderTimeoutMilliseconds",0),TWb:E(H,"pauseTimeoutLimitMilliseconds",18E5),ata:E(H,"inactivityMonitorInterval",3E4,0),Uub:E(R,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),hO:E(J,"enableTrickPlay",!1),Nvb:E(R,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),u5b:E(H,"trickPlayHighResolutionBitrateThreshold",1E3),v5b:E(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),y5b:E(Q,"trickplayBufferFactor",.5),t5b:E(H,"trickPlayDownloadRetryCount",1),nva:E(O,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),gwa:E(O,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),wHa:E(M,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),j7a:E(L,"maxIQRSamples",Infinity),W7a:E(L,"minIQRSamples",5),vgb:E(J,"useResourceTimingAPI",!1),qOb:E(J,"ignoreFirstByte",!0),Fva:E(J,"mediaRequestAsyncLoadStart",ia.Fva),S6b:E(J,"useXHROnLoadStart",!1),Rpa:E(R,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),W6:E(H,"connectTimeoutMilliseconds",8E3,500),mwa:E(H,"noProgressTimeoutMilliseconds",8E3,500),Teb:E(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),dgc:E(H,"netflixRequestExpiryTimeout",0),J7b:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),R0b:E(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),tda:E(ba,I("supportedAudioTrackTypes"),[],void 0,1),c$:E(H,"initialLogFlushTimeout",5E3),v$a:E(O,"playdataPersistKey",fa.qA?"unsentplaydatatest":"unsentplaydata"),ihc:E(J,"sendPersistedPlaydata",!0),xXb:E(H,"playdataPersistIntervalMilliseconds",4E3),Agc:E(H,"playdataSendDelayMilliseconds",1E4),jhc:E(J,"sendPlaydataBackupOnInit",!0),WRb:E(ba,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),O7a:E(J,"midplayEnabled",!0),Baa:E(H,"midplayIntervalMilliseconds",3E5),P7a:E(R,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),I7:E(H,"downloadReportDenominator",0),xFb:E(H,"downloadReportInterval",3E5),s6a:E(H,"logConfigApplyDenominator",0),GVa:E(na,I("bookmarkByMovieId"),{}),aX:E(J,I("forceLimitedDurationLicense"),!1),qE:E(H,I("licenseRenewalRequestDelay"),0),uxa:E(H,I("persistedReleaseDelay"),1E4),ofc:E(J,I("limitedDurationFlagOverride"),void 0),Rbb:E(H,"safariPlayPauseWorkaroundDelay",100),U7b:E(H,"workaroundValueForSeekIssue",1200),dna:E(J,I("callEndOfStream"),ia.dna),cXb:E(J,"performRewindCheck",!0),DHb:E(J,"fatalOnUnexpectedSeeking",!0),CHb:E(J,"fatalOnUnexpectedSeeked",!0),e2b:E(J,I("setVideoElementSize")),Qzb:E(J,I("clearVideoSrc"),!0),QYa:E(H,I("delayPlayPause"),0),Nt:E(J,I("useTypescriptEme"),!1),mgb:E(J,I("useEncryptedEvent"),!0),yW:E(O,I("drmPersistKey"),"unsentDrmData"),dab:E(J,I("promiseBasedEme"),!1),aVb:E(J,I("nudgeSourceBuffer"),!1),zza:E(L,I("seekDelta"),1),SZ:E(J,I("preciseSeeking"),!1),YXb:E(J,I("preciseSeekingOnTwoCoreDevice"),!1),PYa:E(na,I("delayErrorHandling")),ll:E(O,"esn",""),G_a:E(O,"fesn",""),xGb:E(J,I("enablePerformanceLogging"),!1),QZa:E(J,I("enableEmeVerboseLogging"),!1),appId:E(O,"appId","",ra),sessionId:E(O,"sessionId","",ra),jna:E(O,"cdnProxyUrl"),P6b:E(J,"usePlayReadyHeaderObject",!1),h0a:E(H,"forceXhrErrorResponseCode",void 0),Hq:{$fc:E(O,"mslApiPath","/msl/"),Hgc:E(O,"proxyPath",""),py:E(O,"uiVersion"),Rda:E(O,"uiPlatform"),rdc:function(){return "0";},Sxa:E(ba,"preferredLanguages",h.SEa,/^[a-zA-Z-]{2,5}$/,1),AIb:E(O,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),a4b:E(J,"supportPreviewContentPin",!0),b4b:E(J,"supportWatermarking",!0),G2b:E(J,"showAllSubDubTracks",!1),lec:E(J,I("failOnGuidMismatch"),!1)},fca:{enabled:E(J,"qcEnabled",!1),Ip:E(O,"qcPackageId","")},Mt:E(J,"useRangeHeader",!1),IW:E(J,"enableMilestoneEventList",!0),exb:E(na,"authenticationKeyNames",(0,p.Gd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),m4b:E(O,"systemKeyWrapFormat"),A2b:E(J,"shouldSendUserAuthData",!0),Mza:E(J,"sendUserAuthIfRequired",ia.Mza),v2b:E(J,"shouldClearUserData",!1),qR:E(J,"usesMsl",!0),nUb:E(J,"mslDeleteStore",!1),pUb:E(J,"mslPersistStore",!0),QAb:E(J,"correctNetworkForShortTitles",!0),SXb:E(J,"postplayHighInitBitrate",!1),g4b:E(J,"supportsUnequalizedDownloadables",!0),zYa:E(H,I("debugAseDenominator"),100),k6:E(H,"aseAudioBufferSizeBytes",ia.k6.ca(y.jw)),n6:E(H,"aseVideoBufferSizeBytes",ia.n6.ca(y.jw)),vv:E(H,"minInitVideoBitrate",560),Rva:E(H,"minHCInitVideoBitrate",560),fB:E(H,"maxInitVideoBitrate",Infinity),ZY:E(H,"minInitAudioBitrate",0),XY:E(H,"minHCInitAudioBitrate",0),JY:E(H,"maxInitAudioBitrate",65535),Caa:E(H,"minAcceptableVideoBitrate",235),lJ:E(H,"minRequiredBuffer",3E4),Ij:E(H,"minPrebufSize",7800),Gaa:E(H,"minCheckBufferingCompleteInterval",999999),Aya:E(Q,"rebufferingFactor",1),Zs:E(H,"maxBufferingTime",2600),bCa:E(J,"useMaxPrebufSize",!0),vE:E(H,"maxPrebufSize",45E3),yva:E(H,"maxRebufSize",Infinity),Z9:E(S,"initialBitrateSelectionCurve",null),f4a:E(H,"initSelectionLowerBound",560),g4a:E(H,"initSelectionUpperBound",1050),B0:E(H,"throughputPercentForAudio",15),uma:E(H,"bandwidthMargin",10),vma:E(J,"bandwidthMarginContinuous",!1),wma:E(S,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Wna:E(H,"conservBandwidthMargin",20),fBa:E(J,"switchConfigBasedOnInSessionTput",!1),NV:E(H,"conservBandwidthMarginTputThreshold",0),Xna:E(S,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),ueb:E(J,"switchAlgoBasedOnHistIQR",!1),jF:E(O,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),xva:E(L,"maxPlayerStateToSwitchConfig",-1),$ua:E(O,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),uga:E(Q,"IQRThreshold",.5),Nsa:E(O,"histIQRCalcToUse","simple"),sv:E(H,"maxTotalBufferLevelPerSession",0),N7:E(J,"enableCombinedPlaygraphs",!0),Mpa:E(ba,"excludedContentPlaygraphIds",[]),O7:E(J,"enableDiscontiguousBuffering",!1),wqa:E(R,"forceImmediateTransitionTypeForTitles",[]),vqa:E(H,"forceImmediateTransitionExitZone",0),Yda:E(J,"useBufferSizeLimiter",!1),aCa:E(J,"useLegacyFragmentRounding",!1),B3a:E(H,"highWatermarkLevel",3E4),bfb:E(H,"toStableThreshold",3E4),Eda:E(H,"toUnstableThreshold",ia.Eda.ca(z.la)),uAa:E(J,"skipBitrateInUpswitch",!0),tCa:E(H,"watermarkLevelForSkipStart",8E3),M9:E(H,"highStreamRetentionWindow",9E4),daa:E(H,"lowStreamTransitionWindow",51E4),Jsa:E(H,"highStreamRetentionWindowUp",3E5),bva:E(H,"lowStreamTransitionWindowUp",3E5),Isa:E(H,"highStreamRetentionWindowDown",6E5),ava:E(H,"lowStreamTransitionWindowDown",0),Hsa:E(Q,"highStreamInfeasibleBitrateFactor",.5),ZA:E(H,"lowestBufForUpswitch",15E3),Z$:E(H,"lockPeriodAfterDownswitch",15E3),dva:E(H,"lowWatermarkLevel",25E3),$A:E(H,"lowestWaterMarkLevel",2E4),eva:E(J,"lowestWaterMarkLevelBufferRelaxed",!1),Eva:E(Q,"mediaRate",1),eJ:E(H,"maxTrailingBufferLen",1E4),bV:E(H,"audioBufferTargetAvailableSize",262144),c1:E(H,"videoBufferTargetAvailableSize",1048576),x7a:E(H,"maxVideoTrailingBufferSize",8388608),d7a:E(H,"maxAudioTrailingBufferSize",393216),h8:E(Q,"fastUpswitchFactor",3),Spa:E(Q,"fastDownswitchFactor",1),$s:E(H,"maxMediaBufferAllowed",24E4),qAa:E(J,"simulatePartialBlocks",!0),mdb:E(J,"simulateBufferFull",!0),Yna:E(J,"considerConnectTime",!1),Vna:E(Q,"connectTimeMultiplier",1),z6a:E(H,"lowGradeModeEnterThreshold",12E4),A6a:E(H,"lowGradeModeExitThreshold",9E4),f7a:E(H,"maxDomainFailureWaitDuration",3E4),c7a:E(H,"maxAttemptsOnFailure",18),v_a:E(J,"exhaustAllLocationsForFailure",!0),n7a:E(H,"maxNetworkErrorsDuringBuffering",20),haa:E(H,"maxBufferingTimeAllowedWithNetworkError",12E4),C_a:E(H,"fastDomainSelectionBwThreshold",2E3),Geb:E(H,"throughputProbingEnterThreshold",4E4),Heb:E(H,"throughputProbingExitThreshold",34E3),n6a:E(H,"locationProbingTimeout",1E4),J_a:E(H,"finalLocationSelectionBwThreshold",1E4),Eeb:E(Q,"throughputHighConfidenceLevel",.75),Feb:E(Q,"throughputLowConfidenceLevel",.4),XZa:E(J,"enablePerfBasedLocationSwitch",!1),Kv:E(J,"probeServerWhenError",!0),$xa:E(H,"probeRequestTimeoutMilliseconds",8E3),Hz:E(J,"allowSwitchback",!0),OJ:E(H,"probeDetailDenominator",100),iaa:E(H,"maxDelayToReportFailure",300),Mua:E(H,"locationStatisticsUpdateInterval",6E4),LXa:E(J,"countGapInBuffer",!1),zUa:E(J,"allowCallToStreamSelector",!0),QVa:E(H,"bufferThresholdForAbort",1E4),XSb:E(H,"maxResponsesInitialTput",6),SZa:E(J,"enableInitialTputLogging",!1),xxa:E(H,"pipelineScheduleTimeoutMs",2),gB:E(H,"maxPartialBuffersAtBufferingStart",2),zva:E(H,"maxStreamingSkew",4E3),vva:E(H,"maxPendingBufferPercentage",10),K9:E(H,"headerRequestSize",4096),Fpa:E(J,"estimateHeaderSize",!1),VY:E(H,"minBufferLenForHeaderDownloading",1E4),F_:E(H,"reserveForSkipbackBufferMs",1E4),xwa:E(H,"numExtraFragmentsAllowed",2),dr:E(J,"pipelineEnabled",!1),udb:E(H,"socketReceiveBufferSize",0),t6:E(H,"audioSocketReceiveBufferSize",32768),wR:E(H,"videoSocketReceiveBufferSize",65536),Fsa:E(H,"headersSocketReceiveBufferSize",32768),Wda:E(H,"updatePtsIntervalMs",1E3),Ima:E(H,"bufferTraceDenominator",100),sN:E(H,"bufferLevelNotifyIntervalMs",2E3),lN:E(H,"aseReportDenominator",0),l6:E(H,"aseReportIntervalMs",3E5),cGb:E(J,"enableAbortTesting",!1),Sub:E(H,"abortRequestFrequency",8),WAa:E(H,"streamingStatusIntervalMs",2E3),vB:E(H,"prebufferTimeLimit",24E4),Faa:E(H,"minBufferLevelForTrackSwitch",2E3),pxa:E(H,"penaltyFactorForLongConnectTime",2),Yua:E(H,"longConnectTimeThreshold",200),Ila:E(H,"additionalBufferingLongConnectTime",2E3),Jla:E(H,"additionalBufferingPerFailure",8E3),m_:E(H,"rebufferCheckDuration",6E4),UZa:E(J,"enableLookaheadHints",!1),w6a:E(H,"lookaheadFragments",2),nA:E(J,"enableOCSideChannel",!0),u3:E(M,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Qfb:E(J,"updateDrmRequestOnNetworkFailure",!1),OYa:E(J,"deferAseScheduling",!1),e7a:E(H,"maxDiffAudioVideoEndPtsMs",16E3),t7:E(H,"defaultHeaderCacheSize",4),s7:E(H,"defaultHeaderCacheDataPrefetchMs",8E3),sJ:E(J,"neverWipeHeaderCache",!0),fwa:E(H,"networkFailureResetWaitMs",2E3),ewa:E(H,"networkFailureAbandonMs",6E4),naa:E(H,"maxThrottledNetworkFailures",3),yda:E(H,"throttledNetworkFailureThresholdMs",200),cva:E(L,"lowThroughputThreshold",400),Lpa:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),j8a:E(J,"mp4ParsingInNative",!1),wdb:E(J,"sourceBufferInOrderAppend",!0),WJ:E(J,"requireAudioStreamToEncompassVideo",!0),yUa:E(J,"allowAudioToStreamPastVideo",!0),Gi:E(J,"enableManagerDebugTraces",!1),M6a:E(H,"managerDebugMessageInterval",1E3),L6a:E(H,"managerDebugMessageCount",20),Q8a:E(J,"notifyManifestCacheEom",!1),Hma:E(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Gma:E(H,"bufferThresholdToSwitchToParallelConnMs",12E4),Fba:E(H,"periodicHistoryPersistMs",3E5),Kca:E(H,"saveVideoBitrateMs",18E4),NUa:E(J,"appendMediaRequestOnComplete",!0),kea:E(J,"waitForDrmToAppendMedia",!1),q8:E(J,I("forceAppendHeadersAfterDrm"),!1),yIb:E(J,I("forceAppendEncryptedStreamHeaderFirst"),!0),tZb:E(J,I("reappendRequestsOnSkip"),!1),tUb:E(H,"netIntrStoreWindow",36E3),QTb:E(H,"minNetIntrDuration",8E3),yHb:E(H,"fastHistoricBandwidthExpirationTime",10368E3),nxb:E(H,"bandwidthExpirationTime",5184E3),vHb:E(H,"failureExpirationTime",86400),QNb:E(H,"historyTimeOfDayGranularity",4),gHb:E(J,"expandDownloadTime",!1),cUb:E(H,"minimumMeasurementTime",500),bUb:E(H,"minimumMeasurementBytes",131072),F4b:E(H,"throughputMeasurementTimeout",2E3),POb:E(H,"initThroughputMeasureDataSize",262144),G4b:E(O,"throughputPredictor","ewma"),E4b:E(H,"throughputMeasureWindow",5E3),J4b:E(H,"throughputWarmupTime",5E3),D4b:E(H,"throughputIQRMeasureWindow",5E3),Slb:E(H,"IQRBucketizerWindow",15E3),wAb:E(H,"connectTimeHalflife",10),g0b:E(H,"responseTimeHalflife",10),PNb:E(H,"historicBandwidthUpdateInterval",2E3),aUb:E(H,"minimumBufferToStopProbing",1E4),yza:E(O,"secondThroughputEstimator","none"),$bb:E(L,"secondThroughputMeasureWindowInMs",Infinity),hGb:E(ba,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),PHb:E(M,"filterDefinitionOverrides",{}),lEb:E(O,"defaultFilter","throughput-ewma"),Q0b:E(O,"secondaryFilter","none"),mEb:E(M,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),eZ:E(J,"needMinimumNetworkConfidence",!0),zma:E(J,"biasTowardHistoricalThroughput",!0),wla:E(J,"addHeaderDataToNetworkMonitor",!1),EAa:E(J,"startMonitorOnLoadStart",!1),Vya:E(J,"reportFailedRequestsToNetworkMonitor",!1),jaa:E(L,"maxFastPlayBufferInMs",Infinity),tva:E(L,"maxFastPlayBitThreshold",Infinity),Tla:E(J,"appendFirstHeaderOnComplete",!0),wwb:E(O,"ase_stream_selector","optimized"),pta:E(O,"initBitrateSelectorAlgorithm","default"),Nma:E(O,"bufferingSelectorAlgorithm","default"),AYa:E(O,"ase_ls_failure_simulation",""),voa:E(J,"ase_dump_fragments",!1),woa:E(H,"ase_location_history",0),BYa:E(H,"ase_throughput",0),DYa:E(J,"ase_simulate_verbose",!1),OXb:E(H,"pollingPeriod",150),JRb:E(H,"loadTimeMs",18E4),ySb:E(H,"marginTimeMs",1E4),cra:E(J,"getDeviceIdFromBindDevice",!1),vla:E(J,"addFailedLogBlobsToQueue",!0),L5b:{"content-sampling":{Zs:E(H,"contentSamplingMaxBufferingTime",3E3),DQ:E(O,"contentSamplingSelectStartingVMAFMethod","fallback"),QU:E(J,"contentSamplingActivateSelectStartingVMAF",!0),wv:E(H,"contentSamplingMinStartingVideoVMAF",80),UY:E(H,"contentSamplingMinAcceptableVMAF",70),kJ:E(H,"contentSamplingMinAllowedVmaf",60)},billboard:{vv:E(H,"billboardMinInitVideoBitrate",1050),fB:E(H,"billboardMaxInitVideoBitrate",null),Ij:E(H,"billboardMinPrebufSize",null),vE:E(H,"billboardMaxPrebufSize",null),Zs:E(H,"billboardMaxBufferingTime",null),gB:E(H,"billboardMaxPartialBuffersAtBufferingStart",null),$A:E(H,"billboardLowestWaterMarkLevel",6E3),ZA:E(H,"billboardLowestBufForUpswitch",25E3),jF:E(O,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{vv:E(H,"preplayMinInitVideoBitrate",1050),fB:E(H,"preplayMaxInitVideoBitrate",null),Ij:E(H,"preplayMinPrebufSize",null),vE:E(H,"preplayMaxPrebufSize",null),Zs:E(H,"preplayMaxBufferingTime",null),gB:E(H,"preplayMaxPartialBuffersAtBufferingStart",null),$A:E(H,"preplayLowestWaterMarkLevel",6E3),ZA:E(H,"preplayLowestBufForUpswitch",25E3)},embedded:{vv:E(H,"embeddedMinInitVideoBitrate",1050),fB:E(H,"embeddedMaxInitVideoBitrate",null),Ij:E(H,"embeddedMinPrebufSize",null),vE:E(H,"embeddedMaxPrebufSize",null),Zs:E(H,"embeddedMaxBufferingTime",null),gB:E(H,"embeddedMaxPartialBuffersAtBufferingStart",null),$A:E(H,"embeddedLowestWaterMarkLevel",6E3),ZA:E(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{vv:E(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),fB:E(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Ij:E(H,"videoMerchBobHorizontalMinPrebufSize",null),vE:E(H,"videoMerchBobHorizontalMaxPrebufSize",null),Zs:E(H,"videoMerchBobHorizontalMaxBufferingTime",null),gB:E(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),$A:E(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),ZA:E(H,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{vv:E(H,"miniModalHorizontalMinInitVideoBitrate",null),fB:E(H,"miniModalHorizontalMaxInitVideoBitrate",null),Ij:E(H,"miniModalHorizontalMinPrebufSize",null),vE:E(H,"miniModalHorizontalMaxPrebufSize",null),Zs:E(H,"miniModalHorizontalMaxBufferingTime",500),gB:E(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),$A:E(H,"miniModalHorizontalLowestWaterMarkLevel",null),ZA:E(H,"miniModalHorizontalLowestBufForUpswitch",null)}},GGb:E(J,"enableVerbosePlaydelayLogging",!1),AGb:E(J,"enableSeamless",!1),Msa:E(H,"hindsightDenominator",0),Lsa:E(H,"hindsightDebugDenominator",0),O9:E(M,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),JW:E(J,"enableSessionHistoryReport",!1),mpa:E(H,"earlyStageEstimatePeriod",1E4),U5a:E(H,"lateStageEstimatePeriod",3E4),laa:E(H,"maxNumSessionHistoryStored",30),Kaa:E(H,"minSessionHistoryDuration",3E4),Lx:E(H,"maxActiveRequestsPerSession",3),faa:E(H,"maxActiveRequestsSABCell100",2),Gua:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),Je:E(M,"browserInfo",{}),$xb:E(H,I("busyGracePeriod"),199),l1b:E(J,I("sendTransitionLogblob"),!0),TFb:E(J,I("editVideoFragments"),!0),L7:E(J,I("earlyAppendSingleChildBranch"),!0),COb:E(J,I("includeSegmentInfoOnLogblobs"),!0),mHb:E(J,"exposeTestData",!1),lHb:E(J,I("exposeErrorData"),!1),xoa:E(J,"declareBufferingCompleteAtSegmentEnd",!0),qH:E(J,I("applyProfileTimestampOffset"),!1),Jn:E(J,I("applyProfileStreamingOffset"),!1),QY:E(J,I("mediaSourceSupportsNegativePts"),!1),awb:E(J,I("allowSmallSeekDelta"),!1),V2b:E(H,I("smallSeekDeltaThresholdMilliseconds"),w.Q3),fGb:E(J,"enableCDMAttestedDescriptors",!1),wca:E(J,"requireDownloadDataAtBuffering",!1),xca:E(J,"requireSetupConnectionDuringBuffering",!1),Cya:E(J,"recordFirstFragmentOnSubBranchCreate",!1),Mxb:E(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),pgb:E(J,"useMobileVMAF",!1),XYa:E(O,"desiredVMAFTypeMobile","phone_plus_lts"),YYa:E(O,"desiredVMAFTypeNonMobile","plus_lts"),QU:E(J,"activateSelectStartingVMAF",!1),wv:E(H,"minStartingVideoVMAF",1),UY:E(H,"minAcceptableVMAF",1),kJ:E(H,"minAllowedVmaf",1),ewb:E(J,"alwaysNotifyEOSForPlaygraph",!0),gO:E(J,"enableNewAse",!0),X0:E(J,"useNewApi",!0),kGb:E(J,"enableHudsonFieldTest",!1),fOb:E(ba,"hudsonTitles",["81127954","70125931","80158148"]),VSb:E(H,"maxPartialBuffersAtHudson",1),eVb:E(H,"numberOfChunksPerSegment",4),s4b:E(H,"targetContentLatency",1E4),t4b:E(H,"targetLongContentLatency",3E4),dUb:E(H,"minimumTimeDelay",1),tpa:E(J,"enableWsslEstimate",!1),gaa:E(H,"maxAllowedOutstandingRequests",4),hN:E(J,"alwaysRunUnderflowTimer",!0),Sva:E(H,"minStreamableConcurrencyWindow",3E3),TAa:E(Q,"streamableConcurrencyFactor",.3),wV:E(H,"bufferingConcurrencyWindow",7800),P2b:E(J,"singleStreamablePerBranch",!0),Q7:E(J,"enableResolutionVMAFStreamFilter",!1),Cca:E(M,"resolutionVMAFCappingRuleList",{}),sxa:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),cFb:E(J,"disableSkipping",!1),$da:E(J,"useHLSPlayer",ia.$da),ZBa:E(J,I("useExitZones"),!0),R_b:E(J,"requestSegmentVmaf",!1),YP:E(M,"perFragmentVMAFConfig",{enabled:!1})};Sa=!0;b.Tna=function(La){var Za,Wa,Va;Za=d.Aa.get(B.vd).id;if(0 < b.config.s6a && 0 === Za % b.config.s6a)try{Wa=d.Aa.get(v.un);Va=d.Aa.get(u.Py).Bu("config","info",{params:La});Wa.Oc(Va);}catch(cb){d.log.error("Failed to log config$apply",cb);}nb._cad_global.config=b.config;(0,m.sb)(La);La && (V=(0,p.Gd)({},La,{GY:!0}),(0,p.Gd)(V,T,{GY:!0}),G(Ba,b.config),V.istestaccount && d.log.trace("Config applied for",va(Sa?V:La)),Sa=!1);};(0,b.Tna)(V);};b.rAb=function(C,F){return (0,t.Uf)(C) && "%" == C[C.length - 1]?(0,q.wn)(parseFloat(C) * F / 100):C | 0;};b.uXa=function(C){var F;if(C){C=(0,p.Gd)({},b.config);F={zJ:b.config.w9a};return (0,p.Gd)(C,F,{SP:!0});}return b.config;};b.sAb=function(C){var F;F=(0,p.Gd)({},b.config);C=c(C);return (0,p.Gd)(F,C,{SP:!0});};b.Una=function(C){C=c(C);return (0,p.Gd)({},a(185)(C),{SP:!0});};b.tXa=function(C,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={Qx:C?b.config.MTb:b.config.Qx,jB:C?b.config.UTb:G?b.config.WTb:b.config.jB,L7:!F};return (0,p.Gd)({},a(185)(C),{SP:!0});};b.uAb=c;b.tAb=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vd="ApplicationSymbol";},function(r,b,a){var k;function c(h,g){return h && g?Math.abs(h * g / k.vx(h,g)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.R=void 0;k=a(376);r=(function(){function h(g,d){"object" === typeof g?(this.ic=g.mc,this.eb=g.V):(this.ic=g,this.eb=d);isFinite(this.ic) || (this.eb=1);}h.compare=function(g,d){return g.Pl(d);};h.abs=function(g){return new h(Math.abs(g.ic),g.eb);};h.Oa=function(g){return 0 === g?h.hb:new h(g,1E3);};h.H0=function(g,d){return Math.floor(1E3 * g / d);};h.$va=function(g,d){return Math.floor(g * d / 1E3);};h.max=function(){for(var g=[],d=0;d < arguments.length;d++){g[d]=arguments[d];}return g.reduce(function(f,m){return f.greaterThan(m)?f:m;});};h.min=function(){for(var g=[],d=0;d < arguments.length;d++){g[d]=arguments[d];}return g.reduce(function(f,m){return f.lessThan(m)?f:m;});};h.vx=function(g,d){var f;if(g.eb === d.eb)return new h(k.vx(g.ic,d.ic),g.eb);f=c(g.eb,d.eb);return new h(k.vx(g.ic * f / g.eb,d.ic * f / d.eb),f);};Object.defineProperties(h.prototype,{mc:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{V:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W:{get:function(){return h.H0(this.ic,this.eb);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{JJ:{get:function(){return 1E3 * this.ic / this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$J:{get:function(){var g;g=this.JJ;return 0 > g?Math.ceil(g):Math.floor(g);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kh:{get:function(){return this.ic / this.eb;},enumerable:!1,configurable:!0}});h.prototype.df=function(g){g/=this.eb;return new h(Math.floor(this.ic * g),Math.floor(this.eb * g));};h.prototype.add=function(g){var d;if(this.eb === g.eb)return new h(this.ic + g.ic,this.eb);d=c(this.eb,g.eb);return new h(this.ic * d / this.eb + g.ic * d / g.eb,d);};h.prototype.Ha=function(g){var d;if(this.eb === g.eb)return new h(this.ic - g.ic,this.eb);d=c(this.eb,g.eb);return new h(this.ic * d / this.eb - g.ic * d / g.eb,d);};h.prototype.qJ=function(g){return new h(this.ic * g,this.eb);};h.prototype.Rl=function(g){var d;if("number" === typeof g){if(Math.floor(g) === g){d=c(this.ic,g);if(d !== this.ic)return this.df(d / this.ic * this.eb).Rl(g);}return new h(Math.floor(this.ic / g),this.eb);}if(this.eb === g.eb)return this.ic / g.ic;d=c(this.eb,g.eb);return this.ic * d / this.eb / (g.ic * d / g.eb);};h.prototype.C7=function(g){var d;if(this.eb === g.eb)return new h(Math.abs(this.ic - g.ic),this.eb);d=c(this.eb,g.eb);return new h(Math.abs(this.ic * d / this.eb - g.ic * d / g.eb),d);};h.prototype.compare=function(g,d){var f;if(this.eb === d.eb)return g(this.ic,d.ic);f=c(this.eb,d.eb);return g(this.ic * f / this.eb,d.ic * f / d.eb);};h.prototype.Pl=function(g){var d;if(this.eb === g.eb)return this.mc === g.ic?0:this.ic - g.ic;d=c(this.eb,g.eb);return this.ic * d / this.eb - g.ic * d / g.eb;};h.prototype.equal=function(g){return this.compare(function(d,f){return d === f;},g);};h.prototype.gba=function(g){return this.compare(function(d,f){return d !== f;},g);};h.prototype.lessThan=function(g){return this.compare(function(d,f){return d < f;},g);};h.prototype.greaterThan=function(g){return this.compare(function(d,f){return d > f;},g);};h.prototype.oP=function(g){return this.compare(function(d,f){return d <= f;},g);};h.prototype.Ks=function(g){return this.compare(function(d,f){return d >= f;},g);};h.prototype.isFinite=function(){return ! !this.eb && isFinite(this.ic);};h.prototype.q9=function(g){return c(this.V,g);};h.prototype.toJSON=function(){return {ticks:this.ic,timescale:this.eb};};h.prototype.toString=function(){return this.ic + "/" + this.eb;};h.prototype.Ic=function(){return this.ic + "/" + this.eb + " (" + this.W + "ms)";};h.hb=new h(0,1E3);h.Tx=new h(1,1E3);h.fE=new h(Infinity,1);return h;})();b.R=r;},function(r,b,a){function c(){c=Object.assign || (function(E){for(var I,N=1,L=arguments.length;N < L;N++){I=arguments[N];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(N,L){N.__proto__=L;}) || (function(N,L){for(var H in L){L.hasOwnProperty(H) && (N[H]=L[H]);}});return k(E,I);}function h(E,I){function N(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(N.prototype=I.prototype,new N());}function g(E,I){var N,L,H;N={};for(L in E){Object.prototype.hasOwnProperty.call(E,L) && 0 > I.indexOf(L) && (N[L]=E[L]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(L=Object.getOwnPropertySymbols(E);H < L.length;H++){0 > I.indexOf(L[H]) && Object.prototype.propertyIsEnumerable.call(E,L[H]) && (N[L[H]]=E[L[H]]);}}return N;}function d(E,I,N,L){var H,Q,O;H=arguments.length;Q=3 > H?I:null === L?L=Object.getOwnPropertyDescriptor(I,N):L;if("object" === typeof Reflect && "function" === typeof Reflect.Cs)Q=Reflect.Cs(E,I,N,L);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])Q=(3 > H?O(Q):3 < H?O(I,N,Q):O(I,N)) || Q;}return (3 < H && Q && Object.defineProperty(I,N,Q),Q);}function f(E,I){return function(N,L){I(N,L,E);};}function m(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Nc)return Reflect.Nc(E,I);}function l(E,I,N,L){function H(Q){return Q instanceof N?Q:new N(function(O){O(Q);});}return new (N || (N=Promise))(function(Q,O){function J(R){try{P(L.next(R));}catch(S){O(S);}}function M(R){try{P(L["throw"](R));}catch(S){O(S);}}function P(R){R.done?Q(R.value):H(R.value).then(J,M);}P((L=L.apply(E,I || [])).next());});}function n(E,I){var H,Q,O,J,M;function N(P){return function(R){return L([P,R]);};}function L(P){if(Q)throw new TypeError("Generator is already executing.");for(;H;){try{if((Q=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (H.label++,{value:P[1],done:!1});case 5:H.label++;O=P[1];P=[0];continue;case 7:P=H.ro.pop();H.Dl.pop();continue;default:if(!(J=H.Dl,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){H=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))H.label=P[1];else if(6 === P[0] && H.label < J[1])(H.label=J[1],J=P);else if(J && H.label < J[2])(H.label=J[2],H.ro.push(P));else {J[2] && H.ro.pop();H.Dl.pop();continue;}}P=I.call(E,H);}catch(R){P=[6,R];O=0;}finally{Q=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}H={label:0,jc:function(){if(J[0] & 1)throw J[1];return J[1];},Dl:[],ro:[]};return (M={next:N(0),"throw":N(1),"return":N(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,N,L){void 0 === L && (L=N);E[L]=I[N];}function q(E,I){for(var N in E){"default" === N || I.hasOwnProperty(N) || (I[N]=E[N]);}}function t(E){var I,N,L;I="function" === typeof Symbol && Symbol.iterator;N=I && E[I];L=0;if(N)return N.call(E);if(E && "number" === typeof E.length)return {next:function(){E && L >= E.length && (E=void 0);return {value:E && E[L++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function w(E,I){var N,L,H;N="function" === typeof Symbol && E[Symbol.iterator];if(!N)return E;E=N.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(L=E.next()).done;){H.push(L.value);}}catch(O){var Q;Q={error:O};}finally{try{L && !L.done && (N=E["return"]) && N.call(E);}finally{if(Q)throw Q.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(w(arguments[I]));}return E;}function u(){var L;for(var E=0,I=0,N=arguments.length;I < N;I++){E+=arguments[I].length;}E=Array(E);L=0;for(I=0;I < N;I++){for(var H=arguments[I],Q=0,O=H.length;Q < O;(Q++,L++)){E[L]=H[Q];}}return E;}function x(E){return this instanceof x?(this.tF=E,this):new x(E);}function y(E,I,N){var M,P,R;function L(S){M[S] && (P[S]=function(U){return new Promise(function(ba,na){1 < R.push([S,U,ba,na]) || H(S,U);});});}function H(S,U){var ba;try{ba=M[S](U);ba.value instanceof x?Promise.resolve(ba.value.tF).then(Q,O):J(R[0][2],ba);}catch(na){J(R[0][3],na);}}function Q(S){H("next",S);}function O(S){H("throw",S);}function J(S,U){(S(U),R.shift(),R.length) && H(R[0][0],R[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=N.apply(E,I || []);R=[];return (P={},L("next"),L("throw"),L("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var N,L;function I(H,Q){N[H]=E[H]?function(O){return (L=!L)?{value:x(E[H](O)),done:"return" === H}:Q?Q(O):O;}:Q;}return (N={},I("next"),I("throw",function(H){throw H;}),I("return"),N[Symbol.iterator]=function(){return this;},N);}function A(E){var L,H;function I(Q){H[Q]=E[Q] && (function(O){return new Promise(function(J,M){O=E[Q](O);N(J,M,O.done,O.value);});});}function N(Q,O,J,M){Promise.resolve(M).then(function(P){Q({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");L=E[Symbol.asyncIterator];return L?L.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function D(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var N in E){Object.hasOwnProperty.call(E,N) && (I[N]=E[N]);}I.default=E;return I;}function C(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,N){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,N);return N;}a.r(b);a.d(b,"__extends",function(){return h;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return g;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return w;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b,a){var k;function c(h){return h.filter(function(g,d){return h.indexOf(g) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.fba=b.VMb=b.RAb=b.flatten=b.T7a=b.eAb=b.j6=b.ru=b.WUa=b.ZU=b.i6=b.Ln=b.qwb=b.ze=void 0;k=a(1);b.ze=function(h,g){for(var d=0;d < h.length;d++){if(g(h[d],d,h))return h[d];}};b.qwb=function(h,g){for(var d=h.length - 1;0 <= d;--d){if(g(h[d],d,h))return h[d];}};b.Ln=function(h,g){var d;d=-1;return h.some(function(f,m,l){d=m;return g(f,m,l);})?d:-1;};b.i6=function(h,g){for(var d=h.length - 1;0 <= d;d--){if(g(h[d],d,h))return d;}return -1;};b.ZU=c;b.WUa=function(h,g){g=h.indexOf(g);if(-1 === g)return !1;h.splice(g,1);return !0;};b.ru=function(h,g,d){return d?h.filter(function(f){return !g.some(function(m){return d(f,m);});}):h.filter(function(f){return -1 === g.indexOf(f);});};b.j6=function(h,g){return c(h.concat(g));};b.eAb=function(h){return function(g,d){return h(g) - h(d);};};b.T7a=function(h){return function(g,d){return h(g) < h(d)?g:d;};};b.flatten=function(h){var g;return (g=[]).concat.apply(g,k.__spread(h));};b.RAb=function(h,g){void 0 === g && (g=function(d){return d;});return h.reduce(function(d,f){f=g(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.VMb=function(h,g){return h.reduce(function(d,f){var m;m=g(f);return (void 0 === d[m]?d[m]=[f]:d[m].push(f),d);},{});};b.fba=function(h){return null !== h && void 0 !== h;};},function(r,b,a){var h,g,d;function c(){d || (d=h.Aa.get(g.Fy));return d;}function k(f,m){return c().assert(f,m);}Object.defineProperty(b,"__esModule",{value:!0});b.TDb=b.uoa=b.MDb=b.QDb=b.PN=b.bW=b.PDb=b.RDb=b.cW=b.yYa=b.ODb=b.NDb=b.sb=b.SDb=b.Shb=void 0;h=a(8);g=a(112);b.Shb=function(){k(!1);};b.SDb=!0;d=void 0;b.sb=k;b.NDb=function(f,m){return c().zwb(f,m);};b.ODb=function(f,m){return c().Awb(f,m);};b.yYa=function(f,m){return c().p6(f,m);};b.cW=function(f,m){return c().Gwb(f,m);};b.RDb=function(f,m){return c().Ewb(f,m);};b.PDb=function(f,m){return c().ema(f,m);};b.bW=function(f,m){return c().Cwb(f,m);};b.PN=function(f,m){return c().Fwb(f,m);};b.QDb=function(f,m){return c().Dwb(f,m);};b.MDb=function(f,m){return c().ywb(f,m);};b.uoa=function(f,m){return c().Bwb(f,m);};b.TDb=function(){return c().iPb();};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.MAb=b.i0a=b.rp=b.gg=b.Zzb=b.Me=b.Ix=b.trim=b.Qsa=b.deb=b.qab=b.GWb=b.Mj=b.XUa=b.oWa=b.Gd=b.Rg=void 0;c=a(24);k=a(12);h=a(13);b.Rg=function(g,d){for(var f in g){g.hasOwnProperty(f) && d(f,g[f]);}};b.Gd=b.Gd || (function(g,d,f){var m,l,n;if(d)if(f){m=f.GY;l=f.prefix;n=f.SP;(0,b.Rg)(d,function(p,q){if(!n || (0,h.sd)(q))g[(l || "") + (m?p.toLowerCase():p)]=q;});}else (0,b.Rg)(d,function(p,q){g[p]=q;});return g;});b.oWa=function(g,d,f,m){var l;if(g){l=g[d];(0,h.kd)(l) && (f=l.apply(g,k.slice.call(arguments,3)));}return f;};b.XUa=function(g){for(var d={},f=g.length;f--;){d[g[f]]=!0;}return d;};b.Mj=b.Mj || (function(g){return parseInt(g,10);});b.GWb=function(g){return (/^true$/i).test(g);};b.qab=function(g,d){return (0,k.wn)(g + (0,k.MS)() * (d - g));};b.deb=function(g){return JSON.stringify(g,null,"  ");};b.Qsa=(function(){var d,f;function g(m){(0,c.sb)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(m){return m.replace(f,g);};})();b.trim=(function(){var g;g=/^\s+|\s+$/gm;return function(d){return d.replace(g,"");};})();b.Ix=function(g){return Array.isArray(g)?g:[g];};b.Me=b.Me || (function(g){var d,f,m;if(g){d=g.stack;f=g.number;m=g.message;m || (m="" + g);d?(g="" + d,0 != g.indexOf(m) && (g=m + "\n" + g)):g=m;f && (g+="\nnumber:" + f);return g;}});b.Zzb=function(g){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){m=arguments[d++];if((0,h.sd)(m))return m;}};b.gg=function(g){return (0,h.Ga)(g)?g.toFixed(0):"";};b.rp=function(g){return (0,h.Ga)(g)?(g / 1E3).toFixed(0):"";};b.i0a=function(g){return (0,h.Ga)(g)?g.toFixed():"";};b.MAb=function(g){for(var d=[],f=0;f < g.length;f++){d[f]=g[f];}return d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);b.Z=!1;r=(function(){function k(h,g,d,f,m){this.oa=h;this.type=g;this.byteOffset=d;this.byteLength=f;this.parent=m;this.Za={};this.uo=f;}k.Zn=function(h,g){var f,l;function d(n){n && n.Zn && (n=n.Zn(g),n.length && (f=f.concat(n)));}f=[];h.type === g && f.push(h);if(h.Za)for(var m in h.Za){l=h.Za[m];Array.isArray(l) && l.forEach(d);}return f;};k.ou=function(h,g){void 0 === h.Za[g.type] && (h.Za[g.type]=[]);h.Za[g.type].push(g);};k.Tl=function(h,g){return k.Zn(h,g)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{u:{get:function(){return this.oa;},enumerable:!0,configurable:!0}});k.prototype.Gc=function(){var h;h=this.oa.xa();this.version=h >> 24;this.flags=h & 16777215;};k.prototype.ou=function(h){k.ou(this,h);};k.prototype.Zn=function(h){return k.Zn(this,h);};k.prototype.Tl=function(h){return k.Tl(this,h);};k.prototype.parse=function(){return !0;};k.prototype.Pu=function(){return !0;};k.prototype.si=function(h){if((h=this.Za[h]) && Array.isArray(h) && 1 === h.length)return h[0];};k.prototype.Re=function(h,g){g=void 0 === g?this.oa.offset:g;c.assert(g >= this.startOffset + 8 && g + h <= this.startOffset + this.uo,"Removal range [0x" + g.toString(16) + "-0x" + (g + h).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.uo).toString(16) + ")");this.oa.Re(h,g,this);};k.prototype.Pv=function(h,g,d){d=void 0 === d?this.oa.offset:d;c.assert(d >= this.startOffset + 8 && d + h <= this.startOffset + this.uo,"Removal range [0x" + d.toString(16) + "-0x" + (d + h).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.uo).toString(16) + ")");this.oa.Pv(h,g,d,this);};k.prototype.l_=function(h,g,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.vU(h,g));}return f;}return this.vU(h,g);};k.prototype.ij=function(h){var g,d;d=this;void 0 === g && (g={});h.forEach(function(f){var m,l;if("offset" === f.type){m=f.offset;if(0 < m % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.oa.offset+=m / 8;}else for(m in f){l=f[m];g[m]="string" === typeof l?d.l_(l):d.l_(l.type,l.length,l.ama);}});return g;};k.prototype.vU=function(h,g){var d;d=this.byteLength - this.oa.offset + this.startOffset;"undefined" === typeof g && (g=d);switch(h){case "int8":h=this.oa.Xa();break;case "int64":h=this.oa.Yd();break;case "int32":h=this.oa.xa();break;case "int16":h=this.oa.yc();break;case "string":h=this.oa.sya(Math.min(g,d));break;default:throw Error("Invalid type: " + h);}return h;};k.Ta=!1;return k;})();b.Kc=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);b.Z=!1;r=(function(){function k(h,g,d,f,m){this.oa=h;this.type=g;this.byteOffset=d;this.byteLength=f;this.parent=m;this.Za={};this.uo=f;}k.Zn=function(h,g){var f,l;function d(n){n && n.Zn && (n=n.Zn(g),n.length && (f=f.concat(n)));}f=[];h.type === g && f.push(h);if(h.Za)for(var m in h.Za){l=h.Za[m];Array.isArray(l) && l.forEach(d);}return f;};k.ou=function(h,g){void 0 === h.Za[g.type] && (h.Za[g.type]=[]);h.Za[g.type].push(g);};k.Tl=function(h,g){return k.Zn(h,g)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{u:{get:function(){return this.oa;},enumerable:!0,configurable:!0}});k.prototype.Gc=function(){var h;h=this.oa.xa();this.version=h >> 24;this.flags=h & 16777215;};k.prototype.ou=function(h){k.ou(this,h);};k.prototype.Zn=function(h){return k.Zn(this,h);};k.prototype.Tl=function(h){return k.Tl(this,h);};k.prototype.parse=function(){return !0;};k.prototype.Pu=function(){return !0;};k.prototype.si=function(h){if((h=this.Za[h]) && Array.isArray(h) && 1 === h.length)return h[0];};k.prototype.Re=function(h,g){g=void 0 === g?this.oa.offset:g;c.assert(g >= this.startOffset + 8 && g + h <= this.startOffset + this.uo,"Removal range [0x" + g.toString(16) + "-0x" + (g + h).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.uo).toString(16) + ")");this.oa.Re(h,g,this);};k.prototype.Pv=function(h,g,d){d=void 0 === d?this.oa.offset:d;c.assert(d >= this.startOffset + 8 && d + h <= this.startOffset + this.uo,"Removal range [0x" + d.toString(16) + "-0x" + (d + h).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.uo).toString(16) + ")");this.oa.Pv(h,g,d,this);};k.prototype.l_=function(h,g,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.vU(h,g));}return f;}return this.vU(h,g);};k.prototype.ij=function(h){var g,d;d=this;void 0 === g && (g={});h.forEach(function(f){var m,l;if("offset" === f.type){m=f.offset;if(0 < m % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.oa.offset+=m / 8;}else for(m in f){l=f[m];g[m]="string" === typeof l?d.l_(l):d.l_(l.type,l.length,l.ama);}});return g;};k.prototype.vU=function(h,g){var d;d=this.byteLength - this.oa.offset + this.startOffset;"undefined" === typeof g && (g=d);switch(h){case "int8":h=this.oa.Xa();break;case "int64":h=this.oa.Yd();break;case "int32":h=this.oa.xa();break;case "int16":h=this.oa.yc();break;case "string":h=this.oa.sya(Math.min(g,d));break;default:throw Error("Invalid type: " + h);}return h;};k.Ta=!1;return k;})();b.Kc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gy=b.uQa=b.bpb=b.$p=b.gf=b.Gl=b.iw=b.dk=void 0;(function(a){a[a.Audio=0]="Audio";a[a.nQa=1]="Video";})(b.dk || (b.dk={}));(function(a){a[a.ow=0]="Default";a[a.Sy=1]="Microsoft";})(b.iw || (b.iw={}));(function(a){a[a.ow=0]="Default";a[a.jL=1]="Chrome";a[a.Sy=2]="Microsoft";})(b.Gl || (b.Gl={}));(function(a){a[a.iT=0]="SD";a[a.q2=1]="HD";a[a.oT=2]="UHD";a[a.nw=3]="DV";a[a.uL=4]="HDR10";a[a.lC=5]="AVCHigh";a[a.HC=6]="VP9";a[a.El=7]="AV1";})(b.gf || (b.gf={}));(function(a){a[a.i3=0]="Level_1_4";a[a.WF=1]="Level_2_2";})(b.$p || (b.$p={}));b.bpb=function(){};(function(a){a[a.hbc=0]="Platform";a[a.y9b=1]="CurrentTitle";})(b.uQa || (b.uQa={}));b.Gy="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eg="IsTypeSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={Y8b:{Dw:0,wbc:1,name:["STARTUP","STEADY"]},J2:{yh:0,vbc:1,Yob:2,name:["STARTING","STABLE","UNSTABLE"]},Ya:{cc:0,Nb:1,name:["AUDIO","VIDEO"]},Uk:{cc:0,Nb:1,name:["AUDIO","VIDEO"]},Oh:{URL:0,qG:1,LOCATION:2,Vy:3,name:["URL","SERVER","LOCATION","NETWORK"]},pj:{HAVE_NOTHING:0,rC:1,qC:2,rS:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},$y:{E8b:0,w$b:1,Zac:2,wac:3,Tac:4,Xbc:5,B$b:6,W$b:7,Dw:8,ag:9,uha:10,Qnb:11,Zea:12,Ylb:13,Xlb:14,sob:15,rob:16,amb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},Z9b:{Vy:0,z9b:1,name:["NETWORK","DECODE"]},tbc:{A9b:"delayedSeamless",J$b:"hideLongTransition"}};},function(r,b,a){var g,d;function c(f,m){return f && f.pv && (m || !1 !== f.Ru);}function k(f,m,l){return !g.Ga(f) || f < m?m:f > l?l:f;}function h(f){if(!(this instanceof h))return new h(f);this.Te=g.Ga(f)?f:void 0;this.gVb=0;}g=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,m){if(!f)throw (f=m?" : " + m:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},TI:c,hqa:function(f,m,l){var p,q,t,w;function n(v){var u;u=f[v];if(!u.pv || l && !l(u,v))return !1;w=v;return !0;}p=f.length;q=0;t=p;g.isArray(m) && (q=k(m[0],0,p),t=k(m[1],0,p),m=m[2]);m=k(m,q - 1,t);for(p=m - 1;p >= q;--p){if(n(p))return w;}for(p=m + 1;p < t;++p){if(n(p))return w;}return -1;},lUb:function(f,m){return Math.floor(f / (125 * m) * 1E3);},byb:function(f,m){return Math.ceil(f / 1E3 * m * 125);},efc:function(f,m){return !f.slice(m + 1).some(c);},Po:h,ze:function(f,m){var l;return f.some(function(n,p,q){l=n;return m(n,p,q);})?l:void 0;},Ln:function(f,m){var l;return f.some(function(n,p,q){l=p;return m(n,p,q);})?l:-1;},O6:k};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qh="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vi="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rfa="ConfigurableInputsSymbol";b.om="ValidatingConfigurableInputsSymbol";b.P1="ConfigNameSymbol";b.BS="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wi="ClockSymbol";},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kUb=b.platform=b.ih=b.Rb=b.$Kb=b.zX=b.uI=b.hSb=b.tG=b.ce=b.Go=b.Zj=b.EL=b.$t=b.vG=void 0;c=a(1);c.__exportStar(a(174),b);c.__exportStar(a(371),b);c.__exportStar(a(795),b);c.__exportStar(a(796),b);c.__exportStar(a(797),b);k=a(98);Object.defineProperties(b,{vG:{enumerable:!0,get:function(){return k.vG;}}});Object.defineProperties(b,{$t:{enumerable:!0,get:function(){return k.$t;}}});Object.defineProperties(b,{EL:{enumerable:!0,get:function(){return k.EL;}}});c.__exportStar(a(808),b);c.__exportStar(a(375),b);c.__exportStar(a(224),b);c.__exportStar(a(21),b);c.__exportStar(a(377),b);h=a(378);Object.defineProperties(b,{Zj:{enumerable:!0,get:function(){return h.Zj;}}});Object.defineProperties(b,{Go:{enumerable:!0,get:function(){return h.Go;}}});g=a(54);Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return g.ce;}}});d=a(226);Object.defineProperties(b,{tG:{enumerable:!0,get:function(){return d.tG;}}});c.__exportStar(a(227),b);b.hSb=function(m){b.platform.WX(m);return a(823).EJa;};b.uI=function(m){b.platform.WX(m);return Promise.resolve().then(function(){return c.__importStar(a(262));}).then(function(l){return l.uI();});};b.zX=function(m,l){b.platform.WX(m);return Promise.resolve().then(function(){return c.__importStar(a(445));}).then(function(n){return n.zX(l);});};b.$Kb=function(){return a(231);};r=c.__importDefault(a(30));b.Rb=r.default;r=a(1066);b.ih=r.ih;r=c.__importDefault(a(6));b.platform=r.default;f=a(1067);b.kUb=function(){return {Vr:f.Vr};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ti="AsyncComponentLoaderSymbol";},function(r,b,a){var k;function c(h,g,d,f,m,l,n,p,q,t,w,v){this.code=void 0 === h?k.T.zn:h;this.Jc=g;this.Qd=d;this.Xn=f;this.lB=m;this.message=l;this.details=n;this.data=p;this.Ak=q;this.vXb=t;this.alert=w;this.Mla=v;this.da=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.od=void 0;k=a(3);c.Me=function(h){var g,d,f;if(h){g=h.stack;d=h.number;f=h.message;f || (f="" + h);g?(h="" + g,0 !== h.indexOf(f) && (h=f + "\n" + h)):h=f;d && (h+="\nnumber:" + d);return h;}return "";};c.prototype.mW=function(h){this.details=c.Me(h);this.data=h;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Jc,extCode:this.Qd,edgeCode:this.Xn,mslCode:this.lB,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Ak,playbackServiceError:this.vXb};};c.Bqa=function(h,g){return new c(h,k.O.km,void 0,void 0,void 0,void 0,g.message,g.stack);};c.$gb=function(h,g){return new c(h,g,void 0,void 0,void 0,void 0,void 0,void 0);};c.R7b=function(h,g,d){return new c(h,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.od=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DQa="WindowTimersSymbol";b.UF="JSONSymbol";b.gQa="UserAgentSymbol";b.JL="NavigatorSymbol";b.zmb="MediaSourceSymbol";b.WIa="LocationSymbol";b.bFa="DateSymbol";b.Eha="PerformanceSymbol";b.C3="PlatformExtraInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Io=b.ww=b.Ky=void 0;(function(a){a[a.APa=0]="Test";a[a.rIa=1]="Int";a[a.Hob=2]="Staging";a[a.aob=3]="Prod";})(b.Ky || (b.Ky={}));(function(a){a[a.eT=0]="PreferMsl";a[a.DNa=1]="PreferNoMsl";a[a.Tmb=2]="NoMsl";})(b.ww || (b.ww={}));b.Io="GeneralConfigSymbol";},function(r,b,a){var g,d,f;function c(m){var l,n,p,w;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var q=(l=void 0,g.__values(Object.getOwnPropertyNames(m))),t=q.next();!t.done;t=q.next()){w=t.value;-1 === p.indexOf(w) && p.push(w);}}catch(v){l={error:v};}finally{try{t && !t.done && (n=q.return) && n.call(q);}finally{if(l)throw l.error;}}m=Object.getPrototypeOf(m);}return p;}function k(m,l,n,p,q){var t;Object.getOwnPropertyNames(m).filter(function(w){return q(w) && (n || !Object.prototype.hasOwnProperty.call(l,w)) && (p || !((w in l)));}).forEach(function(w){t=Object.getOwnPropertyDescriptor(m,w);void 0 !== t && Object.defineProperty(l,w,t);});}function h(m,l,n,p){var q,t;q=[];n || (q=Object.getOwnPropertyNames(l));p || (q=c(l));t=Object.getPrototypeOf(m);null !== t && t !== Object.prototype && h(t,l,n,p);k(m,l,!0,!0,function(w){return "constructor" !== w && -1 === q.indexOf(w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Jf=b.OAb=void 0;g=a(1);d=a(4);b.OAb=h;f=Object.getOwnPropertyNames(Function);b.Jf=function(m,l,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);m.prototype?(h(m.prototype,l.prototype,n,p),k(m,l,n,p,function(q){return -1 === f.indexOf(q);})):k(m,l.prototype,n,p,function(q){return -1 === f.indexOf(q);});return l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xC="named";b.p3="name";b.pT="unmanaged";b.aLa="optional";b.AS="inject";b.ZF="multi_inject";b.uPa="inversify:tagged";b.vPa="inversify:tagged_props";b.nha="inversify:paramtypes";b.Ejb="design:paramtypes";b.aT="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={LF:"playready-h264mpl30-dash",MF:"playready-h264mpl31-dash",cga:"playready-h264mpl40-dash",YGa:"h264mpl30-dash-playready-prk-qc",ZGa:"h264mpl31-dash-playready-prk-qc",$Ga:"h264mpl40-dash-playready-prk-qc",WGa:"playready-h264hpl22-dash",nS:"playready-h264hpl30-dash",pS:"playready-h264hpl31-dash",aga:"playready-h264hpl40-dash",XGa:"h264hpl22-dash-playready-live",oS:"h264hpl30-dash-playready-live",qS:"h264hpl31-dash-playready-live",bga:"h264hpl40-dash-playready-live",Iia:"vp9-profile0-L21-dash-cenc",tT:"vp9-profile0-L30-dash-cenc",uT:"vp9-profile0-L31-dash-cenc",e4:"vp9-profile0-L40-dash-cenc",fga:"hevc-main10-L30-dash-cenc",gga:"hevc-main10-L31-dash-cenc",hga:"hevc-main10-L40-dash-cenc",iga:"hevc-main10-L41-dash-cenc",tS:"hevc-main10-L50-dash-cenc",uS:"hevc-main10-L51-dash-cenc",L2:"hevc-main10-L30-dash-cenc-prk",O2:"hevc-main10-L31-dash-cenc-prk",R2:"hevc-main10-L40-dash-cenc-prk",U2:"hevc-main10-L41-dash-cenc-prk",M2:"hevc-main10-L30-dash-cenc-prk-do",P2:"hevc-main10-L31-dash-cenc-prk-do",S2:"hevc-main10-L40-dash-cenc-prk-do",V2:"hevc-main10-L41-dash-cenc-prk-do",X2:"hevc-main10-L50-dash-cenc-prk-do",Z2:"hevc-main10-L51-dash-cenc-prk-do",K2:"hevc-main10-L30-dash-cenc-live",N2:"hevc-main10-L31-dash-cenc-live",Q2:"hevc-main10-L40-dash-cenc-live",T2:"hevc-main10-L41-dash-cenc-live",W2:"hevc-main10-L50-dash-cenc-live",Y2:"hevc-main10-L51-dash-cenc-live",T1:"hevc-dv5-main10-L30-dash-cenc-prk",V1:"hevc-dv5-main10-L31-dash-cenc-prk",cS:"hevc-dv5-main10-L40-dash-cenc-prk",Y1:"hevc-dv5-main10-L41-dash-cenc-prk",a2:"hevc-dv5-main10-L50-dash-cenc-prk",c2:"hevc-dv5-main10-L51-dash-cenc-prk",Bfa:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Cfa:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Dfa:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Efa:"hevc-dv5-main10-L51-dash-cenc-prk-qc",U1:"hevc-dv5-main10-L30-dash-cenc-prk-do",W1:"hevc-dv5-main10-L31-dash-cenc-prk-do",X1:"hevc-dv5-main10-L40-dash-cenc-prk-do",Z1:"hevc-dv5-main10-L41-dash-cenc-prk-do",b2:"hevc-dv5-main10-L50-dash-cenc-prk-do",d2:"hevc-dv5-main10-L51-dash-cenc-prk-do",s2:"hevc-hdr-main10-L30-dash-cenc-prk",v2:"hevc-hdr-main10-L31-dash-cenc-prk",sS:"hevc-hdr-main10-L40-dash-cenc-prk",A2:"hevc-hdr-main10-L41-dash-cenc-prk",D2:"hevc-hdr-main10-L50-dash-cenc-prk",G2:"hevc-hdr-main10-L51-dash-cenc-prk",t2:"hevc-hdr-main10-L30-dash-cenc-prk-do",w2:"hevc-hdr-main10-L31-dash-cenc-prk-do",y2:"hevc-hdr-main10-L40-dash-cenc-prk-do",B2:"hevc-hdr-main10-L41-dash-cenc-prk-do",E2:"hevc-hdr-main10-L50-dash-cenc-prk-do",H2:"hevc-hdr-main10-L51-dash-cenc-prk-do",r2:"hevc-hdr-main10-L30-dash-cenc-live",u2:"hevc-hdr-main10-L31-dash-cenc-live",x2:"hevc-hdr-main10-L40-dash-cenc-live",z2:"hevc-hdr-main10-L41-dash-cenc-live",C2:"hevc-hdr-main10-L50-dash-cenc-live",F2:"hevc-hdr-main10-L51-dash-cenc-live",ECa:"av1-main-L20-dash-cbcs-prk",FCa:"av1-main-L21-dash-cbcs-prk",jC:"av1-main-L30-dash-cbcs-prk",kC:"av1-main-L31-dash-cbcs-prk",x1:"av1-main-L40-dash-cbcs-prk",y1:"av1-main-L41-dash-cbcs-prk",z1:"av1-main-L50-dash-cbcs-prk",A1:"av1-main-L51-dash-cbcs-prk"};b.xe={hfa:[b.H.LF,b.H.MF,b.H.cga],xea:[b.H.nS,b.H.pS,b.H.aga],wea:[b.H.oS,b.H.qS,b.H.bga],ACa:[b.H.tT,b.H.uT,b.H.e4],k9b:[b.H.fga,b.H.gga,b.H.hga,b.H.iga,b.H.tS,b.H.uS],mfa:[b.H.L2,b.H.O2,b.H.R2,b.H.U2,b.H.tS,b.H.uS],nfa:[b.H.M2,b.H.P2,b.H.S2,b.H.V2,b.H.X2,b.H.Z2],lfa:[b.H.K2,b.H.N2,b.H.Q2,b.H.T2,b.H.W2,b.H.Y2],jfa:[b.H.s2,b.H.v2,b.H.sS,b.H.A2,b.H.D2,b.H.G2],kfa:[b.H.t2,b.H.w2,b.H.y2,b.H.B2,b.H.E2,b.H.H2],ifa:[b.H.r2,b.H.u2,b.H.x2,b.H.z2,b.H.C2,b.H.F2],ZDa:[b.H.T1,b.H.cS,b.H.a2,b.H.V1,b.H.Y1,b.H.c2],$Da:[b.H.U1,b.H.X1,b.H.b2,b.H.W1,b.H.Z1,b.H.d2],Kib:[b.H.jC,b.H.kC,b.H.x1,b.H.y1,b.H.z1,b.H.A1]};b.Sd={NF:"heaac-2-dash",I2:"heaac-5.1-dash",OF:"heaac-2hq-dash",dz:"xheaac-dash",$R:"ddplus-2.0-dash",R1:"ddplus-5.1-dash",aS:"ddplus-atmos-dash"};b.mm={uob:"simplesdh",ufa:"dfxp-ls-sdh",JHa:"imsc1.1",g4:"webvtt-lssdh-ios8",HL:"nflx-cmisc"};},function(r,b,a){var m,l,n,p,q,t;function c(){var w,v;if(w=b.m9.ZSa)return w;w=p.q3.search.substr(1);v=w.indexOf("#");0 <= v && (w=w.substr(0,v));w=k(w);return b.m9.ZSa=w;}function k(w){for(var v=/[+]/g,u=(w || "").split("&"),x={},y,z=0;z < u.length;z++){w=(0,n.trim)(u[z]);y=w.indexOf("=");0 <= y?x[decodeURIComponent(w.substr(0,y).replace(v,"%20")).toLowerCase()]=decodeURIComponent(w.substr(y + 1).replace(v,"%20")):x[w.toLowerCase()]=null;}return x;}function h(w){return (w=(/function (.{1,})\(/).exec(w.toString())) && 1 < w.length?w[1]:"";}function g(w){return h(w.constructor);}function d(w){return p.sort.call(w,function(v,u){return v - u;});}function f(w){for(var v=0,u=w.length;u--;){v+=w[u];}return v;}Object.defineProperty(b,"__esModule",{value:!0});b.QXb=b.xI=b.n1a=b.B$=b.MXb=b.$4a=b.vib=b.wib=b.uIb=b.xu=b.oAb=b.o8=b.MHb=b.yJ=b.Lhb=b.JR=b.Mhb=b.C1=b.Khb=b.fPb=b.createElement=b.TV=b.tYb=b.Bwa=b.Xqa=b.getFunctionName=b.DZ=b.m9=b.SLb=b.wab=b.mUa=b.BXa=b.mZb=b.vD=b.hXa=void 0;m=a(14);l=a(8);n=a(25);p=a(12);q=a(13);t=a(47);b.hXa=function(w,v){if(w === v)return !0;if(!w || !v)return !1;for(var u in w){if(w.hasOwnProperty(u) && (!v.hasOwnProperty(u) || w[u] !== v[u]))return !1;}return !0;};b.vD=b.vD || (function(w,v){if(w.length == v.length){for(var u=w.length;u--;){if(w[u] != v[u])return !1;}return !0;}return !1;});b.mZb=function(w){var v;if(w){v=w.length;if(v)return (v=(0,n.qab)(0,v - 1),w[v]);}};b.BXa=function(w,v){if(w.length != v.length)return !1;w.sort();v.sort();for(var u=w.length;u--;){if(w[u] !== v[u])return !1;}return !0;};b.mUa=function(w,v,u){function x(){w.removeEventListener(v,x);u.apply(this,arguments);}w.addEventListener(v,x);};b.wab=function(){var w,v,u,x,y,z;w=p.wh.cookie.split("; ");v=w.length;y={};for(u=0;u < v;u++){if(x=(0,n.trim)(w[u])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.SLb=c;b.m9=Object.assign(c,{ZSa:void 0});b.DZ=k;b.getFunctionName=h;b.Xqa=g;b.Bwa=function(w){var v;v="";(0,q.isArray)(w) || (0,q.aua)(w)?v=p.reduce.call(w,function(u,x){return u + (32 <= x && 128 > x?(0,p.qPa)(x):".");},""):(0,q.Uf)(w)?v=w:(0,n.Rg)(w,function(u,x){v+=(v?", ":"") + "{" + u + ": " + ((0,q.kd)(x)?h(x) || "function":x) + "}";});return "[" + g(w) + " " + v + "]";};b.tYb=function(w,v){w.firstChild?w.insertBefore(v,w.firstChild):w.appendChild(v);};b.TV=b.TV || (function(w){var v;v="";(0,n.Rg)(w,function(u,x){v+=(v?";":"") + u + ":" + x;});return v;});b.createElement=b.createElement || (function(w,v,u,x){var y;y=p.wh.createElement(w);v && (y.style.cssText=v);u && (y.innerHTML=u);x && (0,n.Rg)(x,function(z,A){y.setAttribute(z,A);});return y;});b.fPb=function(w,v){var u;u=w[0];if(v <= u[0])return u.slice(1);for(var x=1,y;y=w[x++];){if(v <= y[0]){w=(v - u[0]) / (y[0] - u[0]);v=[];for(x=1;x < u.length;x++){v.push((u[x] || 0) + w * ((y[x] || 0) - (u[x] || 0)));}return v;}u=y;}return u.slice(1);};b.Khb=function(w,v){var y;for(var u={},x=0;x < v.length;x++){y=v[x];if("string" != typeof y && "number" != typeof y)return !1;u[v[x]]=1;}for(x=0;x < w.length;x++){if((y=w[x],!u[y]))return !1;}return !0;};b.C1=d;b.Mhb=f;b.JR=function(w,v){var u,x,y,z;u=-1;x=w.length;if(1 === arguments.length){for(;++u < x && !(null != (y=w[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w[u]) && z > y && (y=z);}}else {for(;++u < x && !(null != (y=v.call(w,w[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=v.call(w,w[u],u)) && z > y && (y=z);}}return y;};b.Lhb=function(w,v){var u,x,y,z;u=-1;x=w.length;if(1 === arguments.length){for(;++u < x && !(null != (y=w[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w[u]) && y > z && (y=z);}}else {for(;++u < x && !(null != (y=v.call(w,w[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=v.call(w,w[u],u)) && y > z && (y=z);}}return y;};b.yJ=function(w){return (0,q.kd)(w.then)?w:new Promise(function(v,u){w.oncomplete=function(){v(w.result);};w.onerror=function(){u(w.error);};});};b.MHb=function(w,v){var x,y,z,A,B,D;function u(C){0 > x.indexOf(C) && (0,q.Ga)(C) && x.push(C);}w=w.slice();d(w);x=[];if(!v || !v.length)return w;if(!w.length)return [];y=v.length;try{for(;y--;){A="" + v[y];B=(0,n.Mj)(A);switch(A[A.length - 1]){case "-":for(z=w.length;z--;){D=w[z];if(D < B){u(D);break;}}break;case "+":for(z=0;z < w.length;z++){if((D=w[z],D > B)){u(D);break;}}break;default:0 <= w.indexOf(B) && u(B);}}}catch(C){}x.length || x.push(w[0]);d(x);return x;};b.o8=b.o8 || (function(w,v,u){var x;if(w / v > u){x=(0,p.wn)(v * u);w=v;}else (x=w,w=(0,p.wn)(w / u));return {width:x,height:w};});b.oAb=function(w,v,u){for(var x=[],y=0;y < v;y++){x.push((0,p.RJa)(w[y] - u,2));}return (0,p.SJa)(f(x) / x.length);};b.xu=function(w,v){var u;u=w.length;v=(u - 1) * v + 1;if(1 === v)return w[0];if(v == u)return w[u - 1];u=(0,p.DL)(v);return w[u - 1] + (v - u) * (w[u] - w[u - 1]);};b.uIb=function(w,v){if(!(0,q.isArray)(w))throw Error("boxes is not an array");if(0 >= w.length)throw Error("There are no boxes in boxes");v=(0,q.isArray)(v)?v:[v];for(var u=w.length,x=0;x < u;x++){for(var y=0;y < v.length;y++){if(w[x].type == v[y])return w[x];}}throw Error("Box not found " + v);};b.wib=function(w){return w.bKb("trak/mdia/minf/stbl/stsd/" + m.HDa + "|" + m.IDa).children.filter(function(v){return "sinf" == v.type && v.mec.schm.Zgc == t.kw;})[0].bKb("schi/tenc").Ek;};b.vib=function(w){var u;function v(x,y){var z;z=u[x];u[x]=u[y];u[y]=z;}u=new Uint8Array(w);v(0,3);v(1,2);v(4,5);v(6,7);return u;};b.$4a=function(){return (0,q.kd)(p.Ee.requestMediaKeySystemAccess);};b.MXb=function(w){return function(v){return v && v[w];};};(0,q.kd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(w,v){var u,x;void 0 === w && (w=0);void 0 === v && (v=this.byteLength);w=Math.floor(w);v=Math.floor(v);0 > w && (w+=this.byteLength);0 > v && (v+=this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - w)return new ArrayBuffer(0);u=new ArrayBuffer(v - w);x=new Uint8Array(u);w=new Uint8Array(this,w,v - w);x.set(w);return u;});b.B$=function(w){return w && 0 == w.toLowerCase().indexOf("https");};b.n1a=function(){var w,v;w=new ArrayBuffer(4);v=new Uint8Array(w);w=new Uint32Array(w);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == w[0]?"LE":2712847316 == w[0]?"BE":"undefined";};b.xI=function(){var w,v,u;try{w=/playercore.*js/;v=p.xw.getEntries("resource").filter(function(x){return null !== w.exec(x.name);});if(v && 0 < v.length){u=(0,p.wn)(v[0].duration);return JSON.stringify(u);}}catch(x){}};b.QXb=function(w,v,u){if(w && w.length){if(u && u.yzb)try{w.forEach(function(x,y){var z;z=(y=u.yzb[y]) && y.media;z && (0,q.Uf)(z)?(!1,z=(0,l.us)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:v,Bc:y.cdn}):l.log.warn("chunk not in cache",x.ph);});}catch(x){l.log.error("error reading cached chunks",x);}else l.log.warn("chunks not available in cached stream",u.type);}else l.log.warn("chunks not available in mediabuffer",u.type);};},function(r,b,a){var g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D;function c(C){var F,G,E;F=A(C,0,1);G=A(C,-1);if("%" === F && "%" !== G)throw new g("invalid intrinsic syntax, expected closing `%`");if("%" === G && "%" !== F)throw new g("invalid intrinsic syntax, expected opening `%`");E=[];z(C,B,function(I,N,L,H){E[E.length]=L?z(H,D,"$1"):N || I;});return E;}function k(){throw new f();}function h(C){try{return d('"use strict"; return (' + C + ").constructor;")();}catch(F){}}g=SyntaxError;d=Function;f=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(C){m=null;}b=m?(function(){try{return (arguments.callee,k);}catch(C){try{return m(arguments,"callee").get;}catch(F){return k;}}})():k;l=a(323)();n=Object.getPrototypeOf || (function(C){return C.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);t={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && l?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && l?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?n(("")[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":g,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};w=function G(F){var E,I;if("%AsyncFunction%" === F)E=h("async function () {}");else if("%GeneratorFunction%" === F)E=h("function* () {}");else if("%AsyncGeneratorFunction%" === F)E=h("async function* () {}");else if("%AsyncGenerator%" === F){I=G("%AsyncGeneratorFunction%");I && (E=I.prototype);}else "%AsyncIteratorPrototype%" === F && (I=G("%AsyncGenerator%")) && (E=n(I.prototype));return t[F]=E;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(200);u=a(108);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(F,G){var E,I,N,L,H,Q,O,J,M;if("string" !== typeof F || 0 === F.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof G)throw new f('"allowMissing" argument must be a boolean');E=c(F);I=0 < E.length?E[0]:"";N="%" + I + "%";L=N;if(u(v,L)){H=v[L];L="%" + H[0] + "%";}if(u(t,L)){Q=t[L];Q === p && (Q=w(L));if("undefined" === typeof Q && !G)throw new f("intrinsic " + N + " exists, but is not available. Please file an issue!");}else throw new g("intrinsic " + N + " does not exist!");N=Q;L=!1;H && (I=H[0],y(E,x([0,1],H)));H=1;for(Q=!0;H < E.length;H+=1){O=E[H];J=A(O,0,1);M=A(O,-1);if(('"' === J || "'" === J || "`" === J || '"' === M || "'" === M || "`" === M) && J !== M)throw new g("property names with quotes must have matching quotes");"constructor" !== O && Q || (L=!0);I+="." + O;J="%" + I + "%";if(u(t,J))N=t[J];else if(null != N){if(!((O in N))){if(!G)throw new f("base intrinsic for " + F + " exists, but the property is not available.");return;}m && H + 1 >= E.length?(M=m(N,O),N=(Q=! !M) && ("get" in M) && !(("originalValue" in M.get))?M.get:N[O]):(Q=u(N,O),N=N[O]);Q && !L && (t[J]=N);}}return N;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mo="PlatformSymbol";b.D3="PlatformMutableSymbol";},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.sra=b.Fra=b.d9=b.FHa=b.QF=b.clb=b.oia=b.nia=b.yQa=b.zQa=b.mLa=b.m2=b.TEMPORARY=b.kw=void 0;c=a(13);k=a(8);b.kw="cenc";b.TEMPORARY="temporary";b.m2="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.mLa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.zQa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.yQa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.nia="SW_SECURE_CRYPTO";b.oia="SW_SECURE_DECODE";b.clb="HW_SECURE_DECODE";b.QF="HW_SECURE_ALL";b.FHa=[b.QF];b.d9=function(h){var g;g=h.getConfiguration();return [b.QF,b.oia,b.nia].find(function(d){var f;return null === (f=g.videoCapabilities) || void 0 === f?void 0:f.some(function(m){return m.robustness === d;});});};b.Fra=function(h){var g,m;try{for(var d=/\((\d[^)]+)\)/g,f;f=d.exec(h);){m=Number(f[1]);(0,c.Ga)(m) && (g=m);}}catch(l){}return g;};b.sra=function(h){var g;g={};try{h.forEach(function(d){var f,m;if(d.XH){for(var l=(0,k.Nz),n=d.XH,p=0,q=new Uint8Array(16),t=0;t < n.length;t+=2){q[p++]=parseInt(n.slice(t,t + 2),16);}l=l(q);d=null !== (f=d.height) && void 0 !== f?f:d.bza;g[l]=Math.max(d,null !== (m=g[l]) && void 0 !== m?m:0);}});}catch(d){}return g;};},function(r,b,a){var g,d,f;function c(m){return function(l,n){return l.xya(n,m);};}function k(m,l){return m.gca.gZb[l] || h(m,l);}function h(m,l){m=m.MA.data[l];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.Jz=b.Fya=b.object=b.WGb=b.url=b.aa=b.pl=b.GBa=b.hPb=b.CK=b.string=b.bC=b.Fd=b.hE=b.config=void 0;g=a(53);d=a(5);f=a(143);b.config=function(m,l,n){n=void 0 === n?!1:n;return function(p,q,t){var w,v;w=void 0 !== l?l:q;v=t.get;void 0 !== v && (t.get=function(){var u;if(!this.ZPb(q))return this.$Lb(q);a:{u=(this.Zvb || n?k:h)(this,w.toString());if(void 0 !== u)if((u=m(this.mZ,u),u instanceof f.aq))this.l0a(w,u);else break a;u=v.bind(this)();}this.Gbb(q,u);return u;});return t;};};b.hE=function(m,l){return m.zab(l);};b.Fd=function(m,l){return m.rya(l);};b.bC=function(m,l){return m.nr(l);};b.string=function(m,l){return m.xya(l);};b.CK=function(m,l){return m.ji(l,b.string);};b.hPb=function(m,l){return m.ji(l,b.hE);};b.GBa=function(m,l){return m.ji(l,b.bC);};b.pl=function(m,l){m=m.nr(l);return m instanceof f.aq?m:(0,d.Sc)(m);};b.aa=function(m,l){m=m.nr(l);return m instanceof f.aq?m:(0,g.aa)(m);};b.url=c(/^\S+$/);b.WGb=function(m){return function(l,n){return l.yab(n,m);};};b.object=function(){return function(m,l){return m.Aab(l);};};b.Fya=c;b.Jz=function(m,l){return function(n,p){return n.ji(p,m,l);};};},function(r,b,a){var h,g,d,f;function c(m,l){var n;n=f.call(this,m,l) || this;n.wXa=l;n.debug=m.debug;n.Ca=m.Vf.kb(n.wXa);return n;}function k(m,l){this.wXa=l;this.gya={};this.MA=m.MA;this.mZ=m.mZ;this.gca=m.gca;}Object.defineProperty(b,"__esModule",{value:!0});b.ff=b.QR=b.wPa=void 0;r=a(2);h=a(697);g=a(0);d=a(143);b.wPa="isTestAccount";k.prototype.l0a=function(){};k.prototype.Gbb=function(m,l){this.gya[m]=[l,this.MA.Eca];};k.prototype.ZPb=function(m){return h.lha.of(this.gya[m]).map(function(l){return l[1];}).or(-1) < this.MA.Eca;};k.prototype.$Lb=function(m){return h.lha.of(this.gya[m]).map(function(l){return l[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(k.prototype,{Zvb:{configurable:!0,enumerable:!0,get:function(){var m,l;if(this && this.MA && this.MA.data){m=this.MA.data[b.wPa];"undefined" !== typeof m && (l=m.toString());m=this.mZ.rya(l);m=m instanceof d.aq?!1:m;}else m=!1;return m;}}});f=k;f=r.__decorate([(0,g.U)(),r.__param(0,(0,g.Eo)()),r.__param(1,(0,g.Eo)())],f);b.QR=f;la(c,f);c.prototype.l0a=function(m,l){this.Ca.error("Invalid configuration value.",{name:m},l);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,g.Eo)()),r.__param(1,(0,g.Eo)())],a);b.ff=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ek="SchedulerSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(816),b);r.__exportStar(a(146),b);r.__exportStar(a(817),b);r.__exportStar(a(818),b);r.__exportStar(a(819),b);r.__exportStar(a(820),b);r.__exportStar(a(382),b);r.__exportStar(a(821),b);r.__exportStar(a(822),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hga="LogBatcherConfigSymbol";b.un="LogBatcherSymbol";b.ZIa="LogBatcherProviderSymbol";},function(r,b,a){var h;function c(){return h.rT.apply(this,arguments) || this;}function k(g){return new h.Xt(g,b.CF);}Object.defineProperty(b,"__esModule",{value:!0});b.hb=b.rKa=b.Cga=b.jw=b.CF=b.sTb=b.JQb=b.aa=b.Oz=b.Iib=void 0;h=a(336);la(c,h.rT);b.Iib=c;b.Oz=k;b.aa=function(g){return new h.Xt(g,b.jw);};b.JQb=function(g){return new h.Xt(g,b.Cga);};b.sTb=function(g){return new h.Xt(g,b.rKa);};b.CF=new c(1,"b");b.jw=new c(8 * b.CF.Ag,"B",b.CF);b.Cga=new c(1024 * b.jw.Ag,"KB",b.CF);b.rKa=new c(1024 * b.Cga.Ag,"MB",b.CF);b.hb=k(0);},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hia=b.ce=void 0;c=a(1);k=a(815);(function(h){h[h.Pp=0]="startPlayback";h[h.pp=1]="endPlayback";h[h.Do=2]="underflow";})(b.ce || (b.ce={}));r=(function(){function h(g){this.config=g;this.qQ=[];}h.prototype.Mg=function(g){var d,f;f=c.__read(this.config.z7.filter(function(m){return m.sg === g.sg;}),1)[0];(null !== (d=null === f || void 0 === f?void 0:f.enabled) && void 0 !== d?d:g.enabled)?this.qQ.push(g):g.Hb && g.Hb();};h.prototype.Vl=function(g){var d,f,m,p,q;f={};m=[];try{for(var l=c.__values(this.qQ),n=l.next();!n.done;n=l.next()){p=n.value;try{q=p.Vl({Li:g});q && (p.DE?f[p.DE]=q:f=c.__assign(c.__assign({},f),q));}catch(w){m.push(Error(p.sg + "::" + w));}}}catch(w){var t;t={error:w};}finally{try{n && !n.done && (d=l.return) && d.call(l);}finally{if(t)throw t.error;}}m.length && (f["rpt-error"]=k.Mea.stringify(new k.Mea("Reporting error",m)));return f;};return h;})();b.hia=r;},function(r,b,a){var c,k;c=a(133);k=a(186);r.exports=function(h){return function m(d,f){switch(arguments.length){case 0:return m;case 1:return k(d)?m:c(function(l){return h(d,l);});default:return k(d) && k(f)?m:k(d)?c(function(l){return h(l,f);}):k(f)?c(function(l){return h(d,l);}):h(d,f);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Dp=b.H3b=b.a9a=void 0;b.a9a=function(a,c){return a - c;};b.H3b=function(a,c){return a.localeCompare(c);};b.Dp=function(a,c){var k;k=Object.getOwnPropertyDescriptor(a,c);k && Object.defineProperty(a,c,{configurable:k.configurable,enumerable:!1,value:k.value,writable:k.writable});};b.flatten=function(a){return [].concat.apply([],ja(a));};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lo="PboCommandContextSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gkb="Cannot apply @injectable decorator multiple times.";b.hkb="Metadata key was used more than once in a parameter:";b.US="NULL argument";b.yIa="Key Not Found";b.rhb="Ambiguous match found for serviceIdentifier:";b.Jib="Could not unbind serviceIdentifier:";b.Kmb="No matching bindings found for serviceIdentifier:";b.imb="Missing required @injectable annotation in:";b.jmb="Missing required @inject or @multiInject annotation in:";b.Xob=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Mib="Circular dependency found:";b.xac="Sorry, this feature is not fully implemented yet.";b.Elb="Invalid binding type:";b.Mmb="No snapshot available to restore.";b.Ilb="Invalid return type in middleware. Middleware must return!";b.Hlb="Value provided to function binding must be a function!";b.Klb="The toSelf function can only be applied when a constructor is used as service identifier";b.Flb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.thb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.ajb="Invalid Container constructor argument. Container options must be an object.";b.Zib="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Yib="Invalid Container option. Auto bind injectable must be a boolean";b.$ib="Invalid Container option. Skip base check must be a boolean";b.wmb="Cannot apply @postConstruct decorator multiple times in the same class";b.Pnb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Nib=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.yob="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fua=b.zi=void 0;(function(a){a[a.bq=0]="STANDARD";a[a.Jo=1]="LIMITED";})(b.zi || (b.zi={}));b.Fua=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fg=void 0;b.fg=function(a){return setTimeout(a,0);};},function(r,b,a){var k,h,g,d,f;function c(){return k.pc.get(g.vd).WA.ca(f.la);}Object.defineProperty(b,"__esModule",{value:!0});b.Vzb=b.R6=b.UWa=b.Tzb=b.Uzb=b.Hna=b.Pn=void 0;k=a(204);h=a(35);g=a(20);d=a(81);f=a(5);b.Pn=function(){return k.pc.get(g.vd).Xb().ca(f.la);};b.Hna=function(){return k.pc.get(h.wi).qf.ca(f.Oo);};b.Uzb=function(){return k.pc.get(g.vd).WA.ca(f.Oo);};b.Tzb=function(){return k.pc.get(d.Oy).dA();};b.UWa=c;b.R6=function(){return k.pc.get(h.wi).qf.ca(f.la);};b.Vzb=function(){return c();};},function(r,b){var c,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ho=b.Ma=b.fk=void 0;(function(h){h[h.bq=0]="STANDARD";h[h.Jo=1]="LIMITED";h[h.Yac=2]="PREVIEW";})(c || (c={}));(function(h){h[h.HAVE_NOTHING=0]="HAVE_NOTHING";h[h.HAVE_METADATA=1]="HAVE_METADATA";h[h.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";h[h.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";h[h.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(k || (k={}));(function(h){h.Fhb="asl_start";h.Dhb="asl_comp";h.A8b="asl_exc";h.Ehb="asl_fail";h.Bob="stf_creat";h.mlb="idb_open";h.jlb="idb_block";h.tlb="idb_upgr";h.slb="idb_succ";h.klb="idb_error";h.llb="idb_invalid_state";h.olb="idb_open_timeout";h.qlb="idb_open_wrkarnd";h.rlb="idb_storelen_exc";h.nlb="idb_open_exc";h.plb="idb_timeout_invalid_storelen";h.qmb="msl_load_data";h.smb="msl_load_no_data";h.rmb="msl_load_failed";})(r=b.fk || (b.fk={}));(function(h){h.qha="PlaybackRequestStart";h.pha="PlaybackRequestEnd";h.M3="RequestPrefetchManifestStart";h.L3="RequestPrefetchManifestEnd";h.K3="RequestManifestStart";h.J3="RequestManifestEnd";h.I3="RequestLicenseStart";h.H3="RequestLicenseEnd";h.WR="RequestTimedTextUrlStart";h.VR="RequestTimedTextUrlEnd";h.UR="RequestAudioUrlStart";h.TR="RequestAudioUrlEnd";h.YR="RequestVideoUrlStart";h.XR="RequestVideoUrlEnd";h.zea="AppendBufferStart";h.yea="AppendBufferEnd";h.jia="SetMediaKeysStart";h.iia="SetMediaKeysEnd";h.p2="GenerateChallengeStart";h.o2="GenerateChallengeEnd";h.v1="ApplyLicenseStart";h.u1="ApplyLicenseEnd";})(b.Ma || (b.Ma={}));b.Ho=a;a.Dga=c;a.JXa=function(h){return ["STANDARD","LIMITED","PREVIEW"][h];};a.fk=r;a.a3=k;},function(r,b,a){var k,h;function c(g,d){var f;f=b.No[0];f == d && (f=b.No[1]);f?f.close(function(){c(g,d);}):g && g(k.Fg);}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=b.HMa=b.Kha=b.Lha=b.CC=b.Mha=b.IMa=b.Pha=b.Oha=b.No=b.LMa=b.Nha=void 0;k=a(14);h=a(24);b.Nha=c;b.LMa=function(g,d){switch(g){case b.IMa:b.Oha.push(d);return;case b.Mha:b.Pha.push(d);return;}(0,h.sb)(!1);};b.No=[];b.Oha=[];b.Pha=[];b.IMa=1;b.Mha=3;b.CC={index:0,i8a:void 0,nqa:void 0};b.Lha="network";b.Kha="media";b.HMa="timedtext";b.JMa="playback";},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.w9=b.Js=b.x9=b.ZD=b.fo=b.bf=void 0;r=a(72);c=a(60);k=a(12);b.bf=new r.Tk();b.fo=1;b.ZD=2;b.x9=3;b.Js=4;b.w9=5;(0,c.fg)(function(){var g,d,f;function h(m,l){if(d)d.on(m,l);else nb.addEventListener(m,l);}g=nb.jQuery;d=g && g(nb);g=(g=nb.netflix) && g.cadmium && g.cadmium.addBeforeUnloadHandler;f=k.wh.hidden;g?g(function(m){b.bf.ed(b.fo,m);}):h("beforeunload",function(m){b.bf.ed(b.fo,m);});h("keydown",function(m){b.bf.ed(b.ZD,m);});h("resize",function(){b.bf.ed(b.x9);});k.wh.addEventListener("visibilitychange",function(){f !== k.wh.hidden && (f=k.wh.hidden,b.bf.ed(b.Js));});});(function(){nb.addEventListener("error",function(h){b.bf.ed(b.w9,h);return !0;});})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);r=(function(){function k(h,g){this.key=h;this.value=g;}k.prototype.toString=function(){return this.key === c.xC?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return k;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ut="EmeConfigSymbol";},function(r,b){function a(c){var k;k=Error.call(this,"TimeoutError");this.message=k.message;("stack" in k) && (this.stack=k.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.oG=b.Zr=void 0;la(a,Error);b.Zr=a;b.oG="PromiseTimerSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(153),b);r.__exportStar(a(902),b);r.__exportStar(a(178),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rw=b.iha=b.ResponseType=void 0;b.ResponseType={Text:1,occ:2,kib:3};b.iha="OPEN_CONNECT_APPLIANCE";b.rw="LegacyHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.au="Utf8EncoderSymbol";},function(r,b,a){var k,h,g,d;function c(f,m,l){var n,p,w;m=k.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{c9a:m,Kn:l}));if((null === f || void 0 === f?0:f.Kn) && l)if(!0 === f.Kn)m.args=l;else {p={};m.args=p;try{for(var q=k.__values(f.Kn),t=q.next();!t.done;t=q.next()){w=t.value;p[w]=l[w];}}catch(u){var v;v={error:u};}finally{try{t && !t.done && (n=q.return) && n.call(q);}finally{if(v)throw v.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Fw=b.ksa=b.Kb=void 0;k=a(1);h=a(16);g=k.__importDefault(a(6));d=a(9);b.Kb=function(f){return function(m,l,n){var p;p=n.value;n.value=function(){var q,t,w,v,u,x;t=b.ksa(this);if(t)(w=c(f,this,arguments),v=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(l),u=t.UU(v,w,null === f || void 0 === f?void 0:f.jl,null === f || void 0 === f?void 0:f.Sec));q=null === t || void 0 === t?void 0:t.qoa;t && (t.qoa=u);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);d.Vta(x) && (x=x.then(function(z){u && (null === f || void 0 === f?0:f.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{t && (t.qoa=q);u && (u.data || (u.data={}),y?(u.data.error="" + y,null === t || void 0 === t?void 0:t.xAb(u)):(null === f || void 0 === f?0:f.return) && !d.Vta(x) && (u.data.lRet=x));}};};};b.ksa=function(f){if(null === f || void 0 === f?0:f.Tia)return f.Tia;};r=(function(){function f(m){this.Xq=[];this.Y4=!1;this.Vja={};this.J=k.__assign({dt:10},m);Object.defineProperties(m.cr,{Tia:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.J.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.Y4;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xQb:{get:function(){return k.__spread(this.Xq);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{RNb:{get:function(){return this.Vja;},enumerable:!1,configurable:!0}});f.prototype.ps=function(m){var l,n;if(!this.Y4){n=null === (l=b.ksa(this.J.cr)) || void 0 === l?void 0:l.qoa;n && (n.data=k.__assign(k.__assign({},n.data),m));}};f.prototype.UU=function(m,l,n,p){var q,t,w,v;if(!this.Y4){w=!1;v=null === (t=(q=this.J).Kla) || void 0 === t?void 0:t.call(q,this.J.cr);q=c({},this.J.cr);l=k.__assign(k.__assign(k.__assign({},v),q),l);v=0 < Object.keys(l).length;l={methodName:m,data:v?l:void 0,time:g.default.time.ha()};p && this.Vja[m]++;n && this.Xq.length && (n=this.Xq[this.Xq.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=l,w=!0));this.yAb(l);w || this.Xq.push(l);this.Xq.length > this.J.dt && this.Xq.shift();return l;}};f.prototype.yAb=function(m){var l;h.Z && (null === (l=this.J.console) || void 0 === l?void 0:l.trace(this.J.source + "::" + m.methodName,m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.J,m);};f.prototype.xAb=function(m){var l;h.Z && (null === (l=this.J.console) || void 0 === l?void 0:l.error(this.J.source + "::" + m.methodName,m.data));};f.prototype.Hb=function(){Object.defineProperties(this.J.cr,{Tia:{enumerable:!1,value:null,configurable:!0}});this.Y4=!0;this.clear();};f.prototype.clear=function(){this.Xq=[];this.Vja={};};return f;})();b.Fw=r;},function(r,b,a){var k,h;function c(){var g,d;g=this;this.du={};this.on=function(f,m,l){g.addListener(f,m,l);};this.addListener=function(f,m,l){g.du && (g.du[f]=g.du[f] || new h.Zha(!0)).add(m,l);};this.removeListener=function(f,m){g.du && g.du[f] && g.du[f].removeAll(m);};this.jra=function(f){return g.du && g.du[f]?g.du[f].flatten():[];};d=this;this.ed=function(f,m,l){var n;if(d.du){n=d.jra(f);for(f={eL:0};f.eL < n.length;(f={eL:f.eL},f.eL++)){l?(function(p){return function(){var q;q=n[p.eL];(0,k.fg)(function(){q(m);});};})(f)():n[f.eL].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Tk=void 0;k=a(60);h=a(359);c.prototype.$h=function(){this.du=void 0;};b.Tk=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ph={Vua:"logblob",ia:"manifest",hRb:"licensedmanifest",mh:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.DC={job:"reqAttempt",kob:"reqName",Bib:"browsername",Gib:"browserversion",Xmb:"osname",Ymb:"osversion",fjb:"clienttype",Wob:"uiversion"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rt={Request:"Request",sia:"Singleton",c4:"Transient"};b.ak={FEa:"ConstantValue",GEa:"Constructor",RFa:"DynamicValue",Xfa:"Factory",Function:"Function",Instance:"Instance",Tlb:"Invalid",RNa:"Provider"};b.bz={yEa:"ClassProperty",HEa:"ConstructorArgument",Jia:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pIa="Injector";b.Qy=145152E5;b.PL="ProfileSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cy="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vw="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xy="PboConfigSymbol";},function(r,b,a){var k,h,g;function c(d,f){this.Sw=f?[f]:[];this.Wja="$op$" + g++;this.Na=d;}Object.defineProperty(b,"__esModule",{value:!0});b.oc=void 0;k=a(14);h=a(24);g=0;c.prototype.addListener=function(d,f){var m;m=this;(0,h.uoa)(d);(0,h.sb)(0 > this.Sw.indexOf(d));d[k.w3 + this.Wja]=f;this.Sw=this.Sw.slice();this.Sw.push(d);this.Sw.sort(function(l,n){return m.X2b(l,n);});};c.prototype.removeListener=function(d){var f;(0,h.uoa)(d);this.Sw=this.Sw.slice();0 <= (f=this.Sw.indexOf(d)) && this.Sw.splice(f,1);};c.prototype.set=function(d,f){if(this.Na !== d){f={oldValue:this.Na,newValue:d,Jm:f};this.Na=d;d=this.Sw;for(var m=d.length,l=0;l < m;l++){d[l](f);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(m){function l(n){if(d(n.newValue))return (f.removeListener(l),m(n.newValue));}if(d(f.Na))return m(f.Na);f.addListener(l);});};c.prototype.X2b=function(d,f){return (d[k.w3 + this.Wja] || 0) - (f[k.w3 + this.Wja] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Na;}}});b.oc=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WL="TimingApiSymbol";b.QS="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oy="IdProviderSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gw=void 0;r=(function(){function a(c){this.jf=c;}a.prototype.Zza=function(c){this.jf=c;};a.prototype.MWa=function(){this.jf=void 0;};a.prototype.bX=function(c){return this.jf && this.jf.tba && this.jf.tba(c);};a.prototype.wO=function(c){this.jf && this.jf.qB && this.jf.qB(c);};a.prototype.PD=function(c){this.jf && this.jf.wJ && this.jf.wJ(c);};a.prototype.kI=function(c){this.jf && this.jf.xJ && this.jf.xJ(c);};a.prototype.j0a=function(c){this.jf && this.jf.$wa && this.jf.$wa(c);};a.prototype.Tu=function(c){this.jf && this.jf.Kk && this.jf.Kk(c);};a.prototype.u8=function(c){this.jf && this.jf.yZ && this.jf.yZ(c);};a.prototype.vO=function(c,k,h){this.jf && this.jf.xZ && this.jf.xZ(c,k,h);};return a;})();b.gw=r;r.prototype.tba=r.prototype.bX;r.prototype.qB=r.prototype.wO;r.prototype.wJ=r.prototype.PD;r.prototype.xJ=r.prototype.kI;r.prototype.Kk=r.prototype.Tu;r.prototype.yZ=r.prototype.u8;r.prototype.xZ=r.prototype.vO;r.prototype.$wa=r.prototype.j0a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);b.Ro=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.IT=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.bqb=function(k,h){return Math.floor(1E3 * k / h);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){k.prototype.parse.call(this,g);this.Pb=this.ij([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{UNb:"int32"},{j7b:"int32"},{offset:32,type:"offset"},{LIb:"int16"},{mAb:{type:"int8",ama:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};h.Ta=!0;return h;})(a(237).default);b.default=r;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc1";return h;})(r);b.Hea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc2";return h;})(r);b.Iea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc3";return h;})(r);b.Jea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc4";return h;})(r);b.Kea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="hvc1";return h;})(r);b.oga=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="hev1";return h;})(r);b.ega=a;r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="av01";return h;})(r);b.Gea=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Py="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zp={start:"start",stop:"stop",mY:"keepAlive",iO:"engage",splice:"splice"};b.Ufa="EventPboCommandFactorySymbol";b.cPa="StartEventPboCommandSymbol";b.jPa="StopEventPboCommandSymbol";b.AIa="KeepAliveEventPboCommandSymbol";b.YOa="SpliceEventPboCommandSymbol";b.oGa="EngageEventPboCommandSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);b.Ro=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.IT=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.bqb=function(k,h){return Math.floor(1E3 * k / h);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){k.prototype.parse.call(this,g);this.Pb=this.ij([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{UNb:"int32"},{j7b:"int32"},{offset:32,type:"offset"},{LIb:"int16"},{mAb:{type:"int8",ama:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};h.Ta=!0;return h;})(a(277).default);b.default=r;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc1";return h;})(r);b.Hea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc2";return h;})(r);b.Iea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc3";return h;})(r);b.Jea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="avc4";return h;})(r);b.Kea=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="hvc1";return h;})(r);b.oga=a;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="hev1";return h;})(r);b.ega=a;r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="av01";return h;})(r);b.Gea=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vi={audio:"audio",video:"video",Bda:"timedtext",ABa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hy="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.qj=b.Vmb=b.BC=void 0;c=a(13);b.BC=b.BC || (function(k,h,g){return k >= h?k <= g?k:g:h;});b.Vmb=function(k,h,g,d,f){return (k - h) * (f - d) / (g - h) + d;};b.qj=function(k){if((0,c.Ga)(k))return (k / 1E3).toFixed(3);};},function(r,b,a){var k,h,g,d,f;function c(m,l,n){this.context=m;this.errorCode=l;this.m0b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.$j=void 0;r=a(2);k=a(0);h=a(550);g=a(5);d=a(38);f=a(40);c.prototype.send=function(m,l,n,p,q,t){var w;w=this;t=void 0 === t?f.ww.eT:t;return this.gKb(m,l,n,t,p,q).then(function(v){return w.context.iFb.send(v.context,v.request);});};c.prototype.gKb=function(m,l,n,p,q,t){var w,v;try{w=this.context.M_b.create(this.context.KA.dA(),l.url,n,q,p);v=this.Vxb(l,m,p,t);return Promise.resolve({context:v,request:w});}catch(u){return Promise.reject(u);}};c.prototype.Vxb=function(m,l,n,p){return {Tf:this.context.Tf,log:l,Qn:m.name,url:this.context.G6b((0,h.bWa)(this.context.Th,this.context.gi,m.name,n)),kza:this.m0b,timeout:(0,g.Kh)(59),headers:(0,h.aWa)(this.context.gi,this.context.UH),qr:m.qr,Axb:p};};c.prototype.up=function(m){return m instanceof d.od?m:(0,h.up)(this.errorCode,m);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.Eo)()),r.__param(1,(0,k.Eo)()),r.__param(2,(0,k.Eo)())],a);b.$j=a;},function(r,b,a){var h,g;function c(d,f,m,l,n){var p,q,w;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():m;if(q && void 0 !== m)throw Error(h.Flb);Reflect.Bsa(d,f) && (p=Reflect.getMetadata(d,f));m=p[n];if(Array.isArray(m)){q=0;for(var t=m;q < t.length;q++){w=t[q];if(w.key === l.key)throw Error(h.hkb + " " + w.key.toString());}}else m=[];m.push(l);p[n]=m;Reflect.w7(d,p,f);}function k(d,f){return function(m,l){f(m,l,d);};}Object.defineProperty(b,"__esModule",{value:!0});h=a(58);g=a(42);b.HK=function(d,f,m,l){c(g.uPa,d,f,l,m);};b.x0=function(d,f,m){c(g.vPa,d.constructor,f,m);};b.Cs=function(d,f,m){"number" === typeof m?(d=[k(m,d)],Reflect.Cs(d,f)):"string" === typeof m?Reflect.Cs([d],f,m):Reflect.Cs([d],f);};},function(r,b,a){var k,h,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oL=b.Bb=void 0;k=a(124);h=a(38);g=a(3);c.oX=function(d){if(d){if(d.includes(b.oL.uB))return k.jm.uB;if(d.includes("fps"))return k.jm.ND;if(d.includes(b.oL.nea))return k.jm.nea;}throw new h.od(g.T.Akb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.hra=function(d){switch(d){case k.jm.uB:return b.oL.uB;case k.jm.ND:return b.oL.ND;default:return b.oL.nea;}};b.Bb=c;c.Yy="com.microsoft.playready";c.ae="com.microsoft.playready.hardware";c.kG="com.microsoft.playready.software";c.Qkb="com.apple.fps.2_0";c.BQa="com.widevine.alpha";c.DMa="com.microsoft.playready.recommendation.3000";c.EMa="com.microsoft.playready.recommendation.2000";c.dlb=[c.DMa];b.oL={ND:"fairplay",nea:"widevine",uB:"playready"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iob="StorageValidatorSymbol";b.mC="AppStorageFactorySymbol";},function(r,b,a){var k,h;function c(g,d,f,m,l){g=void 0 === g?k.T.zn:g;return h.od.call(this,g,d,f,void 0,void 0,m,h.od.Me(l),l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vh=void 0;k=a(3);h=a(38);la(c,h.od);b.vh=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(798),b);r.__exportStar(a(799),b);r.__exportStar(a(800),b);r.__exportStar(a(801),b);r.__exportStar(a(802),b);r.__exportStar(a(803),b);r.__exportStar(a(804),b);r.__exportStar(a(805),b);r.__exportStar(a(373),b);r.__exportStar(a(374),b);r.__exportStar(a(806),b);r.__exportStar(a(807),b);r.__exportStar(a(223),b);},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var t=p.length,w=0,v=d(p),u=d(q),x=0;x < t;x++){w+=p[x] * q[x];}return (w - v * u / t) / t;}return !1;}function k(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=h(p);return Math.sqrt(p);}function h(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=g(p);return d(p.map(function(t){return (t - q) * (t - q);})) / (p.length - 1);}function g(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,t){return q + t;},0):!1;}function f(p,q,t){return Math.max(Math.min(p,t),q);}function m(p,q){return "number" === typeof p?p:q;}function l(p){return 1 / (1 + Math.exp(-p));}n=a(10);r.exports={ab:function(p,q,t){try{p.emit(q,t);}catch(w){p.Yk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);}},xD:function(){var p,q,t;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(q);p.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;},O6:f,Ezb:function(p,q,t,w){return {min:f(m(p.min,q),t,w),max:f(m(p.max,q),t,w),Uz:f(p.Uz || 6E4,0,6E5),vWa:f(p.vWa || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),Wbb:f(p.Wbb || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},Rg:function(p,q){void 0 !== p && n.EWb(p).forEach(function(t){q(t[0],t[1]);});},Hpa:function(p,q,t){return p.min + (p.max - p.min) * (1 - Math.pow(l(6 * (q - (p.Uz + (p.vWa || 0) * (1 - t))) / (p.scale + (p.Wbb || 0) * (1 - t))),p.gamma));},$Gb:function(p,q){return p.min + (p.max - p.min) * Math.pow(l(6 * (q - p.Uz) / p.scale),p.gamma);},Fec:d,wJb:g,KMb:h,Dec:k,yec:c,xec:function(p,q){var t;if(p.length == q.length){t=c(p,q);p=k(p);q=k(q);if(0 < p && 0 < q)return t / (p * q);}return !1;},ko:function(p,q,t){return q.iYa?q.iYa(t):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + t:t);},V0b:function(p){return p.length?"{" + p + "} ":"";},J0b:function(p,q,t){return {min:p.min * t + (1 - t) * q.min,max:p.max * t + (1 - t) * q.max,Uz:p.Uz * t + (1 - t) * q.Uz,scale:p.scale * t + (1 - t) * q.scale,gamma:p.gamma * t + (1 - t) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),lAa:l,Yq:function(p){var q;q=p.Va.mb.G.id;return {$:p.$,duration:p.duration,offset:p.offset,aa:p.aa,bitrate:p.bitrate,profile:p.profile,Hc:p.Hc,fa:q,Qa:p.Qa,ue:p.ue,location:p.location,Ji:p.Ji,uk:p.uk,et:{mb:{G:{id:q}}}};}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dG="6674654e-696c-5078-6966-665374726d21";b.eG="6674654e-696c-4878-6165-6465722e7632";b.SS="6674654e-696c-5078-6966-66496e646578";b.Uy="6674654e-696c-4d78-6f6f-6653697a6573";b.Ty="6674654e-696c-5378-6565-6b506f696e74";b.YS="cedb7489-e77b-514c-84f9-7148f9882554";b.XS="524f39a2-9b5a-144f-a244-6c427c648df4";b.cG="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sn=void 0;c=a(1);k=a(4);h=c.__importDefault(a(30));g=c.__importDefault(a(128));d=a(405);f=a(21);r=a(41);m=a(177);l=a(244);a=a(102);n=(function(p){function q(t,w){var v;v=p.call(this,t,w) || this;q.zb(v,t,w);return v;}c.__extends(q,p);q.zb=function(t,w,v,u){var x;m.hw.zb(t,w,v);t.ye=v.index;t.oM=v.bb;t.Kw=v.rb;t.Mub=v.$a?v.$a:w.$a;t.lK=v.lK;t.Era=u;t.fSa=! !v.jo;t.dTa=null !== (x=v.region) && void 0 !== x?x:0;t.CRa=! !v.oqa;t.eSa=! !v.Ts;t.pa=void 0 === v.v8 || void 0 === v.zqa || v.v8 === v.bb && v.zqa === v.rb?t:new l.oC(t,{bb:v.v8,rb:v.zqa});t.Xrb=v.Zva;t.rpb=v.Ei;t.jrb=w.BNb;t.kq=v.Ba?t.I8a(v.Ba):void 0;t.ATa=v.kF;t.nf=!1;};q.gYa=function(t){for(var w=new Uint32Array(t.length),v=new Uint32Array(t.length),u=new Uint8Array(t.length),x=new Uint8Array(t.length),y=0,z,A,B=0;B < t.length;++B){z=t[B];A=z.Ad;w[B]=z.Kw - z.oM;v[B]=A;u[B]=z.stream.wf;void 0 !== z.$a && null !== z.$a && (x[B]=z.$a);y+=A;}return new d.ria(w,v,u,x,t.length?t[0].V:1E3,y);};Object.defineProperties(q.prototype,{jE:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$a:{get:function(){return this.Mub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ama:{get:function(){return 8 * this.aa / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bb:{get:function(){return this.oM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rb:{get:function(){return this.Kw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rj:{get:function(){var t,w;return null !== (w=null === (t=this.Era) || void 0 === t?void 0:t.call(this)) && void 0 !== w?w:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jo:{get:function(){return this.fSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.dTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oqa:{get:function(){return this.CRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ts:{get:function(){return this.eSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zva:{get:function(){return this.Xrb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ei:{get:function(){return this.rpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ba:{get:function(){return this.kq;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kF:{get:function(){return this.ATa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{v8:{get:function(){return this.pa.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zqa:{get:function(){return this.pa.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KIb:{get:function(){return this.pa.Hu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xO:{get:function(){return this.pa.Dd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{y8:{get:function(){return this.pa.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{x8:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Aqa:{get:function(){return this.pa.qd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JIb:{get:function(){return this.pa.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{QD:{get:function(){var t;t=this.KIb;k.assert(t);return t / this.stream.za.mc;},enumerable:!1,configurable:!0}});q.prototype.Y6a=function(){this.fSa=!0;};q.prototype.V1b=function(t){this.lK={ie:t.b1a(),get z$() {return t.Yv;}};};q.prototype.MQ=function(t){this.ATa=t;};q.prototype.S1b=function(t,w,v){this.dTa=t;this.CRa=w;this.eSa=v;};q.prototype.Tj=function(t){var w,v;void 0 === t && (t={});w=this.stream.za.mc;v=this.kq || ({start:0,end:this.QD});t=this.I8a(t);this.pa && this.pa !== this || (this.pa=new l.oC(this,this));t.start > v.start && (this.oM=this.pa.bb + t.start * w);t.end < v.end && (this.Kw=this.pa.bb + t.end * w);this.kq=t;};q.prototype.ipa=function(t){void 0 === t && (t=1);this.kq?this.Tj({start:this.kq.start + t,end:this.kq.end}):this.Tj({start:t});};q.prototype.jpa=function(t){this.kq?this.Tj({start:this.kq.start,end:(this.kq.end || 0) - t}):this.Tj({start:0,end:-t});};q.prototype.wk=function(){this.Ba?this.Tj({start:this.Ba.start,end:this.Ba.start}):this.Tj({start:0,end:0});};q.prototype.W1b=function(t){this.kq || this.Tj();this.kq.nAa=t;};q.prototype.T_a=function(t){var v;if(!(t < this.$ || t >= this.La) && this.Ei && this.Ei.length){t=new f.R(t + 1 - this.$,1E3).Rl(this.stream.za);for(var w=this.Ei.length - 1;0 <= w;--w){v=this.Ei[w];if(v.yl <= t)return v;}return {yl:0,Kd:this.Aqa};}};q.prototype.hIb=function(t){var v;if(!(t < this.$ || t >= this.La) && this.Ei && this.Ei.length){t=new f.R(t + 1 - this.$,1E3).Rl(this.stream.za);for(var w=this.Ei.length - 1;0 <= w;--w){v=this.Ei[w];if(v.yl <= t)return v;}return {yl:0,Kd:this.Aqa};}};q.prototype.M_a=function(t,w){var v,u,x;if(!(t < this.$ || t >= this.La)){if(!w && this.jrb)return {yl:0,Kd:this.$};v=this.za.mc;u=this.za.V;x=Math.floor(this.Hu / v);t=Math.min((w?Math.ceil:Math.floor)((f.R.$va(t,u) - this.bb + (w?-1:1) * (u / 1E3 - 1)) / v),x);v=f.R.H0(this.bb + t * v,u);return t === x?void 0:{yl:t,Kd:v};}};q.prototype.eqa=function(t){return this.mediaType === h.default.Ya.Nb?this.T_a(t):this.M_a(t,!1);};q.prototype.dqa=function(t){return this.mediaType === h.default.Ya.Nb?this.hIb(t):this.M_a(t,!0);};q.prototype.Y5=function(t){this.Ad+=t.aa;this.Kw=t.rb;this.kq && (this.pa=new l.oC(this,{bb:this.v8,rb:this.Kw}),this.kq.end=this.QD);};q.prototype.toString=function(){return "[" + this.Qa + ", " + this.bitrate + "kbit/s, c:" + (this.qd + "-" + this.Vc + ",p:") + (this.Dd + "-" + this.Pe + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var t;t=m.hw.prototype.toJSON.call(this);g.default({index:this.index,startPts:this.$,endPts:this.La,"contentStartTicks:":this.bb,contentEndTicks:this.rb,contentStartPts:this.qd,contentEndPts:this.Vc,fragmentStartPts:this.xO !== this.$?this.xO:void 0,fragmentEndPts:this.y8 !== this.La?this.y8:void 0,edit:this.Ba},t);return t;};q.prototype.S_a=function(t){var v;if(this.Ei)for(var w=0;w < this.Ei.length;++w){if(this.Ei[w].yl === t)v=this.Ei[w].offset;}return v;};q.prototype.I8a=function(t){var w;w=t.start || 0;return {start:w,end:void 0 === t.end?this.QD:Math.min(this.QD,Math.max(w,0 > t.end?this.QD + t.end:t.end)),nAa:t.nAa,L2b:t.L2b};};return q;})(m.hw);b.sn=n;r.Jf(a.By,n);r.Jf(a.nC,n);},function(r,b,a){var d;function c(f,m){return void 0 === f?void 0:0 === f?d.R.hb:new d.R(f,m);}function k(f,m){return f && Math.floor(d.R.H0(f,m));}function h(f,m){return void 0 === f || void 0 === m?void 0:f + m;}function g(f,m){return void 0 === f || void 0 === m?void 0:f - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.nC=b.By=void 0;d=a(21);r=(function(){function f(){}Object.defineProperties(f.prototype,{Hu:{get:function(){return g(this.rb,this.bb) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{DXb:{get:function(){return h(this.bb,this.Rj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{AXb:{get:function(){return h(this.rb,this.Rj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ZH:{get:function(){return c(this.Hu,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mc:{get:function(){return c(this.bb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ee:{get:function(){return c(this.rb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{he:{get:function(){return c(this.DXb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{md:{get:function(){return c(this.AXb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{iya:{get:function(){return c(this.Rj,this.V);},enumerable:!1,configurable:!0}});return f;})();b.By=r;r=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return g(this.La,this.$) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return k(h(this.bb,this.Rj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return k(h(this.rb,this.Rj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mv:{get:function(){return k(this.Rj,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uk:{get:function(){return k(this.bb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qd:{get:function(){return k(this.bb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vc:{get:function(){return k(this.rb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dd:{get:function(){return k(h(this.bb,this.Rj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pe:{get:function(){return k(h(this.rb,this.Rj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ds:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yB:{get:function(){return this.$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ay:{get:function(){return this.La;},enumerable:!1,configurable:!0}});return f;})();b.nC=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KR=b.Ohb=b.Pea=b.Qea=void 0;(function(a){a[a.wZa=0]="downloading";a[a.DFb=1]="downloaded";a[a.nf=2]="appended";a[a.buffered=3]="buffered";a[a.oQ=4]="removed";a[a.Shc=5]="unused";})(b.Qea || (b.Qea={}));(function(a){a[a.waiting=1]="waiting";a[a.ngc=2]="ondeck";a[a.wZa=4]="downloading";a[a.DFb=8]="downloaded";a[a.aY=6]="inprogress";})(b.Pea || (b.Pea={}));b.Ohb="AseBufferViewSymbol";b.KR="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bha=b.vn=void 0;r=b.vn || (b.vn={});r.iG="PRE_FETCH";r.bob="QC";r.bq="STANDARD";r.S3="SUPPLEMENTAL";r.B9b="DOWNLOAD";b.Bha="PboManifestCommandSymbol";},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Y2a=b.Ffb=b.zv=b.Aaa=b.J7a=void 0;r=a(1074);c=a(1077);k=a(1098);a=a(1102);b.J7a=r;b.Aaa=function(h,g){return (0,b.J7a)(function(d,f){return void 0 !== f?f:d;},h,g);};b.zv=c;b.Ffb=k;b.Y2a=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dG="6674654e-696c-5078-6966-665374726d21";b.eG="6674654e-696c-4878-6165-6465722e7632";b.SS="6674654e-696c-5078-6966-66496e646578";b.Uy="6674654e-696c-4d78-6f6f-6653697a6573";b.Ty="6674654e-696c-5378-6565-6b506f696e74";b.YS="cedb7489-e77b-514c-84f9-7148f9882554";b.XS="524f39a2-9b5a-144f-a244-6c427c648df4";b.cG="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var m,l,n,p,q,t,w,v,u,x,y,z,A;function c(){this.dg=(0,t.Aj)("Http");this.Zk=new m.Tk();this.BG=0;this.ac={ssl:0,"non-ssl":0,invalid:0};this.hob={xn:1,ncc:2,Uhb:3};this.addEventListener=this.Zk.addListener;this.removeEventListener=this.Zk.removeListener;}function k(B){var D,C,F,G;D=B.url.split("?");C="sc=" + B.O0b;F=B.cWa?"random=" + (1E17 * (0,u.MS)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Bc && !(0,n.B$)(G) && (B=l.config && l.config.jna) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function h(B,D){var C,F,G;C=B.url.split("?");F=g(B);G=C[0];F && (D.qt=F,(void 0 === B.Mt?l.config.Mt:B.Mt) || B.Bt !== z.iha?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(D.qt=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.cWa?"random=" + (1E17 * (0,u.MS)()).toFixed(0):"";l.config.nA && B.eda && (F="sc=" + B.eda + (F?"&" + F:""));G=C[1]?G + ("?" + C[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Bc && !(0,n.B$)(G) && (B=l.config && l.config.jna) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));D.url=G;}function g(B){var D;D=B.offset;if(void 0 !== D)return ((0,w.bW)(D),void 0 !== B.length?(B=D + B.length - 1,(0,w.bW)(B),D + "-" + B):D + "-");}function d(B,D,C,F){var G,E;G=F.H$a;E=F.headers;B.open(G?"POST":"GET",D,!C);switch(F.responseType){case b.SX:B.responseType="arraybuffer";break;case b.Ssa:(0,v.oWa)(B,"overrideMimeType",void 0,"text/xml");}G && (D={"Content-Type":(0,y.Uf)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,v.Gd)(D,E):D);E && (0,v.Rg)(E,function(I,N){B.setRequestHeader(I,N);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}function f(B,D){switch(D.type){case b.SX:return B.response || new ArrayBuffer(0);case b.Ssa:return B.responseXML;default:return B.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.SX=b.Ssa=b.Rsa=b.bOb=b.Usa=b.aOb=b.G3a=b.P9=b.Tf=b.fpb=b.gpb=b.$Nb=b.Tsa=b.XNb=b.YNb=b.WNb=b.ZNb=void 0;m=a(72);l=a(19);r=a(14);n=a(44);p=a(61);q=a(3);t=a(8);w=a(24);v=a(25);u=a(12);x=a(60);y=a(13);z=a(69);A=a(1183);c.prototype.I2b=function(B){var D;D=new XMLHttpRequest();B=k(B);D.open("HEAD",B);D.onreadystatechange=function(){2 === D.readyState && !1;};D.send();};c.prototype.download=function(B,D){var Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V;function C(){var K;if(!S){S=!0;V && (nb.clearTimeout(V),V=null);Q.Zk.removeListener(b.Usa,I);ya && (ya.onloadstart=null,ya.onreadystatechange=null,ya.onprogress=null,ya.onerror=null,ya.onload=null,ya=ya.onabort=null);va.da || (va.wa != q.O.sC?J.warn("Download failed",R,(0,q.Ly)(va)):J.trace("Download aborted",R));K=U;U=null;null === K || void 0 === K?void 0:K.reduceRight(function(T,fa){(0,x.fg)(function(){return fa(va);});},null);Q.Zk.ed(b.G3a,va,!0);}}function F(){V && (nb.clearTimeout(V),V=null);V=nb.setTimeout(N,ra?P:M);}function G(K,T,fa,ia){var Ba,Sa;va.da=!1;va.wa=K;Ba=(0,p.Pn)();Sa=va.Yl;Sa.Oi=Sa.Oi || Ba;Sa.Mp=Sa.Mp || Ba;T && 0 < T && (va.kl=T,va.Df=T.toString());fa && (va.Sb=fa);ia && (va.WE=ia);K !== q.O.vS && K !== q.O.PF && K !== q.O.yS || !ya || (ya.onabort=null,L());C();}function E(K){var T,fa;try{fa=K.getResponseHeader("X-Netflix.Retry.Server.Policy");fa && (T=JSON.parse(fa));}catch(ia){!1;}return T;}function I(){(0,b.Tsa)() || G(q.O.vS);}function N(){G(ra?q.O.PF:q.O.yS);}function L(){try{null === ya || void 0 === ya?void 0:ya.abort();}catch(K){}}function H(){G(q.O.sC);}Q=this;(0,w.sb)(D);J=(null === (O=null === B || void 0 === B?void 0:B.j) || void 0 === O?0:O.log)?(0,t.Ii)(B.j,"Http"):this.dg;M=B.W6 || l.config.W6;P=B.mwa || l.config.mwa;R={Num:this.BG++};S=!1;U=[D];ba={};this.Eub(B);va=new A.EHa(B,L,N,ba,function(K){S || ((0,w.sb)(U,"Callback should be added before download starts."),U && U.unshift(K));});ra=!1;(0,x.fg)(function(){var K,T;if((0,y.cua)(B.url))try{if((h(B,va),na=va.url,(0,w.cW)(na),R.Url=na,(0,b.Tsa)())){!1;ya=new XMLHttpRequest();K=l.config.S6b && "undefined" != typeof ya.onloadstart;K && (ya.onloadstart=function(){var fa;fa=(0,p.Pn)();ba.sr=fa;va.sZ({mediaRequest:B,timestamp:fa});});ya.onreadystatechange=function(){2 === (null === ya || void 0 === ya?void 0:ya.readyState) && (ra=!0,ba.Oi=(0,p.Pn)(),ya.onreadystatechange=null,F(),!1,Q.wtb(va,ya),va.tZ({timestamp:ba.Oi,connect:!0,mediaRequest:B,start:ba.sr,rt:[ba.Oi - ba.sr]}));};ya.onprogress=function(fa){ra=!0;ba.QV=fa.loaded;F();fa={mediaRequest:B,bytes:fa.loaded,timestamp:(0,p.Pn)(),bytesLoaded:fa.loaded};va.tZ(fa);};ya.onload=function(fa){!S && ya && ((0,w.sb)(void 0 === ba.Mp),ba.Mp=(0,p.Pn)(),ba.Oi=ba.Oi || ba.Mp,ba.QV=fa.loaded,200 <= ya.status && 299 >= ya.status?(fa=f(ya,va),va.parsed=!1,va.content=fa,va.da=!0):420 === ya.status?G(q.O.xS,ya.status):G(q.O.wS,ya.status,ya.response,E(ya)),C());};ya.onabort=H;ya.onerror=function(){var fa,ia;if(ya){fa=ya.status;"undefined" !== typeof l.config.h0a && (fa=l.config.h0a);if(0 < fa){if(420 === fa)G(q.O.xS,fa);else {try{ia=ya.responseText;}catch(Ba){}G(q.O.wS,fa,ia,E(ya));}}else G(q.O.zS);}};T=(0,p.Pn)();d(ya,na,!1,B);Q.Zk.ed(b.P9,va,!0);K || (ba.sr=T,va.sZ({mediaRequest:B,timestamp:T}));F();Q.Zk.addListener(b.Usa,I);}else (0,x.fg)(G.bind(void 0,q.O.vS));}catch(fa){J.error("Exception starting download",fa,R);G(q.O.nga,void 0,(0,v.Me)(fa));}else G(q.O.iHa);});return va;};c.prototype.HYb=function(B){var D,C,F;D=new XMLHttpRequest();C=B.url;F=B.EYb;D.open("HEAD",C);D.timeout=Math.max(2 * F.NRb,l.config.$xa);D.onreadystatechange=function(){2 === D.readyState && (!1,F && F.NP({url:C}));};D.ontimeout=D.onerror=function(){!1;F && F.uwa({url:C});};D.send();};c.prototype.Eub=function(B){var D;try{D=B.url;(0,y.cua)(D)?0 === D.indexOf("https")?this.ac.ssl++:0 === D.indexOf("http")?this.ac["non-ssl"]++:this.ac.invalid++:this.ac.invalid++;}catch(C){}};c.prototype.wtb=function(B,D){var C;C={};D.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=pa(F.split(": "));F=G.next().value;G=ca(G).join(": ");F && (C[F]=G);});B.headers=C;};b.ZNb=k;b.WNb=function(B){var D,C,F,G;D=B.url.split("?");C="bb_reason=" + B.reason;F=B.cWa?"random=" + (1E17 * (0,u.MS)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Bc && !(0,n.B$)(G) && (B=l.config && l.config.jna) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.YNb=h;b.XNb=g;b.Tsa=r.VNa;b.$Nb=function(){return !1 !== u.Ee.onLine;};b.gpb=d;b.fpb=f;b.Tf=new c();b.P9=1;b.G3a=2;b.aOb=3;b.Usa=4;b.bOb=5;b.Rsa=1;b.Ssa=2;b.SX=3;nb._cad_global.http=b.Tf;},function(r,b,a){b=a(200);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b,a){var c;c=a(634);r.exports=function(k){return "symbol" === typeof k?"Symbol":"bigint" === typeof k?"BigInt":c(k);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jG="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fFa="DebugConfigSymbol";b.Fy="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vfa="EventSourceSymbol";b.Yfa="GlobalEventSourceSymbol";b.e2="DebugEventSourceSymbol";b.sFa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UL="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AL="LoggerSinksSymbol";},function(r){var m,l,n,p;function b(){b.zb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,t,w,v){var u,x;a(w);u=q.Zg;if(void 0 === u)(u=q.Zg=Object.create(null),q.GG=0);else {void 0 !== u.igc && (q.emit("newListener",t,w.listener?w.listener:w),u=q.Zg);x=u[t];}void 0 === x?(u[t]=w,++q.GG):("function" === typeof x?x=u[t]=v?[w,x]:[x,w]:v?x.unshift(w):x.push(w),w=void 0 === q.hU?b.nEb:q.hU,0 < w && x.length > w && !x.F7b && (x.F7b=!0,w=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),w.name="MaxListenersExceededWarning",w.Es=q,w.type=t,w.count=x.length,console && console.warn && console.warn(w)));return q;}function k(){if(!this.X_a)return (this.target.removeListener(this.type,this.ahb),this.X_a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function h(q,t,w){q={X_a:!1,ahb:void 0,target:q,type:t,listener:w};t=k.bind(q);t.listener=w;return q.ahb=t;}function g(q){var t;t=this.Zg;if(void 0 !== t){q=t[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,t,w){"function" === typeof q.on && f(q,"error",t,w);}function f(q,t,w,v){if("function" === typeof q.on){if(v.once)q.once(t,w);else q.on(t,w);}else if("function" === typeof q.addEventListener)q.addEventListener(t,function y(x){v.once && q.removeEventListener(t,y);w(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}m="object" === typeof Reflect?Reflect:null;l=m && "function" === typeof m.apply?m.apply:function(q,t,w){return Function.prototype.apply.call(q,t,w);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,t){return new Promise(function(w,v){function u(y){q.removeListener(t,x);v(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",u);w([].slice.call(arguments));}f(q,t,x,{once:!0});"error" !== t && d(q,u,{once:!0});});};b.EventEmitter=b;b.prototype.Zg=void 0;b.prototype.GG=0;b.prototype.hU=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.zb=function(){if(void 0 === this.Zg || this.Zg === Object.getPrototypeOf(this).Zg)(this.Zg=Object.create(null),this.GG=0);this.hU=this.hU || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.hU=q;return this;};b.prototype.emit=function(q){var v,u;for(var t=[],w=1;w < arguments.length;w++){t.push(arguments[w]);}v="error" === q;w=this.Zg;if(void 0 !== w)v=v && void 0 === w.error;else if(!v)return !1;if(v){0 < t.length && (u=t[0]);if(u instanceof Error)throw u;t=Error("Unhandled error." + (u?" (" + u.message + ")":""));t.context=u;throw t;}w=w[q];if(void 0 === w)return !1;if("function" === typeof w)l(w,this,t);else {u=w.length;v=Array(u);for(var x=0;x < u;++x){v[x]=w[x];}for(w=0;w < u;++w){l(v[w],this,t);}}return !0;};b.prototype.addListener=function(q,t){return c(this,q,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.WZ=function(q,t){return c(this,q,t,!0);};b.prototype.once=function(q,t){a(t);this.on(q,h(this,q,t));return this;};b.prototype.R$a=function(q,t){a(t);this.WZ(q,h(this,q,t));return this;};b.prototype.removeListener=function(q,t){var w,v,u,x,y;a(t);v=this.Zg;if(void 0 === v)return this;u=v[q];if(void 0 === u)return this;if(u === t || u.listener === t)0 === --this.GG?this.Zg=Object.create(null):(delete v[q],v.removeListener && this.emit("removeListener",q,u.listener || t));else if("function" !== typeof u){x=-1;for(w=u.length - 1;0 <= w;w--){if(u[w] === t || u[w].listener === t){y=u[w].listener;x=w;break;}}if(0 > x)return this;if(0 === x)u.shift();else {for(;x + 1 < u.length;x++){u[x]=u[x + 1];}u.pop();}1 === u.length && (v[q]=u[0]);void 0 !== v.removeListener && this.emit("removeListener",q,y || t);}return this;};b.prototype.pB=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var t,w,v;t=this.Zg;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.Zg=Object.create(null),this.GG=0):void 0 !== t[q] && (0 === --this.GG?this.Zg=Object.create(null):delete t[q]),this);if(0 === arguments.length){w=Object.keys(t);for(t=0;t < w.length;++t){v=w[t];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.Zg=Object.create(null);this.GG=0;return this;}w=t[q];if("function" === typeof w)this.removeListener(q,w);else if(void 0 !== w)for(t=w.length - 1;0 <= t;t--){this.removeListener(q,w[t]);}return this;};b.prototype.listeners=function(q){var t;t=this.Zg;if(void 0 === t)q=[];else if((q=t[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {t=Array(q.length);for(var w=0;w < t.length;++w){t[w]=q[w].listener || q[w];}q=t;}return q;};b.listenerCount=function(q,t){return "function" === typeof q.listenerCount?q.listenerCount(t):g.call(q,t);};b.prototype.listenerCount=g;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(235);c=a(151);b.ikb=c;c=a(398);b.XL=c;c=a(402);b.$wb=c;b.U3=r.Zq.Za.sidx;r=a(878);b.Vr=r.Vr;r=a(243);b.Tr=r.Tr;r=a(883);b.Ur=r.Ur;b.cB=r.cB;r=a(884);b.xL=r.xL;r=a(83);b.Ro=r.Ro;a=a(885);b.dk=a.dk;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.G1=b.oj=void 0;c=a(1);r=c.__importDefault(a(17));k=c.__importStar(a(10));h=r.default.Dg;g=c.__importDefault(a(6));d=g.default.Sr;f=a(175);m=c.__importDefault(a(149));l=a(9);r=a(41);n=a(247);p=a(177);(function(t){t[t.Imb=0]="NOTHING_APPENDED";t[t.bnb=1]="PARTIAL";t[t.lw=2]="COMPLETE";t[t.ag=3]="ERROR";})(q=b.oj || (b.oj={}));a=(function(t){function w(v,u,x,y,z,A,B){u=t.call(this,u,x) || this;n.hL.zb(u,v,y,z,A,B);p.hw.zb(u,v,y);u.srb=! !y.Hc;u.kpb=v.v2a(u.Hc,u.Jua);u.Sia=y.responseType;u.jpb=y.eda;void 0 === u.Sia && (u.Sia=d.Uc && !d.Uc.H_.jT?0:1);u.Yi=new h();u.Yi.on(u,d.Xe.YKa,u.yka);u.Yi.on(u,d.Xe.XKa,u.Msb);u.Yi.on(u,d.Xe.ZKa,u.Psb);u.Yi.on(u,d.Xe.WS,u.xka);u.Yi.on(u,d.Xe.hG,u.iU);u.ZL=!1;u.hf=!1;u.vm=!1;u.Yo=!1;u.ST=!1;u.Ltb=y.E_;u.Ytb=y.XE;u.kt=0;return u;}c.__extends(w,t);Object.defineProperties(w.prototype,{Hc:{get:function(){return this.srb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{active:{get:function(){return this.hf;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Bya:{get:function(){return this.vm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{complete:{get:function(){return !this.ZL && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aborted:{get:function(){return this.ZL;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Nta:{get:function(){return this.Yo && !this.ST;},enumerable:!1,configurable:!0}});w.prototype.zb=function(v){var u;n.hL.prototype.zb.call(this,v);if(!this.Wo && (this.pf.wla || !this.Hc) && (v=this.Wo=m.default.instance(),this.active)){u=g.default.time.ha();v.uQ(u,this.UE);this.vm && (v.pbb(),u=this.ZJ,this.connect && 0 < u.length && v.Gz(u[0]));}};w.prototype.mv=function(){return this.nf || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};w.prototype.pH=function(v,u,x){this.nf=v.appendBuffer(this.response,x || l.Yq(this));return {status:this.nf?q.lw:q.ag};};w.prototype.TP=function(){(this.Yo=d.prototype.open.call(this,this.kpb,{start:this.offset,end:this.offset + this.aa - 1},this.Sia,{},void 0,void 0,this.jpb,this.stream.Bt)) && this.bX(this);return this.Yo;};w.prototype.abort=function(){var v,u;if(this.aborted)return !0;v=this.hf;u=this.Wo;u && v && u.A_(g.default.time.ha(),this.vm,this.UE);this.ZL=!0;this.vm=this.hf=!1;d.prototype.abort.call(this);this.vO(this,v,this.Nta);return !0;};w.prototype.gd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Yi && this.Yi.clear();t.prototype.gd.call(this);};w.prototype.yka=function(){var v,u;v=this.Ff || this.loadTime;f.Dy.instance().push(g.default.time.ha() - v);if(!this.hf){this.hf=!0;this.ov=this.track.ov();if(!this.stream.J.$6a){u=this.Wo;u && u.uQ(v,this.UE);}this.wO(this);this.Jv=this.Ff;}};w.prototype.Msb=function(){var v,u,x,y;v=this.Ff || this.iqa;u=this.connect;x=this.ZJ;f.Dy.instance().push(g.default.time.ha() - v);this.hf || (this.hf=!0);if(!this.vm){this.vm=!0;y=this.Wo;this.stream.J.$6a && y && y.uQ(v,this.UE);y && y.pbb();u && 0 < x.length && y && y.Gz(x[0]);this.PD(this);this.Jv=v;}};w.prototype.Psb=function(){var v,u,x;v=this.Ff;u=this.bytesReceived - this.kt;f.Dy.instance().push(g.default.time.ha() - v);this.vm || (this.vm=!0);x=this.Wo;x && (void 0 === this.Jv || x.hD(u,this.Jv,v,this.UE),(u=this.ZJ) && u.length && u.forEach(function(y){x.Fz(y);}));this.kI(this);this.Jv=v;this.kt=this.bytesReceived;};w.prototype.xka=function(){var v,u,x;v=this.Ff;u=this.bytesReceived - this.kt;f.Dy.instance().push(g.default.time.ha() - v);x=this.Wo;x && (0 < u && x.hD(u,this.Jv,v,this.UE),(u=this.ZJ) && u.length && u.forEach(function(y){x.Fz(y);}),x.A_(v,this.vm,this.UE));this.vm=this.hf=!1;this.ST=!0;this.Tu(this);this.Jv=v;this.kt=this.bytesReceived;this.gd();};w.prototype.Uqb=function(){var v,u;v=(v=this.stream)?v.toString():this.url;u=this.wN;u && (v+=",range " + u.start + "-" + u.end);return v;};Object.defineProperties(w.prototype,{UE:{get:function(){return {requestId:this.Uqb(),zk:this.ue,type:this.mediaType,E_:this.Ltb,aa:this.aa,bytesReceived:this.bytesReceived,XE:this.Ytb};},enumerable:!1,configurable:!0}});w.prototype.iU=function(){var v,u,x,y;this.I.warn("AseMediaRequest._onError:",this.toString());v=this.Ff;u=this.status;x=this.Dh;y=this.Jj;f.Dy.instance().push(g.default.time.ha() - v);this.complete?this.I.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.I.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):k.Ga(x)?((x=this.Wo) && this.pf && this.pf.Vya && this.loadTime && void 0 === u && x.hD(this.kt?this.bytesReceived - this.kt:this.bytesReceived,this.Jv?this.Jv:this.loadTime,v,this.UE),this.u8(this)):this.I.warn("ignoring undefined request error (nativecode: " + y + ")");};return w;})(d);b.G1=a;r.Jf(n.hL,a,!1);r.Jf(p.hw,a,!1);},function(r,b,a){var h,g,d,f,m,l,n,p;function c(q,t,w,v){var u;return t === m.uw.tW?(t=g.R.hb,(null === v || void 0 === v?void 0:v.ehc) === p.end && (t=g.R.Oa(null !== (u=w.ty.ja.P[q].va) && void 0 !== u?u:0),d.assert(0 < t.W,"EndTime must be non null")),w.ml.WN({offset:t,fa:q}).fa):w.ml.XK({offset:g.R.hb,fa:q}).fa;}function k(q,t,w){return t === m.uw.LBa?w.ml.XK(q):w.ml.WN(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.jt=void 0;h=a(1);g=a(21);d=a(4);r=a(990);f=a(263);m=a(183);l=a(36);n=a(994);a=f.Nbb();a=r.$Va()({X6a:"combinedPlaygraph",aK:{cv:a()({map:k,tD:n.Z4a}),sf:a()({map:function(q,t,w,v){var u;u=(null === v || void 0 === v?0:v.Ar)?n.X8(q,v.Ar):q.position;t=k(u,t,w);q=n.Ina(q,null === v || void 0 === v?void 0:v.Ar);(null === v || void 0 === v?0:v.Ar)?n.Bcb(q,v.Ar,t):q.position=t;return q;},tD:function(q,t,w){return (null === w || void 0 === w?0:w.Ar)?n.X8(q,w.Ar):n.sf(q);}}),vCa:a()({map:function(q,t,w,v){if(t === m.uw.tW)return q.inner;t=n.Ina(q,null === v || void 0 === v?void 0:v.Ar);t.inner || (t.inner=q);return t;},tD:function(q,t,w){return (null === w || void 0 === w?0:w.Ar)?"object" === typeof n.X8(q,w.Ar):"object" === typeof q;}}),fa:a()({map:c,tD:n.d5a}),N_:a()({map:function(q,t,w,v){var u,x;x=null !== (u=q.fa) && void 0 !== u?u:q.segmentId;t=c(x,t,w,v);return q.fa?h.__assign(h.__assign({},q),{fa:t}):h.__assign(h.__assign({},q),{segmentId:t});},tD:n.n3a}),DXa:a()({map:function(q,t,w){t === m.uw.tW?(q=l.HN(w.ty.ja,q.N,q.Hm,{Zbb:!0}),d.assert(void 0 !== q,"Graph position must exist in ux playgraph"),q=w.ml.WN(q),t=q.fa,q=q.offset,t=w.xd.ja.P[t],w=t.N,t=t.sa,q=g.R.Oa(t).add(q)):(q=l.HN(w.xd.ja,q.N,q.Hm,{Zbb:!0}),d.assert(void 0 !== q,"Graph position must exist in combined playgraph"),q=w.ml.XK(q),t=q.fa,q=q.offset,t=w.ty.ja.P[t],w=t.N,t=t.sa,q=g.R.Oa(t).add(q));return {Hm:q,N:w};},tD:n.G4a}),JVa:a()({tD:n.D4a,map:function(q,t,w){var v,u,x,y,z;if(t === m.uw.tW){t={fa:q.G.id,offset:g.R.hb};x=w.ml.WN(t);t=w.xd.ja.P[x.fa];w=w.ty.ja.P[q.G.id];y=t.va;z=t.sa;y=null !== (v=y && y - z) && void 0 !== v?v:0;w=q.Ie.add(g.R.Oa(t.sa - w.sa));return {Ie:w,LE:q.fr.add(g.R.Oa(y)),fr:q.fr,G:{id:x.fa,uf:g.R.Oa(t.sa),ej:g.R.Oa(null !== (u=t.va) && void 0 !== u?u:0)}};}t={fa:q.G.id,offset:g.R.hb};u=w.ml.XK(t);z=w.dba.eba;t=z.P[q.G.id];x=w.ty.ja.P[u.fa];v=g.R.Oa(null !== (y=x.va && x.va - x.sa) && void 0 !== y?y:0);x.va && Infinity !== x.va || (y=w.ml.VKb(u),z=z.P[y],z.va && (v=w.ml.XK({fa:y,offset:g.R.Oa(z.va - z.sa)}).offset));y=q.fr.Ha(u.offset);z=y.add(v);w=q.Ie.add(g.R.Oa(x.sa - t.sa));q=g.R.Oa(x.sa);t=v.add(q);return {Ie:w,LE:z,fr:y,G:{id:u.fa,uf:q,ej:t}};}})}});(function(q){q[q.ddc=0]="beginning";q[q.end=1]="end";})(p || (p={}));b.jt=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$F="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wG="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NL=b.nG=void 0;r=b.nG || (b.nG={});r.M$b="ident";r.Oga="main";r.iEa="credits";b.NL="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wo=void 0;b.wo=function(a,c){return [].concat.apply([],ja(a)).map(function(k){return Object.assign({name:k},null !== c && void 0 !== c?c:{});});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tkb=b.jm=void 0;r=b.jm || (b.jm={});r[r.uB=0]="playready";r[r.nea=1]="widevine";r[r.ND=2]="fairplay";r[r.ydc=3]="clearkey";b.tkb="DrmTypeSymbol";},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Md=void 0;k=a(28);c.mYa=function(h){var g;g={};g[k.gf.iT]=c.mS;g[k.gf.q2]=c.mS;g[k.gf.oT]=c.dga;g[k.gf.uL]=c.uL;g[k.gf.nw]=h || c.nw;g[k.gf.lC]=c.mS;g[k.gf.HC]=c.sT;g[k.gf.El]=c.El;return g;};b.Md=c;c.Pva='video/mp4; codecs="avc1.4d0028"';c.mS="avc1.4d0028";c.dga="hev1.1.6.L93.B0";c.wfa="dvhe.05.01";c.$Ea="dvhe.05.04";c.xfa="dvhe.05.05";c.yfa="dvhe.05.06";c.zfa="dvhe.05.07";c.Afa="dvhe.05.09";c.nw=c.wfa;c.uL=c.dga;c.uea="mp4a.40.2";c.dz="mp4a.40.42";c.jjb="ec-3";c.sT="vp09.00.11.08.02";c.El="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JFa="DrmServicesSymbol";b.i2="DrmServicesProviderSymbol";},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rG=void 0;r=a(2);a=a(0);c.prototype.format=function(h,g){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return h.replace(/{(\d+)}/g,function(m,l){return "undefined" != typeof f[l]?f[l]:m;});};c.prototype.aeb=function(h){for(var g=h.length,d=new Uint16Array(g),f=0;f < g;f++){d[f]=h.charCodeAt(f);}return d.buffer;};c.prototype.deb=function(h){return JSON.stringify(h,null,"  ");};k=c;k=r.__decorate([(0,a.U)()],k);b.rG=k;},function(r,b){function a(c,k){var h;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,k);Object.getOwnPropertyNames(c).forEach(function(g){h=Object.getOwnPropertyDescriptor(c,g);void 0 !== h && Object.defineProperty(k,g,h);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Yp=void 0;c=a(1);k=c.__importDefault(a(30));h=c.__importDefault(a(6));g=a(890);r=(function(){function d(f){this.YL=f;this.yf=[];this.console=new h.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var f;if(void 0 === d.CM){f=a(6).default;d.CM=new d(f.nL);}return d.CM;},enumerable:!1,configurable:!0}});d.reset=function(){d.CM=void 0;};d.prototype.Cu=function(f,m,l,n,p,q){var t,w,v,u;t=!1;w=q.n2b?this.cIb(l,m,f,q.o2b):-1;if(-1 === w){v={track:this.ICb(l,n,f,p,q),Qj:l,K:m,pab:f,SE:[],kp:!1,UN:!1};this.yf.push(v);u=function(){v.kp=!0;v.track.removeListener("created",u);};v.track.on("created",u);t=!1;}else (t=!0,v=this.yf[w]);f=new g.mOa(this.console,v.track,v.kp,t);v.SE.push(f);return f;};d.prototype.TN=function(f){var m,l;f.Gq();m=this.WW(function(n){return n.track === f.track;});if(-1 !== m){if((m=this.yf[m],1 === m.SE.length))(m.track.Gq(),m.UN=!0);else {l=m.SE.indexOf(f);0 <= l && m.SE.splice(l,1);}}else f.track.Gq();};d.prototype.Sg=function(){this.YL.Sg();};d.prototype.ICb=function(f,m,l,n,p){var q,t,w,v;q=this;t=!1;w=!1;f?1 === l?(f=!1,m=1,p.dr?(f=!0,m=p.vP):p.Lx && 2 < p.Lx && (f=!0,m=p.Lx),w=p.sgb || !f,w={type:this.YL.Nb,openRange:w,pipeline:f,connections:m,socketBufferSize:p.wR,minRequestSize:p.CP}):0 === l?(t=p.dr && (p.N6b || m && p.O6b),w=p.sgb || !t,w={type:this.YL.cc,openRange:w,pipeline:t,connections:1,socketBufferSize:p.t6,minRequestSize:p.CP}):w={type:p.aFb?this.YL.Nb:this.YL.Vkb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.Fsa,minRequestSize:p.CP}:w={type:0 === l?k.default.Ya.cc:k.default.Ya.Nb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === l?p.t6:p.wR,minRequestSize:p.CP};v=new this.YL(w,n);v.on("transportreport",function(u){var x;x=q.WW(function(y){return y.track === v;});-1 !== x && (x=q.yf[x],x.SE.length && x.SE[0].emit("transportreport",u));});v.on("mediaRequestComplete",function(u){var x;x=q.WW(function(y){return y.track === v;});-1 !== x && (x=q.yf[x],x.SE.length && x.SE[0].emit("mediaRequestComplete",u));});v.on("destroyed",function(){var u;u=q.WW(function(x){return x.track === v;});-1 !== u && q.yf.splice(u,1);v.removeAllListeners();});if(t && p.M6b || p.ugb)v.on("pipelinedisabled",function(){p.ugb && 1 === v.config.type?v.lca(c.__assign(c.__assign({},v.config),{socketBufferSize:p.XTb,pipeline:!1,openRange:!0,connections:1})):v.lca(c.__assign(c.__assign({},v.config),{pipeline:!1,openRange:!0}));});return v;};d.prototype.cIb=function(f,m,l,n){return this.WW(function(p){return !p.UN && (!n && p.track.config.qgc || !f?!p.Qj && p.pab === l:p.Qj && p.K === m && p.pab === l);});};d.prototype.WW=function(f){for(var m=0;m < this.yf.length;++m){if(f(this.yf[m]))return m;}return -1;};return d;})();b.Yp=r;},function(r,b,a){(function(c,k){function h(g,d,f,m){this.console=new g("ASEJS_PROGRESS","media|asejs");this.now=d;this.scb=this.f3b=g=this.now();this.U7=g + f;this.dXb=f;this.xYa=g + m;this.debug=!1;this.counter=this.eB=0;this.nx=1E4;this.Oeb=f / 100;this.Qeb=g;this.Peb=1 * this.Oeb / 4;this.zda=0;this.dW="";this.dg(g,"progress tracking start");}h.prototype.constructor=h;h.prototype.dg=function(g,d){var f,m;f=((g - this.scb) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;m=c.xTb();this.console.info(f + (" " + ((this.xYa - g) / 1E3).toFixed(3)) + (" " + Math.round(this.nx)) + (" M:(" + Math.floor(m.Pec / 1024 / 1024) + " MB/" + Math.floor(m.y3a / 1024 / 1024) + " MB) ") + this.dW + d);};h.prototype.bub=function(g){var d;d=this.now();this.dW=g?g + ": ":g;this.eB=0;this.scb=d;this.dg(d,"starting");};h.prototype.Cub=function(g){var d,f;this.counter++;if(!(this.counter < this.nx)){this.counter=0;d=this.now();f=d - (this.Qeb + this.Oeb);this.Qeb=d;this.zda=.9 * this.zda + .1 * f;this.zda > this.Peb?(this.nx*=.875,this.nx=Math.max(1,this.nx)):this.zda < -this.Peb && (this.nx*=1.5,this.nx=Math.min(this.nx,1E5));if(d >= this.xYa)throw (this.dg("Execution deadline exceeded after " + (d - this.f3b) + " ms" + this.dW),Error("Execution deadline exceeded" + this.dW));f=c.xTb();this.eB=Math.max(this.eB,f.y3a);if(7516192768 < f.y3a)throw Error("Heap total limit exceeded" + this.dW);if(!(d <= this.U7)){for(;d > this.U7;){this.U7+=this.dXb;}this.dg(d,g);}}};h.zb=function(g,d,f,m){k.QE=new h(g,d,f || 5E3,m || 33E5);};h.Sza=function(g){k.QE && k.QE.bub(g);};h.update=function(g){k.QE && k.QE.Cub(g);};h.S1a=function(){if(k.QE)return k.QE.eB;};h.now=function(){return k.QE?k.QE.now():Date.now();};r.exports=h;}).call(this,a(259),a(199));},function(r){var b;b={WX:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,f;function c(m){return m instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(m);}function k(m){return d.Uf(m);}function h(m){return d.Ga(m);}function g(m){return !c(m) && !k(m) && !h(m) && !Array.isArray(m) && d.Bj(m);}d=a(10);f={HF:0,R3:1,Nmb:2,t3:3,zn:4};r.exports={QO:function(m){return c(m)?f.HF:k(m)?f.R3:h(m)?f.Nmb:g(m)?f.t3:f.zn;},k$:c,Uf:k,Ga:h,Bj:g,Rr:f};},function(r,b,a){var c;c=a(186);r.exports=function(k){return function d(g){return 0 === arguments.length || c(g)?d:k.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b4=void 0;b.cq={ML:"PRIMARY",Aea:"ASSISTIVE",bEa:"COMMENTARY",NONE:"NONE"};b.b4={assistive:b.cq.Aea,closedcaptions:b.cq.Aea,directorscommentary:b.cq.bEa,commentary:b.cq.bEa,subtitles:b.cq.ML,primary:b.cq.ML,none:b.cq.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CL="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vk=void 0;r=b.Vk || (b.Vk={});r.kp="created";r.ly="started";r.aR="succeeded";r.Ou="failed";r.Xh="cancelled";r.Lyb="cancelled_on_start";r.gna="cancelled_not_encrypted";},function(r,b){var c;function a(k,h){var g;g=this;this.Kja=[];c.forEach(function(d){(d=d(k,h)) && g.Kja.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.FL=b.qKa=void 0;c=[];a.prototype.iy=function(k){var d;for(var h=[],g=this.Kja.length;g--;){d=this.Kja[g];d.iy(k) && h.push(d.QW);}if(h.length)return h;};b.qKa=a;b.FL=function(k){c.push(k);};},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y;function c(z){var A,B;A=this;this.Kba=new y.Rha();this.createPlaygraphPlayer=function(D,C,F){var G;D=w.lNa.encode(D);G=d.Aa.get(v.CL);F=F?G.create(F):void 0;G=d.Aa.get(p.Vha).create(D);return G.iDb(D.fe,A.Kba.lva(A.mVa(C,G.$qa())),F);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,g.Nha)(D);};this.init=function(D){A.jD.zY(function(C){C.da?A.h1b().then(function(){(0,k.zMa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.nN);D(Object.assign({success:!0},c.nN));}):D({success:!1,error:(0,d.bNa)(C.errorCode || m.T.sga,C)});});};this.applyConfig=function(D){A.Ufb(D);(0,h.Tna)(D);};this.prepare=function(D,C){var F;D=A.N$a.LEb(D) || [];F=new Set();D=D.filter(function(G){var E;E=F.has(G.K);F.add(G.K);return !E;});if(h.config.Iv && A.Ld)try{A.Ld.KJ(D,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){nb._cad_global.playerPredictionModel?(D=A.N$a.NEb(D)) && nb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.DO)().r0().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.DO)().s0().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.DO)().p0().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.DO)().uda().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return h.config.AGb;};this.Ufb(z);d.Aa.get(x.PCa);this.N$a=d.Aa.get(f.BMa);this.jD=d.Aa.get(t.Ti);B=d.Aa.get(u.wMa).apply();(0,h.vXa)([z],B);this.Ld=d.Aa.get(q.wG);(0,d.DO)().s0();}Object.defineProperty(b,"__esModule",{value:!0});b.xG=void 0;k=a(310);h=a(19);g=a(63);d=a(8);f=a(541);m=a(3);l=a(34);n=a(159);p=a(315);q=a(121);t=a(37);w=a(51);v=a(135);u=a(337);x=a(516);y=a(587);c.prototype.mVa=function(z,A){var B,D,C,F;z=void 0 === z?{}:z;F=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.sa;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.va) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.Ufb=function(z){d.Aa.get(l.BS).yTb(z);};c.prototype.h1b=function(){return d.Aa.get(n.bT)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.xG=c;c.nN={};},function(r,b,a){var c,k,h;c=a(45);k=a(605);h=k(c("String.prototype.indexOf"));r.exports=function(g,d){d=c(g,! !d);return "function" === typeof d && -1 < h(g,".prototype.")?k(d):d;};},function(r,b,a){var f;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function k(m,l){return null === m.rB?!1:m.rB.Vg === l?!0:k(m.rB,l);}function h(m){function l(n,p){var q;void 0 === p && (p=[]);q=c(n.Vg);p.push(q);return null !== n.rB?l(n.rB,p):p;}return l(m).reverse().join(" --\x3e ");}function g(m){m.una.forEach(function(l){if(k(l,l.Vg))throw (l=h(l),Error(f.Mib + " " + l));g(l);});}function d(m){var l;if(m.name)return m.name;m=m.toString();l=m.match(/^function\s*([^\s(]+)/);return l?l[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});f=a(58);b.MO=c;b.d6a=function(m,l,n){var p;p="";m=n(m,l);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(q){var t;t="Object";null !== q.Pm && (t=d(q.Pm));p=p + "\n " + t;q.KH.L7a && (p=p + " - " + q.KH.L7a);}));return p;};b.Azb=g;b.kRb=function(m,l){var n,p;if(l.Zta() || l.Lta()){n="";p=l.oLb();l=l.YJb();null !== p && (n+=p.toString() + "\n");null !== l && l.forEach(function(q){n+=q.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},function(r,b,a){var k,h,g,d;function c(f,m){var l,n,p,q,t,w;l=f.bB;n=f.DP;f=f.VP;p=m.bB;q=m.DP;m=m.VP;t=void 0 === l || void 0 === p;w=t || void 0 === n || void 0 === q;return t || l > p || l === p && (w || n > q) || l === p && n === q && (w || void 0 === f || void 0 === m || f >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.AO=b.BO=b.oQb=b.m$=b.gY=void 0;k=a(5);h=a(95);g=a(43);d=a(123);b.gY=function(f,m,l,n){return c({bB:f.rWb,DP:f.sWb,VP:f.tWb},{bB:m,DP:l,VP:n});};b.m$=function(f,m){return c({bB:f.yq},{bB:m});};b.oQb=c;b.BO=function(){return {version:"6.0036.026.911",Raa:!0,yO:!0,Woa:"browser",MYa:["en-US"],Uua:"",nW:"cadmium",Bgb:!0,Z5:!0,r_:!1};};b.AO=function(){return {rH:(0,d.wo)([g.Sd.NF,g.Sd.OF]),qn:(0,d.wo)([g.H.LF,g.H.MF,g.H.nS,g.H.pS,g.H.oS,g.H.qS,g.H.tT,g.H.uT]),Qm:h.Bb.BQa,dB:(0,k.Sc)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NS="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.X3=b.aq=void 0;b.aq=function(){};b.X3="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tPa="SystemRandomSymbol";b.N3="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dT="PlayerErrorFactorySymbol";},function(r,b){function a(k){return k && "object" === typeof k?Array.isArray(k)?k.map(a):Object.keys(k).reduce(function(h,g){h[g]=a(k[g]);return h;},{}):k;}function c(k,h){return Object.keys(k).reduce(function(g,d){return (g[h[d] || d]=k[d],g);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Aw=void 0;r=(function(){function k(h){h && (this.pK(h.fe),this.gAa(h.ie),this.aAa(h.P));}k.prototype.pK=function(h){this.fe=h;return this;};k.prototype.gAa=function(h){this.ie=h;return this;};k.prototype.Hcb=function(h){this.Cd=h;return this;};k.prototype.eh=function(h,g,d){this.P || (this.P={});this.P[h]=a(g);if(d){h=this.P[h];if(g=h.next)h.next=c(g,d);h.vc && d[h.vc] && (h.vc=d[h.vc]);}return this;};k.prototype.aAa=function(h,g,d){void 0 === g && (g=function(){return !0;});this.P={};return this.lUa(h,g,d);};k.prototype.lUa=function(h,g,d,f){var m;m=this;void 0 === g && (g=function(){return !0;});Object.keys(h).filter(function(l){return g(h[l],l);}).forEach(function(l){var n;n=h[l];f && (n=f(n,l));m.eh(l,n,d);});return this;};k.prototype.m3a=function(h){var g;return !(null === (g=this.P) || void 0 === g || !g[h]);};k.prototype.zj=function(){var h;if(!this.P)throw Error("Invalid playgraph - `segments` is not defined");if(!this.fe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.P[this.fe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");h={fe:this.fe,P:this.P};this.ie && (h.ie=this.ie);this.Cd && (h.Cd=this.Cd);return h;};return k;})();b.Aw=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rn=void 0;c=a(1).__importDefault(a(6));k=a(99);r=(function(){function h(g){this.I=new c.default.Console("ASEJS","media|asejs","(" + g + ")");this.pka=[];}h.prototype.Oq=function(g){this.pka[g] || (this.pka[g]=k.ko(c.default,this.I,"[" + g + "]"));return this.pka[g];};return h;})();b.rn=new r(0);},function(r,b,a){function c(k,h){this.bN=k;this.qk=Math.floor((k + h - 1) / h);this.Nd=h;this.reset();}a(4);c.prototype.shift=function(){this.Td.shift();this.bx.shift();};c.prototype.Vx=function(k){return this.gWa(this.Td[k],k);};c.prototype.update=function(k,h){this.Td[k]=(this.Td[k] || 0) + h;};c.prototype.push=function(){this.Td.push(0);this.bx.push(0);this.Gb+=this.Nd;};c.prototype.add=function(k,h,g){var d,f,m;if(null === this.Gb){d=Math.max(Math.floor((g - h + this.Nd - 1) / this.Nd),1);for(this.Gb=h;this.Td.length < d;){this.push();}}for(;this.Gb <= g;){this.push();this.Td.length > this.qk && this.shift();}if(null === this.Qo || h < this.Qo)this.Qo=h;if(h > this.Gb - this.Nd)this.update(this.Td.length - 1,k);else if(h == g)(d=this.Td.length - Math.max(Math.ceil((this.Gb - g) / this.Nd),1),0 <= d && this.update(d,k));else for(d=1;d <= this.Td.length;++d){f=this.Gb - d * this.Nd;m=f + this.Nd;if(!(f > g)){if(m < h)break;this.update(this.Td.length - d,Math.round(k * (Math.min(m,g) - Math.max(f,h)) / (g - h)));}}for(;this.Td.length > this.qk;){this.shift();}};c.prototype.start=function(k){null === this.Qo && (this.Qo=k);null === this.Gb && (this.Gb=k);};c.prototype.stop=function(k){var h,g;if(null !== this.Gb)if(k - this.Gb > 10 * this.bN)this.reset();else {for(;this.Gb <= k;){this.push();this.Td.length > this.qk && this.shift();}h=this.Td.length - Math.ceil((this.Gb - this.Qo) / this.Nd);g=this.Td.length - Math.ceil((this.Gb - k) / this.Nd);if(0 <= g)if((0 > h && (this.Qo=this.Gb - this.Nd * this.Td.length,h=0),h === g))this.bx[h]+=k - this.Qo;else if(g > h)for((this.bx[h]+=(this.Gb - this.Qo) % this.Nd,this.bx[g]+=this.Nd - (this.Gb - k) % this.Nd,k=h + 1);k < g;++k){this.bx[k]=this.Nd;}this.Qo=null;}};c.prototype.gWa=function(k,h){h=this.Hqa(h);return 0 === h?null:8 * k / h;};c.prototype.Hqa=function(k){var h;h=this.bx[k];null !== this.Qo && (k=this.Gb - (this.Td.length - k - 1) * this.Nd,k > this.Qo && (h=k - this.Qo <= this.Nd?h + (k - this.Qo):this.Nd));return h;};c.prototype.get=function(k,h){var g,d;g=this.Td.map(this.gWa,this);if("last" === k)for(k=0;k < g.length;++k){null === g[k] && (g[k]=0 < k?g[k - 1]:0);}else if("average" === k){h=1 - Math.pow(.5,1 / ((h || 2E3) / this.Nd));for(k=0;k < g.length;++k){null === g[k]?g[k]=Math.floor(d || 0):d=void 0 !== d?h * g[k] + (1 - h) * d:g[k];}}return g;};c.prototype.reset=function(){this.Xja || (this.Td=[],this.bx=[],this.Qo=this.Gb=null);};c.prototype.setInterval=function(k){this.qk=Math.floor((k + this.Nd - 1) / this.Nd);};r.exports=c;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(1);k=c.__importStar(a(10));r=a(17);h=c.__importDefault(a(148));g=c.__importDefault(a(391));d=a(845);f=a(392);m=a(846);l=a(848);n=a(6).default;p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(t){function w(v,u,x){var y;y=t.call(this) || this;y.cp={};y.wU=0;y.SC=0;y.wT=[];y.zG=0;y.Dcc=!1;y.J=x;y.wRa=new g.default(x);y.QT=new m.Rfa(!0);y.vT=new m.Rfa(!1);x.WZa && (y.NM=new l.xLa(y.J));y.reset();y.zSa=v;y.rm=u;y.$Ra=n.Hp.name();y.rm.Zca(y.$Ra);n.events.on("networkchange",y.GVb.bind(y));return q=y;}c.__extends(w,t);w.instance=function(){return q;};w.reset=function(){q && q.reset();};w.prototype.GVb=function(v){this.$Ra=v;this.rm.Zca(v);};w.prototype.Tfb=function(){var v;if(!this.fla){v=this.O2a();this.rm.nH(v.default.qa,this.confidence);v["initial-throughput-ewma"] && this.rm.kH(v["initial-throughput-ewma"].qa);v.deliverytime && this.rm.fN(v.deliverytime);this.rm.$K(v.kv?v.kv.Eba:void 0,v.kv?v.kv.A0b:void 0);k.xb(this.bd) || (this.fla=!0);}};Object.defineProperties(w.prototype,{startTime:{get:function(){return this.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{confidence:{get:function(){return this.cp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tq:{get:function(){return this.aM;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{TTa:{get:function(){return this.wT;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RQb:{get:function(){return this.cSa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{location:{get:function(){return this.KG;},enumerable:!1,configurable:!0}});w.prototype.jqb=function(){var v,u,x,y;v=this.J;u=v.zqb.concat(v.Iqb);x=v.Jja;y=this.wRa;u=u.reduce(function(z,A){z[A]=y.create(A,x);return z;},{});u.confidence=new f.yha(v,new d.LKa(v,this.Mwa.bind(this)));return u;};w.prototype.reset=function(){var v,u,x,y;v=this.J.Jja;u=this.wRa;x=this.J;this.KG=null;this.cp=this.jqb();if(this.J.ZZa){y=this.J.Ieb;this.cp.I4b=new h.default(y.numB * y.bSizeMs,y.bSizeMs);}this.QT.reset();this.vT.reset();this.yz=u.create("respconn-ewma",v);this.nz=u.create("respconn-ewma",v);this.NM && this.NM.reset();this.Dub=this.Tfb.bind(this);this.L5=void 0;this.oz=this.bd=this.Lg=null;this.G5=0;x.wbb && (this.SC=this.wU=this.aM=0,this.wT=[]);};w.prototype.KQ=function(v){var u;u=this.cp;if(v !== this.KG){k.ma(this.L5) || (clearInterval(this.L5),this.L5=void 0);k.xb(this.KG) && (this.G5=0,this.Lg=null);if(!k.xb(v)){for(var x in u){u[x] && u[x].reset && u[x].reset();}this.yz.reset();this.nz.reset();}k.xb(this.Lg) || (this.G5+=(k.xb(this.bd)?n.time.ha():this.bd) - this.Lg);this.bd=this.Lg=null;this.KG=v;this.rm.KQ(v);}};w.prototype.Zca=function(v){this.rm.Zca(v);};w.prototype.kvb=function(v){this.cp.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.cp.QoEEvaluator=v;};w.prototype.m_b=function(){delete this.cp.QoEEvaluator;};w.prototype.hD=function(v,u,x,y){var z,A;this.cSa=Math.max(this.cSa || 0,x);this.SC-=v;z=this.J;A=this.cp;if(!0 === y.DR)(y=A["throughput-wssl"]) && y.add(v,u,x,!0);else if(k.ma(u))p.warn("addDataReceived called with undefined start time");else {this.NM && this.NM.hD(v,u,x,y);z.Hqb && 10 > x - u?u=x - 10:0 === x - u && (u=x - 1);this.QT.hD(v,u,x,y);this.vT.hD(v,u,x,y);for(var B in A){A[B] && A[B].add && A[B].add(v,u,x,y);}k.xb(this.Lg) && (this.Lg=u,this.bd=null,this.fla=!1);k.xb(this.bd) || (u > this.bd && (this.Lg+=u - this.bd),this.bd=null,this.fla=!1);k.xb(this.oz) || (u - this.oz > z.ASa?this.zSa.w4a(this.oz,u):x - u > z.ASa && this.zSa.w4a(u,x));this.oz=this.oz?Math.max(x,this.oz):x;}};w.prototype.Gz=function(v){this.yz.add(v);this.rm.Gz(v);};w.prototype.Fz=function(v){this.nz.add(v);this.rm.Fz(v);};w.prototype.start=function(v,u){var x;k.xb(this.oz) && !k.xb(this.bd) && (this.oz=v);x=this.cp;if(this.J.EAa)for(var y in x){x[y] && x[y].start && x[y].start(v,u);}};w.prototype.stop=function(v,u){var x,y;x=this.cp;for(y in x){x[y] && x[y].stop && x[y].stop(v,u);}this.bd=k.xb(this.bd)?v:Math.min(this.bd,v);this.oz=null;};w.prototype.flush=function(){var v,u;v=this.cp;for(u in v){v[u] && v[u].flush && v[u].flush();}};w.prototype.o1a=function(){var v,u;v=this.cp.eec;if(v){u=v.gyb();v.reset();}return u;};w.prototype.O2a=function(){var v,u,x,y,z,A,B;v=n.time.ha();u=this.cp;x=this.J;y=x.oqb;z=x.Wtb;A={};for(B in u){u[B] && u[B].get && (A[B]=u[B].get(v,this.SC),"iqr" === u[B].type && (A.kv=A[B]),"tdigest" === u[B].type && (A.Rk=A[B]),"wssl" === u[B].type && (A.DR=A[B]));}A.cdnavtp=this.QT.eo();A.activecdnavtp=this.vT.eo();A.default=y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.yza && "none" !== z && (A.acb=z && A[z]?A[z]:A["throughput-sw"]);return A;};w.prototype.i9=function(){return this.NM?this.NM.i9():void 0;};w.prototype.get=function(){var v,u,x,y,z,A;v=this.O2a();u=v.default;x=this.yz.get();y=this.nz.get();z=this.J;if(v.acb){A=v.acb;u=k.Ga(u.qa) && k.Ga(A.qa) && u.qa > A.qa && 0 < A.qa?A:u;}v.Ua=u;v.j4a=v["initial-throughput-ewma"];!z.tpa || !u || k.xb(u.qa) || isNaN(u.qa) || !v.DR || k.xb(v.DR.qa) || isNaN(v.DR.qa) || ("max" === z.dhb?v.Ua.qa=Math.max(v.DR.qa,u.qa):"sum" === z.dhb && (v.Ua.qa+=v.DR.qa));v.Mk=x;v.Cx=y;this.J.ZZa && (u=this.J.Ieb,v.Nhc=this.cp.I4b.get(u.fillS,u.fillHl));u=this.G5 + (k.xb(this.Lg)?0:(k.xb(this.bd)?n.time.ha():this.bd) - this.Lg);v.time=u;return v;};w.prototype.CMb=function(){var v,u,x;v={};u=this.get();if(u.confidence && u.Ua){v.aseavtp=Number(u.Ua.qa).toFixed(2);v.asevartp=Number(u.Ua.Ce).toFixed(2);if(u.kv){x=u.kv.Eba;!x || void 0 === x.sl || void 0 === x.rl || void 0 === x.Kj || isNaN(x.sl || 0) || isNaN(x.rl) || isNaN(x.Kj) || (v.aseniqr=0 < x.Kj?Number((x.sl - x.rl) / x.Kj).toFixed(2):-1,v.aseiqr=Number(x.sl - x.rl).toFixed(2),v.asemedtp=Number(x.Kj).toFixed(2));v.iqrsamples=u.kv.A0b;}u.Rk && u.Rk.zA && (v.tdigest=u.Rk.zA());}return v;};w.prototype.uQ=function(v,u){var x;x=u.requestId;1 === ++this.aM && this.emit("active",v);this.J.lda && this.start(v,u);x && (this.J.lda || this.start(v,u),this.wT.push(x));this.SC+=u.aa || 0;this.QT.uQ(v,u);this.vT.uQ(v,u);};w.prototype.pbb=function(){++this.wU;};w.prototype.A_=function(v,u,x){var y;y=x.requestId;u && --this.wU;--this.aM;this.SC=Math.max((this.SC || 0) - ((x.aa || 0) - (x.bytesReceived || 0)),0);this.J.wbb && (this.aM=Math.max(this.aM,0),this.wU=Math.max(this.wU,0));this.J.lda && this.stop(v,x);0 === this.aM && (this.J.lda || this.stop(v,x),this.emit("inactive",v));y && (u=this.wT.indexOf(y),0 <= u && this.wT.splice(u,1));this.QT.A_(v,x);this.vT.A_(v,x);};w.prototype.Mwa=function(){this.Tfb();this.L5=setInterval(this.Dub,this.J.Erb);};return w;})(r.EventEmitter);b.default=a;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);return g;})(Error);b.assert=function(h,g){if(!h)throw new k(g || "Assertion failed");};},function(r){var c,k;function b(){var h,g;if(DataView.prototype && DataView.prototype.$u && !k){try{h=new ArrayBuffer(4);g=new DataView(h);g.Rq(0,4,1);}catch(d){return;}try{h=new ArrayBuffer(4);g=new DataView(h);g.Rq(1,2,2);}catch(d){DataView.prototype.Rq=a(DataView.prototype.Rq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.DA=a(DataView.prototype.DA,DataView.prototype.getUint16,Uint16Array);DataView.prototype.$u=a(DataView.prototype.$u,DataView.prototype.getUint32,Uint32Array);DataView.prototype.sI=a(DataView.prototype.sI,DataView.prototype.getInt8,Int8Array);DataView.prototype.qI=a(DataView.prototype.qI,DataView.prototype.getInt16,Int16Array);DataView.prototype.rI=a(DataView.prototype.rI,DataView.prototype.getInt32,Int32Array);}c.nsa=function(d,f,m,l,n){return m?d.Rq(f,m,l || 1,n):new Uint8Array(0);};c.lsa=function(d,f,m,l,n){return m?d.DA(f,m,l || 2,n):new Uint16Array(0);};c.msa=function(d,f,m,l,n){return m?d.$u(f,m,l || 4,n):new Uint32Array(0);};c.LKb=function(d,f,m,l,n){return m?d.sI(f,m,l || 1,n):new Int8Array(0);};c.JKb=function(d,f,m,l,n){return m?d.qI(f,m,l || 2,n):new Int16Array(0);};c.KKb=function(d,f,m,l,n){return m?d.rI(f,m,l || 4,n):new Int32Array(0);};k=!0;}}function a(h,g,d){return function(f,m,l,n){var p;l=l || d.BYTES_PER_ELEMENT;if(f + m * l > this.byteLength){p=new d(m);p.set(h.call(this,f,m - 1,l,n));p[m - 1]=g.call(this,f + (m - 1 * l),n);return p;}return h.call(this,f,m,l,n);};}c={Rq:function(h,g,d,f,m){var l;l=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getUint8(g,m);}return l;},DA:function(h,g,d,f,m){var l;l=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getUint16(g,m);}return l;},$u:function(h,g,d,f,m){var l;l=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getUint32(g,m);}return l;},sI:function(h,g,d,f,m){var l;l=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getInt8(g,m);}return l;},qI:function(h,g,d,f,m){var l;l=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getInt16(g,m);}return l;},rI:function(h,g,d,f,m){var l;l=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getInt32(g,m);}return l;},kHb:b};k=!1;c.dra=function(){return k;};b();r.exports=c;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(238);r=(function(){function h(g,d,f){this.tag=g;this.view=d;this.u=f;this.startOffset=f.offset;}h.j_=function(g,d,f){var m,l;m=g.Xa();l=g.uya();g=new (k.Fq[m] || h)(m,g.ara(l),g);g.parse(d,f);return g;};Object.defineProperties(h.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});h.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.lo=0;return !0;};h.prototype.SW=function(g){var d;d=[];this.tag === g && d.push(this);if(this.Fq)for(var f=0;f < this.Fq.length;f++){d=c.__spreadArrays(d,this.Fq[f].SW(g));}return d;};h.prototype.Tl=function(g){for(g=this.SW(g);0 < g.length;){return g[0];}};h.prototype.uU=function(g){for(this.Fq=[];this.u.offset < this.startOffset + this.length;){this.Fq.push(h.j_(this.u,g,this));}};return h;})();b.IF=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Wk=b.pia=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.Sab=1]="relative";})(k=b.pia || (b.pia={}));g=(function(){function d(f,m){this.type=f;this.timestamp=m;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + k[this.type];};Object.defineProperties(d,{hb:{get:function(){h || (h=new d(k.Sab,c.R.hb));return h;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.zR=function(f){return new g(k.absolute,f);};Object.defineProperties(d,{D7b:{get:function(){return g.hb;},enumerable:!1,configurable:!0}});d.bL=function(f){return new g(k.Sab,f);};d.qCa=new g(k.absolute,c.R.fE);return d;})();b.Wk=r;},function(r,b,a){var h,g,d,f,m,l,n;function c(p){return p && "function" === typeof p.$h?!0:!1;}function k(p){return c(p) && (p=typeof p.zPb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.hjb=b.nHb=b.yPb=b.Nhb=b.AsyncIterator=void 0;h=a(1);g=a(16);f=(function(){function p(q){var t;t=this;this.irb=q;this.ZT=!1;this.ptb=function(w){return t.LYb(w);};this.QXa();}p.uQb=function(q,t){function w(){var v;v=q.next();v.then(function(u){k(q) && q.zPb || t(u);});v.then(function(u){return !u.done && w();});}w();};Object.defineProperties(p.prototype,{QA:{get:function(){return this.ZT;},enumerable:!1,configurable:!0}});p.m1a=function(){return new m([]);};p.esa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{cP:{get:function(){return this.pm || !1;},enumerable:!1,configurable:!0}});p.prototype.$h=function(){this.cancel();};p.prototype.cancel=function(){this.NSa();this.pm=!0;return this.fja;};p.prototype.next=function(){return this.pm?this.fja:Promise.race([this.fja,this.irb()]).then(this.ptb);};p.prototype.LYb=function(q){q.done && (this.ZT=!0,this.$h());this.cP || (this.NSa(),this.QXa());return q;};p.prototype.QXa=function(){var q;q=this;this.fja=new Promise(function(t){q.NSa=function(){t({done:!0});};});};return p;})();b.AsyncIterator=f;m=(function(p){function q(t){var w;w=p.call(this,function(){return w.qLb();}) || this;w.Jz=t;w.index=0;return w;}h.__extends(q,p);q.prototype.$h=function(){c(this.Jz) && this.Jz.$h();p.prototype.$h.call(this);};q.prototype.qLb=function(){return this.Jz.length > this.index?Promise.resolve({value:this.Jz[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.Nhb=m;b.yPb=c;b.nHb=k;l=(function(p){function q(t,w,v){var u;u=p.call(this,function(){return u.hwa();}) || this;u.console=w;u.Hl=v;u.fya=!1;Array.isArray(t)?u.jU=new m(t):u.jU=t;return u;}h.__extends(q,p);q.prototype.NYb=function(t){var w;this.fya=!1;w=this.console;g.Z && w && w.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.EM)return (c(t) && t.$h(),f.esa());Array.isArray(t)?this.Hl=new m(t):this.Hl=t;return this.hwa();};q.prototype.MYb=function(t){var w;w=this.console;g.Z && w && w.trace("CompoundIterator: processNextInnerResult",this.EM,t.done);if(!t.done || this.EM)return t;this.Hl=void 0;return this.hwa();};q.prototype.$h=function(){var t;t=this.console;g.Z && t && t.trace("CompoundIterator: dispose");this.EM=!0;p.prototype.$h.call(this);c(this.jU) && this.jU.$h();c(this.Hl) && this.Hl.$h();};q.prototype.toString=function(){return "CompoundIterator " + this.EM + " " + this.jU + " " + this.Hl;};q.prototype.hwa=function(){var t,w;t=this;w=this.console;g.Z && w && w.trace("CompoundIterator: nextImpl");if(this.Hl)return (g.Z && w && w.trace("CompoundIterator: getNextInner"),this.Hl.next().then(function(v){return t.MYb(v);}));this.fya=!0;g.Z && w && w.trace("CompoundIterator: getNextOuter");return this.jU.next().then(function(v){return t.NYb(v);});};return q;})(f);b.hjb=l;b.map=function(p,q,t){return new n(p,q,t);};n=(function(p){function q(t,w,v){var u;u=p.call(this,function(){return u.Vqb();}) || this;u.source=t;u.mva=w;u.qAb=v;return u;}h.__extends(q,p);q.prototype.$h=function(){c(this.source) && this.source.$h();p.prototype.$h.call(this);};q.prototype.Vqb=function(){var t,w,v;t=this.qAb;w=this.mva;v=this.source;g.Z && t && t.trace("MappedIterator: Requesting next");return v.next().then(function(u){return u.done?u:w(u.value);});};return q;})(f);b.flatten=function(p,q,t){return new l(p,q,t);};},function(r,b,a){var c,k,h;c=a(133);k=a(55);h=a(186);r.exports=function(g){return function n(f,m,l){switch(arguments.length){case 0:return n;case 1:return h(f)?n:k(function(p,q){return g(f,p,q);});case 2:return h(f) && h(m)?n:h(f)?k(function(p,q){return g(p,m,q);}):h(m)?k(function(p,q){return g(f,p,q);}):c(function(p){return g(f,m,p);});default:return h(f) && h(m) && h(l)?n:h(f) && h(m)?k(function(p,q){return g(p,q,l);}):h(f) && h(l)?k(function(p,q){return g(p,m,q);}):h(m) && h(l)?k(function(p,q){return g(f,p,q);}):h(f)?c(function(p){return g(p,m,l);}):h(m)?c(function(p){return g(f,p,l);}):h(l)?c(function(p){return g(f,m,p);}):g(f,m,l);}};};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);return g;})(Error);b.assert=function(h,g){if(!h)throw new k(g || "Assertion failed");};},function(r){var c,k;function b(){var h,g;if(DataView.prototype && DataView.prototype.$u && !k){try{h=new ArrayBuffer(4);g=new DataView(h);g.Rq(0,4,1);}catch(d){return;}try{h=new ArrayBuffer(4);g=new DataView(h);g.Rq(1,2,2);}catch(d){DataView.prototype.Rq=a(DataView.prototype.Rq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.DA=a(DataView.prototype.DA,DataView.prototype.getUint16,Uint16Array);DataView.prototype.$u=a(DataView.prototype.$u,DataView.prototype.getUint32,Uint32Array);DataView.prototype.sI=a(DataView.prototype.sI,DataView.prototype.getInt8,Int8Array);DataView.prototype.qI=a(DataView.prototype.qI,DataView.prototype.getInt16,Int16Array);DataView.prototype.rI=a(DataView.prototype.rI,DataView.prototype.getInt32,Int32Array);}c.nsa=function(d,f,m,l,n){return m?d.Rq(f,m,l || 1,n):new Uint8Array(0);};c.lsa=function(d,f,m,l,n){return m?d.DA(f,m,l || 2,n):new Uint16Array(0);};c.msa=function(d,f,m,l,n){return m?d.$u(f,m,l || 4,n):new Uint32Array(0);};c.LKb=function(d,f,m,l,n){return m?d.sI(f,m,l || 1,n):new Int8Array(0);};c.JKb=function(d,f,m,l,n){return m?d.qI(f,m,l || 2,n):new Int16Array(0);};c.KKb=function(d,f,m,l,n){return m?d.rI(f,m,l || 4,n):new Int32Array(0);};k=!0;}}function a(h,g,d){return function(f,m,l,n){var p;l=l || d.BYTES_PER_ELEMENT;if(f + m * l > this.byteLength){p=new d(m);p.set(h.call(this,f,m - 1,l,n));p[m - 1]=g.call(this,f + (m - 1 * l),n);return p;}return h.call(this,f,m,l,n);};}c={Rq:function(h,g,d,f,m){var l;l=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getUint8(g,m);}return l;},DA:function(h,g,d,f,m){var l;l=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getUint16(g,m);}return l;},$u:function(h,g,d,f,m){var l;l=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getUint32(g,m);}return l;},sI:function(h,g,d,f,m){var l;l=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getInt8(g,m);}return l;},qI:function(h,g,d,f,m){var l;l=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getInt16(g,m);}return l;},rI:function(h,g,d,f,m){var l;l=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,g+=f)){l[n]=h.getInt32(g,m);}return l;},kHb:b};k=!1;c.dra=function(){return k;};b();r.exports=c;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(278);r=(function(){function h(g,d,f){this.tag=g;this.view=d;this.u=f;this.startOffset=f.offset;}h.j_=function(g,d,f){var m,l;m=g.Xa();l=g.uya();g=new (k.Fq[m] || h)(m,g.ara(l),g);g.parse(d,f);return g;};Object.defineProperties(h.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});h.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.lo=0;return !0;};h.prototype.SW=function(g){var d;d=[];this.tag === g && d.push(this);if(this.Fq)for(var f=0;f < this.Fq.length;f++){d=c.__spreadArrays(d,this.Fq[f].SW(g));}return d;};h.prototype.Tl=function(g){for(g=this.SW(g);0 < g.length;){return g[0];}};h.prototype.uU=function(g){for(this.Fq=[];this.u.offset < this.startOffset + this.length;){this.Fq.push(h.j_(this.u,g,this));}};return h;})();b.IF=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kMa="PboPlaydataServicesSymbol";b.bT="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mL=b.kkb=void 0;c=a(28);b.kkb=function(){this.rH=[];this.qn=[];this.sUa=[];this.jma=c.iw.ow;this.fea=c.Gl.ow;};b.mL="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lT="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RS="MslProviderSymbol";},function(r){function b(g,d){return g.some(function(f){return f.id === d;});}function a(g,d){return g.filter(c.bind(null,d)).map(k).reduce(h,0);}function c(g,d){return g.id === d.id && g.displayTime + g.duration === d.displayTime;}function k(g){return g.duration;}function h(g,d){return g + d;}r.exports={fAb:function(g,d,f){for(var m=0;m < g.length;m++){if(g[m] !== d[m])return (f.error("indexId mismatch in sidx",{sIndexId:g,mIndexId:d}),!1);}return !0;},joa:function(g,d,f){var m;m={};m.displayTime=g.displayTime;m.duration=g.duration;m.originX=g.jWb;m.originY=g.kWb;m.sizeX=g.Q2b;m.sizeY=g.R2b;m.imageData=d;m.id=g.KI;m.rootContainerExtentX=f.o0b;m.rootContainerExtentY=f.p0b;return m;},gra:function(g,d){return "o_" + g + "s_" + d;},c7b:function(g,d){d("P" === String.fromCharCode(g[1]));d("N" === String.fromCharCode(g[2]));d("G" === String.fromCharCode(g[3]));},sd:function(g){return "undefined" !== typeof g;},chc:b,Zdc:a,qX:function(g,d){var f,m;f=Object.create({});for(m in g){f[m]=g[m];}g instanceof Error && (f.message=g.message,f.stack=g.stack);f.errorString=d;return f;},assert:function(g,d){if(!g)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},O3a:function(g){return g && 0 < g.entries.length && 0 === g.images.length;},S3b:function(g,d){for(var f=d.entries.length,m,l=0;l < f;l++){if((m=d.entries[l],m.displayTime <= g && m.displayTime + m.duration >= g))return !0;}return !1;},T3b:function(g,d,f){for(var m=f.entries.length,l,n,p=0;p < m;p++){l=f.entries[p];n=l.displayTime;l=n + l.duration;if(d < n)break;if(n <= g && l >= g || n > g && n <= d)return !0;}return !1;},yXa:function(g){return g.map(function(d,f){d.duration+=a(g.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},Xra:function(g){return g.reduce(function(d,f){return d + f.entries.reduce(function(m,l){return l.Ysa + m;},0);},0);},qFb:function(g,d){return g && g.by <= d && g.kr >= d;},vKb:function(g){if(g)return g.endTime;},UKb:function(g){try{return String.fromCharCode.apply(String,g);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lG="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.su=b.Phb=void 0;b.Phb=a;b.su=new a();},function(r,b,a){var k,h,g;function c(d,f,m,l){f=g.$j.call(this,d,f,l) || this;f.context=d;f.Jpa=m;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Nr=void 0;r=a(2);k=a(0);h=a(73);g=a(93);a(190);la(c,g.$j);c.prototype.Sg=function(d,f){var m,l;m=this;l=this.G6(f);!1;!1;return this.send(d,{url:f.href,name:h.Ph.events,qr:h.Ph.events + "/" + this.Jpa},l).then(function(){return f;}).catch(function(n){throw m.up(n);});};c.prototype.Hs=function(d,f,m){var l,n,p;l=this;n=this.G6(m);!1;!1;p={url:f.uX("events").href,name:h.Ph.events,qr:h.Ph.events + "/" + this.Jpa};return this.send(d,p,n).then(function(q){f.dUa(q.result.links);return m;}).catch(function(q){throw l.up(q);});};c.prototype.G6=function(d){return {event:this.Jpa,xid:d.ea,position:d.position || 0,clientTime:d.EV,sessionStartTime:d.T_,videoTrackId:d.xR,audioTrackId:d.Mn,timedTextTrackId:d.hR,mediaId:d.xP,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Xxb(d.KZ),sessionParams:d.en};};c.prototype.Qma=function(d){return {downloadableId:d.wc,duration:d.duration};};c.prototype.Xxb=function(d){var f;f={total:d.total,audio:d.audio.map(this.Qma),video:d.video.map(this.Qma),text:d.text.map(this.Qma)};d.total !== d.PK && (f.totalContentTime=d.PK);0 !== d.oF && (f.totalAdDuration=d.oF);0 !== d.pF && (f.totalOtherDuration=d.pF);if(0 !== d.pF || 0 !== d.oF)f.totalCombinedDuration=d.jR;return f;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.Eo)()),r.__param(1,(0,k.Eo)()),r.__param(2,(0,k.Eo)()),r.__param(3,(0,k.Eo)())],a);b.Nr=a;},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EF="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Nra=function(){return this.buffer.length - this.position;};a.prototype.BB=function(){return this.buffer[this.position++];};a.prototype.ji=function(c){var k;k=this.position;this.position+=c;return this.kQb(this.buffer)?this.buffer.subarray(k,this.position):this.buffer.slice(k,this.position);};a.prototype.kQb=function(c){return void 0 !== c.subarray;};a.prototype.mr=function(c){for(var k=0;c--;){k=256 * k + this.buffer[this.position++];}return k;};a.prototype.tya=function(c){for(var k="";c--;){k+=String.fromCharCode(this.buffer[this.position++]);}return k;};a.prototype.Jh=function(){return this.mr(2);};a.prototype.nr=function(){return this.mr(4);};a.prototype.lQ=function(){return this.mr(8);};a.prototype.cy=function(c){for(var k,h="";c--;){k=this.BB();h+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return h;};a.prototype.vya=function(c){for(var k=0,h=0;h < c;h++){k+=this.BB() << (h << 3);}return k;};a.prototype.kQ=function(){return this.vya(4);};a.prototype.p1=function(c){this.CR(c,2);};a.prototype.iC=function(c){this.CR(c,4);};a.prototype.pea=function(c){this.buffer[this.position++]=c;};a.prototype.CR=function(c,k){this.position+=k;for(var h=1;h <= k;h++){this.buffer[this.position - h]=c & 255;c=Math.floor(c / 256);}};a.prototype.hC=function(c){for(var k=0;k < c.length;k++){this.buffer[this.position++]=c.charCodeAt(k);}};a.prototype.o1=function(c){for(var k=c.length,h=0;h < k;h++){this.buffer[this.position++]=c[h];}};a.prototype.BR=function(c,k){this.o1(c.ji(k));};a.prototype.chb=function(c){c=new a(c);for(var k,h;;){if((k=c.Nra(),h=k >>> 14))(h=Math.min(4,h),this.pea(192 | h),this.BR(c,16384 * h));else {128 > k?this.pea(k):this.CR(k | 32768,2);this.BR(c,k);break;}}};a.prototype.vab=function(){var h;for(var c=[],k=new a(c);;){h=this.BB();if(h & 128){if(128 == (h & 192))(h&=63,h=(h << 8) + this.BB(),k.BR(this,h));else if((h&=63,0 < h && 4 >= h)){k.BR(this,16384 * h);continue;}else throw Error("bad asn1");}else k.BR(this,h);break;}return new Uint8Array(c);};return a;})();b.dS=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O1="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eOa="ReportSyncSymbol";b.cOa="ReportApiErrorSyncSymbol";b.MGa="FtlProbeConfigSymbol";b.OGa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.B1="ApiInfoSymbol";},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.WNa=b.Q3=b.V8=void 0;c=a(36);k=a(3);b.V8=function(h){return h === c.Rb.Uk.cc?k.O.Uga:k.O.Vga;};b.Q3=50;b.WNa=1E3;},function(r,b){function a(c){var k;k={profile:c.spoofedProfile || c.profile,A8:c.max_framerate_value,z8:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,yxa:c.pixelAspectX,zxa:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (k.rgc=c.profile);return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.U1a=b.xra=void 0;b.xra=function(c,k,h){var g;g=[{},{}];(0 === h?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,f){c[d].some(function(m,l){return l === k[f]?(g[f]=a(m),!0):!1;});});return g;};b.U1a=a;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Dy=void 0;c=a(230);k=a(4);r=(function(){function h(g){this.config=g;this.reset();}h.instance=function(){k.assert(void 0 !== h.CM);return h.CM;};h.vAb=function(g){h.CM=new h(g);};h.prototype.push=function(g){this.Rk && this.Rk.push(g);};h.prototype.Ab=function(){if(this.Rk)return (this.Rk.$z(),this.Rk.Oj([.25,.5,.75,.9,.95,.99]).map(function(g){return g?parseFloat(g.toFixed(1)):0;}));};h.prototype.reset=function(){this.config.YZa && this.config.zga && (this.Rk=new c.Wbc(this.config.zga.c,this.config.zga.maxc));};return h;})();b.Dy=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(26);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){var f;f=h.prototype.parse.call(this,d);this.u.offset+=8;this.CH=this.u.yc();this.eK=this.u.yc();this.u.offset+=4;this.samplerate=this.u.yc();this.u.offset+=2;k.Z && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.CH + ", samplesize: " + this.eK + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Zb)(d.Zb.CH=this.CH,d.Zb.eK=this.eK,d.Zb.samplerate=this.samplerate);return f;};g.Ta=!1;return g;})(a(237).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.hw=void 0;a(4);r=(function(){function c(k,h){c.zb(this,k,h);}c.zb=function(k,h,g){k.pd=h;k.Ad=g.aa;k.Ze=g.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{aa:{get:function(){return this.Ad;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{M:{get:function(){return this.pd.M;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.pd.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.pd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Qa:{get:function(){return this.pd.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.pd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.pd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return this.pd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{FP:{get:function(){return this.pd.FP;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{za:{get:function(){return this.pd.za;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Qa,offset:this.offset,bytes:this.aa};};return c;})();b.hw=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Cia=b.yn=void 0;c=a(153);(function(h){h[h.pending=0]="pending";h[h.Ica=1]="running";h[h.complete=2]="complete";h[h.UN=3]="destroyed";})(k=b.yn || (b.yn={}));r=(function(){function h(g,d){void 0 === d && (d=0);this.name=g;this.priority=d;this.Xc=k.pending;}Object.defineProperties(h.prototype,{state:{get:function(){return this.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nPb:{get:function(){return this.Xc === k.pending || this.Xc === k.Ica;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ve:{get:function(){return this.ax;},enumerable:!1,configurable:!0}});h.prototype.Hwb=function(g){var d;null === (d=this.ax) || void 0 === d?void 0:d.Nya(this);this.ax=g;};h.prototype.fy=function(){this.Xc=k.Ica;this.Sg();this.aba() === c.Wk.qCa && (this.Xc=k.complete);};h.prototype.Hb=function(){var g;this.Xc=k.UN;null === (g=this.ax) || void 0 === g?void 0:g.Nya(this);};return h;})();b.Cia=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W3=void 0;r=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{K5a:{get:function(){var c,k;return null !== (c=this.LNb) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.K5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pY:{get:function(){var c,k;return null !== (c=this.IUb) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.pY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qv:{get:function(){var c,k;return null !== (c=this.If) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P5a:{get:function(){var c,k,h,g;return null !== (c=this.Te) && void 0 !== c?c:(null === (k=this.track) || void 0 === k?0:k.equals(null === (h=this.parent) || void 0 === h?void 0:h.track))?null === (g=this.parent) || void 0 === g?void 0:g.Te:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S5a:{get:function(){var c,k;return null !== (c=this.w3b) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.S5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vua:{get:function(){var c,k;return null !== (c=this.x3b) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.vua;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.d1b;},enumerable:!1,configurable:!0}});a.prototype.Hb=function(){this.parent=void 0;};a.prototype.Ccb=function(c){this.LNb=c;};a.prototype.N1b=function(c){this.IUb=c;};a.prototype.Pcb=function(c){this.If=c;};a.prototype.Z_=function(c){this.Te=c;};a.prototype.Y1b=function(c){this.w3b=c;};a.prototype.Rcb=function(c){this.x3b=c;};a.prototype.a0=function(c){this.d1b=c;};return a;})();b.W3=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(416);c=a(418);a=a(419);b.default={STARTING:a.Fza,BUFFERING:r.CQ,REBUFFERING:r.CQ,PLAYING:c.zo,PAUSED:c.zo};},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KO=b.AF=void 0;c=a(948);k=a(949);h=a(950);g=a(182);Object.defineProperties(b,{AF:{enumerable:!0,get:function(){return g.AF;}}});b.KO=function(d,f){switch(d.nva){case "manifold":return new c.QJa(d,f);case "stddev":return new h.hPa(d,f);default:return new k.TOa(d,f);}};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.AF=void 0;c=a(99);k=a(422);h=a(36);r=(function(){var R8;R8=2;function g(d,f){var a00,m;a00=2;for(;a00 !== 8;){switch(a00){case 3:var c9G="1SI";c9G+="Y";c9G+="bZrNJ";c9G+="Cp";c9G+="9";this.TZ=function(l,n,p){var b00;b00=2;for(;b00 !== 5;){switch(b00){case 2:l=m.eo(l,p);return m.config.xVa?(n=c.Hpa(m.config.wVa,n.tk - n.qc,1),l * (1 - n)):l * m.config.B0 / 100;break;}}};c9G;a00=8;break;case 2:m=this;this.config=d;this.uP=f;this.Lgb=this.s6=null;a00=3;break;}}}for(;R8 !== 14;){switch(R8){case 2:g.prototype.dZa=function(d,f){var c00,m;c00=2;for(;c00 !== 3;){switch(c00){case 2:m=null === this.s6?d * (100 - this.config.B0) / 100:k.Wla(d,this.s6);f=null !== f && void 0 !== f?f:this.uP;this.config.Gua && f?(d=k.Wla(d,f),d=Math.max(d,m)):d=m;return d;break;}}};g.prototype.jdb=function(d){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:return this.config.mGb && (d === h.ta.yh || d === h.ta.yd);break;}}};g.prototype.eo=function(d,f){var e00,m,l,n;e00=2;for(;e00 !== 5;){switch(e00){case 2:return this.jdb(f)?(null === (m=d.j4a) || void 0 === m?void 0:m.qa) || (null === (l=d.Ua) || void 0 === l?void 0:l.qa) || 0:(null === (n=d.Ua) || void 0 === n?void 0:n.qa) || 0;break;}}};g.prototype.hy=function(d){var f00;f00=2;for(;f00 !== 1;){switch(f00){case 2:this.s6=d;f00=1;break;case 4:this.s6=d;f00=6;break;f00=1;break;}}};g.prototype.gX=function(){var g00;g00=2;for(;g00 !== 1;){switch(g00){case 2:return this.s6;break;}}};g.prototype.rK=function(d){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:this.Lgb=d;h00=1;break;case 4:this.Lgb=d;h00=3;break;h00=1;break;}}};R8=8;break;case 8:g.prototype.IX=function(){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:return this.Lgb;break;}}};g.prototype.NBa=function(d){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 4:this.config=d;j00=7;break;j00=1;break;case 2:this.config=d;j00=1;break;}}};return g;break;}}})();b.AF=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uw=void 0;r=b.uw || (b.uw={});r[r.LBa=0]="up";r[r.tW=1]="down";},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ew=void 0;c=a(1);k=a(16);h=a(9);g=a(54);r=(function(){function d(f,m){this.Wg=f;this.options=c.__assign({Nzb:!0},m);}Object.defineProperties(d.prototype,{DE:{get:function(){return "trace-" + this.Wg.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sg:{get:function(){return this.DE;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.Z;},enumerable:!1,configurable:!0}});d.prototype.Vl=function(f){var m,l;if(f.Li === g.ce.pp || f.Li === g.ce.Do){m=h.IYa(this.Wg.xQb);l=this.Wg.RNb;f.Li === g.ce.pp && this.options.Nzb && this.Wg.clear();f=m;Object.keys(l).length && (f=c.__spread(m,[l]));return f;}};d.prototype.Hb=function(){this.Wg.Hb();};return d;})();b.Ew=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.vv,minHCInitVideoBitrate:a.Rva,maxInitVideoBitrate:a.fB,minInitAudioBitrate:a.ZY,maxInitAudioBitrate:a.JY,minHCInitAudioBitrate:a.XY,minAcceptableVideoBitrate:a.Caa,minRequiredBuffer:a.lJ,minPrebufSize:a.Ij,minCheckBufferingCompleteInterval:a.Gaa,rebufferingFactor:a.Aya,useMaxPrebufSize:a.bCa,maxPrebufSize:a.vE,maxRebufSize:a.yva,maxBufferingTime:a.Zs,minAudioMediaRequestSizeBytes:a.Daa,minVideoMediaRequestSizeBytes:a.Laa,initialBitrateSelectionCurve:a.Z9,initSelectionLowerBound:a.f4a,initSelectionUpperBound:a.g4a,throughputPercentForAudio:a.B0,bandwidthMargin:a.uma,bandwidthMarginContinuous:a.vma,bandwidthMarginCurve:a.wma,conservBandwidthMargin:a.Wna,switchConfigBasedOnInSessionTput:a.fBa,conservBandwidthMarginTputThreshold:a.NV,conservBandwidthMarginCurve:a.Xna,switchAlgoBasedOnHistIQR:a.ueb,switchConfigBasedOnThroughputHistory:a.jF,maxPlayerStateToSwitchConfig:a.xva,lowEndMarkingCriteria:a.$ua,IQRThreshold:a.uga,histIQRCalcToUse:a.Nsa,maxTotalBufferLevelPerSession:a.sv,highWatermarkLevel:a.B3a,toStableThreshold:a.bfb,toUnstableThreshold:a.Eda,skipBitrateInUpswitch:a.uAa,watermarkLevelForSkipStart:a.tCa,highStreamRetentionWindow:a.M9,lowStreamTransitionWindow:a.daa,highStreamRetentionWindowUp:a.Jsa,lowStreamTransitionWindowUp:a.bva,highStreamRetentionWindowDown:a.Isa,lowStreamTransitionWindowDown:a.ava,highStreamInfeasibleBitrateFactor:a.Hsa,lowestBufForUpswitch:a.ZA,lockPeriodAfterDownswitch:a.Z$,lowWatermarkLevel:a.dva,lowestWaterMarkLevel:a.$A,lowestWaterMarkLevelBufferRelaxed:a.eva,mediaRate:a.Eva,maxTrailingBufferLen:a.eJ,audioBufferTargetAvailableSize:a.bV,videoBufferTargetAvailableSize:a.c1,maxVideoTrailingBufferSize:a.x7a,maxAudioTrailingBufferSize:a.d7a,fastUpswitchFactor:a.h8,fastDownswitchFactor:a.Spa,maxMediaBufferAllowed:a.$s,simulatePartialBlocks:a.qAa,simulateBufferFull:a.mdb,considerConnectTime:a.Yna,connectTimeMultiplier:a.Vna,lowGradeModeEnterThreshold:a.z6a,lowGradeModeExitThreshold:a.A6a,maxDomainFailureWaitDuration:a.f7a,maxAttemptsOnFailure:a.c7a,exhaustAllLocationsForFailure:a.v_a,maxNetworkErrorsDuringBuffering:a.n7a,maxBufferingTimeAllowedWithNetworkError:a.haa,fastDomainSelectionBwThreshold:a.C_a,throughputProbingEnterThreshold:a.Geb,throughputProbingExitThreshold:a.Heb,locationProbingTimeout:a.n6a,finalLocationSelectionBwThreshold:a.J_a,throughputHighConfidenceLevel:a.Eeb,throughputLowConfidenceLevel:a.Feb,locationStatisticsUpdateInterval:a.Mua,enablePerfBasedLocationSwitch:a.XZa,probeServerWhenError:a.Kv,probeRequestTimeoutMilliseconds:a.$xa,allowSwitchback:a.Hz,probeDetailDenominator:a.OJ,maxDelayToReportFailure:a.iaa,countGapInBuffer:a.LXa,bufferThresholdForAbort:a.QVa,allowCallToStreamSelector:a.zUa,pipelineScheduleTimeoutMs:a.xxa,maxPartialBuffersAtBufferingStart:a.gB,maxActiveRequestsSABCell100:a.faa,maxStreamingSkew:a.zva,maxPendingBufferPercentage:a.vva,headerRequestSize:a.K9,estimateHeaderSize:a.Fpa,minBufferLenForHeaderDownloading:a.VY,reserveForSkipbackBufferMs:a.F_,numExtraFragmentsAllowed:a.xwa,pipelineEnabled:a.dr,maxParallelConnections:a.vP,socketReceiveBufferSize:a.udb,audioSocketReceiveBufferSize:a.t6,videoSocketReceiveBufferSize:a.wR,headersSocketReceiveBufferSize:a.Fsa,updatePtsIntervalMs:a.Wda,bufferTraceDenominator:a.Ima,bufferLevelNotifyIntervalMs:a.sN,aseReportDenominator:a.lN,aseReportIntervalMs:a.l6,enableAbortTesting:a.cGb,abortRequestFrequency:a.Sub,streamingStatusIntervalMs:a.WAa,prebufferTimeLimit:a.vB,minBufferLevelForTrackSwitch:a.Faa,penaltyFactorForLongConnectTime:a.pxa,longConnectTimeThreshold:a.Yua,additionalBufferingLongConnectTime:a.Ila,additionalBufferingPerFailure:a.Jla,rebufferCheckDuration:a.m_,enableLookaheadHints:a.UZa,lookaheadFragments:a.w6a,enableOCSideChannel:a.nA,OCSCBufferQuantizationConfig:a.u3,updateDrmRequestOnNetworkFailure:a.Qfb,deferAseScheduling:a.OYa,maxDiffAudioVideoEndPtsMs:a.e7a,defaultHeaderCacheSize:a.t7,defaultHeaderCacheDataPrefetchMs:a.s7,neverWipeHeaderCache:a.sJ,networkFailureResetWaitMs:a.fwa,networkFailureAbandonMs:a.ewa,maxThrottledNetworkFailures:a.naa,throttledNetworkFailureThresholdMs:a.yda,lowThroughputThreshold:a.cva,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Lpa,mp4ParsingInNative:a.j8a,sourceBufferInOrderAppend:a.wdb,requireAudioStreamToEncompassVideo:a.WJ,allowAudioToStreamPastVideo:a.yUa,enableManagerDebugTraces:a.Gi,managerDebugMessageInterval:a.M6a,managerDebugMessageCount:a.L6a,bufferThresholdToSwitchToSingleConnMs:a.Hma,bufferThresholdToSwitchToParallelConnMs:a.Gma,netIntrStoreWindow:a.tUb,minNetIntrDuration:a.QTb,fastHistoricBandwidthExpirationTime:a.yHb,bandwidthExpirationTime:a.nxb,failureExpirationTime:a.vHb,historyTimeOfDayGranularity:a.QNb,expandDownloadTime:a.gHb,minimumMeasurementTime:a.cUb,minimumMeasurementBytes:a.bUb,throughputMeasurementTimeout:a.F4b,initThroughputMeasureDataSize:a.POb,throughputMeasureWindow:a.E4b,throughputIQRMeasureWindow:a.D4b,IQRBucketizerWindow:a.Slb,connectTimeHalflife:a.wAb,responseTimeHalflife:a.g0b,historicBandwidthUpdateInterval:a.PNb,throughputWarmupTime:a.J4b,minimumBufferToStopProbing:a.aUb,throughputPredictor:a.G4b,ase_stream_selector:a.wwb,enableFilters:a.hGb,filterDefinitionOverrides:a.PHb,defaultFilter:a.lEb,secondaryFilter:a.Q0b,defaultFilterDefinitions:a.mEb,initBitrateSelectorAlgorithm:a.pta,bufferingSelectorAlgorithm:a.Nma,ase_ls_failure_simulation:a.AYa,ase_dump_fragments:a.voa,ase_location_history:a.woa,ase_throughput:a.BYa,ase_simulate_verbose:a.DYa,secondThroughputEstimator:a.yza,secondThroughputMeasureWindowInMs:a.$bb,marginPredictor:a.nva,networkMeasurementGranularity:a.gwa,HistoricalTDigestConfig:a.wHa,maxIQRSamples:a.j7a,minIQRSamples:a.W7a,periodicHistoryPersistMs:a.Fba,saveVideoBitrateMs:a.Kca,needMinimumNetworkConfidence:a.eZ,biasTowardHistoricalThroughput:a.zma,maxFastPlayBufferInMs:a.jaa,maxFastPlayBitThreshold:a.tva,minAudioMediaRequestDuration:a.Qx,minVideoMediaRequestDuration:a.jB,minAudioMediaRequestDurationCache:a.Qx,minVideoMediaRequestDurationCache:a.jB,addHeaderDataToNetworkMonitor:a.wla,hindsightDenominator:a.Msa,hindsightDebugDenominator:a.Lsa,hindsightParam:a.O9,minimumTimeBeforeBranchDecision:a.AE,minimumTimeBeforeDelayedSeekToQueuedSegment:a.c8a,enableSessionHistoryReport:a.JW,earlyStageEstimatePeriod:a.mpa,lateStageEstimatePeriod:a.U5a,maxNumSessionHistoryStored:a.laa,minSessionHistoryDuration:a.Kaa,appendMediaRequestOnComplete:a.NUa,waitForDrmToAppendMedia:a.kea,forceAppendHeadersAfterDrm:a.q8,startMonitorOnLoadStart:a.EAa,reportFailedRequestsToNetworkMonitor:a.Vya,reappendRequestsOnSkip:a.tZb,maxActiveRequestsPerSession:a.Lx,limitAudioDiscountByMaxAudioBitrate:a.Gua,appendFirstHeaderOnComplete:a.Tla,maxAudioFragmentOverlapMs:0,editVideoFragments:a.TFb,declareBufferingCompleteAtSegmentEnd:a.xoa,applyProfileTimestampOffset:a.qH,applyProfileStreamingOffset:a.Jn,mediaSourceSupportsNegativePts:a.QY,requireDownloadDataAtBuffering:a.wca,requireSetupConnectionDuringBuffering:a.xca,recordFirstFragmentOnSubBranchCreate:a.Cya,earlyAppendSingleChildBranch:a.L7,selectStartingVMAFMethod:a.DQ,activateSelectStartingVMAF:a.QU,minStartingVideoVMAF:a.wv,minAcceptableVMAF:a.UY,minAllowedVmaf:a.kJ,alwaysNotifyEOSForPlaygraph:a.ewb,enableNewAse:a.gO,useNewApi:a.X0,enableCombinedPlaygraphs:a.N7,excludedContentPlaygraphIds:a.Mpa,enableDiscontiguousBuffering:a.O7,forceImmediateTransitionTypeForTitles:a.wqa,forceImmediateTransitionExitZone:a.vqa,useBufferSizeLimiter:a.Yda,useLegacyFragmentRounding:a.aCa,enableHudsonFieldTest:a.kGb,hudsonTitles:a.fOb,maxPartialBuffersAtHudson:a.VSb,numberOfChunksPerSegment:a.eVb,targetContentLatency:a.s4b,targetLongContentLatency:a.t4b,minimumTimeDelay:a.dUb,enableWsslEstimate:a.tpa,maxAllowedOutstandingRequests:a.gaa,alwaysRunUnderflowTimer:a.hN,minStreamableConcurrencyWindow:a.Sva,streamableConcurrencyFactor:a.TAa,bufferingConcurrencyWindow:a.wV,singleStreamablePerBranch:a.P2b,enableResolutionVMAFStreamFilter:a.Q7,resolutionVMAFCappingRuleList:a.Cca,percentCapTitlesForResolutionVMAFStreamFilter:a.sxa,useExitZones:a.ZBa,perFragmentVMAFConfig:a.YP,enableInitialTputLogging:a.SZa,maxResponsesInitialTput:a.XSb};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){var f;f=h.prototype.parse.call(this,d);this.u.offset+=8;this.CH=this.u.yc();this.eK=this.u.yc();this.u.offset+=4;this.samplerate=this.u.yc();this.u.offset+=2;k.Z && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.CH + ", samplesize: " + this.eK + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Zb)(d.Zb.CH=this.CH,d.Zb.eK=this.eK,d.Zb.samplerate=this.samplerate);return f;};g.Ta=!1;return g;})(a(277).default);b.default=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GS="LogblobBuilderFactorySymbol";b.Kga="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Omb="NativeLocalStorageSymbol";b.JKa="NativeLocalStorageFactorySymbol";b.IHa="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xnb=b.jkb=b.gFa=void 0;r=b.gFa || (b.gFa={});r.fbc="PboDebugEvent";r.ibc="PlaygraphEvent";b.jkb={fac:"Manifest",Event:"Event",T$b:"Logblob"};b.Xnb={fcc:"UX",r9b:"Combined_1",s9b:"Combined_2"};},function(r,b,a){var k,h;function c(g){switch(g){case k.O.wS:return "http";case k.O.yS:return "connectiontimeout";case k.O.PF:return "readtimeout";case k.O.mHa:return "corruptcontent";case k.O.sC:return "abort";case k.O.zS:case k.O.nga:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Pra=b.m2a=b.Dra=void 0;k=a(3);h=a(12);b.Dra=c;b.m2a=function(g,d){g={errorcode:g + (d.errorCode || k.T.zn)};d.wa && (g.errorsubcode=d.wa);d.Df && (g.errorextcode=d.Df);d.Bpa && (g.erroredgecode=d.Bpa);d.Sb && (g.errordetails=d.Sb);d.kl && (g.httperr=d.kl);d.Uaa && (g.aseneterr=d.Uaa);d.dI && (g.errordata=d.dI);d.PY && (g.mediaerrormessage=d.PY);(d=c(Number(d.wa))) && (g.nwerr=d);return g;};b.Pra=function(){return {screensize:h.yw.width + "x" + h.yw.height,screenavailsize:h.yw.availWidth + "x" + h.yw.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:h.IKa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ES="LicenseProviderSymbol";},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.oSb=b.U9a=b.JWb=b.c1a=b.RWb=b.ghb=b.fhb=b.zy=b.zCa=b.ehb=b.r1=void 0;c=a(25);k=a(24);b.r1="$attributes";b.ehb="$children";b.zCa="$name";b.zy="$text";b.fhb="$parent";b.ghb="$sibling";b.RWb=/^\s*<\?xml.*\?>/i;b.c1a=function(h,g,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(g=arguments[f++]) && (h=h[g]);){;}return h;};b.JWb=function(h,g){var d;h?d=(0,c.Mj)(h[b.zy]):void 0 !== g && (d=g);(0,k.bW)(d);return d;};b.U9a=function(h,g){var d;h?d=h[b.zy]:void 0 !== g && (d=g);(0,k.yYa)(d);return d;};b.oSb=function(h,g){var d;d={};d[b.r1]=h;d[b.zy]=g;return d;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vC=void 0;r=b.vC || (b.vC={});r[r.$8b=8]="Backspace";r[r.$bc=9]="Tab";r[r.f$b=13]="Enter";r[r.Sbc=16]="Shift";r[r.x9b=17]="Ctrl";r[r.C8b=18]="Alt";r[r.ebc=19]="PauseBreak";r[r.o9b=20]="CapsLock";r[r.h$b=27]="Escape";r[r.Ubc=32]="Space";r[r.dbc=33]="PageUp";r[r.cbc=34]="PageDown";r[r.e$b=35]="End";r[r.K$b=36]="Home";r[r.R$b=37]="LeftArrow";r[r.hcc=38]="UpArrow";r[r.obc=39]="RightArrow";r[r.M9b=40]="DownArrow";r[r.O$b=45]="Insert";r[r.J9b=46]="Delete";r[r.rcc=48]="Zero";r[r.Uac=49]="One";r[r.ccc=50]="Two";r[r.acc=51]="Three";r[r.E$b=52]="Four";r[r.C$b=53]="Five";r[r.Tbc=54]="Six";r[r.Rbc=55]="Seven";r[r.d$b=56]="Eight";r[r.Fac=57]="Nine";r[r.v8b=65]="A";r[r.D8b=66]="B";r[r.g9b=67]="C";r[r.ijb=68]="D";r[r.E=69]="E";r[r.i$b=70]="F";r[r.F$b=71]="G";r[r.I$b=72]="H";r[r.L$b=73]="I";r[r.P$b=74]="J";r[r.Aga=75]="K";r[r.Vlb=76]="L";r[r.V$b=77]="M";r[r.iac=78]="N";r[r.Sac=79]="O";r[r.Wac=80]="P";r[r.Q=81]="Q";r[r.kbc=82]="R";r[r.lob=83]="S";r[r.Rob=84]="T";r[r.dcc=85]="U";r[r.icc=86]="V";r[r.kcc=87]="W";r[r.Ria=88]="X";r[r.pcc=89]="Y";r[r.qcc=90]="Z";r[r.S$b=91]="LeftWindowKey";r[r.pbc=92]="RightWindowKey";r[r.Pbc=93]="SelectKey";r[r.Iac=96]="Numpad0";r[r.Jac=97]="Numpad1";r[r.Kac=98]="Numpad2";r[r.Lac=99]="Numpad3";r[r.Mac=100]="Numpad4";r[r.Nac=101]="Numpad5";r[r.Oac=102]="Numpad6";r[r.Pac=103]="Numpad7";r[r.Qac=104]="Numpad8";r[r.Rac=105]="Numpad9";r[r.hac=106]="Multiply";r[r.B8b=107]="Add";r[r.Vbc=109]="Subtract";r[r.I9b=110]="DecimalPoint";r[r.L9b=111]="Divide";r[r.j$b=112]="F1";r[r.n$b=113]="F2";r[r.o$b=114]="F3";r[r.p$b=115]="F4";r[r.q$b=116]="F5";r[r.r$b=117]="F6";r[r.s$b=118]="F7";r[r.t$b=119]="F8";r[r.u$b=120]="F9";r[r.k$b=121]="F10";r[r.l$b=122]="F11";r[r.m$b=123]="F12";r[r.Hac=144]="NumLock";r[r.Nbc=145]="ScrollLock";r[r.Qbc=186]="SemiColon";r[r.g$b=187]="Equals";r[r.t9b=188]="Comma";r[r.H9b=189]="Dash";r[r.gbc=190]="Period";r[r.D$b=191]="ForwardSlash";r[r.bcc=192]="Tilde";r[r.Vac=219]="OpenBracket";r[r.Z8b=220]="BackSlash";r[r.q9b=221]="CloseBracket";r[r.jbc=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tL=void 0;b.tL=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ifa=b.BFa=void 0;b.BFa=function(){this.cc=0;this.Nb=1;this.Vkb=2;this.Sg=function(){};};b.Ifa="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;b.Ec=a;a.Xe={YKa:"mr1",XKa:"mr2",ZKa:"mr3",WS:"mr4",Wmb:"mr5",hG:"mr6"};a.$c={UNSENT:0,OPENED:1,az:2,Zy:3,DONE:5,sL:6,IR:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.l2={NO_ERROR:-1,Qjb:0,XEa:1,bkb:2,Ujb:3,Tib:4,gEa:5,eEa:6,Uib:7,Vib:8,Wib:9,Qib:10,Sib:11,fEa:12,Rib:13,Pib:14,$kb:15,kHa:16,jHa:17,kga:18,mga:19,lga:20,nHa:21,blb:22,b3:23,lHa:24,alb:25,Xjb:26,Rjb:27,xob:28,Hjb:29,Ijb:30,Jjb:31,Kjb:32,Ljb:33,Mjb:34,Njb:35,Ojb:36,Pjb:37,Sjb:38,Tjb:39,Vjb:40,Wjb:41,Yjb:42,Zjb:43,$jb:44,akb:45,ckb:46,dkb:47,wob:48,TIMEOUT:49,gHa:50,hHa:51,Zkb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Uc={H_:{uhb:!0,jT:!1,Jmb:!0}};},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.vk=void 0;c=a(14);k=a(19);r=a(3);h=a(24);g=a(8);d=a(510);f=a(12);m=a(37);l=a(46);n=g.Aa.get(m.Ti);n.register(r.T.tga,function(p){var q,t,w;q=g.Aa.get(l.Mo);(0,h.sb)(k.config);(0,h.sb)(f.zC && f.zC.getDeviceId || f.HKa || q.yO);t=g.Aa.get(d.rFa);w=(0,g.Aj)("Device");n.Be("devs");t.create({deviceId:k.config.deviceId,yO:q.yO,ZYa:"deviceid",ll:k.config.ll,qp:q.qp,nW:q.nW,userAgent:f.fG,Pua:k.config.Pua,cra:k.config.cra,bgc:k.config.qA?"mslstoretest":"mslstore",qR:k.config.qR}).then(function(v){b.vk=v;nb._cad_global.device=b.vk;w.info("Esn source: " + b.vk.W7);n.Be("devdone");p(c.Fg);}).catch(function(v){v.da=void 0;p(v);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}r.exports=b;},function(r,b,a){b=a(599);r.exports=Function.prototype.bind || b;},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var c,k,h,g;b=a(45);c=b("%TypeError%");k=b("%SyntaxError%");h=a(108);g={"Property Descriptor":function(d){var f,m;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(h(d,m) && !f[m])return !1;}f=h(d,"[[Value]]");d=h(d,"[[Get]]") || h(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(632)};r.exports=function(d,f,m,l){var n;n=g[f];if("function" !== typeof n)throw new k("unknown record type: " + f);if("Object" !== d(l) || !n(l))throw new c(m + " must be a " + f);};},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.TF=void 0;c=/^\S+$/;a.prototype.TH=function(k){return void 0 !== k;};a.prototype.Qg=function(k){return null !== k && void 0 !== k;};a.prototype.VU=function(k){return a.EUa(k);};a.prototype.lla=function(k){return !(!k || !a.EUa(k));};a.prototype.iD=function(k){return Array.isArray(k);};a.prototype.FUa=function(k){return !(!k || k.constructor != Uint8Array);};a.prototype.uj=function(k,h,g){return a.PTa(k,h,g);};a.prototype.kla=function(k){return a.kla(k);};a.prototype.Rla=function(k,h,g){return a.b6(k,h,g) && 0 === k % 1;};a.prototype.WU=function(k,h,g){return a.b6(k,h || 0,g);};a.prototype.MU=function(k){return a.b6(k,1);};a.prototype.Qub=function(k){return a.b6(k,0,255);};a.prototype.Rub=function(k){return k === +k && (0 === k || k !== (k | 0)) && !0;};a.prototype.GUa=function(k){return !(!k || !c.test(k));};a.prototype.lu=function(k){return a.QTa(k);};a.prototype.In=function(k){return !(!a.QTa(k) || !k);};a.prototype.M5=function(k){return !0 === k || !1 === k;};a.prototype.O5=function(k){return "function" == typeof k;};a.QTa=function(k){return "string" == typeof k;};a.PTa=function(k,h,g){return "number" == typeof k && !isNaN(k) && isFinite(k) && (void 0 === h || k >= h) && (void 0 === g || k <= g);};a.kla=function(k){return "number" == typeof k && isNaN(k);};a.b6=function(k,h,g){return a.PTa(k,h,g) && 0 === k % 1;};a.EUa=function(k){return "object" == typeof k;};b.TF=new a();},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;r=a(0);c=a(75);k=a(667);h=a(209);g=a(694);d=a(701);f=a(705);a=a(1364);b.pc=new r.Q1({uK:!0});(0,f.f6a)(b.pc);b.pc.load(k.platform);b.pc.load(g.config);h.aO.load(d.IZa);b.pc.load(a.JUa);b.pc.load(a.profile);b.pc.bind(c.pIa).gm(b.pc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(206);r=(function(){function k(h){this.Lc=h;}k.prototype.Rx=function(h){this.Lc.Rx=h;return new c.dfa(this.Lc);};return k;})();b.J1=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(205);a(335);r=(function(){function k(h){this.Lc=h;}k.prototype.when=function(h){this.Lc.KH=h;return new c.J1(this.Lc);};k.prototype.l1=function(){this.Lc.KH=function(h){return null !== h.target && !h.target.Lta() && !h.target.Zta();};return new c.J1(this.Lc);};return k;})();b.dfa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jha="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yia="StringUtilsSymbol";},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.aO=b.HZa=void 0;r=a(0);c=a(126);k=a(338);h=a(210);g=a(211);d=a(678);f=a(680);m=a(77);l=a(142);n=a(681);p=a(170);q=a(682);t=a(212);w=a(683);v=a(214);u=a(687);x=a(346);y=a(692);b.HZa=new r.zd(function(z){z(k.FFa).to(h.EFa).ba();z(g.qfa).to(d.lEa).ba();z(c.i2).I0(f.gab);z(m.vw).nF(function(A){b.aO.parent=A.gb;return b.aO.get(m.vw);});z(l.NS).xf(function(){return function(){return new n.iKa();};});z(p.O1).to(q.mEa).ba();z(t.Qfa).to(w.hGa).ba();z(v.Jfa).to(u.KFa).ba();z(x.fKa).to(y.eKa).ba();});b.aO=new r.Q1({uK:!0});},function(r,b,a){var h;function c(){}function k(g){g?(this.active=!1,this.Dqa(g)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=b.h2=void 0;r=a(2);a=a(0);k.prototype.Dqa=function(g){this.Ae=g.keySessionData?g.keySessionData.map(function(d){return {id:d.id,aJ:d.licenseContextId,xY:d.licenseId};}):[];this.ea=g.xid;this.K=g.movieId;};k.prototype.cw=function(){return JSON.parse(JSON.stringify({keySessionData:this.Ae?this.Ae.map(function(g){return {id:g.id,licenseContextId:g.aJ,licenseId:g.xY};}):[],xid:this.ea,movieId:this.K}));};b.h2=k;c.prototype.create=function(){return new k();};c.prototype.load=function(g){return new k(g);};h=c;h=r.__decorate([(0,a.U)()],h);b.EFa=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qfa="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qfa="EmeApiFactorySymbol";},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){this.dZ=w;this.is=v;this.uc=u;this.ti=x;this.xk=y;this.Nh=z;(0,g.Dp)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Cw=void 0;r=a(2);h=a(0);g=a(56);d=a(3);f=a(39);m=a(29);l=a(97);n=a(32);p=a(33);q=a(66);a=a(70);c.prototype.xA=function(){if(this.wb)return this.wb.sessionId;};c.prototype.K_b=function(w,v){return this.dZ.requestMediaKeySystemAccess(w,v);};c.prototype.createMediaKeys=function(w){return w.createMediaKeys();};c.prototype.createSession=function(w,v){this.wb=w.createSession(v);};c.prototype.e7=function(){return Promise.reject(new l.vh(d.T.k2));};c.prototype.cQb=function(){return ! !this.wb;};c.prototype.setServerCertificate=function(w,v){return this.is.O5(w.setServerCertificate) && v?w.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(w,v){return this.wb?this.wb.generateRequest(w,v[0]):Promise.reject(new l.vh(d.T.k2,d.O.qL,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(w){return this.wb?this.wb.update(w[0]):Promise.reject(new l.vh(d.T.$Fa,d.O.qL,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(w){return this.wb?this.wb.load(w):Promise.reject(new l.vh(d.T.Ckb,d.O.qL,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var w;this.Kna=void 0;if(!this.wb)return Promise.reject(new l.vh(d.T.SFa,d.O.qL,void 0,"Unable to close a key session, key session is not valid"));w=Promise.resolve();this.xA() && (w=this.wb.close());this.wb=void 0;return w;};c.prototype.remove=function(){return this.wb?this.wb.remove():Promise.reject(new l.vh(d.T.Ekb,d.O.qL,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.SJ=function(){return Promise.reject(new l.vh(d.T.Nfa,void 0,"Unable to renew a key session, not supported"));};c.prototype.fUa=function(w){if(!this.wb)throw ReferenceError("Unable to add message handler, key session is not valid");this.wb.addEventListener(k.dGa,w);};c.prototype.aUa=function(w){if(!this.wb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.wb.addEventListener(k.cGa,w);};c.prototype.ZTa=function(w){if(!this.wb)throw ReferenceError("Unable to add error handler, key session is not valid");this.wb.addEventListener(k.bGa,w);};c.prototype.fvb=function(w){var v;v=this;if(!this.wb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Kna=w;this.wb.closed.then(function(u){var x;return null === (x=v.Kna) || void 0 === x?void 0:x.call(v,u);});};c.prototype.Zab=function(w){if(!this.wb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.wb.removeEventListener(k.dGa,w);};c.prototype.Xab=function(w){if(!this.wb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.wb.removeEventListener(k.cGa,w);};c.prototype.Vab=function(w){if(!this.wb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.wb.removeEventListener(k.bGa,w);};t=k=c;t.dGa="message";t.cGa="keystatuseschange";t.bGa="error";t=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.JL)),r.__param(1,(0,h.l)(m.Eg)),r.__param(2,(0,h.l)(p.vi)),r.__param(3,(0,h.l)(n.Qh)),r.__param(4,(0,h.l)(q.Ut)),r.__param(5,(0,h.l)(a.au))],t);b.Cw=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jfa="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bta=b.qw=void 0;(function(a){a.jgb="usable";a.Ku="expired";a.released="released";a.D9a="output-restricted";a.vWb="output-downscaled";a.p3b="status-pending";a.ePb="internal-error";})(b.qw || (b.qw={}));b.Bta=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hia="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a4="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gk="_ANY_";b.rGa="EnricherSymbol";},function(r,b,a){var k,h,g;function c(d,f,m,l){this.Ea=d;this.H6=f;this.Bo=m;this.ip=void 0 === l?"General":l;this.Mna={};}Object.defineProperty(b,"__esModule",{value:!0});b.zL=void 0;k=a(7);h=a(366);g=a(734);c.prototype.WTa=function(d,f){this.Mna[d]=f;};c.prototype.fatal=function(d,f){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.eD(k.bk.Mkb,d,this.sR(d,m));};c.prototype.error=function(d,f){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.eD(k.bk.ag,d,this.sR(d,m));};c.prototype.warn=function(d,f){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.eD(k.bk.Oia,d,this.sR(d,m));};c.prototype.info=function(d,f){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.eD(k.bk.rga,d,this.sR(d,m));};c.prototype.trace=function(d,f){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.eD(k.bk.xPa,d,this.sR(d,m));};c.prototype.debug=function(d,f){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,f){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.debug.apply(this,[d].concat(ja(m)));};c.prototype.write=function(d,f,m){for(var l=[],n=2;n < arguments.length;++n){l[n - 2]=arguments[n];}this.eD(d,f,this.sR(f,l));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.ip};};c.prototype.d7=function(d){return new c(this.Ea,this.H6,this.Bo,d);};c.prototype.eD=function(d,f,m){d=new h.Iga(d,this.ip,this.Ea.Xb(),f,m);f=pa(this.Bo.Bo);for(m=f.next();!m.done;m=f.next()){m=m.value;m(d);}};c.prototype.SJb=function(d){return 0 < Object.keys(this.Mna).length?[this.Mna].concat(ja(d)):d;};c.prototype.sR=function(d,f){var m;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,g.ZVa)(this.H6,this.SJb(f));};b.zL=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qia="SegmentManagerFactorySymbol";},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.D3b=b.Cab=b.yya=void 0;b.yya=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.Cab=a;b.D3b=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.Ih) + " sp:" + c.MB + " pssp:") + (c.ZZ + " state:") + (c.Nf + " path-complete:" + c.sB + " streaming:") + (c.Gt + " current:" + c.Bs);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.I7a=b.yaa=b.Lf=void 0;b.Lf=[0,1];b.yaa=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.I7a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.EL=void 0;c=a(16);k=a(36);r=(function(){function h(g,d){this.console=g;this.config=d;this.Zda=!1;}h.prototype.Lm=function(g,d,f,m){void 0 === f && (f=k.R.hb);void 0 === m && (m=!1);c.Z && this.console.trace("Filtering streams for fastplay",{Zda:this.Zda,Hm:f.W,jfc:m});if(this.Zda || f.W >= this.config.OSb || !1 === m){d=g.filter(this.HFb);if(d.length)return d;c.Z && this.console.trace("No drm streams to return");}d=g.filter(this.Ozb);if(d.length)return d;c.Z && this.console.trace("No clear streams to return");return g;};h.prototype.veb=function(){this.Zda=!0;};h.prototype.HFb=function(g){return g.fj;};h.prototype.Ozb=function(g){return !g.fj;};return h;})();b.EL=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kha=void 0;r=(function(){function a(c,k,h,g){var d;d=this;this.properties=c;this.transform=k;this.zV=h;this.state=g;this.Rwa=function(){var f,m;f=d.state;m=d.properties.map(function(l){return l.value;});d.state=d.transform(m);(d.I4a(d.state) && d.I4a(f)?d.state.equal(f):f === d.state) || d.zV(d.state);};c.forEach(function(f){return f.addListener(d.Rwa);});this.Rwa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(k){return k.removeListener(c.Rwa);});};a.prototype.I4a=function(c){return void 0 !== c.equal;};return a;})();b.kha=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zj=void 0;r=b.Zj || (b.Zj={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.sj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tG=void 0;r=(function(){function a(c){this.lTa=c;}Object.defineProperties(a.prototype,{cP:{get:function(){return this.prb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.lTa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jza:{get:function(){var c;c=this;return this.lTa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.prb=!0;};a.prototype.Lwa=function(c,k){var h;h=this;this.result.then(function(g){h.cP?k && k(g):c(g);});return this;};return a;})();b.tG=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.HN=b.wHb=b.Wz=b.bF=void 0;c=a(1);k=a(21);h=a(51);Object.defineProperties(b,{bF:{enumerable:!0,get:function(){return h.bF;}}});Object.defineProperties(b,{Wz:{enumerable:!0,get:function(){return h.Wz;}}});b.wHb=function(g,d){var f,q,t;g=Math.max(g.duration - 3E4,3E4);for(var m={},l,n=0,p=0;p < g;p+=3E4){q="s" + n++;t={N:d,sa:p,va:p + 3E4 < g?p + 3E4:null};void 0 !== l && (l.next=(f={},f[q]={weight:1},f),l.vc=q);l=m[q]=t;}return {fe:"s0",P:m,ie:"lazy"};};b.HN=function(g,d,f,m){var l,n,p,w,v,u;void 0 === m && (m={});p=k.R.max(f,k.R.hb);try{for(var q=c.__values(Object.keys(g.P)),t=q.next();!t.done;t=q.next()){w=t.value;v=g.P[w];if(v.N === d){u=k.R.Oa(v.sa);if(p.Ks(u) && (!isFinite(null !== (n=v.va) && void 0 !== n?n:NaN) || p.lessThan(k.R.Oa(v.va))))return {fa:w,offset:f.Ha(u)};}}}catch(y){var x;x={error:y};}finally{try{t && !t.done && (l=q.return) && l.call(q);}finally{if(x)throw x.error;}}if(m.Zbb && (v=Object.keys(g.P).map(function(y){return {key:y,G:g.P[y]};}).filter(function(y){return y.G.N === d;}).map(function(y){var z,A;z=k.R.abs(f.Ha(k.R.Oa(y.G.sa)));if(y.G.va && isFinite(y.G.va)){A=k.R.abs(f.Ha(k.R.Oa(y.G.va)));z=k.R.min(z,A);}return c.__assign(c.__assign({},y),{np:z});}),v.sort(function(y,z){return y.np.W - z.np.W;}),u=c.__read(v,1)[0]))return (v=u.G,m=u.key,u=k.R.Oa(v.sa),{fa:m,offset:f.Ha(u)});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VUa=b.ZU=b.ze=void 0;b.ze=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};b.ZU=function(a){return a.filter(function(c,k){return a.indexOf(c) === k;});};b.VUa=function(a,c){return a.filter(function(k,h){return a.indexOf(k) === h && -1 !== c.indexOf(k);});};},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kL=void 0;r=a(1);c=a(175);k=r.__importDefault(a(231));h=r.__importDefault(a(844));g=r.__importDefault(a(149));d=a(4);b.kL=(function(){function m(l,n){var p;p=this;this.ei=new k.default(l,n);this.mo=new h.default(l);this.$b=new g.default(this.mo,this.ei,l);c.Dy.vAb(l);l.Fba && setInterval(function(){p.ei.save();p.mo.save();},l.Fba);}m.f2a=function(l,n){void 0 === f?(m.config=l,m.mF=n,f=new m(l,n)):(d.assert(m.config === l),d.assert(m.mF === n));return f;};m.reset=function(){m.config=void 0;f=m.mF=void 0;};return m;})();},function(r,b,a){var d;function c(f,m,l){this.VN=!1 === f;this.np=f || .01;this.Aga=void 0 === m?25:m;this.jEa=void 0 === l?1.1:l;this.cj=new d(k);this.reset();}function k(f,m){return f.xg > m.xg?1:f.xg < m.xg?-1:0;}function h(f,m){return f.Nx - m.Nx;}function g(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.np:!1);this.VEb=this.config.ratio || .9;this.WEb=this.config.Ghc || 1E3;this.Saa=0;}d=a(825).eob;c.prototype.reset=function(){this.cj.clear();this.Cua=this.n=0;};c.prototype.size=function(){return this.cj.size;};c.prototype.Tp=function(f){var m;m=[];f?(this.B4(!0),this.cj.Cf(function(l){m.push(l);})):this.cj.Cf(function(l){m.push({xg:l.xg,n:l.n});});return m;};c.prototype.summary=function(){return [(this.VN?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Oj(0),"Q1  = " + this.Oj(.25),"Q2  = " + this.Oj(.5),"Q3  = " + this.Oj(.75),"max = " + this.Oj(1)].join("\n");};c.prototype.push=function(f,m){m=m || 1;f=Array.isArray(f)?f:[f];for(var l=0;l < f.length;l++){this.mRa(f[l],m);}};c.prototype.mya=function(f){f=Array.isArray(f)?f:[f];for(var m=0;m < f.length;m++){this.mRa(f[m].xg,f[m].n);}};c.prototype.B4=function(f){var m;if(!(this.n === this.Cua || !f && this.jEa && this.jEa > this.n / this.Cua)){m=0;this.cj.Cf(function(l){l.Nx=m + l.n / 2;m=l.KN=m + l.n;});this.n=this.Cua=m;}};c.prototype.iIb=function(f){var m,l;if(0 === this.size())return null;m=this.cj.lowerBound({xg:f});l=null === m.data()?m.NJ():m.data();return l.xg === f || this.VN?l:(m=m.NJ()) && Math.abs(m.xg - f) < Math.abs(l.xg - f)?m:l;};c.prototype.LM=function(f,m,l){this.cj.Uq({xg:f,n:m,KN:l});this.n+=m;};c.prototype.k4=function(f,m,l){m !== f.xg && (f.xg+=l * (m - f.xg) / (f.n + l));f.KN+=l;f.Nx+=l / 2;f.n+=l;this.n+=l;};c.prototype.mRa=function(f,m){var l,n,p;l=this.cj.min();n=this.cj.max();p=this.iIb(f);p && p.xg === f?this.k4(p,f,m):p === l?this.LM(f,m,0):p === n?this.LM(f,m,this.n):this.VN?this.LM(f,m,p.KN):(l=p.Nx / this.n,Math.floor(4 * this.n * this.np * l * (1 - l)) - p.n >= m?this.k4(p,f,m):this.LM(f,m,p.KN));this.B4(!1);!this.VN && this.Aga && this.size() > this.Aga / this.np && this.$z();};c.prototype.Ixb=function(f){var m,l;this.cj.Bn=h;m=this.cj.upperBound({Nx:f});this.cj.Bn=k;l=m.NJ();f=l && l.Nx === f?l:m.next();return [l,f];};c.prototype.Oj=function(f){var m;m=(Array.isArray(f)?f:[f]).map(this.ctb,this);return Array.isArray(f)?m:m[0];};c.prototype.ctb=function(f){var m,l;if(0 !== this.size()){this.B4(!0);this.cj.min();this.cj.max();f*=this.n;m=this.Ixb(f);l=m[0];m=m[1];return m === l || null === l || null === m?(l || m).xg:this.VN?f <= l.KN?l.xg:m.xg:l.xg + (f - l.Nx) * (m.xg - l.xg) / (m.Nx - l.Nx);}};c.prototype.$z=function(){var f;if(!this.pXa){f=this.Tp();this.reset();for(this.pXa=!0;0 < f.length;){this.mya(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.B4(!0);this.pXa=!1;}};g.prototype=Object.create(c.prototype);g.prototype.constructor=g;g.prototype.push=function(f){c.prototype.push.call(this,f);this.uzb();};g.prototype.LM=function(f,m,l){this.Saa+=1;c.prototype.LM.call(this,f,m,l);};g.prototype.k4=function(f,m,l){1 === f.n && --this.Saa;c.prototype.k4.call(this,f,m,l);};g.prototype.uzb=function(){!("auto" !== this.mode || this.size() < this.WEb) && this.Saa / this.size() > this.VEb && (this.mode="cont",this.VN=!1,this.np=this.config.np || .01,this.$z());};r.exports={TDigest:c,Digest:g};},function(r,b,a){var d,f,m,l,n,p;function c(q){var t;t=q.Jja;this.J=q;this.JC=f.pj.HAVE_NOTHING;this.vja=q.vja;q=new n(q);this.GU=q.create("throughput-location-history",t);this.V4=q.create("throughput-location-history",t);this.yz=q.create("respconn-location-history",t);this.nz=q.create("respconn-location-history",t);this.E5=q.create("throughput-tdigest-history",t);this.W4=q.create("throughput-iqr-history",t);this.F4=q.create("throughput-location-history",t);this.H4=q.create("throughput-location-history",t);this.G4=q.create("throughput-location-history",t);this.I4=q.create("throughput-location-history",t);this.Gb=null;}function k(q,t,w,v,u){this.Rw=new c(u);this.rq=[];this.Srb=m.time.ha() - Date.now() % 864E5;this.Pw=null;this.J=u;for(q=0;q < v;++q){this.rq.push(new c(u));}}function h(q,t,w){return d.has(q,t)?q[t]:q[t]=w;}function g(q,t){var w;this.J=q;this.BTa=t;this.XGb();this.zM=new c(this.J);this.dU();w=q.woa;w && (w={confidence:f.pj.rS,Ua:{qa:parseInt(w,10),Ce:0},Mk:{qa:0,Ce:0},Cx:{qa:0,Ce:0}},this.get=function(){return w;});}d=a(10);f=a(30).default;b=a(9);m=a(6).default;l=b.RGa;n=a(837).Rkb;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.pj.HAVE_NOTHING};c.prototype.nH=function(q,t){this.JC=t;this.GU.add(q);this.E5.add(q);this.Gb=m.time.ha();};c.prototype.kH=function(q){this.V4.add(q);};c.prototype.$K=function(q,t){this.W4.set(q,t);};c.prototype.Gz=function(q){this.yz.add(q);};c.prototype.Fz=function(q){this.nz.add(q);};c.prototype.fN=function(q){this.F4.add(q.qa);this.H4.add(q.Ce);this.G4.add(q.pN);this.I4.add(q.tR);};c.prototype.getState=function(){var q,t,w,v,u,x,y,z,A,B,D;q=this.GU.getState();t=this.V4.getState();w=this.yz.getState();v=this.nz.getState();u=this.W4.getState();x=this.E5.getState();y=this.F4.getState();z=this.H4.getState();A=this.G4.getState();B=this.I4.getState();if(d.xb(q) && d.xb(w) && d.xb(v))return null;D={c:this.JC,t:m.time.Yva(this.Gb)};d.xb(q) || (D.tp=q);d.xb(t) || (D.itp=t);d.xb(w) || (D.rt=w);d.xb(v) || (D.hrt=v);d.xb(u) || (D.iqr=u);d.xb(x) || (D.td=x);d.xb(y) || (D.dta=y);d.xb(z) || (D.dtv=z);d.xb(A) || (D.dtta=A);d.xb(B) || (D.dttv=B);return D;};c.prototype.Zd=function(q){var t;t=m.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.pj.rS || q.t > t || !this.GU.Zd(q.tp))return (this.JC=f.pj.HAVE_NOTHING,this.Pw=this.Gb=null,this.GU.Zd(null),this.yz.Zd(null),this.nz.Zd(null),!1);this.JC=q.c;this.Gb=m.time.wwa(q.t);this.yz.Zd(d.has(q,"rt")?q.rt:null);this.nz.Zd(d.has(q,"hrt")?q.hrt:null);this.V4.Zd(d.has(q,"itp")?q.itp:null);this.F4.Zd(d.has(q,"dta")?q.dta:null);this.H4.Zd(d.has(q,"dtv")?q.dtv:null);this.G4.Zd(d.has(q,"dtta")?q.dtta:null);this.I4.Zd(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.W4.Zd(q.iqr);d.has(q,"td") && this.E5.Zd(q.td);return !0;};c.prototype.get=function(){var q,t,w,v,u,x,y,z;q=this.J;if(d.xb(this.Gb))return p;t=(m.time.ha() - this.Gb) / 1E3;t > q.lrb?this.JC=f.pj.HAVE_NOTHING:t > q.Lqb && (this.JC=Math.min(this.JC,f.pj.rC));q=this.GU.get();w=this.V4.get();v=this.yz.get();u=this.nz.get();x=this.W4.get();y=this.E5.get();z={qa:this.F4.Mra().qa,Ce:this.H4.Mra().qa,pN:this.G4.get().qa,tR:this.I4.get().qa};result={ym:t,confidence:this.JC,Ua:q,j4a:w,Mk:v,Cx:u,kv:x,Rk:y,mp:z};q && (result.Ihc=l.prototype.Wba.bind(q));v && (result.Tgc=l.prototype.Wba.bind(v));u && (result.Uec=l.prototype.Wba.bind(u));return result;};c.prototype.time=function(){return this.Gb;};k.prototype.ye=function(){return ((m.time.ha() - this.Srb) / 1E3 / 3600 / (24 / this.rq.length) | 0) % this.rq.length;};k.prototype.getState=function(){var q;q={g:this.Rw.getState(),h:this.rq.map(function(t){return t.getState();})};d.xb(this.Pw) || (q.f=m.time.Yva(this.Pw));return q;};k.prototype.Zd=function(q){var t,w;if(!this.Rw.Zd(q.g))return !1;t=this.rq.length;w=!1;this.rq.forEach(function(v,u){w=!v.Zd(q.h[u * q.h.length / t | 0]) || w;});this.Pw=d.has(q,"f")?m.time.wwa(q.f):null;return w;};k.prototype.nH=function(q,t){this.Rw.nH(q,t);this.rq[this.ye()].nH(q,t);this.Pw=null;};k.prototype.kH=function(q){this.Rw.kH(q);this.rq[this.ye()].kH(q);this.Pw=null;};k.prototype.$K=function(q,t){this.Rw.$K(q,t);this.rq[this.ye()].$K(q,t);};k.prototype.Gz=function(q){this.Rw.Gz(q);this.rq[this.ye()].Gz(q);};k.prototype.Fz=function(q){this.Rw.Fz(q);this.rq[this.ye()].Fz(q);};k.prototype.fN=function(q){this.Rw.fN(q);this.rq[this.ye()].fN(q);};k.prototype.fail=function(q){this.Pw=q;};k.prototype.get=function(){var q,t;if(!d.xb(this.Pw)){if((m.time.ha() - this.Pw) / 1E3 < this.J.Kqb)return {confidence:f.pj.HAVE_NOTHING,Ou:!0};this.Pw=null;}q=this.rq[this.ye()].get();t=this.Rw.get();q=q.confidence >= t.confidence?q:t;q.Ou=!1;return q;};k.prototype.time=function(){return this.Rw.time();};g.prototype.IRa=function(q,t){var w;w=this.J;q=h(this.XT,q,{});return h(q,t,new k(w.WRa || 14400,w.VRa || 100,w.URa || 100,w.OSa || 4,w));};g.prototype.dU=function(){var q,t;q=m.storage.get("lh");t=m.storage.get("gh");q && this.Vka(q);t && this.cub(t);};g.prototype.Sja=function(){var q;q={};d.Cf(this.XT,function(t,w){d.Cf(t,function(v,u){h(q,w,{})[u]=v.getState();},this);},this);return q;};g.prototype.cub=function(q){this.zM.Zd(q);};g.prototype.Vka=function(q){var t,w;t=null;w=this.J;d.Cf(q,function(v,u){d.Cf(v,function(x,y){var z;z=new k(w.WRa || 14400,w.VRa || 100,w.URa || 100,w.OSa || 4,w);z.Zd(x)?(h(this.XT,u,{})[y]=z,t=!0):d.xb(t) && (t=!1);},this);},this);return d.xb(t)?!0:t;};g.prototype.save=function(){var q;q=this.Sja();m.storage.set("lh",q);m.storage.set("gh",this.zM.getState());this.BTa && this.BTa.Vza(this.zM.getState());};g.prototype.XGb=function(){this.XT={};this.qM=this.iRa="";this.rm=null;};g.prototype.KQ=function(q){this.iRa=q;this.rm=null;};g.prototype.Zca=function(q){this.qM=q;this.rm=null;};g.prototype.yM=function(){d.xb(this.rm) && (this.rm=this.IRa(this.iRa,this.qM));return this.rm;};g.prototype.nH=function(q,t){this.yM().nH(q,t);this.zM.nH(q,t);};g.prototype.kH=function(q){this.yM().kH(q);this.zM.kH(q);};g.prototype.$K=function(q,t){q && q.rl && q.Kj && q.sl && (this.yM().$K(q,t),this.zM.$K(q,t));};g.prototype.Gz=function(q){this.yM().Gz(q);};g.prototype.Fz=function(q){this.yM().Fz(q);};g.prototype.fN=function(q){this.yM().fN(q);};g.prototype.fail=function(q,t){this.IRa(q,this.qM).fail(t);};g.prototype.get=function(q,t){var w,v,u,x;q=(q=this.XT[q])?q[this.qM]:null;w=null;if(q && (w=q.get(),w.confidence > f.pj.HAVE_NOTHING))return w;if(!1 === t)return p;v=w=null;u=!1;x=null;d.Cf(this.XT,function(y){d.Cf(y,function(z,A){var B;if(!u || A == this.qM){B=z.get();B && (!v || v <= B.confidence) && (!x || v < B.confidence || x < z.time()) && (v=B.confidence,u=A == this.qM,x=z.time(),w=B);}},this);},this);return w?w:p;};r.exports=g;},function(r,b,a){var g;function c(d){this.aN=d;this.reset();}function k(d){this.qk=new c(d);this.Ze=0;this.bd=null;}function h(d,f){this.aN=d;this.sSa=f;this.reset();}g=a(10);c.prototype.XSa=function(d,f){this.Gb+=d;this.hk+=d;this.Ad+=f;this.$o.push({d:d,b:f});};c.prototype.sU=function(){var d;for(;this.hk > this.aN;){d=this.$o.shift();this.Ad-=d.b;this.hk-=d.d;}};c.prototype.reset=function(){this.$o=[];this.Gb=null;this.hk=this.Ad=0;};c.prototype.setInterval=function(d){this.aN=d;this.sU();};c.prototype.start=function(d){g.xb(this.Gb) && (this.Gb=d);};c.prototype.add=function(d,f,m){g.xb(this.Gb) && (this.Gb=f);f > this.Gb && this.XSa(f - this.Gb,0);this.XSa(m > this.Gb?m - this.Gb:0,d);this.sU();};c.prototype.get=function(){return {qa:Math.floor(8 * this.Ad / this.hk),Ce:0};};k.prototype.reset=function(){this.qk.reset();this.Ze=0;this.bd=null;};k.prototype.add=function(d,f,m){!g.xb(this.bd) && m > this.bd && (f > this.bd && (this.Ze+=f - this.bd),this.bd=null);this.qk.add(d,f - this.Ze,m - this.Ze);};k.prototype.start=function(d){!g.xb(this.bd) && d > this.bd && (this.Ze+=d - this.bd,this.bd=null);this.qk.start(d - this.Ze);};k.prototype.stop=function(d){this.bd=g.xb(this.bd)?d:Math.min(d,this.bd);};k.prototype.get=function(){return this.qk.get();};k.prototype.setInterval=function(d){this.qk.setInterval(d);};h.prototype.reset=function(){this.$o=[];this.Ad=this.hk=0;};h.prototype.add=function(d,f,m,l){void 0 !== l && !0 === l && (f=m - f,this.hk+=f,this.Ad+=d,this.$o.push({d:f,b:d}),this.sU());};h.prototype.sU=function(){var d;for(;this.hk > this.aN || this.$o.length > this.sSa;){d=this.$o.shift();this.Ad-=d.b;this.hk-=d.d;}};h.prototype.start=function(){};h.prototype.stop=function(){};h.prototype.get=function(){return {qa:Math.floor(8 * this.Ad / this.hk),Ce:0};};h.prototype.setInterval=function(d,f){this.aN=d;this.sSa=f;this.sU();};r.exports={v9b:c,mkb:k,epb:h};},function(r){(function(){var k00;k00=2;function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.WC=this.Ad=0;this.Gb=this.Lg=void 0;l00=5;break;}}}for(;k00 !== 8;){switch(k00){case 2:b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.Lg?a < this.Lg?(this.WC+=this.Lg - a,this.Lg=a):a > this.Gb && (this.Gb=this.Lg=a):this.Gb=this.Lg=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.Gb && a > this.Gb && (this.WC+=a - this.Gb,this.Gb=a);n00=1;break;}}};b.prototype.add=function(a,c,k){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(c);this.stop(k);this.Ad+=a;o00=4;break;}}};k00=4;break;case 4:var x9G="1SIYb";x9G+="Zr";x9G+="NJCp";x9G+="9";b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {qa:this.WC?Math.floor(8 * this.Ad / this.WC):null,G7:this.WC?this.WC:0};break;}}};r.exports=b;x9G;k00=8;break;}}})();},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Vea=void 0;c=a(1);k=a(17);h=a(856);r=a(82);g=a(857);d=a(886);f=a(889);m=a(248);l=a(15);n=c.__importDefault(a(6));p=a(4);a(9);q=a(23);t=a(892);w=a(174);v=(function(){return function(u){var x;x=u.c5a;u=u.Fta;this.NY=this.replace=x;this.Ne=u;};})();a=(function(u){function x(y,z){var A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na;A=z.Tb;B=z.ia;D=z.Kp;C=z.Cd;F=z.A7a;G=z.dj;E=z.config;I=z.w3a;N=z.xQ;L=z.E8;H=z.$b;Q=z.ei;O=z.lZ;J=z.n_a;z=z.vK;M=u.call(this) || this;M.N=y;M.QX=!1;M.YRa=[];M.qSa=[];M.Ai=[];M.CD=[];M.Dn=!1;M.Tb=A;M.gU=B;M.Kp=D;M.xc=function(va){return 0 <= C.indexOf(va);};M.config=E;M.console=new n.default.Console("ASEJS","media|asejs","<" + String(M.N) + ">");I && (y=I.TD,M.hg=new f.rHa(M,M.console,M.config,I.po,I.DX,y,I.n$,I.Sf,I.cm,I.Eh,I.bE),M.TD=y);M.gv=new k.EventEmitter();M.E8=L;M.$b=H;M.lZ=O;M.Rm=new m.Gga(M.ia,H,Q,M.config,null === J || void 0 === J?void 0:J.po);J && (I=J.Ls,L=J.io,M.pq=J.rh,M.io=L,M.Ls=I,M.Dja=new d.sGa(M.Rm,M.config,M.$Mb.bind(M),M.ZMb.bind(M)));M.xQ=N;M.vK=z;M.tf=new v(F);M.dj=G;P=[[],[]];R=[{},{}];S=[0,0];U=!1;ba=M.xc(0);na=M.xc(1);["audio_tracks","video_tracks"].forEach(function(va,ya){var ra;ra=0 === ya;ra && !ba || 1 === ya && !na || M.ia[va].forEach(function(V,K){if(0 !== V.type || !1 !== V.Ki)(V=new g.Uea({M:M,Sm:V,mediaType:ya,Ne:F.Fta,qF:K,fD:K + (ra?M.ia.video_tracks.length:0)},M.config,M.console),1 === ya && E.HGb && new t.lDa(E).RYb(V.Rd),P[ya].push(V),R[ya]=c.__assign(c.__assign({},R[ya]),V.VD()),V.maxBitrate > S[V.mediaType] && (S[V.mediaType]=V.maxBitrate),U=U || V.Sq);});});M.dM=P;M.QAa=R;M.Ys=S;M.Sq=U;return M;}c.__extends(x,u);Object.defineProperties(x.prototype,{ia:{get:function(){return this.gU;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{SA:{get:function(){var y,z;y=this.ia;z=y.Iua;return "LIVE" === y.G3b && ! !z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{MY:{get:function(){var y;return !(null === (y=this.dM[1][0]) || void 0 === y || !y.MY);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Gh:{get:function(){return this.YRa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{PSb:{get:function(){return this.qSa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{K:{get:function(){return this.ia.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{On:{get:function(){return this.ia.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{duration:{get:function(){return this.ia.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ck:{get:function(){return this.Dn;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Iq:{get:function(){p.assert(this.Dja,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Dja;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mO:{get:function(){return this.Iq.events;},enumerable:!1,configurable:!0}});x.prototype.Hb=function(){this.close();this.gd();};x.prototype.close=function(){var y;this.CD=[];null === (y=this.Dja) || void 0 === y?void 0:y.Hb();this.Rm.Hb();this.Dn=!0;};x.prototype.gd=function(){this.hg && this.hg.gd();};x.prototype.sy=function(y){var z,A,B,D,C,F,G;z=this;A=y.ia;B=y.Ne;D=void 0 === B?!1:B;B=y.Cd;C=void 0 === B?l.Lf:B;p.assert(y.dj === this.dj,"Updating Viewable clearplay not supported");l.Lf.forEach(function(E){p.assert(z.xc(E) === 0 <= C.indexOf(E),"Updating Viewable media types not supported");});p.assert(A.movieId === this.ia.movieId,"Changing Viewable manifest movieId unsupported");F=this.xc(0);G=this.xc(1);["audio_tracks","video_tracks"].forEach(function(E,I){var N,L,H;N=0 === I;if(!(N && !F || 1 === I && !G)){L=A[E];H=z.dM[I];p.assert(H.every(function(Q){var O;O=L[Q.qF];return O && O.lR === Q.trackId && (1 === O.type || !1 !== O.Ki);}),"Existing tracks must still exist and be hydrated in updated manifest");L.forEach(function(Q,O){var J,M;if(0 !== Q.type || !1 !== Q.Ki){J=z.getTrackById(Q.lR);if(J){Q=Q.streams;M=Object.keys(J.VD());p.assert(Q.length === M.length,"Expected updated manifest track to have same number of streams");Q.forEach(function(P){p.assert(-1 !== M.indexOf(P.downloadable_id),"Changing Viewable track streams unsupported");});}else (J=new g.Uea({M:z,Sm:Q,mediaType:I,Ne:D,qF:O,fD:O + (N?z.ia.video_tracks.length:0)},z.config,z.console),H.push(J),z.QAa[I]=c.__assign(c.__assign({},z.QAa[I]),J.VD()),J.maxBitrate > z.Ys[J.mediaType] && (z.Ys[J.mediaType]=J.maxBitrate),p.assert(z.Sq || !J.Sq,"Can not update clear viewable with drm track."));}});}});this.gU=A;this.Rm.gN(this.ia);};x.prototype.YE=function(y){var z,A,B;z=y.vo;A=y.ea;B=y.GD;y=y.oo;z && A?(this.dda=new h.QOa(z,{ea:String(A),GD:! !B,hTb:this.config.u3.mx,Oxb:this.config.u3.lv},y),this.Iq.YE(this.dda)):y("SideChannel: pbcid/xid is missing.");};x.prototype.Fx=function(){return void 0 !== this.On;};x.prototype.SD=function(){return w.xra(this.ia,void 0,void 0);};x.prototype.getTracks=function(y){return this.dM[y];};x.prototype.getTrackById=function(y){var z;this.dM.some(function(A){return A.some(function(B){if(B.trackId === y)return (z=B,!0);});});z || this.console.warn("getTrackById not found:",y,"length:",this.dM.length);return z;};x.prototype.EMb=function(y,z){var A;A=this.dM[y];if(0 > z || z >= A.length)this.console.warn("getTrackByIndex out of range:",z,"length:",A.length,"mediaType:",y);else return A[z];};x.prototype.zx=function(y,z){return (y=this.VD(y)) && y[z];};x.prototype.VD=function(y){return this.QAa[y];};x.prototype.a6b=function(y,z){this.YRa[y]=z;z.stream.X && this.Wfb(y,z.stream.X);};x.prototype.lQb=function(y){var z,A;if(void 0 === y.aca || void 0 === y.Yxa){z=this.Rm.mB.filter(function(B){return void 0 !== B.streams[y.Qa];})[0];A=z.children.filter(function(B){return B.urls.some(function(D){return D.stream.id === y.Qa;});})[0];y.aca=z.id;y.Yxa=A.id;}return {dua:y.location === y.aca,mQb:y.Pc === y.Yxa};};x.prototype.$za=function(y,z,A){void 0 !== z && void 0 !== A && (this.hbb(y.mediaType,z),y.$za(z,A));};x.prototype.hbb=function(y,z){var A,B;B=this.config.gwa;("location" === B || "video_location" === B && 1 === y) && this.$b.KQ(z);null === (A=this.E8) || void 0 === A?void 0:A.call(this).HVb(y,z);};x.prototype.rh=function(y,z,A,B,D,C){p.assert(this.pq,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.pq(y,z,A,B,D,C);};x.prototype.nn=function(){var y,z,A;y=this;z=[];if(this.Ck)return (this.console.error("updateRequestUrls, closed Viewable:",this.N),!1);l.Lf.forEach(function(B){y.xc(B) && y.s6b(B) && (B=y.h6b(B),0 < B.length && z.push.apply(z,B));});A=this.b6b();0 < A.length && z.push.apply(z,A);return this.Z_b(z);};x.prototype.Mm=function(y,z){var A;A=this.getTracks(1)[0];p.assert(A);if(A.$O)return A.Mm(y,z);};x.prototype.s6b=function(y){var z;z=this;return this.Ck?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.xc(y)?this.Ai.reduce(function(A,B){return q.j6(A,B.yf.filter(function(D){return D.mediaType === y;}));},[]).map(function(A){return z.Rm.U0(z.N,A.Rd);}).every(function(A){return A;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",y),!1);};x.prototype.b6b=function(){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.nn();};x.prototype.h6b=function(y){var z,A,C;A=[];if(this.Ck)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),A);if(!this.xc(y))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",y),A);try{for(var B=c.__values(this.Ai),D=B.next();!D.done;D=B.next()){C=D.value.nn(y);C.length && A.push.apply(A,C);}}catch(G){var F;F={error:G};}finally{try{D && !D.done && (z=B.return) && z.call(B);}finally{if(F)throw F.error;}}return A;};x.prototype.Z_b=function(y){var z,A,B;z=this;if(0 === y.length)return !0;A=0;B=[];y.forEach(function(D){var C;if(D.Hc){C=D.M;C.Tb > z.Tb && (B.push({M:C,track:D.stream.track}),++A);}});B.forEach(function(D){var C;C=D.track;D.M.wQ([0 === C.mediaType?C:void 0,1 === C.mediaType?C:void 0],void 0,C.mediaType);});return A === y.length;};x.prototype.Jk=function(){var y;y=this;this.Rm.Jk();this.Iq.Jk();this.dda && (p.assert(this.TD),l.Lf.forEach(function(z){z=y.TD(z);y.dda.Hza("rebuffer",z.Bua);}));};x.prototype.Jwa=function(){this.Iq.Jwa();};x.prototype.VBa=function(y,z){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");this.hg.VBa(y,z);};x.prototype.E9=function(){p.assert(this.hg,"Headers not available on old architecture prefetch viewables..");return this.hg.E9();};x.prototype.Dna=function(){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");this.hg.Dna();};x.prototype.JQ=function(y){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");this.hg.JQ(y);};x.prototype.CBa=function(){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.CBa();};x.prototype.vp=function(y,z){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.vp(y,z);};x.prototype.WXa=function(y,z,A){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");this.hg.Oda(y,z,A,!0);};x.prototype.S5=function(y,z,A){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.S5(y,z,! !A);};x.prototype.A1b=function(y,z){this.CD.push({stream:y,tMb:z});};x.prototype.f_b=function(){this.CD=[];};x.prototype.l_b=function(y){this.CD=this.CD.filter(function(z){return z.stream !== y;});};x.prototype.k_b=function(y){this.CD=this.CD.filter(function(z){return z !== y;});};x.prototype.OO=function(){var y;y=this;p.assert(this.io,"Streamables not available on old architecture prefetch viewables.");return this.io()?[]:this.CD.map(function(z){var A,B;A=z.stream;B=z.tMb;B=B();return {identifier:A.N + "-" + A.mediaType + "-" + A.bitrate,mediaType:A.mediaType,Ih:B.Ih,Nf:B.Nf,sB:B.sB,Gt:B.Gt,Bs:B.Bs,Vxa:0,Uxa:Infinity,ZZ:1,MB:1,$_a:0,groupId:"" + y.N,lE:!0,Qs:!1,n5a:function(){return {result:!0};},r5a:function(){if(A.sF())return (y.l_b(A),{Wl:!0,reason:"success"});y.k_b(z);return {Wl:!1,reason:"viewableTryIssueHeaderRequest"};}};});};x.prototype.sF=function(y,z){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.sF(y,z);};x.prototype.dN=function(y,z){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.dN(y,z);};x.prototype.iza=function(y){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.iza(y);};x.prototype.wQ=function(y,z,A){p.assert(this.hg,"Headers not available on old architecture prefetch viewables.");return this.hg.wQ(y,z,A);};x.prototype.bNb=function(y){var z,A,B;z=y.Qa;A=y.mediaType;this.Wfb(A,y.stream.X);z=this.zx(A,z);B=this.Fx()?this.config.i7a:0;z.Ofb(n.default.wp()[A],B);this.gv.emit("onHeaderFragments",y);};x.prototype.Gya=function(y){this.Ai.push(y);};x.prototype.KBa=function(y){y=this.Ai.indexOf(y);p.assert(-1 !== y,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ai.splice(y,1);};x.prototype.tba=function(y){var z;null === (z=this.xQ) || void 0 === z?void 0:z.pu(y);};x.prototype.qB=function(y){this.Ck?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",y):void 0 !== y.location && this.hbb(y.mediaType,y.location);};x.prototype.xJ=function(y){this.Ck?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",y):this.Iq.Sda({timestamp:y.Ff,url:y.url});};x.prototype.Kk=function(y){var z;null === (z=this.xQ) || void 0 === z?void 0:z.HB(y);p.assert(this.io && this.lZ,"Requests cannot be handled on old architecture prefetch viewables.");this.Ck?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",y):this.io() || (this.Iq.Sda({timestamp:y.Ff,mediaRequest:y}),this.lZ(y));};x.prototype.xZ=function(y,z,A){var B;A && (null === (B=this.xQ) || void 0 === B?void 0:B.HB(y));};x.prototype.yZ=function(y){this.Ck?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",y):(this.Iq.st({url:y.url},y.status,y.Dh,y.Jj),this.nn() || this.rh(y.rO || "unknown","NFErr_MC_StreamingFailure",y.Dh,y.status,y.Jj));};x.prototype.Wfb=function(y,z){this.qSa[y]=z.uva;};x.prototype.$Mb=function(y){var z,A,B;if(!this.Dn){z=y.VPb;A=y.nWb;B=y.oWb;y=y.pWb;this.console.warn("Streaming failure, is permanent: " + z + ", last error code: " + A + ", last http code: " + B + ", last native code: " + y);z?(this.console.warn(" > Permanent failure, done"),z=this.rh("Permanent failure","NFErr_MC_StreamingFailure",A,B,y)):(this.console.warn(" > We are buffering, calling it!"),z=this.rh("Temporary failure while buffering","NFErr_MC_StreamingFailure",y,B,y,!0));z || (this.console.warn(" > Resetting failures"),this.Iq.zca());}};x.prototype.ZMb=function(){p.assert(this.Ls,"Error handling not available on old architecture prefetch viewables.");this.Dn || (this.nn(),this.Ls());};return x;})(r.gw);b.Vea=a;},function(r,b,a){var G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V,K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb,wb;function c(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function k(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function h(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function g(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);this.tK=da.config.tK;this.rd=this.sizes=void 0;}function d(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function f(){for(var da=new DataView(this),ua="",wa,Oa=0;Oa < this.byteLength;Oa++){wa=da.getUint8(Oa);ua+=("00" + wa.toString(16)).slice(-2);}return ua;}function m(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function l(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function n(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function p(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function q(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function t(da){function ua(wa,Oa,Xa,lb,Bb){N.call(this,wa,Oa,Xa,lb,Bb);this.gZ=da;}ua.Ta=!1;ua.prototype=new N();ua.prototype.constructor=ua;Object.defineProperties(ua.prototype,{bS:{get:function(){return this.gZ;}}});ua.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.gZ + "'");this.u.offset=this.startOffset + 4;this.oa.n1(this.bS);this.type=this.bS;return !0;};return ua;}function w(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function v(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function u(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function x(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function y(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function z(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function A(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function B(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function D(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function C(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function F(da,ua){da.forEach(function(wa){ua[wa.Vb]=wa;});}G=a(150).assert;b=a(100);E=a(236).R;I=a(398);a(151);a(83);a(83);a(83);N=a(26).Kc;L=a(861).default;H=a(862).default;Q=a(863).default;O=a(864).default;J=a(865).default;M=a(866).default;P=a(867).default;R=a(868).default;S=a(869).default;a(237);a(176);U=a(399).vea;ba=a(399).Lfa;na=a(870).default;va=a(871).default;ya=a(84).default;ra=a(84).Hea;V=a(84).Iea;K=a(84).Jea;T=a(84).Kea;fa=a(872).default;ia=a(873).default;Ba=a(84).oga;Sa=a(84).ega;La=a(84).Gea;Za=a(874).default;Wa=a(875).default;Va=a(876).default;cb=a(400).default;wb=a(401).default;a(152);a(240);a(241);a(239);a=a(877).default;c.Ta=!0;c.prototype=new N();c.prototype.constructor=c;k.Ta=!0;k.prototype=new N();k.prototype.constructor=k;h.Ta=!1;h.prototype=new N();h.prototype.constructor=h;h.prototype.parse=function(da){var ua;this.Gc();1 === this.version?(this.u.Yd(),this.u.Yd(),this.V=this.u.xa(),this.duration=this.u.Yd()):(this.u.xa(),this.u.xa(),this.V=this.u.xa(),this.duration=this.u.xa());ua=this.u.yc() & 32767;this.language=String.fromCharCode(96 + (ua >>> 10),96 + (ua >>> 5 & 31),96 + (ua & 31));da && da.Zb && (da.Zb.V=this.V,da.Zb.duration=this.duration);return !0;};g.Ta=!1;g.prototype=new N();g.prototype.constructor=g;g.prototype.Dka=function(){this.Gc();this.u.xa();this.V=this.u.xa();0 === this.version?(this.BW=this.u.xa(),this.YW=this.u.xa()):(this.BW=this.u.Yd(),this.YW=this.u.Yd());this.vbb=this.u.yc();this.o_=this.u.yc();};g.prototype.qja=function(da,ua){var wa,Oa,Xa;wa=this.V;da=da && da.V || wa;Oa=da / wa;wa=this.u.zB(ua,12,!1);Xa=1 === Oa?this.u.zB(ua,12,!1):I.from(Uint32Array,{length:ua},function(){var lb;lb=Math.round(this.u.xa() * Oa);this.u.offset+=8;return lb;},this);this.ela(ua,Xa,wa,da);};g.prototype.ela=function(da,ua,wa,Oa){if(this.tK){Oa=this.tK * Oa / 1E3;for(var Xa=0,lb=1;lb < da;lb++){Math.abs(ua[Xa] - Oa) > Math.abs(ua[Xa] + ua[lb] - Oa)?(ua[Xa]+=ua[lb],wa[Xa]+=wa[lb]):(++Xa,Xa !== lb && (ua[Xa]=ua[lb],wa[Xa]=wa[lb]));}++Xa;ua=new Uint32Array(ua.buffer.slice(0,4 * Xa));wa=new Uint32Array(wa.buffer.slice(0,4 * Xa));}this.sizes=wa;this.rd=ua;};g.prototype.parse=function(da){var ua,wa,Oa,Xa;this.Dka();this.za=da.za;ua=this.V;wa=this.za && this.za.V || ua;Oa=this.o_;Xa=this.startOffset + this.length + this.YW;ua=new E(this.BW,ua).df(wa).mc;this.X={V:wa,Bl:ua,offset:Xa};this.qja(this.za,Oa);this.X.rd=this.rd;this.X.sizes=this.sizes;da.Dt=this;return !0;};d.Ta=!1;d.prototype=new N();d.prototype.constructor=d;d.prototype.parse=function(){var da;this.Si=[];this.wxa=[];da=(this.length - 11) / 2;this.u.Xa();this.u.Xa();this.u.Xa();for(var ua=0;ua < da;ua++){this.Si.push(this.u.Xa());this.wxa.push(this.u.Xa());}return !0;};m.Ta=!1;m.prototype=new N();m.prototype.constructor=m;m.prototype.parse=function(da){var ua;this.Gc();this.u.offset+=1;if(0 == this.version)this.u.offset+=1;else {ua=this.u.Xa();this.Ioa=ua >> 4;this.Moa=ua & 15;da && da.Zb && (da.Zb.hEb=this.Ioa,da.Zb.kEb=this.Moa);}this.jW=this.u.Xa();this.iW=this.u.Xa();this.WI=this.u.offset;this.Ek=this.u.CB(16);this.Ek.toString=f;da && da.Zb && (da.Zb.jEb=this.jW,da.Zb.Eoa=this.iW,da.Zb.iEb=this.Ek);1 == this.jW && 0 == this.iW && (this.Hoa=this.u.Xa(),this.Goa=this.u.CB(this.Hoa),da && da.Zb && (da.Zb.Doa=this.Goa));return !0;};l.Ta=!1;l.prototype=new N();l.prototype.constructor=l;l.prototype.parse=function(){this.Gc();this.vg=this.u.yc();this.Ava=this.u.zB(this.vg,void 0,!0);return !0;};n.Ta=!1;n.prototype=new N();n.prototype.constructor=n;n.prototype.parse=function(da){var ua,wa,Oa,Xa,lb,Bb;ua=da.Dt;G(ua);da=da.za;wa=ua.V;ua=ua.o_;G(da);G(wa);G(ua);this.Gc();G(2 > this.version);this.vg=this.u.yc();this.Ev=new Uint16Array(ua + 1);Oa=da.q9(wa);Xa=Oa / wa;lb=da.df(Oa).mc;if(0 === this.version)for((this.Rv=new Uint16Array(),this.Xd=new Uint32Array(),da=wa=0);da <= ua;++da){if((this.Ev[da]=wa,da < this.vg)){Bb=this.u.Xa();if(0 !== Bb)for(Oa=0;Oa < Bb;(++Oa,++wa)){this.Rv[wa]=Math.floor((this.u.xa() + 1) * Xa) / lb;this.Xd[wa]=this.u.xa();}}}else if(1 === this.version)for((Oa=this.u.qya(this.vg,10,!1),this.u.offset+=4,this.Xd=this.u.zB(this.vg,10,!1),this.u.offset-=8,this.Rv=I.from(Uint16Array,{length:this.vg},function(){var ub;ub=Math.floor((this.u.xa() + 1) * Xa) / lb;this.u.offset+=6;return ub;},this),wa=da=0);da <= ua;++da){for(;wa < Oa.length && Oa[wa] < da;){++wa;}this.Ev[da]=wa;}this.Ei={Ev:this.Ev,Rv:this.Rv,Xd:this.Xd};return !0;};p.Ta=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Ta=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.Pu=function(){var da;da=this.si("tfhd");da && (this.Wh=da.pV?da.Wh:this.parent.startOffset);return !0;};w.Ta=!1;w.prototype=new N();w.prototype.constructor=w;w.prototype.parse=function(){var da,Pb;da=this.u.offset;this.Gc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var ua=this.u.offset,wa=this.u.Xa(),Oa=this.u.Xa(),Xa=this.u.Xa(),lb=this.u.Xa(),Bb=this.u.yc(),ub=[],Kb=0;Kb < Bb;++Kb){ub=this.u.Xa();}Kb=(wa & 240) >>> 4;Pb=(wa & 14) >>> 1;wa&=1;Xa=16 === Xa?1:0;Oa != lb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Oa + " and matrixCoefficients " + lb + " should be the same value!");lb=2;switch(Oa){case 1:lb=2;break;case 6:lb=1;break;case 9:lb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Oa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.oa.gC(this.version,da);this.oa.gC(Kb << 4 | lb,ua++);this.oa.gC(Pb << 4 | Xa << 1 | wa,ua++);Bb+=2;ub.push(0,0);this.oa.wCa(Bb,!1);ua+=2;ub.forEach(function(Zb){this.oa.gC(Zb,ua++);});}return !0;};v.Ta=!1;v.prototype=new N();v.prototype.constructor=v;v.Vb="tfhd";Object.defineProperties(v.prototype,{pV:{get:function(){return this.flags & 1;}},pza:{get:function(){return this.flags & 2;}},Joa:{get:function(){return this.flags & 8;}},Loa:{get:function(){return this.flags & 16;}},lW:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(da){this.Gc();this.dw=this.u.xa();this.Wh=this.pV?this.u.Yd():void 0;this.J_=this.pza?this.u.xa():void 0;this.Sn=this.Joa?this.u.xa():void 0;this.Un=this.Loa?this.u.xa():void 0;this.Tn=this.lW?this.u.xa():void 0;da && da.pa && (da.pa.dw=this.dw,da.pa.Wh=this.Wh,da.pa.J_=this.J_,da.pa.Sn=this.Sn,da.pa.Un=this.Un,da.pa.Tn=this.lW?this.Tn:void 0);return !0;};u.Ta=!1;u.prototype=new N();u.prototype.constructor=u;u.prototype.parse=function(da){this.Gc();this.wq=1 === this.version?this.u.Yd():this.u.xa();da && da.pa && (da.pa.wq=this.wq);return !0;};u.prototype.Ba=function(da){var ua;ua=this.startOffset + 12;this.wq+=da;1 === this.version?this.oa.xCa(this.wq,ua):this.oa.th(this.wq,ua);};x.Ta=!1;x.prototype=new N();x.prototype.constructor=x;Object.defineProperties(x.prototype,{$V:{get:function(){return this.flags & 1;}},jI:{get:function(){return this.flags & 4;}},Sv:{get:function(){return this.flags & 256;}},Uv:{get:function(){return this.flags & 512;}},dK:{get:function(){return this.flags & 1024;}},LB:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(da){var ua,wa;this.Gc();this.sV=this.u.offset;this.ub=this.u.xa();this.hh=this.$V?this.u.DB():0;this.jI && this.u.xa();this.Qv=(this.Sv?4:0) + (this.Uv?4:0) + (this.dK?4:0) + (this.LB?4:0);this.uA=this.u.offset;G(this.$V,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.ub * this.Qv,"Expected remaining data in box to be sample information");if(da && da.pa){da.pa.hh=this.hh;da.pa.ub=this.ub;this.Se=[];for(ua=0;ua < this.ub;ua++){wa={};wa.xr=this.Sv?this.u.xa():da.pa.Sn;this.Uv?wa.li=this.u.xa():da.pa && (wa.li=da.pa.Un);this.dK?wa.K_=this.u.xa():da.pa && (wa.K_=da.pa.Tn);this.LB && (wa.B0b=0 === this.version?this.u.xa():this.u.DB());this.Se.push(wa);da.pa.Se=this.Se;if(da.pa.wr)for((G(da.pa.wr.length === da.pa.Se.length),wa=0);wa < da.pa.Se.length;wa++){da.pa.Se[wa].SF=da.pa.wr[wa].SF;da.pa.Se[wa].DK=da.pa.wr[wa].DK;}}}return !0;};x.prototype.iu=function(da,ua,wa){var Oa,Xa,lb;Oa=this.Sv?this.u.xa():da.Sn;Xa=this.Uv?this.u.xa():da.Un;da=this.dK?this.u.xa():da.Tn;lb=0 === this.version?this.LB?this.u.xa():0:this.LB?this.u.DB():0;return {oza:lb,K_:da,xYb:wa + lb - (void 0 !== ua?ua:lb),li:Xa,xr:Oa};};x.prototype.Ba=function(da,ua,wa,Oa,Xa,lb,Bb){var ub,Kb,Pb,Zb;ub=0;Kb=0;this.oa.offset=this.uA;for(Oa=0;Oa < Xa;++Oa){Pb=this.iu(ua,Zb,Kb);if(0 == Oa)Zb=Pb.oza;ub+=Pb.li;Kb+=Pb.xr;}Oa=Xa;Xa=this.u.offset;Pb=this.iu(ua,Zb,Kb);this.Dr=Oa;this.xAa=Kb;if(Bb){if((this.pr=this.hh + ub,this.jj=0,Oa === this.ub))return !0;}else if((this.pr=this.hh,this.jj=ub,0 === Oa))return !0;if(0 === Oa || Oa === this.ub)return !1;this.lA=!0;if(Bb){this.jj+=Pb.li;for(Bb=Oa + 1;Bb < this.ub;++Bb){Pb=this.iu(ua,Zb,Kb);this.jj+=Pb.li;}this.oa.offset=this.sV;this.ub=Oa;this.oa.th(this.ub);this.oa.dL(lb);this.jI && (this.u.offset+=4);this.Re(this.length - (Xa - this.startOffset),Xa);}else (ua=Xa - this.uA,this.oa.offset=this.sV,this.ub-=Oa,this.oa.th(this.ub),this.hh+=ub,this.oa.dL(lb,this.hh),this.jI && (this.u.offset+=4),this.Re(ua,this.oa.offset));wa.Re(this.jj,da.Wh + this.pr);return !0;};x.prototype.Sya=function(da,ua,wa,Oa,Xa,lb){var ub;if(Oa){Oa=this.pr;for(var Bb=this.ub - 1;0 <= Bb && this.ub - Bb <= Xa;--Bb){this.oa.offset=this.uA + Bb * this.Qv;ub=this.iu(ua);if(ub.xr != lb.duration){this.u.console.warn("Could not replace sample of duration " + ub.xr + " with silence of duration " + lb.duration);break;}if(this.Uv)(this.oa.offset-=this.Qv - (this.Sv?4:0),this.oa.th(lb.Qk.byteLength));else if(lb.Qk.byteLength !== ub.li){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Oa-=ub.li;wa.Pv(ub.li,lb.Qk,da.Wh + Oa);}}else for((Oa=this.pr + this.jj,Bb=0);Bb < this.ub && Bb < Xa;++Bb){this.oa.offset=this.uA + (Bb + this.Dr) * this.Qv;ub=this.iu(ua);if(ub.xr != lb.duration){this.u.console.warn("Could not replace sample of duration " + ub.xr + " with silence of duration " + lb.duration);break;}if(this.Uv)(this.oa.offset-=this.Qv - (this.Sv?4:0),this.oa.th(lb.Qk.byteLength));else if(lb.Qk.byteLength !== ub.li){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}wa.Pv(ub.li,lb.Qk,da.Wh + Oa);Oa+=ub.li;}};y.Ta=!1;y.prototype=Object.create(N.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{Nn:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(da){this.Gc();this.Nn && this.u.am();this.Nn && this.u.xa();this.Koa=this.u.Xa();this.ub=this.u.xa();this.ota=this.u.AB(this.ub);da && da.pa && (da.pa.qza=this.ota);return !0;};y.prototype.Ba=function(da,ua){if(da && 0 === this.Koa){da=ua?this.ub - da:da;this.oa.offset=this.startOffset + 13 + (this.Nn?8:0);this.ub-=da;this.oa.th(this.ub);this.bK=0;if(ua)this.oa.offset+=this.ub;else {for(ua=0;ua < da;++ua){this.bK+=this.oa.Xa();}this.oa.offset-=da;}this.Re(da,this.u.offset);}return !0;};z.Ta=!1;z.prototype=Object.create(N.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Nn:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(da){var ua,wa,Kb,Pb;this.Gc();this.Nn && this.u.am();this.Nn && this.u.xa();this.vg=this.u.xa();G(1 === this.vg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.hh=0 === this.version?this.u.DB():this.u.wya();this.u.offset=this.hh;if(da && da.pa){ua=da.Zb.Eoa;wa=da.pa.qza;G(0 < ua || void 0 !== da.Zb.Doa,"Expected per sample or constant IV");G(wa && 0 < wa.length,"Expected saix box parsing to find sample info sizes");da.pa.wr=[];for(var Oa=0;Oa < wa.length;Oa++){for(var Xa=ua?this.u.CB(ua):void 0,lb=[],Bb=this.u.yc(),ub=0;ub < Bb;ub++){Kb=this.u.yc();Pb=this.u.xa();lb.push({Uma:Kb,Vma:Pb});}da.pa.wr.push({DK:lb,SF:Xa});}}return !0;};z.prototype.Ba=function(da,ua){this.hh+=da;this.oa.offset=this.startOffset + 16 + (this.Nn?8:0) + (0 === this.version?0:4);this.oa.dL(ua,this.hh);return !0;};A.Ta=!1;A.prototype=Object.create(N.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{BZ:{get:function(){return this.flags & 1;}},Y0:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(da){var ua,Bb,ub;this.Gc();ua=0;this.BZ && (ua=this.eua=this.u.xa() & 255,this.u.AB(16));if(da && da.pa){if(da.pa.wr)return;da.pa.Se || (da.pa.Se=[]);}if(0 !== ua && 8 !== ua && 16 !== ua)return !0;this.ub=this.u.xa();if(da && da.pa)for(var wa=0;wa < this.ub;wa++){if((da.pa.Se[wa].SF=0 < ua?this.u.CB(ua):void 0,this.Y0)){for(var Oa=[],Xa=this.u.yc(),lb=0;lb < Xa;lb++){Bb=this.u.yc();ub=this.u.xa();Oa.push({Uma:Bb,Vma:ub});}da.pa.Se[wa].DK=Oa;}}return !0;};A.prototype.Ba=function(da,ua){var wa,Oa;wa=ua?this.ub - da:da;this.oa.offset=this.startOffset + 28 + (this.BZ?20:0);this.ub-=wa;this.oa.th(this.ub);da=this.oa.offset;if(this.Y0)for(wa=ua?this.ub:wa;0 < wa;--wa){this.oa.offset+=8;Oa=this.oa.yc();this.oa.offset+=6 * Oa;}else this.oa.offset+=8 * (ua?this.ub:wa);ua?this.Re(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Re(this.u.offset - da,da);};B.Ta=!1;B.prototype=Object.create(N.prototype);B.prototype.constructor=B;B.prototype.parse=function(da){this.Gc();if(da && da.pa){void 0 === da.pa.Se && (da.pa.Se=[]);for(var ua=0;ua < this.length - 12;ua++){da.pa.Se[ua].C0b=this.u.Xa();}}return !0;};B.prototype.Ba=function(da,ua,wa){wa?this.Re(ua - da,this.startOffset + 12 + da):this.Re(da,this.startOffset + 12);return !0;};D.Ta=!1;D.prototype=Object.create(N.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.Gc();this.u.am();1 === this.version && this.u.xa();this.vg=this.u.xa();this.Tv=[];for(var da=0;da < this.vg;++da){for(var ua=this.u.xa(),wa=this.u.xa(),Oa=0;Oa < ua;++Oa){this.Tv.push(wa);}}return !0;};D.prototype.Ba=function(da,ua){this.Tv=ua?this.Tv.slice(0,da):this.Tv.slice(da);da=this.Tv.reduce(function(wa,Oa){0 !== wa.length && wa[wa.length - 1].group === Oa || wa.push({group:Oa,count:0});++wa[wa.length - 1].count;return wa;},[]);this.oa.offset=this.startOffset + 16 + (1 === this.version?4:0);this.oa.th(da.length);da.forEach((function(wa){this.oa.th(wa.count);this.oa.th(wa.group);}).bind(this));this.vg > da.length && this.Re(8 * (this.vg - da.length));this.vg=da.length;return !0;};C.Ta=!1;C.prototype=Object.create(N.prototype);C.prototype.constructor=C;ya={Za:{moov:k,trak:c,mdia:c,mdhd:h,minf:c,encv:ya,schi:c,sidx:g,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:u,mdat:C,vmaf:d},xBa:{vpcC:w,SmDm:t("smdm"),CoLL:t("coll")},M0:{schm:fa},cK:{}};F([ia,M,P,R,Ba,Sa,La,L,O,cb,wb,J,S,H,Q,a],ya.Za);F([U,na,ra,V,K,T,ba,va,Wa,Za],ya.cK);F([ia,fa],ya.M0);ya.Za[b.YS]=m;ya.Za[b.Uy]=l;ya.Za[b.Ty]=n;ya.Za[b.XS]=A;ya.cK[b.cG]=Va;ya.Kc=N;r.exports={Zq:ya};},function(r,b){function a(k,h){return "number" !== typeof k || "number" !== typeof h?!1:k && h?Math.abs(k * h / c(k,h)):0;}function c(k,h){var g;k=Math.abs(k);for(h=Math.abs(h);h;){g=h;h=k % h;k=g;}return k;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function k(h,g){"object" === typeof h?(this.ic=h.mc,this.eb=h.V):(this.ic=h,this.eb=g);}k.Oa=function(h){return new k(h,1E3);};k.H0=function(h,g){return Math.floor(1E3 * h / g);};k.$va=function(h,g){return Math.floor(h * g / 1E3);};k.max=function(){for(var h=[],g=0;g < arguments.length;g++){h[g]=arguments[g];}return h.reduce(function(d,f){return d.greaterThan(f)?d:f;});};k.min=function(){for(var h=[],g=0;g < arguments.length;g++){h[g]=arguments[g];}return h.reduce(function(d,f){return d.lessThan(f)?d:f;});};k.vx=function(h,g){var d;if(h.V === g.V)return new k(c(h.mc,g.mc),h.V);d=a(h.V,g.V);return k.vx(h.df(d),g.df(d));};Object.defineProperties(k.prototype,{mc:{get:function(){return this.ic;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return 1E3 * this.ic / this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Kh:{get:function(){return this.ic / this.eb;},enumerable:!0,configurable:!0}});k.prototype.df=function(h){h/=this.V;return new k(Math.floor(this.mc * h),Math.floor(this.V * h));};k.prototype.add=function(h){var g;if(this.V === h.V)return new k(this.mc + h.mc,this.V);g=a(this.V,h.V);return this.df(g).add(h.df(g));};k.prototype.Ha=function(h){return this.add(new k(-h.mc,h.V));};k.prototype.qJ=function(h){return new k(this.mc * h,this.V);};k.prototype.Rl=function(h){var g;if(this.V === h.V)return this.mc / h.mc;g=a(this.V,h.V);return this.df(g).Rl(h.df(g));};k.prototype.q9=function(h){return a(this.V,h);};k.prototype.compare=function(h,g){var d;if(this.V === g.V)return h(this.mc,g.mc);d=a(this.V,g.V);return h(this.df(d).mc,g.df(d).mc);};k.prototype.equal=function(h){return this.compare(function(g,d){return g === d;},h);};k.prototype.gba=function(h){return this.compare(function(g,d){return g !== d;},h);};k.prototype.lessThan=function(h){return this.compare(function(g,d){return g < d;},h);};k.prototype.greaterThan=function(h){return this.compare(function(g,d){return g > d;},h);};k.prototype.oP=function(h){return this.compare(function(g,d){return g <= d;},h);};k.prototype.Ks=function(h){return this.compare(function(g,d){return g >= d;},h);};k.prototype.toJSON=function(){return {ticks:this.mc,timescale:this.V};};k.prototype.toString=function(){return this.mc + "/" + this.V;};k.hb=new k(0,1);k.Tx=new k(1,1E3);return k;})();b.R=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=a(26);k=a(26);a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){this.u.offset+=6;this.u.yc();k.Z && this.u.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Zb)d.Zb.z0b=this.type;return !0;};return g;})(r.Kc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(152),b);r.__exportStar(a(239),b);r.__exportStar(a(240),b);r.__exportStar(a(241),b);r=a(240);c=a(241);a=a(239);b.Fq={3:a.kS,4:r.eS,5:c.Ffa};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(26);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){var f;this.Pfa=this.u.yc();f=this.u.Xa();this.m0=! !(f & 128);this.qT=! !(f & 64);this.VS=! !(f & 32);this.RAa=f & 31;this.Soa=this.m0?this.u.yc():void 0;this.qT && this.u.AB(this.u.Xa());this.hha=this.VS?this.u.yc():void 0;k.Z && this.u.console.trace("ESDescriptor: ES_ID=" + this.Pfa + ", streamDependenceFlag=" + this.m0 + ", URL_Flag=" + this.qT + ", OCRstreamFlag=" + this.VS + ", streamPriority=" + this.RAa + ", dependsOn_ES_ID=" + this.Soa + ", OCR_ES_Id=" + this.hha);this.uU(d);return !0;};g.tag=3;return g;})(a(152).IF);b.kS=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(26);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){var f;this.oB=this.u.Xa();f=this.u.Xa();this.BK=f >>> 2;this.YK=f >>> 1 & 1;this.uH=256 * this.u.yc() + this.u.Xa();this.maxBitrate=this.u.xa();this.Mz=this.u.xa();k.Z && this.u.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.oB.toString(16) + ", streamType=" + this.BK + ", upStream=" + this.YK + ", bufferSizeDB=" + this.uH + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.Mz);if(null === d || void 0 === d?0:d.Ud)(d.Ud.oB=this.oB,d.Ud.BK=this.BK,d.Ud.YK=this.YK,d.Ud.uH=this.uH,d.Ud.maxBitrate=this.maxBitrate,d.Ud.Mz=this.Mz);this.uU(d);return !0;};g.tag=4;return g;})(a(152).IF);b.eS=r;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(26);r=a(152);h=a(238);a=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);d.prototype.k_=function(){var f;f=this.u.Fc(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.u.Fc(24);};d.prototype.parse=function(f,m){if(this.zta(m) && 64 === m.oB){this.Uh=this.i_();this.yr=this.k_();this.BH=this.u.Fc(4);this.fK=this.Lu=5 === this.Uh || 29 === this.Uh?5:-1;this.RJ=29 === this.Uh?1:-1;0 < this.Lu && (this.gI=this.k_(),this.Uh=this.i_(),22 === this.Uh && (this.fI=this.u.Fc(4)));switch(this.Uh){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.Uu=this.u.Fc(1),this.OH=(this.Roa=this.u.Fc(1))?this.u.Fc(14):void 0,this.u.Fc(1),this.$n=3 === this.Uh?256:23 === this.Uh?this.Uu?480:512:this.Uu?960:1024);}k.Z && this.u.console.trace("AudioSpecificConfig: audioObjectType=" + this.Uh + ", samplingFrequency=" + this.yr + ", channelConfiguration=" + this.BH + ", extensionAudioObjectType=" + this.Lu + ", sbrPresentFlag=" + this.fK + ", psPresentFlag=" + this.RJ + ", extensionSamplingFrequency=" + this.gI + ", extensionChannelConfiguration=" + this.fI + ", frameLengthFlag=" + this.Uu + ", coreCoderDelay=" + this.OH + ", frameLength=" + this.$n);if(null === f || void 0 === f?0:f.Ud)(f.Ud.Uh=this.Uh,f.Ud.yr=this.yr,f.Ud.BH=this.BH,f.Ud.Lu=this.Lu,f.Ud.fK=this.fK,f.Ud.RJ=this.RJ,f.Ud.gI=this.gI,f.Ud.fI=this.fI,f.Ud.Uu=this.Uu,f.Ud.OH=this.OH,f.Ud.$n=this.$n);}this.skip();return !0;};d.prototype.i_=function(){var f;f=this.u.Fc(5);31 === f && (f=32 + this.u.Fc(6));return f;};d.prototype.zta=function(f){return f.tag === h.eS.tag;};d.tag=5;return d;})(r.IF);b.Ffa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(h,g){return h + g.byteLength;},0);k=new Uint8Array(c);a.reduce(function(h,g){k.set(new Uint8Array(g),h);return h + g.byteLength;},0);return k.buffer;};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(403);k=a(235);h=a(404);r=(function(){function g(d,f,m){this.console=d;this.stream=f;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}g.prototype.parse=function(d){var f;f=new h.fS(this.view.byteLength);this.Dc=new c.DF(k.Zq.Za,f,this.view,this.console,{CJ:!0});d=this.Dc.parse(d);this.Za=this.Dc.Za;return d;};return g;})();b.Tr=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oC=void 0;r=a(41);a=a(102);c=(function(){function k(h,g){this.OM=h;this.oM=g.bb;this.Kw=g.rb;}Object.defineProperties(k.prototype,{bb:{get:function(){return void 0 !== this.oM?this.oM:this.OM.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rb:{get:function(){return void 0 !== this.Kw?this.Kw:this.OM.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return this.OM.V;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rj:{get:function(){return this.OM.Rj;},enumerable:!1,configurable:!0}});k.prototype.W_=function(h){this.Kw=h;};k.prototype.Cna=function(){this.Kw=void 0;};return k;})();b.oC=c;r.Jf(a.By,c);r.Jf(a.nC,c);},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=b.gia=void 0;a=(function(){function k(){var h;h=this;this.yU=[];this.r_b=function(g){g=h.yU.indexOf(g);0 <= g && h.yU.splice(g,1);};}Object.defineProperties(k.prototype,{Iz:{get:function(){return 0 !== this.yU.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{b9a:{get:function(){return this.yU.length;},enumerable:!1,configurable:!0}});k.prototype.add=function(){var h;h=new c(this.r_b);this.yU.push(h);return h;};k.prototype.uCa=function(h){var g;g=this.add();try{return Promise.resolve(h()).then(function(d){g.release();return d;},function(d){g.release();return Promise.reject(d);});}catch(d){return (g.release(),Promise.reject(d));}};return k;})();b.gia=a;c=(function(){function k(h){this.ztb=h;}k.prototype.release=function(){this.ztb(this);};return k;})();r=(function(){function k(h,g){this.UVb=h;this.console=g;this.counter=new a();}k.prototype.Ez=function(){var h,g;h=this;this.console.trace("Acquiring lease, total count",this.counter.b9a + 1);g=this.counter.add();return {release:function(){g.release();h.console.trace("Releasing lease, total count",h.counter.b9a);h.UVb(function(){return !h.counter.Iz;});}};};return k;})();b.EIa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MR=void 0;c=a(1);r=c.__importDefault(a(128));k=a(118);h=a(177);a=(function(g){function d(f,m,l,n,p,q,t){m=g.call(this,f,m,l,n,p,q,t) || this;h.hw.zb(m,f,n);return m;}c.__extends(d,g);return d;})(k.G1);b.MR=a;r.default(h.hw.prototype,a.prototype);},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hL=void 0;c=a(1);k=c.__importDefault(a(30));h=c.__importDefault(a(6));r=(function(g){function d(f,m,l,n,p){var q;q=g.call(this,l) || this;q.X5=!1;d.zb(q,f,m,l,n,p);return q;}c.__extends(d,g);d.zb=function(f,m,l,n,p,q){f.jf=n;f.B_=m;f.pf=p;f.KG=m.location || l.location;f.BU=m.Pc || l.ue;f.Oza=m.Oza || l.Oza;f.Jua=l.Jua;f.Ada=h.default.time.ha();f.I=q;};Object.defineProperties(d.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.KG;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ue:{get:function(){return this.BU;},enumerable:!1,configurable:!0}});d.prototype.zb=function(f){this.Va=f;};d.prototype.$za=function(f,m){this.KG=f;this.BU=m;};d.prototype.Mka=function(f){var m,l,n;m={type:"logdata",target:"endplay",fields:{}};l=this.mediaType === k.default.Ya.cc?"audioedit":"videoedit";n=[this.xO === this.$?this.Vc:this.qd,this.xO === this.$?-this.duration:this.duration];f && f.aF && n.push(f.aF);m.fields[l]={type:"array",value:n};return m;};d.prototype.WBa=function(){var f,m,l;if(this.complete)return 0;f=this.B_;m=f.M;if(!f.url)return (this.I.warn("updateurl, missing url for streamId:",f.Qa,"mediaRequest:",this,"stream:",f),1);l=f.v2a(this.Hc,this.Jua);return this.url === l || (m.$za(this,f.location,f.Pc),this.vda(l))?0:(this.I.warn("swapUrl failed: ",this.rO),2);};return d;})(a(82).gw);b.hL=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(1).__exportStar(a(891),b);},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ffa=b.xv=void 0;c=a(1);r=a(17);k=c.__importDefault(a(30));h=c.__importDefault(a(6));g=a(21);d=a(4);f=a(893);m=a(118);l=a(68);n=a(23);b.xv=function(p){return p.Ha(g.R.Oa(p.$J));};a=(function(p){function q(t,w,v,u,x,y,z,A,B){var D,C;C=p.call(this) || this;C.I=t;C.bh=w;C.pg=v;C.Bd=u;C.J=x;C.zsb=y;C.S=z;C.ax=A;C.Eh=B;C.NTa=!1;C.sRa=!1;C.DU=!1;C.Yk=C.I.error.bind(C.I);C.Ub=C.I.warn.bind(C.I);C.Hn=C.I.trace.bind(C.I);null === (D=u.events) || void 0 === D?void 0:D.addListener("ready",function(){C.Hw();});C.H7a=new f.pKa(C.J,C.bh,C.pg.Uc,C.I);C.reset();return C;}c.__extends(q,p);Object.defineProperties(q.prototype,{endOfStream:{get:function(){return this.NT;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{E7b:{get:function(){return this.xm.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{LQb:{get:function(){return this.$k;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oeb:{get:function(){return ! !this.Bd.OGb;},enumerable:!1,configurable:!0}});q.prototype.reset=function(t){var w,v,u;null === (w=this.ESa) || void 0 === w?void 0:w.Hb();this.kk=!1;t || (this.xm=[]);this.$k=this.Nja=this.IG=void 0;this.xja=!1;this.JG=void 0;this.DU=this.NT=!1;this.sTa(g.R.hb);null === (u=(v=this.Bd).reset) || void 0 === u?void 0:u.call(v);this.H7a.reset();};q.prototype.f0a=function(){this.Nja=!0;};q.prototype.pause=function(){this.kk=!0;};q.prototype.resume=function(){this.kk=!1;this.Hw();};q.prototype.kA=function(){this.sRa=!0;this.kk || this.Hw();};q.prototype.$E=function(t){this.NTa=t;};q.prototype.tra=function(){var t;return null === (t=this.$k) || void 0 === t?void 0:t.Pe;};q.prototype.Mwb=function(t){var w;if(this.J.PZa){d.assert(t.Va);w=t.Va.mb;d.assert(void 0 !== t.qd);d.assert(void 0 !== w.Vc);if(t.qd >= w.Vc)return;}this.xm.push(t);this.Hw();};q.prototype.ew=function(){this.Hw();};q.prototype.uca=function(t){t=this.xm.indexOf(t);-1 !== t && this.xm.splice(t,1);};q.prototype.N8a=function(t,w){this.J.Tla && w && void 0 === this.$k && this.SQa(t,0);this.Hw();};q.prototype.kZ=function(t,w){var v,u;v=this;void 0 === t && (t=!1);this.NT || (this.NT=!0,this.Hw(),!t && this.oeb) || (w && this.ax && this.J.yEb?(t=g.R.Oa(this.J.Meb),w=w.Ha(t),t=l.mea(this.ax,w,!0),w=t.jn,t=t.promise,null === (u=this.ESa) || void 0 === u?void 0:u.Hb(),this.ESa=w,t.then(function(){v.NT && v.Bd.endOfStream();})):this.Bd.endOfStream());};q.prototype.Vca=function(){return JSON.stringify(this.xm);};q.prototype.sTa=function(t){var w;null !== (w=this.vub) && void 0 !== w && w.equal(t) || (this.vub=t,this.Bd.c2b(t.mc,t.V));};q.prototype.Hw=function(){var t,w,v,u,x,y,z,A,B;u=this.J;if(this.xm.length || this.$k && !this.$k.nf)if(!this.Bd || !1 === this.Bd.ready)this.PM("@" + h.default.time.ha() + ", append: not appending, sourceBuffer not ready");else if(!this.$k || this.$k.nf || this.$k.mv())if(this.$k && !this.$k.nf || this.xm.length)if(this.kk){x=this.$k && !this.$k.nf?this.$k:this.xm[0];this.PM("@" + h.default.time.ha() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.$k || this.$k.nf || (this.nRa(this.$k),this.$k.nf)) && this.xm.length)if((x=this.xm[0],x.aborted))(this.Ub("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.PM("@" + h.default.time.ha() + ", append: removing aborted request from toAppend: " + x.toString()),this.xm.shift());else {y=x.stream;z=y.M;if(y.kh)if((x.iI && !this.DU && (null === (w=(t=this.Bd).Edb) || void 0 === w?void 0:w.call(t,{N:y.track.M.N,H4a:y.fj}),this.DU=!0),this.r2b(y,x.index)))(this.Nja=!1,this.SQa(y,x.index));else if((t=this.S.ho(z),y=this.wOb(y),t || y || !this.xja && !u.kea))if((t=this.u2a(x),this.bh !== k.default.Ya.cc || !x.jo && !x.Ts || !x.Ba || u.WJ || this.NT || 1 !== this.xm.length || !(t > u.aZ) || null !== (v=x.lK) && void 0 !== v && v.z$)){if(u.PZa || u.nGb)if((v=x.Va.mb,w=this.REb())){A=v.il;B=x.Vc >= w;t=t > u.aZ;if(w < v.Vc && B && t && !A)return;}if(u.SWb && this.Eh && (u=this.Eh(z.Tb)) && !u.YU)this.pause();else {this.xja || (this.xja=y);this.xm.shift();try{this.wpb(x);}catch(D){throw (this.I.error(D),D);}}}else this.M0b();}};q.prototype.M0b=function(){var t;t=this;this.ax && (this.fua?this.fua.nPb || this.fua.wl():this.fua=this.ax.PH(function(){return t.BQb();},"JIT Appender"));};q.prototype.BQb=function(){var t,w,v,u;return c.__generator(this,function(x){switch(x.label){case 0:if(1 !== this.xm.length)return [3,3];t=this.xm[0];if(!t.jo && !t.Ts || (null === (u=t.lK) || void 0 === u?0:u.z$))return [2];w=this.u2a(t);v=this.J.aZ;return w > v?[4,l.Wk.bL(g.R.Oa(w - v))]:[3,2];case 1:(x.jc(),x.label=2);case 2:return (this.Hw(),[3,0]);case 3:return [2];}});};q.prototype.u2a=function(t){return t.Dd - this.S.af();};q.prototype.r2b=function(t,w){if(this.Nja || void 0 === this.IG || t.Qa !== this.IG.Qa)return !0;t=t.kh;d.assert(t);return 1 < t.length?n.i6(t,function(v){return v.Vd <= w;}) !== this.IG.N4a:!1;};q.prototype.wOb=function(t){if(0 === t.mediaType || !t.fj)return !0;if(void 0 === this.IG)return !1;if(!t.track.MY)return !t.fj;t=t.kh;d.assert(t);return !1 === t[this.IG.N4a].yk;};q.prototype.REb=function(){throw Error("not supported");};q.prototype.SQa=function(t,w){var v,u,x,y;if(!this.NTa || this.sRa){x=t.kh.reduce(function(z,A,B){return A.Vd <= w?B:z;},0);y=t.kh[x];this.IG || (null === (u=(v=this.Bd).Edb) || void 0 === u?void 0:u.call(v,{N:t.track.M.N,H4a:t.fj}),this.DU=!0);if(this.Bd.appendBuffer(y.data,{Hc:!0,profile:t.profile,bitrate:t.bitrate,Qa:t.id}))(this.PM("@" + h.default.time.ha() + ", header appended, streamId: " + t.Qa),this.IG={Qa:t.Qa,N4a:x},this.Htb(t.M.Tb || 0,t.Qa,x),this.Hw());else throw (this.Ub("appendHeader error: " + this.Bd.error),this.PM("@" + h.default.time.ha() + ", appendHeader error: " + this.Bd.error),Error("appendHeaderError"));}};q.prototype.wpb=function(t){var w,v,u,x;u=t.iya || g.R.hb;x=t.Va.mb.G;x.La && Infinity !== x.La && (u=new g.R(x.La,1E3).add(u).Kh,Infinity === this.pg.duration || this.pg.duration < u) && (this.pg.duration=u);u=void 0 !== t.kF?g.R.Oa(t.kF).add(t.iya):void 0;x=null === (w=this.xm[0]) || void 0 === w?void 0:w.he;w={endOfStream:this.endOfStream || !(null === (v=t.lK) || void 0 === v || !v.z$),xE:u,hZ:x};v=this.H7a.append(t,w);w=v.wk;this.sTa(v.offset);w && (t.jo || t.Ts) && t.wk();this.nRa(t,w);};q.prototype.nRa=function(t,w){var v,u,x,y,z;void 0 === w && (w=!1);y=w?{status:m.oj.lw,Ej:void 0}:t.pH(this.Bd,this.pg.Uc);z=y.status;(y=y.Ej) && this.emit(y.type,y);switch(z){case m.oj.ag:this.vpb(t);break;case m.oj.lw:(w || (this.$k=t,void 0 === this.JG || this.bh !== k.default.Ya.cc || t.he.equal(this.JG) || (this.Ctb(t,this.JG),this.JG=void 0),this.PM("@" + h.default.time.ha() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Qa + ", pts: " + t.Dd + "-" + t.Pe)),t.jo || t.Ts?(this.JG=w?t.he:t.md,null === (u=(v=this.Bd).OGb) || void 0 === u?void 0:u.call(v,t.lK),this.DU=!1,(null === (x=t.lK) || void 0 === x?0:x.z$) && this.zsb && this.kZ(!1,this.JG)):this.JG=void 0,this.Itb(t),this.Hw());}};q.prototype.vpb=function(t){if(void 0 !== this.Bd.error){if("done" === this.Bd.error)return;this.Yk("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.Bd.error));throw this.Bd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.Bd.error);this.Yk(t.message);throw t;};q.prototype.Htb=function(t,w,v){t={type:"headerAppended",mediaType:this.bh,manifestIndex:t,streamId:w,isIndex:v};this.emit(t.type,t);};q.prototype.Itb=function(t){t={type:"requestAppended",mediaType:this.bh,request:t};this.emit(t.type,t);};q.prototype.PM=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};q.prototype.Ctb=function(t,w){var v;v=t.qd;t=t.he.Ha(w).W;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,t]}}};this.emit(v.type,v);};return q;})(r.EventEmitter);b.ffa=a;},function(r,b,a){var k;function c(h,g){return h < g?-1:h > g?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.n3=void 0;k=a(1);r=(function(){function h(g,d){this.data=null !== g && void 0 !== g?g:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(g=(this.length >> 1) - 1;0 <= g;g--){this.zja(g);}}Object.defineProperties(h.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});h.prototype.push=function(g){this.data.push(g);this.HTa(this.length - 1);};h.prototype.pop=function(){var g,d;if(!this.empty){g=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.zja(0));return g;}};h.prototype.Vx=function(){return this.data[0];};h.prototype.map=function(g){return this.data.map(g);};h.prototype.find=function(g){return k.__read(this.data.filter(g),1)[0];};h.prototype.clear=function(){this.data=[];};h.prototype.remove=function(g){var d,f,m;d=this.data;g=d.indexOf(g);if(-1 !== g){f=d.pop();if(g < d.length){d[g]=f;m=g - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(f,d)?this.HTa(g):this.zja(g);}}};h.prototype.cxb=function(){for(var g=this.data,d=1;d < g.length;d++){if(0 > this.compare(g[d],g[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + g);}};h.prototype.contains=function(g){return 0 <= this.data.indexOf(g);};h.prototype.HTa=function(g){for(var d=this.data,f=this.compare,m=d[g],l,n;0 < g;){l=g - 1 >> 1;n=d[l];if(0 <= f(m,n))break;d[g]=n;g=l;}d[g]=m;};h.prototype.zja=function(g){for(var d=this.data,f=this.compare,m=this.length >> 1,l=d[g],n,p,q;g < m;){n=(g << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,l))break;d[g]=q;g=n;}d[g]=l;};return h;})();b.n3=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qba=void 0;c=a(15);b.Qba=function(k){switch(k){case c.ta.yd:k=c.Qc.yd;break;case c.ta.bg:k=c.Qc.bg;break;case c.ta.yh:case c.ta.rj:case c.ta.Yr:k=c.Qc.rj;break;default:k=c.Qc.sj;}return k;};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GL=void 0;c=a(4);k=a(23);r=(function(){function h(g){var d;d=this;void 0 === g && (g=[]);this.items=g;g.forEach(function(f){return d.RBa(f);});}Object.defineProperties(h.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$Z:{get:function(){var g;return null !== (g=this.video) && void 0 !== g?g:this.audio;},enumerable:!1,configurable:!0}});h.prototype.get=function(g){return 1 === g?this.video:this.audio;};h.prototype.every=function(g){return this.items.every(g);};h.prototype.some=function(g){return this.items.some(g);};h.prototype.forEach=function(g){this.items.forEach(g);};h.prototype.find=function(g){return k.ze(this.items,g);};h.prototype.reduce=function(g,d){return this.items.reduce(g,d);};h.prototype.filter=function(g){return new h(this.items.filter(g));};h.prototype.replace=function(g,d){var f;f=this.items.indexOf(g);c.assert(-1 < f);c.assert(g.mediaType === d.mediaType);this.items[f]=d;this.RBa(d);};h.prototype.v1b=function(g,d){(g=this.get(g))?this.replace(g,d):this.add(d);};h.prototype.add=function(g){this.items.push(g);this.RBa(g);};h.prototype.remove=function(g){var d;d=this.items.indexOf(g);if(-1 === d)return !1;this.items.splice(d,1);this.Kzb(g.mediaType);return !0;};h.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};h.prototype.RBa=function(g){1 === g.mediaType?this.video=g:this.audio=g;};h.prototype.Kzb=function(g){1 === g?this.video=void 0:this.audio=void 0;};return h;})();b.GL=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.E1=void 0;c=a(1);a(4);r=a(41);k=c.__importDefault(a(30));h=c.__importDefault(a(128));g=c.__importDefault(a(6));d=a(254);f=a(101);m=a(118);l=g.default.Sr;n=a(918);a=c.__importDefault(a(919));g=(function(p){function q(t,w,v,u,x,y,z,A){var r00,B;r00=2;for(;r00 !== 6;){switch(r00){case 5:var J9G="e";J9G+="d";J9G+="i";J9G+="t";var R9G="c";R9G+="ac";R9G+="h";R9G+="e";B=[R9G,J9G].filter(function(D,C){var s00;s00=2;for(;s00 !== 1;){switch(s00){case 2:return [x,v.Ba][C];break;case 4:return [x,v.Ba][C];break;s00=1;break;}}});B=B.length?"(" + B.join(",") + ")":"";void 0 === v.responseType && (v.responseType=v.Ba || l.Uc && !l.Uc.H_.jT?0:1);B=p.call(this,t,w,B,v,u,y,z) || this;r00=8;break;case 8:f.sn.zb(B,t,v,A);return B;break;case 2:var U9G="1SIY";U9G+="bZrNJC";U9G+="p9";B=this;U9G;r00=5;break;}}}var q00;q00=2;for(;q00 !== 9;){switch(q00){case 2:c.__extends(q,p);q00=1;break;case 1:q.create=function(t,w,v,u,x,y,z,A){var t00,B,D;t00=2;for(;t00 !== 11;){switch(t00){case 1:return new n.TCa(t,v,u,x,y,w,z,A);break;case 5:t00=u.wP && u.aa > u.wP?4:12;break;case 14:var g9G="s";g9G+="ubreques";g9G+="t";(B={offset:y,aa:Math.min(D,A),responseType:u.responseType},y+=B.aa,D-=B.aa,x.push(new m.G1(t,v,g9G,B,x,w,z)));t00=6;break;case 8:x=new d.zF(t,u,x,w,z,A);t00=7;break;case 2:t00=!w.sh && u.Ba && t.mediaType === k.default.Ya.Nb && l.Uc && l.Uc.H_.jT?1:5;break;case 4:B=Math.ceil(u.aa / u.wP);y=u.offset;D=u.aa;t00=8;break;case 7:A=Math.ceil(u.aa / B);t00=6;break;case 6:t00=0 < D?14:13;break;case 12:return new q(t,v,u,x,y,w,z,A);break;case 13:return x;break;}}};q.prototype.toString=function(){var u00;u00=2;for(;u00 !== 1;){switch(u00){case 2:var s9G="I";s9G+="D";s9G+=":";s9G+=" ";return s9G + this.Ji() + ":" + f.sn.prototype.toString.call(this);break;}}};q.prototype.toJSON=function(){var v00;v00=2;for(;v00 !== 1;){switch(v00){case 2:return {ID:this.Ji(),request:f.sn.prototype.toJSON.call(this)};break;}}};return q;break;case 7:c.__extends(q,p);q00=7;break;q00=1;break;}}})(m.G1);b.E1=g;h.default(a.default,g.prototype);r.Jf(f.sn,g,!1);},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.zF=void 0;c=a(1);k=a(4);r=a(41);h=a(9);g=a(23);d=a(408);f=a(101);m=a(118);a=(function(l){function n(p,q,t,w,v,u){t=l.call(this,p,q,t,w,v) || this;f.sn.zb(t,p,q,u);t.Ad=0;t.Ba || t.Tj();t.nf=!1;return t;}c.__extends(n,l);Object.defineProperties(n.prototype,{Hc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Ad+=p.aa;l.prototype.push.call(this,p);};n.prototype.mv=function(){var p;return !this.nf && ! !this.Ka.length && !(null === (p=g.ze(this.Ka,function(q){return !q.nf;})) || void 0 === p || !p.mv());};n.prototype.pH=function(p,q){var t,w;k.assert(!this.nf);t=m.oj.Imb;w=h.Yq(this);this.nf=this.Ka.every(function(v){if(v.nf)return !0;if(!v.mv())return !1;t=v.pH(p,q,w).status;return t === m.oj.lw;});t !== m.oj.lw || this.nf || (t=m.oj.bnb);return {status:t};};n.prototype.d_b=function(){this.Ka.forEach(function(p){p.q_();});};n.prototype.Ji=function(){return this.Ka?this.Ka[0].Ji() + "-" + this.Ka[this.Ka.length - 1].Ji():"empty";};n.prototype.toString=function(){return "ID: " + this.Ji() + ":" + f.sn.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Ji(),request:l.prototype.toJSON.call(this)};};return n;})(d.Oea);b.zF=a;r.Jf(f.sn,a);},function(r,b,a){var h,g,d,f,m,l,n,p;function c(q,t){return q.done?q:{value:{value:q.value,STa:t}};}function k(q){q.STa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.fxb=b.dob=b.I1=void 0;h=a(1);r=a(17);g=a(154);d=a(16);f=h.__importDefault(a(6));m=a(9);l=a(4);a=a(41);n=(function(){function q(t,w){this.console=t;this.mg=w;this.dsb=this.KT=0;this.Gg=[];this.console=m.ko(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{FEb:{get:function(){return this.KT;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lXa:{get:function(){var t,w,v;for(w=0;w < this.Gg.length;w++){v=this.Gg[w];if(!v.fY || (null === (t=v.item) || void 0 === t?0:t.done))break;}return w;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{QA:{get:function(){return 0 === this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$ya:{get:function(){var t;for(t=0;t < this.Gg.length && this.Gg[t].Xta;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var t;t=h.__read(this.Gg,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iwa:{get:function(){var t;for(t=0;t < this.Gg.length && this.Gg[t].fY;t++){;}return t;},enumerable:!1,configurable:!0}});q.prototype.T7=function(){var t;if(void 0 === this.mg){t=this.console;d.Z && t && t.trace("QueueIterator: enqueueEnd");this.PBa(this.iwa - (this.mg || 0));}};q.prototype.Tp=function(){return this.Gg.map(function(t){return t.item;});};q.prototype.Fda=function(){this.Mf || (this.Mf=this.Gg.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.Mf;};q.prototype.PBa=function(t){var w;d.Z && this.console.trace("updateCount",{mgc:this.mg,np:t});if(void 0 !== this.mg){w=this.Gg[this.mg];w && this.uta(w);}this.mg=void 0 === this.mg?t:void 0 === t?t:this.mg + t;void 0 !== this.mg && (this.mg=Math.max(0,this.mg),(w=this.Gg[this.mg]) && w.VI.resolve({done:!0}));};q.prototype.enqueue=function(t){var w;d.Z && this.console.trace("Enqueue called");w=this.iwa;this.Q6();return this.ZYb(w,{value:t,done:!1}).UYa.promise;};q.prototype.zbb=function(){d.Z && this.console.trace("resetEnd");this.PBa(void 0);};q.prototype.clear=function(t){var w,v,u;d.Z && this.console.trace("clear");this.iab();w=this.$ya;v=this.Gg.length - w;if(0 < v){u={index:w,ywa:v};d.Z && this.console.trace("Removing items",u);this.Gg.splice(w,v);this.Q6();this.emit("onRemoved",u);}for(v=1;v < w;v++){this.uta(this.Gg[v]);}this.mg=void 0;this.PBa(t?t + w:t);this.KT && (this.KT=0);};q.prototype.getIterator=function(){var t,w;t=this;w=m.ko(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return t.$1a(v);},w);};q.prototype.SN=function(){var t;if(0 < this.$ya){t=h.__read(this.Gg,1)[0];if(t.fY)return (d.Z && this.console.trace("dequeue",t.id),this.iab(1),this.emit("onDequeue",t.VI.promise));}};q.prototype.remove=function(t){var w,v,u;for(w=0;w < this.Gg.length;w++){v=this.Gg[w];u=v.item;if(u && !u.done && u.value === t){this.Gg.splice(w,1);this.mg && this.mg > w && this.mg--;this.Q6();d.Z && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:w,ywa:1});break;}}};q.prototype.iab=function(t){var w;t=t || Math.min(this.$ya,this.iwa);if(0 < t){w=this.Gg.splice(0,t);this.Q6();this.mg && (this.mg-=t);d.Z && this.console.trace("pruned",t);Promise.resolve().then(function(){w.forEach(function(v){v.UYa.resolve();});});this.emit("onRemoved",{index:0,ywa:t});this.KT+=t;}};q.prototype.$1a=function(t){var w;d.Z && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.e4a(t);w=this.Gg[t];w.T_b.resolve();t=w.VI.promise;d.Z && this.console.trace("getNextItem:return",{id:w.id});}else (d.Z && this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0}));return t;};q.prototype.ZYb=function(t,w){var v;v=!w.done && w.value;v=v && v.toJSON?v.toJSON():v;d.Z && this.console.trace("Providing result",{rwb:t,item:v});this.e4a(t);t=this.Gg[t];v=t.VI.resolve;v(w);return t;};q.prototype.e4a=function(t){var w;if(void 0 === this.Gg[t]){w={};this.uta(w);this.Gg[t]=w;t === this.mg && w.VI.resolve({done:!0});d.Z && this.console.trace("Item initialized",{rwb:t});}};q.prototype.hoa=function(t){var w;w={};w.promise=new Promise(function(v,u){w.resolve=function(x){v(x);t && t(x);};w.reject=u;});return w;};q.prototype.uta=function(t){var w;w=this;t.VI=this.hoa(function(v){t.item=v;t.fY=!0;d.Z && w.console.trace("Item resolved",{id:t.id});});t.id && t.Xta && !t.fY && (t.VI.resolve({done:!0}),d.Z && this.console.warn("Overwriting requested queue item",t.id));t.UYa=this.hoa();t.T_b=this.hoa(function(){t.Xta=!0;d.Z && w.console.trace("Item requested",{id:t.id});});t.id=this.dsb++;t.Xta=!1;t.fY=!1;t.item=void 0;};q.prototype.Q6=function(){this.Mf=void 0;};q.prototype.vJb=function(){var t,w,v;t=this;w=m.ko(f.default,this.console,"QueueIteratorInstance::");v=new p(this,function(u){var x,y;if(0 === t.count)return g.AsyncIterator.esa();x=t.$1a(u);y=t.Gg[0];return x.then(function(z){return c(z,function(){v.cP || (y === t.Gg[0]?t.SN():l.assert(!t.Gg.filter(function(A){return A.VI.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},w);return v;};return q;})();b.I1=n;a.Jf(r.EventEmitter,n);p=(function(q){function t(w,v,u){var x;x=q.call(this,function(){d.Z && x.console.trace("Next item requested",{index:x.index});return x.q0b(x.index++);}) || this;x.parent=w;x.q0b=v;x.console=u;x.EM=!1;x.index=0;x.Yja=!1;x.o9a=function(y){var z;z=y.index;y=y.ywa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.Z && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}h.__extends(t,q);t.prototype.$h=function(){this.console.trace("disposed");this.EM=!0;this.gd();q.prototype.$h.call(this);};t.prototype.next=function(){this.cP || this.bP();return q.prototype.next.call(this);};t.prototype.cancel=function(){this.gd();return q.prototype.cancel.call(this);};t.prototype.gd=function(){this.parent.pB("onRemoved",this.o9a);this.Yja=!1;};t.prototype.bP=function(){this.Yja || (this.Yja=!0,this.parent.on("onRemoved",this.o9a));};return t;})(g.AsyncIterator);b.dob=p;b.fxb=function(q){return g.map(q,k);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(1).__exportStar(a(925),b);},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.E3=void 0;c=a(1);k=a(17);h=a(9);g=a(16);d=a(68);f=h.R.Oa(1E3);r=(function(){function m(l,n,p,q,t,w,v,u,x){var y,z,A;y=this;this.OIb=l;this.console=n;this.Fa=p;this.events=t;this.gu=w;this.Ve=v;this.ifb=u;this.Gp=[];this.ixa=f.add(h.R.Oa(null !== (A=null === (z=w.PQ) || void 0 === z?void 0:z.W) && void 0 !== A?A:0));this.listeners=new k.Dg();this.listeners.on(p.S,"skipped",function(){return y.uZ();});this.listeners.on(q,"requestAppended",function(B){return y.Ox(B.request);});this.CU=!0;this.FW=v.PH(function(){return y.$Fb();},"Presentation Emit",x);this.eca=v.PH(function(){return y.bZb();},"Presentation Prune");this.i9a();}m.prototype.i9a=function(){};m.prototype.uZ=function(){this.trace("skipped, scheduler clock " + this.Ve.Da.currentTime.Ic());this.CU=!0;this.FW.wl();};m.prototype.$Fb=function(){var l,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.MJ=this.AUb(this.CU),l=this.w8a(),p.label=1);case 1:if(!l)return [3,3];n=this.CU?this.Fa.tg:null === l || void 0 === l?void 0:l.timestamp;this.trace("queuing task for " + l.rF + (" at player time " + l.timestamp.Ic()) + (" scheduler clock is " + this.Ve.Da.currentTime.Ic()));return [4,d.Wk.zR(l.timestamp)];case 2:p.jc();this.trace("executing task for " + l.rF + (" at player time " + l.timestamp.Ic()) + (" scheduler clock is " + this.Ve.Da.currentTime.Ic()));this.CU=!1;try{this.opa(l,n);}catch(q){this.console.error("Error in " + this.ifb + " emit, continuing",q);}this.MJ++;l=this.w8a();n=null === l || void 0 === l?void 0:l.timestamp;return [3,1];case 3:return [2];}});};m.prototype.w8a=function(){if(void 0 !== this.MJ)return this.Gp[this.MJ];};m.prototype.AUb=function(l){var n,p,t;void 0 === l && (l=!1);for(var q=l?0:null !== (n=this.MJ) && void 0 !== n?n:0;q < this.Gp.length;q++){n=this.Gp[q];t=h.R.Oa(null !== (p=this.gu.Hxa) && void 0 !== p?p:0);if(n.timestamp.greaterThan(this.Fa.tg.add(t)))return l && 0 < q?q - 1:q;}return Math.max(this.Gp.length - 1,0);};m.prototype.bZb=function(){var l,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.Gp.length))return [3,2];l=c.__read(this.Gp,2);n=l[1];this.trace("queuing pruning task for " + n.rF + (" at player time " + this.ixa.add(n.timestamp).Ic()) + (" scheduler clock is " + this.Ve.Da.currentTime.Ic()));return [4,d.Wk.zR(this.ixa.add(n.timestamp))];case 1:return (p.jc(),this.trace("executing pruning task for " + n.rF + (" at player time " + this.ixa.add(n.timestamp).Ic()) + (" scheduler clock is " + this.Ve.Da.currentTime.Ic())),this.Gp.shift(),this.MJ && this.MJ--,[3,0]);case 2:return [2];}});};m.prototype.reset=function(){this.Gp=[];g.Z && this.trace("reset");this.CU=!0;this.L$=void 0;this.MJ=0;this.eca.wl();this.FW.wl();};m.prototype.close=function(){this.FW.Hb();this.eca.Hb();this.listeners.clear();};m.prototype.bj=function(l){var n;g.Z && this.trace("canSkip() " + l);if(0 === this.Gp.length)return (g.Z && this.trace("canSkip false, no media sequence"),!1);n=this.Gp[0];return n.timestamp.greaterThan(l)?(g.Z && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.L$ || this.L$.lessThan(l)?(g.Z && this.trace("canSkip false, later than last appended at " + this.L$),!1):!0;};m.prototype.trace=function(l){g.Z && this.console.trace("PresentationTracker [" + this.OIb + "] " + this.ifb + ": " + l);};m.prototype.yla=function(l,n,p){p && (this.L$=p);p=this.Gp.length?this.Gp[this.Gp.length - 1]:void 0;return void 0 !== p && this.t5a(p.rF,l)?!1:(this.Gp.push({rF:l,timestamp:n}),this.FW.state === d.yn.complete && this.FW.wl(),this.eca.state === d.yn.complete && this.eca.wl(),!0);};m.prototype.t5a=function(l,n){return l === n;};return m;})();b.E3=r;},function(r,b,a){var g,d;function c(){}function k(f,m){this.Cm=f;void 0 !== m?(d(m <= f.dn,"require remain_sec <= chunk.sec but has " + m + " and " + f.dn),this.vl=m):this.vl=f.dn;}function h(f){var m;void 0 === f && (f=[]);this.pt=[];this.Mh=this.hm=0;try{for(var l=g.__values(f),n=l.next();!n.done;n=l.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (m=l.return) && m.call(l);}finally{if(p)throw p.error;}}}g=a(1);d=a(4).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.Bq=function(){return new k(this.Cm,this.vl);};h.prototype.constructor=h;h.prototype.add=function(f,m){f=new k(f,m);this.pt.push(f);this.Mh+=f.vl;this.hm+=f.Cm.FA() * f.vl;};h.prototype.Bq=function(){var f,m,p;m=new h(void 0);try{for(var l=g.__values(this.pt),n=l.next();!n.done;n=l.next()){p=n.value;m.add(p.Cm,p.vl);}}catch(t){var q;q={error:t};}finally{try{n && !n.done && (f=l.return) && f.call(l);}finally{if(q)throw q.error;}}return m;};h.prototype.bv=function(){try{return this.pt[0];}catch(f){}};h.prototype.q$a=function(f){var m;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.bv())throw new c();if(f < this.bv().vl){m=this.bv().Cm.FA() * f;this.bv().vl-=f;this.Mh-=f;this.hm-=m;f=0;}else (m=this.pt.shift(),this.Mh-=m.vl,this.hm-=m.Cm.FA() * m.vl,f-=m.vl);}};h.prototype.tXb=function(f){var l;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var m=0;0 < f;){if(void 0 === this.bv())throw new c();if(f < this.bv().vl * this.bv().Cm.FA()){l=f / this.bv().Cm.FA();this.bv().vl-=l;this.Mh-=l;this.hm-=f;m+=l;f=0;}else (l=this.pt.shift(),this.Mh-=l.vl,this.hm-=l.Cm.FA() * l.vl,m+=l.vl,f-=l.Cm.FA() * l.vl);}return m;};r.exports={RDa:h,Hib:c};},function(r){var m,l,n,p,q,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(w){if(m === setTimeout)return setTimeout(w,0);if((m === b || !m) && setTimeout)return (m=setTimeout,setTimeout(w,0));try{return m(w,0);}catch(v){try{return m.call(null,w,0);}catch(u){return m.call(this,w,0);}}}function k(w){if(l === clearTimeout)return clearTimeout(w);if((l === a || !l) && clearTimeout)return (l=clearTimeout,clearTimeout(w));try{return l(w);}catch(v){try{return l.call(null,w);}catch(u){return l.call(this,w);}}}function h(){p && q && (p=!1,q.length?n=q.concat(n):t=-1,n.length && g());}function g(){var w;if(!p){w=c(h);p=!0;for(var v=n.length;v;){q=n;for(n=[];++t < v;){q && q[t].fy();}t=-1;v=n.length;}q=null;p=!1;k(w);}}function d(w,v){this.XIb=w;this.Jz=v;}function f(){}r=r.exports={};m="function" === typeof setTimeout?setTimeout:b;l="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;t=-1;r.kgc=function(w){var v;v=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){v[u - 1]=arguments[u];}n.push(new d(w,v));1 !== n.length || p || c(g);};d.prototype.fy=function(){this.XIb.apply(null,this.Jz);};r.title="browser";r.idc=!0;r.l_a={};r.Tcc=[];r.version="";r.$hc={};r.on=f;r.addListener=f;r.once=f;r.pB=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.WZ=f;r.R$a=f;r.listeners=function(){return [];};r.edc=function(){throw Error("process.binding is not supported");};r.Edc=function(){return "/";};r.tdc=function(){throw Error("process.chdir is not supported");};r.Rhc=function(){return 0;};},function(r){r.exports={wJa:{code:-1,description:"MediaCache is not supported."},mbc:{code:100,description:"Resource was not found"},gmb:{code:101,description:"Resource Metadata was not found"},QL:{code:102,description:"Read failed",Mr:function(b,a){return {code:this.code,description:b,cause:a};}},i4:{code:200,description:"Daily write limit exceeded"},iL:{code:201,description:"Capacity has been exceeded"},h4:{code:202,description:"Write failed, cause unknown",Mr:function(b,a){return {code:this.code,description:b,cause:a};}},mcc:{code:203,description:"Write failed, cause unknown"},Djb:{code:300,description:"Failed to delete resource",Mr:function(b,a){return {code:this.code,description:b,cause:a};}},uC:{code:900,description:"Invalid partition name"},Jlb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},WEa:{code:701,description:"Failed to initialize underlying disk cache."},fmb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={X2a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var k;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(h){c.error && c.error.code == h.error.code && c.error.description === h.error.description && (k=h);});k?k.resources.push(c.vr):a.push({error:c.error,resources:[c.vr]});});return a;}},X0a:function(b){var a;a={freeSize:b.ao,dailyBytesRemaining:b.ON,bytesWritten:b.el,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.ql,itemBytes:c.E$,error:c.error};}));return a;},$x:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uI=void 0;c=a(1).__importDefault(a(6));k=a(987);b.uI=function(){var g;if(!h){g=new c.default.Console("ASEJS","media|asejs");h=new k.KCa(g);}return h;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Nbb=b.O1a=b.map=void 0;c=a(1);a(991);b.map=function(k){return function(h,g){void 0 === g && (g=!1);return function(d,f,m){var l,n,p,q,t,w,v,u;t=Reflect.g2a(k,d,f) || ({});v="number" === typeof m;u=g;(w=v?null !== (n=(null !== (l=t.Db) && void 0 !== l?l:{})[m]) && void 0 !== n?n:{}:u?t.return:t.Lva) || (w={rules:[]});l=c.__assign(c.__assign(c.__assign({},w),h),{rules:c.__spread(null !== (p=w.rules) && void 0 !== p?p:[],null !== (q=h.rules) && void 0 !== q?q:[])});v?(t.Db || (t.Db={}),t.Db[m]=l):u?t.return=l:t.Lva=l;Reflect.w7(k,t,d,f);};};};b.O1a=function(k){return function(h,g){var d,f;return (h=null !== (f=null === (d=null === h || void 0 === h?void 0:h.constructor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:h) && Reflect.g2a(k,h,g);};};b.Nbb=function(){return function(){return function(k){return k;};};};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.V3=void 0;r=a(17);c=a(41);k=a(21);a=(function(){function h(g){void 0 === g && (g={Dk:!1,currentTime:k.R.hb,speed:1});this.Xc={Dk:function(){return "function" === typeof g.Dk?g.Dk():g.Dk;},currentTime:function(){return "function" === typeof g.currentTime?g.currentTime():g.currentTime;},speed:function(){return "function" === typeof g.speed?g.speed():g.speed;}};}Object.defineProperties(h.prototype,{Dk:{get:function(){return this.Xc.Dk();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{currentTime:{get:function(){return this.Xc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{speed:{get:function(){return this.Xc.speed();},enumerable:!1,configurable:!0}});return h;})();b.V3=a;c.Jf(r.EventEmitter,a);},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Qra=b.yp=b.isEqual=b.kY=void 0;c=a(9);k=a(227);b.kY=function(h){return ! !h.N;};b.isEqual=function(h,g){var d,f;d=b.kY(h);f=b.kY(g);return d === f?d?h.N === g.N:h.ja === g.ja:!1;};b.yp=function(h){if(b.kY(h))return h.N;h=h.ja;return h.P[h.fe].N;};b.Qra=function(h,g){var d;return h.z6?h.z6 instanceof c.R?(h=k.HN(g,b.yp(h.key),h.z6),(null === h || void 0 === h?0:h.offset.greaterThan(c.R.hb))?h:{offset:c.R.hb,fa:null !== (d=null === h || void 0 === h?void 0:h.fa) && void 0 !== d?d:g.fe}):h.z6:{offset:c.R.hb,fa:g.fe};};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Swa=b.IEa=b.JEa=void 0;c=a(1);k=a(51);h=a(1054);g=a(184);d=a(71);f=a(23);m=a(4);l=a(16);n=a(443);p=a(448);q=a(1055);r=(function(){function t(w,v,u,x,y){var z;z=this;void 0 === x && (x="CphAsePlaygraph");void 0 === y && (y=!0);this.context=w;this.u9a=v;this.Obb=u;this.g5b=x;this.krb=new n.cia();y && this.zb();this.u9a(function(A){var B;B=A.xF;return c.__awaiter(z,void 0,void 0,function(){var D;return c.__generator(this,function(C){switch(C.label){case 0:return [4,B];case 1:return (D=C.jc(),this.QJ(D),[2]);}});});});}Object.defineProperties(t.prototype,{xd:{get:function(){return this.context.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ja:{get:function(){return this.ls;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ml:{get:function(){return this.context.ml;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{I:{get:function(){return this.xd.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{J:{get:function(){return this.xd.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{j3a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.zb=function(){var w,v;w=this.context;v=this.g5b;this.events=p.doa(function(){return w;},w.xd.events,this.Obb,q.z$a);this.ls=w.xd.ja;this.x4=new d.Fw({dt:10,cr:this,source:v,console:this.I});w.xd.Mg(new g.Ew(this.x4));w.xd.Mg(new g.Ew(w.ml.Wg));};t.prototype.$U=function(w){var v,u,x;u=this.context.xd.S;w.Scb && w.Scb(this.context);x=this.context.xd.$U(null !== (v=w.f$) && void 0 !== v?v:w);x && (this.S=w,u.RWa && u.RWa());return x;};t.prototype.bab=function(){var w;w=this.Wqa(this.ls);w && this.OYb(w,this.j3a);};t.prototype.OYb=function(w,v){var u,x,y,z;u=this.context.ty;x=u.S;y=u.ja;z=u.GI && x.sf?x.Zh:u.dv?u.gy:void 0;u.config.z7b && v && x.$E(!0);u.Bf(!0);l.Z && this.I.log("CombinePlaygraphs: ux: " + JSON.stringify(y));l.Z && this.I.log("CombinePlaygraphs: combined: " + JSON.stringify(w));this.krb.set(w,!0);this.context.xd.ry(w);this.context.dba.mca();z && (w=this.context.ml.WN(z),u.NB(w),x.resume());};t.prototype.ry=function(w){var v,u;u=null !== (v=this.Wqa(w)) && void 0 !== v?v:w;v=this.context.xd.ry(u);v.da && (this.ls=w);this.context.dba.mca();return v;};Object.defineProperties(t.prototype,{xj:{get:function(){return this.VQa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pma:{get:function(){var w,v,u,x;w=this;u=Object.keys(this.xd.ja.P);if(u=f.ze(u,function(y){return ! !w.xd.ja.P[y].Zc;})){u=this.xd.ja.P[u].Zc;x=this.ja.P[u];return null !== (v=null === x || void 0 === x?void 0:x.N) && void 0 !== v?v:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.QJ=function(w){var v,u,x,y;u=w.ia;x=u.xj;u=u.Gm;y=null !== (v=this.J.Mpa) && void 0 !== v?v:[];if(u && y.some(function(z){return z == w.K;}))return (v=w.K + " was excluded from content playgraph",this.x4.ps(v),l.Z && this.I.trace(v),!1);x && !this.VQa && (this.VQa=x);return !0;};c.__decorate([d.Kb({methodName:"processViewableResponse"})],t.prototype,"QJ",null);return t;})();b.JEa=r;r=(function(t){function w(v,u,x,y){void 0 === y && (y="CphAsePlaygraph");y=t.call(this,v,u,x,y,!0) || this;y.context=v;y.u9a=u;y.Obb=x;v.xd.Mg(new h.KEa(y));return y;}c.__extends(w,t);w.prototype.QJ=function(v){var u,x;u=t.prototype.QJ.call(this,v);if(u){x=v.ia.Gm;x && !this.nja && (this.x4.ps({applyingContentPlaygraph:!0}),this.nja=x,this.hrb=this.EAb(v.ia),this.bab());}return u;};Object.defineProperties(w.prototype,{j3a:{get:function(){return this.hrb;},enumerable:!1,configurable:!0}});w.prototype.Wqa=function(){if(this.nja)return k.Iva(this.context.ty.ja,this.Gm.ja);};w.prototype.EAb=function(v){var u,x;u=v.sVa;x=v.FI;return !(!u || !u.some(function(y){return y.FI !== x;}));};Object.defineProperties(w.prototype,{Gm:{get:function(){return this.nja;},enumerable:!1,configurable:!0}});c.__decorate([d.Kb({methodName:"processViewableResponse"})],w.prototype,"QJ",null);return w;})(r);b.IEa=r;b.Swa=function(t,w){var v;v=[];return {VE:function(u,x){var y,z;if(!x && w().pma && w().pma !== u){x=w().xj;y=w().pma;m.assert(y,"did not receive parent viewable id");x={mV:{xj:x,BJ:y}};}z=t(u,x);v.forEach(function(A){return A({N:u,xF:z.xF});});return z;},feb:function(u){v.push(u);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cha="PboPlaydataFactorySymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var h,g,d,f;function c(m,l,n){for(var p=n.next();!p.done;){if((l=m["@@transducer/step"](l,p.value)) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](l);}function k(m,l,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),l));}h=a(1080);g=a(1082);d=a(1083);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(m,l,n){"function" === typeof m && (m=g(m));if(h(n)){for(var p=0,q=n.length;p < q;){if((l=m["@@transducer/step"](l,n[p])) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](l);}if("function" === typeof n["fantasy-land/reduce"])return k(m,l,n,"fantasy-land/reduce");if(null != n[f])return c(m,l,n[f]());if("function" === typeof n.next)return c(m,l,n);if("function" === typeof n.reduce)return k(m,l,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,k){return a.apply(this,arguments);};case 3:return function(c,k,h){return a.apply(this,arguments);};case 4:return function(c,k,h,g){return a.apply(this,arguments);};case 5:return function(c,k,h,g,d){return a.apply(this,arguments);};case 6:return function(c,k,h,g,d,f){return a.apply(this,arguments);};case 7:return function(c,k,h,g,d,f,m){return a.apply(this,arguments);};case 8:return function(c,k,h,g,d,f,m,l){return a.apply(this,arguments);};case 9:return function(c,k,h,g,d,f,m,l,n){return a.apply(this,arguments);};case 10:return function(c,k,h,g,d,f,m,l,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sha="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xga="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jga="HLSConfigSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(275);c=a(157);b.ikb=c;c=a(468);b.XL=c;c=a(472);b.$wb=c;b.U3=r.Zq.Za.sidx;r=a(1123);b.Vr=r.Vr;r=a(283);b.Tr=r.Tr;r=a(1127);b.Ur=r.Ur;b.cB=r.cB;r=a(1128);b.xL=r.xL;r=a(88);b.Ro=r.Ro;a=a(1129);b.dk=a.dk;},function(r,b,a){var G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V,K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb,wb;function c(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function k(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function h(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function g(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);this.tK=da.config.tK;this.rd=this.sizes=void 0;}function d(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function f(){for(var da=new DataView(this),ua="",wa,Oa=0;Oa < this.byteLength;Oa++){wa=da.getUint8(Oa);ua+=("00" + wa.toString(16)).slice(-2);}return ua;}function m(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function l(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function n(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function p(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function q(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function t(da){function ua(wa,Oa,Xa,lb,Bb){N.call(this,wa,Oa,Xa,lb,Bb);this.gZ=da;}ua.Ta=!1;ua.prototype=new N();ua.prototype.constructor=ua;Object.defineProperties(ua.prototype,{bS:{get:function(){return this.gZ;}}});ua.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.gZ + "'");this.u.offset=this.startOffset + 4;this.oa.n1(this.bS);this.type=this.bS;return !0;};return ua;}function w(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function v(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function u(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function x(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function y(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function z(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function A(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function B(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function D(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function C(da,ua,wa,Oa,Xa){N.call(this,da,ua,wa,Oa,Xa);}function F(da,ua){da.forEach(function(wa){ua[wa.Vb]=wa;});}G=a(156).assert;b=a(106);E=a(276).R;I=a(468);a(157);a(88);a(88);a(88);N=a(27).Kc;L=a(1106).default;H=a(1107).default;Q=a(1108).default;O=a(1109).default;J=a(1110).default;M=a(1111).default;P=a(1112).default;R=a(1113).default;S=a(1114).default;a(277);a(187);U=a(469).vea;ba=a(469).Lfa;na=a(1115).default;va=a(1116).default;ya=a(89).default;ra=a(89).Hea;V=a(89).Iea;K=a(89).Jea;T=a(89).Kea;fa=a(1117).default;ia=a(1118).default;Ba=a(89).oga;Sa=a(89).ega;La=a(89).Gea;Za=a(1119).default;Wa=a(1120).default;Va=a(1121).default;cb=a(470).default;wb=a(471).default;a(158);a(280);a(281);a(279);a=a(1122).default;c.Ta=!0;c.prototype=new N();c.prototype.constructor=c;k.Ta=!0;k.prototype=new N();k.prototype.constructor=k;h.Ta=!1;h.prototype=new N();h.prototype.constructor=h;h.prototype.parse=function(da){var ua;this.Gc();1 === this.version?(this.u.Yd(),this.u.Yd(),this.V=this.u.xa(),this.duration=this.u.Yd()):(this.u.xa(),this.u.xa(),this.V=this.u.xa(),this.duration=this.u.xa());ua=this.u.yc() & 32767;this.language=String.fromCharCode(96 + (ua >>> 10),96 + (ua >>> 5 & 31),96 + (ua & 31));da && da.Zb && (da.Zb.V=this.V,da.Zb.duration=this.duration);return !0;};g.Ta=!1;g.prototype=new N();g.prototype.constructor=g;g.prototype.Dka=function(){this.Gc();this.u.xa();this.V=this.u.xa();0 === this.version?(this.BW=this.u.xa(),this.YW=this.u.xa()):(this.BW=this.u.Yd(),this.YW=this.u.Yd());this.vbb=this.u.yc();this.o_=this.u.yc();};g.prototype.qja=function(da,ua){var wa,Oa,Xa;wa=this.V;da=da && da.V || wa;Oa=da / wa;wa=this.u.zB(ua,12,!1);Xa=1 === Oa?this.u.zB(ua,12,!1):I.from(Uint32Array,{length:ua},function(){var lb;lb=Math.round(this.u.xa() * Oa);this.u.offset+=8;return lb;},this);this.ela(ua,Xa,wa,da);};g.prototype.ela=function(da,ua,wa,Oa){if(this.tK){Oa=this.tK * Oa / 1E3;for(var Xa=0,lb=1;lb < da;lb++){Math.abs(ua[Xa] - Oa) > Math.abs(ua[Xa] + ua[lb] - Oa)?(ua[Xa]+=ua[lb],wa[Xa]+=wa[lb]):(++Xa,Xa !== lb && (ua[Xa]=ua[lb],wa[Xa]=wa[lb]));}++Xa;ua=new Uint32Array(ua.buffer.slice(0,4 * Xa));wa=new Uint32Array(wa.buffer.slice(0,4 * Xa));}this.sizes=wa;this.rd=ua;};g.prototype.parse=function(da){var ua,wa,Oa,Xa;this.Dka();this.za=da.za;ua=this.V;wa=this.za && this.za.V || ua;Oa=this.o_;Xa=this.startOffset + this.length + this.YW;ua=new E(this.BW,ua).df(wa).mc;this.X={V:wa,Bl:ua,offset:Xa};this.qja(this.za,Oa);this.X.rd=this.rd;this.X.sizes=this.sizes;da.Dt=this;return !0;};d.Ta=!1;d.prototype=new N();d.prototype.constructor=d;d.prototype.parse=function(){var da;this.Si=[];this.wxa=[];da=(this.length - 11) / 2;this.u.Xa();this.u.Xa();this.u.Xa();for(var ua=0;ua < da;ua++){this.Si.push(this.u.Xa());this.wxa.push(this.u.Xa());}return !0;};m.Ta=!1;m.prototype=new N();m.prototype.constructor=m;m.prototype.parse=function(da){var ua;this.Gc();this.u.offset+=1;if(0 == this.version)this.u.offset+=1;else {ua=this.u.Xa();this.Ioa=ua >> 4;this.Moa=ua & 15;da && da.Zb && (da.Zb.hEb=this.Ioa,da.Zb.kEb=this.Moa);}this.jW=this.u.Xa();this.iW=this.u.Xa();this.WI=this.u.offset;this.Ek=this.u.CB(16);this.Ek.toString=f;da && da.Zb && (da.Zb.jEb=this.jW,da.Zb.Eoa=this.iW,da.Zb.iEb=this.Ek);1 == this.jW && 0 == this.iW && (this.Hoa=this.u.Xa(),this.Goa=this.u.CB(this.Hoa),da && da.Zb && (da.Zb.Doa=this.Goa));return !0;};l.Ta=!1;l.prototype=new N();l.prototype.constructor=l;l.prototype.parse=function(){this.Gc();this.vg=this.u.yc();this.Ava=this.u.zB(this.vg,void 0,!0);return !0;};n.Ta=!1;n.prototype=new N();n.prototype.constructor=n;n.prototype.parse=function(da){var ua,wa,Oa,Xa,lb,Bb;ua=da.Dt;G(ua);da=da.za;wa=ua.V;ua=ua.o_;G(da);G(wa);G(ua);this.Gc();G(2 > this.version);this.vg=this.u.yc();this.Ev=new Uint16Array(ua + 1);Oa=da.q9(wa);Xa=Oa / wa;lb=da.df(Oa).mc;if(0 === this.version)for((this.Rv=new Uint16Array(),this.Xd=new Uint32Array(),da=wa=0);da <= ua;++da){if((this.Ev[da]=wa,da < this.vg)){Bb=this.u.Xa();if(0 !== Bb)for(Oa=0;Oa < Bb;(++Oa,++wa)){this.Rv[wa]=Math.floor((this.u.xa() + 1) * Xa) / lb;this.Xd[wa]=this.u.xa();}}}else if(1 === this.version)for((Oa=this.u.qya(this.vg,10,!1),this.u.offset+=4,this.Xd=this.u.zB(this.vg,10,!1),this.u.offset-=8,this.Rv=I.from(Uint16Array,{length:this.vg},function(){var ub;ub=Math.floor((this.u.xa() + 1) * Xa) / lb;this.u.offset+=6;return ub;},this),wa=da=0);da <= ua;++da){for(;wa < Oa.length && Oa[wa] < da;){++wa;}this.Ev[da]=wa;}this.Ei={Ev:this.Ev,Rv:this.Rv,Xd:this.Xd};return !0;};p.Ta=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Ta=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.Pu=function(){var da;da=this.si("tfhd");da && (this.Wh=da.pV?da.Wh:this.parent.startOffset);return !0;};w.Ta=!1;w.prototype=new N();w.prototype.constructor=w;w.prototype.parse=function(){var da,Pb;da=this.u.offset;this.Gc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var ua=this.u.offset,wa=this.u.Xa(),Oa=this.u.Xa(),Xa=this.u.Xa(),lb=this.u.Xa(),Bb=this.u.yc(),ub=[],Kb=0;Kb < Bb;++Kb){ub=this.u.Xa();}Kb=(wa & 240) >>> 4;Pb=(wa & 14) >>> 1;wa&=1;Xa=16 === Xa?1:0;Oa != lb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Oa + " and matrixCoefficients " + lb + " should be the same value!");lb=2;switch(Oa){case 1:lb=2;break;case 6:lb=1;break;case 9:lb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Oa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.oa.gC(this.version,da);this.oa.gC(Kb << 4 | lb,ua++);this.oa.gC(Pb << 4 | Xa << 1 | wa,ua++);Bb+=2;ub.push(0,0);this.oa.wCa(Bb,!1);ua+=2;ub.forEach(function(Zb){this.oa.gC(Zb,ua++);});}return !0;};v.Ta=!1;v.prototype=new N();v.prototype.constructor=v;v.Vb="tfhd";Object.defineProperties(v.prototype,{pV:{get:function(){return this.flags & 1;}},pza:{get:function(){return this.flags & 2;}},Joa:{get:function(){return this.flags & 8;}},Loa:{get:function(){return this.flags & 16;}},lW:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(da){this.Gc();this.dw=this.u.xa();this.Wh=this.pV?this.u.Yd():void 0;this.J_=this.pza?this.u.xa():void 0;this.Sn=this.Joa?this.u.xa():void 0;this.Un=this.Loa?this.u.xa():void 0;this.Tn=this.lW?this.u.xa():void 0;da && da.pa && (da.pa.dw=this.dw,da.pa.Wh=this.Wh,da.pa.J_=this.J_,da.pa.Sn=this.Sn,da.pa.Un=this.Un,da.pa.Tn=this.lW?this.Tn:void 0);return !0;};u.Ta=!1;u.prototype=new N();u.prototype.constructor=u;u.prototype.parse=function(da){this.Gc();this.wq=1 === this.version?this.u.Yd():this.u.xa();da && da.pa && (da.pa.wq=this.wq);return !0;};u.prototype.Ba=function(da){var ua;ua=this.startOffset + 12;this.wq+=da;1 === this.version?this.oa.xCa(this.wq,ua):this.oa.th(this.wq,ua);};x.Ta=!1;x.prototype=new N();x.prototype.constructor=x;Object.defineProperties(x.prototype,{$V:{get:function(){return this.flags & 1;}},jI:{get:function(){return this.flags & 4;}},Sv:{get:function(){return this.flags & 256;}},Uv:{get:function(){return this.flags & 512;}},dK:{get:function(){return this.flags & 1024;}},LB:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(da){var ua,wa;this.Gc();this.sV=this.u.offset;this.ub=this.u.xa();this.hh=this.$V?this.u.DB():0;this.jI && this.u.xa();this.Qv=(this.Sv?4:0) + (this.Uv?4:0) + (this.dK?4:0) + (this.LB?4:0);this.uA=this.u.offset;G(this.$V,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.ub * this.Qv,"Expected remaining data in box to be sample information");if(da && da.pa){da.pa.hh=this.hh;da.pa.ub=this.ub;this.Se=[];for(ua=0;ua < this.ub;ua++){wa={};wa.xr=this.Sv?this.u.xa():da.pa.Sn;this.Uv?wa.li=this.u.xa():da.pa && (wa.li=da.pa.Un);this.dK?wa.K_=this.u.xa():da.pa && (wa.K_=da.pa.Tn);this.LB && (wa.B0b=0 === this.version?this.u.xa():this.u.DB());this.Se.push(wa);da.pa.Se=this.Se;if(da.pa.wr)for((G(da.pa.wr.length === da.pa.Se.length),wa=0);wa < da.pa.Se.length;wa++){da.pa.Se[wa].SF=da.pa.wr[wa].SF;da.pa.Se[wa].DK=da.pa.wr[wa].DK;}}}return !0;};x.prototype.iu=function(da,ua,wa){var Oa,Xa,lb;Oa=this.Sv?this.u.xa():da.Sn;Xa=this.Uv?this.u.xa():da.Un;da=this.dK?this.u.xa():da.Tn;lb=0 === this.version?this.LB?this.u.xa():0:this.LB?this.u.DB():0;return {oza:lb,K_:da,xYb:wa + lb - (void 0 !== ua?ua:lb),li:Xa,xr:Oa};};x.prototype.Ba=function(da,ua,wa,Oa,Xa,lb,Bb){var ub,Kb,Pb,Zb;ub=0;Kb=0;this.oa.offset=this.uA;for(Oa=0;Oa < Xa;++Oa){Pb=this.iu(ua,Zb,Kb);if(0 == Oa)Zb=Pb.oza;ub+=Pb.li;Kb+=Pb.xr;}Oa=Xa;Xa=this.u.offset;Pb=this.iu(ua,Zb,Kb);this.Dr=Oa;this.xAa=Kb;if(Bb){if((this.pr=this.hh + ub,this.jj=0,Oa === this.ub))return !0;}else if((this.pr=this.hh,this.jj=ub,0 === Oa))return !0;if(0 === Oa || Oa === this.ub)return !1;this.lA=!0;if(Bb){this.jj+=Pb.li;for(Bb=Oa + 1;Bb < this.ub;++Bb){Pb=this.iu(ua,Zb,Kb);this.jj+=Pb.li;}this.oa.offset=this.sV;this.ub=Oa;this.oa.th(this.ub);this.oa.dL(lb);this.jI && (this.u.offset+=4);this.Re(this.length - (Xa - this.startOffset),Xa);}else (ua=Xa - this.uA,this.oa.offset=this.sV,this.ub-=Oa,this.oa.th(this.ub),this.hh+=ub,this.oa.dL(lb,this.hh),this.jI && (this.u.offset+=4),this.Re(ua,this.oa.offset));wa.Re(this.jj,da.Wh + this.pr);return !0;};x.prototype.Sya=function(da,ua,wa,Oa,Xa,lb){var ub;if(Oa){Oa=this.pr;for(var Bb=this.ub - 1;0 <= Bb && this.ub - Bb <= Xa;--Bb){this.oa.offset=this.uA + Bb * this.Qv;ub=this.iu(ua);if(ub.xr != lb.duration){this.u.console.warn("Could not replace sample of duration " + ub.xr + " with silence of duration " + lb.duration);break;}if(this.Uv)(this.oa.offset-=this.Qv - (this.Sv?4:0),this.oa.th(lb.Qk.byteLength));else if(lb.Qk.byteLength !== ub.li){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Oa-=ub.li;wa.Pv(ub.li,lb.Qk,da.Wh + Oa);}}else for((Oa=this.pr + this.jj,Bb=0);Bb < this.ub && Bb < Xa;++Bb){this.oa.offset=this.uA + (Bb + this.Dr) * this.Qv;ub=this.iu(ua);if(ub.xr != lb.duration){this.u.console.warn("Could not replace sample of duration " + ub.xr + " with silence of duration " + lb.duration);break;}if(this.Uv)(this.oa.offset-=this.Qv - (this.Sv?4:0),this.oa.th(lb.Qk.byteLength));else if(lb.Qk.byteLength !== ub.li){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}wa.Pv(ub.li,lb.Qk,da.Wh + Oa);Oa+=ub.li;}};y.Ta=!1;y.prototype=Object.create(N.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{Nn:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(da){this.Gc();this.Nn && this.u.am();this.Nn && this.u.xa();this.Koa=this.u.Xa();this.ub=this.u.xa();this.ota=this.u.AB(this.ub);da && da.pa && (da.pa.qza=this.ota);return !0;};y.prototype.Ba=function(da,ua){if(da && 0 === this.Koa){da=ua?this.ub - da:da;this.oa.offset=this.startOffset + 13 + (this.Nn?8:0);this.ub-=da;this.oa.th(this.ub);this.bK=0;if(ua)this.oa.offset+=this.ub;else {for(ua=0;ua < da;++ua){this.bK+=this.oa.Xa();}this.oa.offset-=da;}this.Re(da,this.u.offset);}return !0;};z.Ta=!1;z.prototype=Object.create(N.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Nn:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(da){var ua,wa,Kb,Pb;this.Gc();this.Nn && this.u.am();this.Nn && this.u.xa();this.vg=this.u.xa();G(1 === this.vg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.hh=0 === this.version?this.u.DB():this.u.wya();this.u.offset=this.hh;if(da && da.pa){ua=da.Zb.Eoa;wa=da.pa.qza;G(0 < ua || void 0 !== da.Zb.Doa,"Expected per sample or constant IV");G(wa && 0 < wa.length,"Expected saix box parsing to find sample info sizes");da.pa.wr=[];for(var Oa=0;Oa < wa.length;Oa++){for(var Xa=ua?this.u.CB(ua):void 0,lb=[],Bb=this.u.yc(),ub=0;ub < Bb;ub++){Kb=this.u.yc();Pb=this.u.xa();lb.push({Uma:Kb,Vma:Pb});}da.pa.wr.push({DK:lb,SF:Xa});}}return !0;};z.prototype.Ba=function(da,ua){this.hh+=da;this.oa.offset=this.startOffset + 16 + (this.Nn?8:0) + (0 === this.version?0:4);this.oa.dL(ua,this.hh);return !0;};A.Ta=!1;A.prototype=Object.create(N.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{BZ:{get:function(){return this.flags & 1;}},Y0:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(da){var ua,Bb,ub;this.Gc();ua=0;this.BZ && (ua=this.eua=this.u.xa() & 255,this.u.AB(16));if(da && da.pa){if(da.pa.wr)return;da.pa.Se || (da.pa.Se=[]);}if(0 !== ua && 8 !== ua && 16 !== ua)return !0;this.ub=this.u.xa();if(da && da.pa)for(var wa=0;wa < this.ub;wa++){if((da.pa.Se[wa].SF=0 < ua?this.u.CB(ua):void 0,this.Y0)){for(var Oa=[],Xa=this.u.yc(),lb=0;lb < Xa;lb++){Bb=this.u.yc();ub=this.u.xa();Oa.push({Uma:Bb,Vma:ub});}da.pa.Se[wa].DK=Oa;}}return !0;};A.prototype.Ba=function(da,ua){var wa,Oa;wa=ua?this.ub - da:da;this.oa.offset=this.startOffset + 28 + (this.BZ?20:0);this.ub-=wa;this.oa.th(this.ub);da=this.oa.offset;if(this.Y0)for(wa=ua?this.ub:wa;0 < wa;--wa){this.oa.offset+=8;Oa=this.oa.yc();this.oa.offset+=6 * Oa;}else this.oa.offset+=8 * (ua?this.ub:wa);ua?this.Re(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Re(this.u.offset - da,da);};B.Ta=!1;B.prototype=Object.create(N.prototype);B.prototype.constructor=B;B.prototype.parse=function(da){this.Gc();if(da && da.pa){void 0 === da.pa.Se && (da.pa.Se=[]);for(var ua=0;ua < this.length - 12;ua++){da.pa.Se[ua].C0b=this.u.Xa();}}return !0;};B.prototype.Ba=function(da,ua,wa){wa?this.Re(ua - da,this.startOffset + 12 + da):this.Re(da,this.startOffset + 12);return !0;};D.Ta=!1;D.prototype=Object.create(N.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.Gc();this.u.am();1 === this.version && this.u.xa();this.vg=this.u.xa();this.Tv=[];for(var da=0;da < this.vg;++da){for(var ua=this.u.xa(),wa=this.u.xa(),Oa=0;Oa < ua;++Oa){this.Tv.push(wa);}}return !0;};D.prototype.Ba=function(da,ua){this.Tv=ua?this.Tv.slice(0,da):this.Tv.slice(da);da=this.Tv.reduce(function(wa,Oa){0 !== wa.length && wa[wa.length - 1].group === Oa || wa.push({group:Oa,count:0});++wa[wa.length - 1].count;return wa;},[]);this.oa.offset=this.startOffset + 16 + (1 === this.version?4:0);this.oa.th(da.length);da.forEach((function(wa){this.oa.th(wa.count);this.oa.th(wa.group);}).bind(this));this.vg > da.length && this.Re(8 * (this.vg - da.length));this.vg=da.length;return !0;};C.Ta=!1;C.prototype=Object.create(N.prototype);C.prototype.constructor=C;ya={Za:{moov:k,trak:c,mdia:c,mdhd:h,minf:c,encv:ya,schi:c,sidx:g,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:u,mdat:C,vmaf:d},xBa:{vpcC:w,SmDm:t("smdm"),CoLL:t("coll")},M0:{schm:fa},cK:{}};F([ia,M,P,R,Ba,Sa,La,L,O,cb,wb,J,S,H,Q,a],ya.Za);F([U,na,ra,V,K,T,ba,va,Wa,Za],ya.cK);F([ia,fa],ya.M0);ya.Za[b.YS]=m;ya.Za[b.Uy]=l;ya.Za[b.Ty]=n;ya.Za[b.XS]=A;ya.cK[b.cG]=Va;ya.Kc=N;r.exports={Zq:ya};},function(r,b){function a(k,h){return "number" !== typeof k || "number" !== typeof h?!1:k && h?Math.abs(k * h / c(k,h)):0;}function c(k,h){var g;k=Math.abs(k);for(h=Math.abs(h);h;){g=h;h=k % h;k=g;}return k;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function k(h,g){"object" === typeof h?(this.ic=h.mc,this.eb=h.V):(this.ic=h,this.eb=g);}k.Oa=function(h){return new k(h,1E3);};k.H0=function(h,g){return Math.floor(1E3 * h / g);};k.$va=function(h,g){return Math.floor(h * g / 1E3);};k.max=function(){for(var h=[],g=0;g < arguments.length;g++){h[g]=arguments[g];}return h.reduce(function(d,f){return d.greaterThan(f)?d:f;});};k.min=function(){for(var h=[],g=0;g < arguments.length;g++){h[g]=arguments[g];}return h.reduce(function(d,f){return d.lessThan(f)?d:f;});};k.vx=function(h,g){var d;if(h.V === g.V)return new k(c(h.mc,g.mc),h.V);d=a(h.V,g.V);return k.vx(h.df(d),g.df(d));};Object.defineProperties(k.prototype,{mc:{get:function(){return this.ic;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return 1E3 * this.ic / this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Kh:{get:function(){return this.ic / this.eb;},enumerable:!0,configurable:!0}});k.prototype.df=function(h){h/=this.V;return new k(Math.floor(this.mc * h),Math.floor(this.V * h));};k.prototype.add=function(h){var g;if(this.V === h.V)return new k(this.mc + h.mc,this.V);g=a(this.V,h.V);return this.df(g).add(h.df(g));};k.prototype.Ha=function(h){return this.add(new k(-h.mc,h.V));};k.prototype.qJ=function(h){return new k(this.mc * h,this.V);};k.prototype.Rl=function(h){var g;if(this.V === h.V)return this.mc / h.mc;g=a(this.V,h.V);return this.df(g).Rl(h.df(g));};k.prototype.q9=function(h){return a(this.V,h);};k.prototype.compare=function(h,g){var d;if(this.V === g.V)return h(this.mc,g.mc);d=a(this.V,g.V);return h(this.df(d).mc,g.df(d).mc);};k.prototype.equal=function(h){return this.compare(function(g,d){return g === d;},h);};k.prototype.gba=function(h){return this.compare(function(g,d){return g !== d;},h);};k.prototype.lessThan=function(h){return this.compare(function(g,d){return g < d;},h);};k.prototype.greaterThan=function(h){return this.compare(function(g,d){return g > d;},h);};k.prototype.oP=function(h){return this.compare(function(g,d){return g <= d;},h);};k.prototype.Ks=function(h){return this.compare(function(g,d){return g >= d;},h);};k.prototype.toJSON=function(){return {ticks:this.mc,timescale:this.V};};k.prototype.toString=function(){return this.mc + "/" + this.V;};k.hb=new k(0,1);k.Tx=new k(1,1E3);return k;})();b.R=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(27);k=a(27);a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){this.u.offset+=6;this.u.yc();k.Z && this.u.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Zb)d.Zb.z0b=this.type;return !0;};return g;})(r.Kc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(22);r.__exportStar(a(158),b);r.__exportStar(a(279),b);r.__exportStar(a(280),b);r.__exportStar(a(281),b);r=a(280);c=a(281);a=a(279);b.Fq={3:a.kS,4:r.eS,5:c.Ffa};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){var f;this.Pfa=this.u.yc();f=this.u.Xa();this.m0=! !(f & 128);this.qT=! !(f & 64);this.VS=! !(f & 32);this.RAa=f & 31;this.Soa=this.m0?this.u.yc():void 0;this.qT && this.u.AB(this.u.Xa());this.hha=this.VS?this.u.yc():void 0;k.Z && this.u.console.trace("ESDescriptor: ES_ID=" + this.Pfa + ", streamDependenceFlag=" + this.m0 + ", URL_Flag=" + this.qT + ", OCRstreamFlag=" + this.VS + ", streamPriority=" + this.RAa + ", dependsOn_ES_ID=" + this.Soa + ", OCR_ES_Id=" + this.hha);this.uU(d);return !0;};g.tag=3;return g;})(a(158).IF);b.kS=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){var f;this.oB=this.u.Xa();f=this.u.Xa();this.BK=f >>> 2;this.YK=f >>> 1 & 1;this.uH=256 * this.u.yc() + this.u.Xa();this.maxBitrate=this.u.xa();this.Mz=this.u.xa();k.Z && this.u.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.oB.toString(16) + ", streamType=" + this.BK + ", upStream=" + this.YK + ", bufferSizeDB=" + this.uH + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.Mz);if(null === d || void 0 === d?0:d.Ud)(d.Ud.oB=this.oB,d.Ud.BK=this.BK,d.Ud.YK=this.YK,d.Ud.uH=this.uH,d.Ud.maxBitrate=this.maxBitrate,d.Ud.Mz=this.Mz);this.uU(d);return !0;};g.tag=4;return g;})(a(158).IF);b.eS=r;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);r=a(158);h=a(278);a=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);d.prototype.k_=function(){var f;f=this.u.Fc(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.u.Fc(24);};d.prototype.parse=function(f,m){if(this.zta(m) && 64 === m.oB){this.Uh=this.i_();this.yr=this.k_();this.BH=this.u.Fc(4);this.fK=this.Lu=5 === this.Uh || 29 === this.Uh?5:-1;this.RJ=29 === this.Uh?1:-1;0 < this.Lu && (this.gI=this.k_(),this.Uh=this.i_(),22 === this.Uh && (this.fI=this.u.Fc(4)));switch(this.Uh){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.Uu=this.u.Fc(1),this.OH=(this.Roa=this.u.Fc(1))?this.u.Fc(14):void 0,this.u.Fc(1),this.$n=3 === this.Uh?256:23 === this.Uh?this.Uu?480:512:this.Uu?960:1024);}k.Z && this.u.console.trace("AudioSpecificConfig: audioObjectType=" + this.Uh + ", samplingFrequency=" + this.yr + ", channelConfiguration=" + this.BH + ", extensionAudioObjectType=" + this.Lu + ", sbrPresentFlag=" + this.fK + ", psPresentFlag=" + this.RJ + ", extensionSamplingFrequency=" + this.gI + ", extensionChannelConfiguration=" + this.fI + ", frameLengthFlag=" + this.Uu + ", coreCoderDelay=" + this.OH + ", frameLength=" + this.$n);if(null === f || void 0 === f?0:f.Ud)(f.Ud.Uh=this.Uh,f.Ud.yr=this.yr,f.Ud.BH=this.BH,f.Ud.Lu=this.Lu,f.Ud.fK=this.fK,f.Ud.RJ=this.RJ,f.Ud.gI=this.gI,f.Ud.fI=this.fI,f.Ud.Uu=this.Uu,f.Ud.OH=this.OH,f.Ud.$n=this.$n);}this.skip();return !0;};d.prototype.i_=function(){var f;f=this.u.Fc(5);31 === f && (f=32 + this.u.Fc(6));return f;};d.prototype.zta=function(f){return f.tag === h.eS.tag;};d.tag=5;return d;})(r.IF);b.Ffa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(h,g){return h + g.byteLength;},0);k=new Uint8Array(c);a.reduce(function(h,g){k.set(new Uint8Array(g),h);return h + g.byteLength;},0);return k.buffer;};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(473);k=a(275);h=a(474);r=(function(){function g(d,f,m){this.console=d;this.stream=f;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}g.prototype.parse=function(d){var f;f=new h.fS(this.view.byteLength);this.Dc=new c.DF(k.Zq.Za,f,this.view,this.console,{CJ:!0});d=this.Dc.parse(d);this.Za=this.Dc.Za;return d;};return g;})();b.Tr=r;},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.g2=void 0;k=a(43);h=a(125);c.As=function(){var g;g={};return (g[k.H.LF]="avc1.4D401E",g[k.H.MF]="avc1.4D401F",g[k.H.cga]="avc1.4D4028",g[k.H.YGa]="avc1.4D401E",g[k.H.ZGa]="avc1.4D401F",g[k.H.$Ga]="avc1.4D4028",g[k.H.fga]="hev1.2.6.L90.B0",g[k.H.gga]="hev1.2.6.L93.B0",g[k.H.hga]="hev1.2.6.L120.B0",g[k.H.iga]="hev1.2.6.L123.B0",g[k.H.L2]="hev1.2.6.L90.B0",g[k.H.O2]="hev1.2.6.L93.B0",g[k.H.R2]="hev1.2.6.L120.B0",g[k.H.U2]="hev1.2.6.L123.B0",g[k.H.tS]="hev1.2.6.L150.B0",g[k.H.uS]="hev1.2.6.L153.B0",g[k.H.M2]="hev1.2.6.L90.B0",g[k.H.P2]="hev1.2.6.L93.B0",g[k.H.S2]="hev1.2.6.L120.B0",g[k.H.V2]="hev1.2.6.L123.B0",g[k.H.X2]="hev1.2.6.L150.B0",g[k.H.Z2]="hev1.2.6.L153.B0",g[k.H.K2]="hev1.2.6.L90.B0",g[k.H.N2]="hev1.2.6.L93.B0",g[k.H.Q2]="hev1.2.6.L120.B0",g[k.H.T2]="hev1.2.6.L123.B0",g[k.H.W2]="hev1.2.6.L150.B0",g[k.H.Y2]="hev1.2.6.L153.B0",g[k.H.s2]="hev1.2.6.L90.B0",g[k.H.v2]="hev1.2.6.L93.B0",g[k.H.sS]="hev1.2.6.L120.B0",g[k.H.A2]="hev1.2.6.L123.B0",g[k.H.D2]="hev1.2.6.L150.B0",g[k.H.G2]="hev1.2.6.L153.B0",g[k.H.t2]="hev1.2.6.L90.B0",g[k.H.w2]="hev1.2.6.L93.B0",g[k.H.y2]="hev1.2.6.L120.B0",g[k.H.B2]="hev1.2.6.L123.B0",g[k.H.E2]="hev1.2.6.L150.B0",g[k.H.H2]="hev1.2.6.L153.B0",g[k.H.r2]="hev1.2.6.L90.B0",g[k.H.u2]="hev1.2.6.L93.B0",g[k.H.x2]="hev1.2.6.L120.B0",g[k.H.z2]="hev1.2.6.L123.B0",g[k.H.C2]="hev1.2.6.L150.B0",g[k.H.F2]="hev1.2.6.L153.B0",g[k.H.T1]=h.Md.wfa,g[k.H.V1]=h.Md.$Ea,g[k.H.cS]=h.Md.xfa,g[k.H.Y1]=h.Md.yfa,g[k.H.a2]=h.Md.zfa,g[k.H.c2]=h.Md.Afa,g[k.H.Bfa]=h.Md.xfa,g[k.H.Cfa]=h.Md.yfa,g[k.H.Dfa]=h.Md.zfa,g[k.H.Efa]=h.Md.Afa,g[k.H.U1]=h.Md.wfa,g[k.H.W1]=h.Md.$Ea,g[k.H.X1]=h.Md.xfa,g[k.H.Z1]=h.Md.yfa,g[k.H.b2]=h.Md.zfa,g[k.H.d2]=h.Md.Afa,g[k.H.WGa]="avc1.640016",g[k.H.nS]="avc1.64001E",g[k.H.pS]="avc1.64001F",g[k.H.aga]="avc1.640028",g[k.H.XGa]="avc1.640016",g[k.H.oS]="avc1.64001E",g[k.H.qS]="avc1.64001F",g[k.H.bga]="avc1.640028",g[k.H.Iia]=h.Md.sT,g[k.H.tT]=h.Md.sT,g[k.H.uT]=h.Md.sT,g[k.H.e4]=h.Md.sT,g[k.H.ECa]=h.Md.El,g[k.H.FCa]=h.Md.El,g[k.H.jC]=h.Md.El,g[k.H.kC]=h.Md.El,g[k.H.x1]=h.Md.El,g[k.H.y1]=h.Md.El,g[k.H.z1]=h.Md.El,g[k.H.A1]=h.Md.El,g);};b.g2=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fd=void 0;r=b.fd || (b.fd={});r.Dxb="bitraterestriction";r.uWa="cdnsel";r.DN="chgstrm";r.debug="debug";r.lFb="dlreport";r.bI="endplay";r.xta="intrplay";r.yE="midplay";r.Mba="playbackaborted";r.cbb="renderstrmswitch";r.sQ="repos";r.zQ="resumeplay";r.p1b="serversel";r.fF="startplay";r.Ndb="statechanged";r.transition="transition";r.xwb="asereport";r.jVa="audioswitch";r.FVa="blockedautoplay";r.config="config";r.cpa="dlreq";r.uec="ftlProbeError";r.U3b="subtitleerror";r.V3b="subtitleqoe";r.Q4b="timedtextrebuffer";r.Veb="timedtextswitch";r.Adb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wIa="IsTypeSupportedProviderFactorySymbol";b.xMa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var k,h,g;function c(){this.type=k.iw.Sy;}Object.defineProperty(b,"__esModule",{value:!0});b.wC=void 0;k=a(28);r=a(127);h=a(95);g=new r.rG();c.PCb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?nb.MSMediaKeys.isTypeSupported(h.Bb.Yy,d):"probably" === c.dBa(f[0],f[1]);}catch(m){return !1;}}};};c.c7=function(d,f,m){f=g.format(c.Qda,f);if(0 === m.length)return f;m=g.format('features="{0}"',m.join());return g.format("{0}|{1}{2}",d,f,m);};c.dBa=function(d,f){var m;try{m=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(l){m="exception";}return m;};b.wC=c;c.Qda='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cg=void 0;b.Cg=a;a.bHa=/^hevc-main/;a.aHa=/^hevc-hdr-|hevc-dv/;a.uL=/^hevc-hdr-/;a.nw=/^hevc-dv/;a.mS=/h264mpl/;a.LF=/h264mpl30/;a.MF=/h264mpl31/;a.lC=/h264hpl/;a.HC=/^vp9-/;a.El=/^av1-/;a.oT=/-L5[0-1]-/;a.uea=/^heaac-2-/;a.Ykb=/^heaac-2hq-dash/;a.dz=/^xheaac-dash/;a.kjb=/ddplus-2/;a.ljb=/ddplus-5/;a.mjb=/ddplus-atmos/;},function(r,b){function a(c,k){var h;h=this;this.status={};c.forEach(function(g,d){h.status[g]=k[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.F3=void 0;a.prototype.NO=function(){return this.status;};a.prototype.p9=function(){return Object.entries(this.status).filter(function(c){c=pa(c);c.next();return c.next().value.supported;}).map(function(c){var k;c=pa(c);k=c.next().value;c.next();return k;});};b.F3=a;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t){var w;w=g.GF.call(this,n,p,k.dk.nQa,t) || this;w.config=n;w.Hj=p;w.is=q;w.raa=t;w.type=k.Gl.ow;w.t7b=d.Md.mYa();return w;}Object.defineProperty(b,"__esModule",{value:!0});b.pw=void 0;k=a(28);h=a(43);g=a(485);r=a(127);d=a(125);f=a(284);m=a(105);l=a(289);new r.rG();la(c,g.GF);c.prototype.GK=function(){return Promise.resolve(!1);};c.prototype.FO=function(){return Promise.resolve("");};c.prototype.T8=function(){return Promise.resolve("");};c.prototype.r0=function(){return this.config().rpa?this.raa.Gta()?this.raa.sx(h.H.sS).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.uda=function(){return this.config().rpa?this.raa.Gta()?this.raa.sx(h.H.cS).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.s0=function(){return Promise.resolve(!1);};c.prototype.p0=function(){return Promise.resolve(!1);};c.prototype.jX=function(n){return this.t7b[n];};c.prototype.ula=function(){};c.prototype.vSb=function(n){switch(n){case k.$p.i3:return "1.4";case k.$p.WF:return "2.2";}};c.prototype.As=function(){return f.g2.As();};c.prototype.r2a=function(){return (0,m.Ffb)(function(n,p){return n.name === p.name;},this.config().sUa,this.config().qn);};c.prototype.BX=function(){return Promise.resolve(void 0);};c.prototype.j9=function(){return Promise.resolve(void 0);};c.prototype.b7=function(n){var p;p=[];this.is.Qg(n) && p.push(this.vSb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:! !p.length}];};c.prototype.RW=function(n){return this.config().zWb?Promise.resolve(new l.F3(n,n.map(function(){return {supported:!0};}))):g.GF.prototype.RW.call(this,n);};b.pw=c;c.Qda="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wfa=b.My=void 0;r=b.My || (b.My={});r.$ob="unknown";r.GCa="absent";r.LNa="present";r.Error="error";b.Wfa="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="IDBDatabaseFactorySymbol";b.kIa="IndexedDBFactorySymbol";b.mIa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d4="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nSb=b.tP=b.lSb=void 0;b.lSb=function(a){return a;};b.tP=function(a){return a;};b.nSb=function(a){return Object.assign({},a);};},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v;function c(u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R){this.j=u;this.trackId=x;this.Ex=y;this.bc=z;this.Ki=A;this.ffb=B;this.wc=D;this.Gu=C;this.dpa=F;this.Af=G;this.displayName=E;this.ri=I;this.EK=N;this.variant=L;this.TE=H;this.profile=Q;this.uv=O;this.MP=J;this.FIb=M;this.w$=P;this.fv=R;this.type=d.Vi.Bda;this.Mt=void 0;this.ol=!(!Q || Q != m.mm.HL);this.ph={bcp47:G,trackId:x,downloadableId:D,isImageBased:this.ol};this.log=(0,f.Ii)(u,"TimedTextTrack");this.state=v.s3;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.sG=void 0;k=a(2);h=a(107);g=a(19);d=a(90);f=a(8);m=a(43);l=a(24);n=a(13);p=a(1184);q=a(18);t=a(3);w=a(1185);(function(u){u[u.s3=0]="NOT_LOADED";u[u.LOADING=1]="LOADING";u[u.VF=2]="LOADED";u[u.DS=3]="LOAD_FAILED";})(v || (v={}));c.prototype.Y9=function(){var u;u=this;if(this.j.state.value === q.dc.CLOSED || this.j.state.value === q.dc.CLOSING)return Promise.reject({da:!1});if(this.ol)return this.WOb();this.sZa || (this.sZa=this.uZa());return this.sZa.then(function(x){return u.YOb(x);});};c.prototype.getState=function(){return this.state;};c.prototype.Vq=function(){return this.MP;};c.prototype.Cp=function(){return this.FIb;};c.prototype.Zu=function(u,x){var y;try{return null === (y=this.YAa) || void 0 === y?void 0:y.Zu(u,x);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:u,end:x,isImageBased:this.ol});}};c.prototype.pMb=function(){var u,x,y;if(!(0,n.sd)(this.$))try{y=null === (x=null === (u=this.YAa) || void 0 === u?void 0:u.CO(0)) || void 0 === x?void 0:x[0];this.$=null === y || void 0 === y?void 0:y.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.$;};c.prototype.bda=function(u){return this.j.state.value === q.dc.CLOSING || this.j.state.value === q.dc.CLOSED?(this.log.info("playback is closing, abort timed text retry",u),!1):this.j.tc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",u),!1):!0;};c.prototype.jYa=function(u){var x,y,z;x=this;y=(0,f.Ii)(this.j,"TimedTextTrack");y.warn=y.trace.bind(y);y.info=y.debug.bind(y);y=(0,p.kYa)(this.j,y,this.request,this);z=new w.default(y,u);z.on("ready",function(){x.YAa=z;});return z;};c.prototype.WOb=function(){var u,x,y,z,A,B,D;u=this;if(!this.l4a){this.state=v.LOADING;x={profile:"nflx-cmisc",url:"",qVa:!1,Ova:this.uv.offset,Q7a:this.uv.length,Kd:this.j.mediaTime.value || 0,bufferSize:g.config.uOb,Oca:{P:this.j.iX()}};y=(this.dpa || []).filter(function(C){return (C.id in u.Gu);}).sort(function(C,F){return C.bc - F.bc;}).map(function(C){return C.id;});z=0;A={};B=!0;D=function(C,F){var G;if((0,n.sd)(C)){if(B || u.bda(u.Xu(u.Eu,"","image"))){B=!1;u.uv.url=u.Gu[u.Eu];x.url=u.uv.url;A[C]=(A[C] || 0) + 1;G=u.jYa(x);G.on("ready",function(){F({da:!0,track:u});});G.on("error",function(E){var I;E=Object.assign({da:!1},E);I=u.Xu(u.Eu,u.uv.url,"image");I.details={midxoffset:u.uv.offset,midxsize:u.uv.length};I.errorstring=E.errorString;A[C] <= g.config.Teb?(u.m8(I,!0,"retry with current cdn"),u.sma(A[C]).then(function(N){u.log.trace("retry timed text download after " + N,u.Xu(u.Eu,"","image"));D(u.Eu,F);})):(u.Eu=y[z++],u.Eu?(u.m8(I,!0,"retry with next cdn"),u.sma(A[C]).then(function(N){u.log.trace("retry timed text download after " + N,u.Xu(u.Eu,"","image"));D(u.Eu,F);})):(u.m8(I,!1,"all cdns tried"),F({da:!1,mUb:"all cdns failed for image subs",track:u})));});G.start();}else F({da:!1,aborted:!0});}else (F({da:!1,mUb:"cdnId is not defined for image subs downloadUrl"}),u.m8(u.Xu(0,"","image"),!1,"cdnId is undefined"));};this.Eu=y[z++];this.l4a=new Promise(function(C,F){D(u.Eu,function(G){G.da?(u.log.info("Loaded image subtitle manager"),u.state=v.VF,C(G)):(u.log.error("Unable to load image subtitles manager",G),u.state=v.DS,F(G));});});}return this.l4a;};c.prototype.YOb=function(u){var x,y;x=this;y=this.j.vR;(0,l.sb)(y);return new Promise(function(z,A){var B;B=x.jYa({profile:x.profile,xml:u,ih:g.config.Ueb,preferences:g.config.qBa,Kd:x.j.mediaTime.value || 0,qVa:!1,videoSize:y});B.on("ready",function(){z(B);}).on("error",function(D){A({da:!1,error:D});}).start();}).then(function(){x.state=v.VF;return {da:!0,track:x};}).catch(function(z){x.log.error("Unable to parse timed text track",(0,t.Ly)(z),x.ph,{url:z.url});x.state=v.DS;z.reason="parseerror";z.track=x;throw z;});};c.prototype.m8=function(u,x,y){u=Object.assign({},u,{dic:x,status:y});this.j.fireEvent(q.ga.$Q,u);this.log.warn("subtitleerror event",u);};c.prototype.request=function(u,x){var y,z,A;y=this;this.log.trace("Downloading",u);A=this.Uqa(this.Eu);u={url:u.url,offset:u.offset,length:u.size,Mt:this.Mt,responseType:h.SX,headers:{},Bc:A,ED:"tt-" + this.Af,Bt:null !== (z=null === A || void 0 === A?void 0:A.type) && void 0 !== z?z:"unknown"};this.j.Q9.download(u,function(B){y.log.trace("imgsub: request status " + B.da);B.da?x(null,new Uint8Array(B.content)):x({wa:B.wa,Df:B.Df});});};c.prototype.Xu=function(u,x,y){return {currentCdnId:u,url:x,profile:this.profile,dlid:this.wc,subtitletype:y,bcp47:this.Af,trackId:this.trackId,cdnCount:Object.keys(this.Gu).length,isImageBased:this.ol};};c.prototype.Uqa=function(u){return (this.dpa || []).find(function(x){return x.id === u;});};c.prototype.uZa=function(){var z,A;function u(B){return k.__awaiter(z,void 0,void 0,function C(){var F,G,E;G=this;return Ja(C,function(I){F=y();E=G.Xu(B.Bc.id,B.url,"text");E.errorstring=B.reason;return F && G.bda(E)?I.return(G.sma(A[F.id]).then(x)):I.return(Promise.reject({da:!1,aborted:!0}));});});}function x(){return k.__awaiter(z,void 0,void 0,function D(){var C,F,G;F=this;return Ja(D,function(E){G=(C=y()) && F.Gu[C.id];return C && G?(A[C.id]=(A[C.id] || 0) + 1,E.return(F.uFb(G,C).catch(u))):E.return(Promise.reject({}));});});}function y(){return (z.dpa || []).find(function(B){return ! !((A[B.id] || 0) < g.config.Teb && z.Gu[B.id]);});}z=this;this.state=v.LOADING;A={};return x();};c.prototype.sma=function(u){return new Promise(function(x){var y;y=1E3 * Math.min(Math.pow(2,u - 1),8);setTimeout(function(){return x(y);},y);});};c.prototype.uFb=function(u,x){var y;y=this;this.log.trace("Downloading",x && ({Bc:x.id}),this.Xu(x.id,u,"text"));return new Promise(function(z,A){var B;B={responseType:h.Rsa,url:u,track:y,Bc:x,ED:"tt-" + y.Af,Bt:x.type};y.j.Q9.download(B,function(D){D.da?z(D.content):(D=Object.assign(Object.assign({},D),{reason:"downloadfailed",url:B.url,track:y,Bc:x}),A(D));});});};Ya.Object.defineProperties(c.prototype,{Rf:{configurable:!0,enumerable:!0,get:function(){return this.ffb.Rf;}},xy:{configurable:!0,enumerable:!0,get:function(){return this.ffb.xy;}}});b.sG=c;c.EC=v;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Nra:function(){return this.buffer.length - this.position;},BB:function(){return this.buffer[this.position++];},ji:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},mr:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},tya:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Jh:function(){return this.mr(2);},nr:function(){return this.mr(4);},lQ:function(){return this.mr(8);},cy:function(a){for(var c,k="";a--;){c=this.BB();k+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return k;},vya:function(a){for(var c=0,k=0;k < a;k++){c+=this.BB() << (k << 3);}return c;},kQ:function(){return this.vya(4);},p1:function(a){this.CR(a,2);},iC:function(a){this.CR(a,4);},pea:function(a){this.buffer[this.position++]=a;},CR:function(a,c){this.position+=c;for(var k=1;k <= c;k++){this.buffer[this.position - k]=a & 255;a=Math.floor(a / 256);}},hC:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},o1:function(a){for(var c=a.length,k=0;k < c;k++){this.buffer[this.position++]=a[k];}},BR:function(a,c){this.o1(a.ji(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gJa="LogMessageRulerConfigSymbol";b.iJa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bha="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aha="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,f,m,l,n,p;function c(q,t,w,v){this.Da=q;this.JX=t;this.Ea=w;this.profile=v;}function k(){}function h(){}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=b.B3=void 0;r=a(2);d=a(0);f=a(35);m=a(5);l=a(11);n=a(20);a=a(75);g.prototype.encode=function(q){return {downloadableId:q.wc,duration:q.duration};};g.prototype.decode=function(q){return {wc:q.downloadableId,duration:q.duration};};h.prototype.encode=function(q){return {total:q.total,totalContentTime:q.PK,totalAdDuration:q.oF,totalCombinedDuration:q.jR,totalOtherDuration:q.pF,audio:q.audio.map(new g().encode),video:q.video.map(new g().encode),text:q.text.map(new g().encode)};};h.prototype.decode=function(q){var t;return {total:q.total,PK:null !== (t=q.totalContentTime) && void 0 !== t?t:q.total,oF:q.totalAdDuration,jR:q.totalCombinedDuration,pF:q.totalOtherDuration,audio:q.audio.map(new g().decode),video:q.video.map(new g().decode),text:q.text.map(new g().decode)};};k.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ea,movieId:q.K,position:q.position,clientTime:q.EV,sessionStartTime:q.T_,videoTrackId:q.xR,audioTrackId:q.Mn,timedTextTrackId:q.hR,mediaId:q.xP,playTimes:new h().encode(q.KZ),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.en,profileId:q.profileId};};k.prototype.decode=function(q){return {type:q.type,href:q.href,ea:q.xid,K:q.movieId,position:q.position,EV:q.clientTime,T_:q.sessionStartTime,xR:q.videoTrackId,Mn:q.audioTrackId,hR:q.timedTextTrackId,xP:q.mediaId,KZ:new h().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,en:q.sessionParams,profileId:q.profileId};};b.B3=k;c.prototype.create=function(q){var t,w,v,u,x;x=Object.assign(Object.assign({},null !== (t=q.fb.en) && void 0 !== t?t:{}),{uiVersion:this.JX().Hq.py});return {href:q.ia && q.ia.Gk?q.ia.Gk.uX("events").href:"",type:"online",ea:q.ea.toString(),K:q.K,position:Math.floor(q.k7 || 0),EV:this.Da.R_.ca(m.la),T_:q.OI?q.OI.ca(m.la):-1,xR:null === (w=q.Bg.value) || void 0 === w?void 0:w.trackId,Mn:null === (v=q.Ac.value) || void 0 === v?void 0:v.trackId,hR:null === (u=q.tc.value) || void 0 === u?void 0:u.trackId,xP:void 0,KZ:this.HLb(q),trackId:void 0 !== q.Yj?q.Yj.toString():"",sessionId:this.JX().sessionId || this.Ea.id,appId:this.JX().appId || this.Ea.id,en:x,profileId:this.profile};};c.prototype.load=function(q){return new k().decode(q);};c.prototype.Ira=function(q){return q.map(function(t){return {wc:t.downloadableId,duration:t.duration};});};c.prototype.HLb=function(q){return (q=q.$l)?(q=q.GLb(),{total:q.total,PK:q.totalContentTime,oF:q.totalAdDuration,pF:q.totalOtherDuration,jR:q.totalCombinedDuration,audio:this.Ira(q.audio),video:this.Ira(q.video),text:this.Ira(q.timedtext)}):{total:0,PK:0,oF:0,jR:0,pF:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.wi)),r.__param(1,(0,d.l)(l.Wc)),r.__param(2,(0,d.l)(n.vd)),r.__param(3,(0,d.l)(a.PL))],p);b.gMa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mMa="PboPlaydataValidatorSymbol";b.dMa="PboPlaydataArrayValidatorSymbol";b.fMa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lga=void 0;b.Lga=a;a.Gjb="display";a.Xib="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yha=b.OL=void 0;r=b.OL || (b.OL={});r.x4b="taskstart";r.v4b="taskabort";r.w4b="taskfail";r.y4b="tasksuccess";b.Yha="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfa="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cDa="AsePrefetcherAdapterSymbol";b.dDa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dha="PboPublisherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sea=b.ce=void 0;r=b.ce || (b.ce={});r[r.Pp=0]="startPlayback";r[r.pp=1]="endPlayback";r[r.Do=2]="underflow";b.Sea="AseIntegrationFactorySymbol";},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.zK=void 0;c=a(14);k=a(19);h=a(64);g=a(61);d=a(3);f=a(24);m=a(8);l=a(25);n=a(12);p=a(309);q=a(13);r=a(37);m.Aa.get(r.Ti).register(d.T.VHa,function(t){var u,x,y;function w(){var z;w=c.zw;z=setInterval(v,k.config.RRb);h.bf.addListener(h.fo,function(A){A && A.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,l.Rg)(x,function(B,D){localStorage.removeItem(D.Vs);}),clearInterval(z));},c.KL);}function v(){var z;z=(0,g.Hna)();(0,l.Rg)(x,function(A,B){!1;A=localStorage.getItem(B.Vs);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.Vs,JSON.stringify(A));});}(0,f.sb)(p.storage);u=(0,m.Aj)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.zK={Ez:function(z,A,B){var C,F,G,E,I,N,L,H,Q,O;function D(J){localStorage.setItem(G,JSON.stringify(J));J={Vs:G};x[G]=J;u.trace("Lock acquired",{Name:J.Vs});w();A({da:!0,$$:J});}C=this;B=void 0 === B?!1:B;if(localStorage){F=(0,g.Hna)();G="lock-" + z;E={updated:F,sessionId:y,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);N=0;L=JSON.parse(I);(0,q.mE)(L.updated) && (N=L.updated);H=(0,n.m3)(F - N) * c.Vt;Q=y === L.sessionId;if(H < k.config.p6a){if(Q)(L.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:y,count:L.count}),L.updated=F,D(L));else if(B){O=k.config.p6a - H + c.Vt;u.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:L.count,Epoch:F,LockEpoch:N,waitTimeoutMs:O});nb.setTimeout(function(){return C.Ez(z,A,!1);},O);}else A({da:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:N}),D(E));}else D(E);}catch(J){u.error("Error acquiring Lock",{errorSubCode:d.O.km,errorDetails:(0,l.Me)(J)});A({da:!0});}}else (n.Lua?u.error("Local storage access exception",{errorSubCode:d.O.Dob,errorDetails:(0,l.Me)(n.Lua)}):u.error("No localstorage",{errorSubCode:d.O.Eob}),A({da:!0}));},release:function(z,A){var B,D;(0,f.sb)(x[z.Vs] == z);if(localStorage){try{B=localStorage.getItem(z.Vs);D=JSON.parse(B);1 < D.count?(--D.count,localStorage.setItem(z.Vs,JSON.stringify(D)),u.trace("Lock count decremented",{Name:z.Vs,count:D.count})):(localStorage.removeItem(z.Vs),delete x[z.Vs],u.trace("Lock released",{Name:z.Vs}));}catch(C){u.error("Unable to release Lock",{Name:z.Vs},C);}A && A(c.Fg);}}};k.config.R7?b.zK.Ez("session",function(z){b.zK.rcb=z;t(c.Fg);}):t(c.Fg);});},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(19);k=a(14);h=a(558);r=a(3);g=a(559);d=a(561);f=a(8);a=a(37);b.storage=b.storage || void 0;f.Aa.get(a.Ti).register(r.T.UHa,function(m){var l;switch(c.config.v3b){case "idb":l=g.Qdb;break;case "none":l=h.Sdb;break;case "ls":l=d.Rdb;}l(function(n){n.da?(b.storage=n.storage,m(k.Fg)):m(n);});});},function(r,b,a){var h,g,d,f,m,l,n,p,q,t,w,v;function c(u,x){var z;function y(){function A(B,D){return D.Ae && 0 !== D.Ae.length && D.Ae[0].aJ?(0,h.GB)(u,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.t_(D):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({ec:D,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.t_(D):Promise.resolve());}k(z).then(function(B){var D;D=B.K7.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");x(g.Fg);}).catch(function(C){C=C || ({});C.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",C);x(g.Fg);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(g.Fg);});}z=(0,l.Aj)("PlayDataManager");x=x || g.zw;d.config.Nt?x(g.Fg):y();}function k(u){var x;if(!b.gpa){x=l.Aa.get(n.qfa);b.gpa=new Promise(function(y,z){x.xab().then(function(){y(x);}).catch(function(A){u.error("Unable to load DRM data for license release",A);z(A);});});}return b.gpa;}Object.defineProperty(b,"__esModule",{value:!0});b.zMa=b.yMa=b.gpa=void 0;h=a(311);g=a(14);d=a(19);f=a(64);m=a(46);l=a(8);r=a(3);n=a(211);p=a(159);q=a(18);t=a(52);w=a(37);v=a(207);b.yMa=function(u){var z,A,B,D,C,F;function x(){A || (u.Be("pdsb"),A=l.Aa.get(p.bT)().then(function(G){D=G;u.Be("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.Be("pdse");throw G;}));return A;}function y(){B=!0;D && D.close();f.bf.removeListener(f.fo,y);}z=(0,l.Ii)(u,"PlayDataManager");B=!1;C=l.Aa.get(m.D3);if(!C.rL || !C.pL){F=l.Aa.get(v.Jha)();C.rL=F.ec;C.pL=F.request;}u.Be("pdctor");u.addEventListener(q.ga.fh,function(){f.bf.removeListener(f.fo,y);});u.addEventListener(q.ga.yY,function(){var G;if(!d.config.Nt && u.Le){G=u.X6.SXa();k(z).then(function(E){return E.YTa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(q.ga.fh,function(){var G;if(!B){u.A7b();G=[(function(){return d.config.Nt || !u.Le?Promise.resolve():new Promise(function(E){var I;z.info("Sending the expedited playdata");I=u.X6.SXa();u.Le.w_a(I).then(function(){z.info("Sent the expedited playdata");return k(z);}).then(function(N){return N?N.t_(I):Promise.resolve();}).then(function(){E(void 0);}).catch(function(N){z.error("Unable to send the expedited playdata",N);E();});});})(),(function(){return x().then(function(E){return E.k0(u.ka);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){l.Aa.get(t.un).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){u.iba();}).catch(function(){u.iba();});}});f.bf.addListener(f.fo,y);return {};};b.zMa=function(){return new Promise(function(u){c({},function(x){u(x);});});};l.Aa.get(w.Ti).register(r.T.tC,function(u){u(g.Fg);});},function(r,b,a){var h,g,d,f,m,l,n,p;function c(q){this.j=q;this.a6a=!1;this.log=(0,g.Ii)(this.j,"Playback");this.qP=g.Aa.get(n.ES);(0,d.sb)(h.config);h.config.Nt || (this.FFb=g.Aa.get(f.FFa));}function k(q,t){var v;function w(u){return u && 0 < u.length && u[0].aJ;}v=g.Aa.get(n.ES);return q.ea && w(q.Ae)?v.release({ea:q.ea,Ae:q.Ae}).then(function(){}):t.ea && w(t.Ae)?v.release(t).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.GB=b.NEa=void 0;h=a(19);g=a(8);d=a(24);f=a(338);m=a(62);l=a(13);n=a(192);p=a(18);c.prototype.tI=function(q){var t;t=this;return new Promise(function(w,v){var u,x,y;u=m.Ho.JXa(q.ig);x=q.sk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,g.Nz)(z.data)};});y=t.j.JLb(q.sk[0].sessionId);t.qP.Ez({Mi:y.Mi,ig:l.is.In(q.ig)?q.ig:u,J7:[y.Sl],sk:x,ea:y.ea,Wn:q.Wn,Gk:y.ia.Gk}).then(function(z){t.j.Ae=z.Ae;w(z);t.jIb(y);}).catch(v);});};c.prototype.release=function(q){return k(this.j,q);};c.prototype.SXa=function(){var q;q=this.FFb.create();q.Ae=this.j.Ae;q.ea=this.j.ea;q.K=this.j.K;return q;};c.prototype.jIb=function(q){this.a6a || (this.a6a=!0,this.j.fireEvent(p.ga.yY,{K:q.K}));};b.NEa=c;b.GB=k;},function(r,b,a){var h,g,d,f,m,l,n,p,q,t,w,v;function c(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function k(u,x,y,z){var A,B;A=this;this.j=u;this.type=x;this.log=z;this.X4=new f.oc(!1);this.CG={data:[],state:"",operation:""};this.mimeType=this.z_a((this.type === h.Rb.Ya.Nb?this.j.Bg.value:this.j.Ac.value).streams);this.Zk=new m.Tk();this.mka={Type:this.type};if(d.config.qE){B=!0;this.kqa=new f.oc(!1);}this.log.trace("Adding source buffer",this.mka,{TypeId:this.mimeType});this.Bd=y.addSourceBuffer(this.mimeType);this.Bd.addEventListener("updatestart",function(){!1;A.CG.state="updatestart";});this.Bd.addEventListener("update",function(){!1;A.CG.state="update";});this.Bd.addEventListener("updateend",function(){var D;!1;A.X4.set(!1);A.aRa && A.aRa();A.CG.state="updateend";D=0;try{D=A.Bd.buffered.length;}catch(C){}B && D && (B=!1,A.kqa.set(!0),!1);});this.Bd.addEventListener("error",function(D){var C;!1;try{C=D.target.error && D.target.error.message;(D.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(F){}u.Pd(n.T.Lnb,(0,g.V8)(A.type));});this.Bd.addEventListener("abort",function(){!1;});u.addEventListener(t.ga.closed,function(){A.Bd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.gjb=b.Zga=void 0;h=a(36);g=a(173);d=a(19);f=a(79);m=a(72);l=a(8);a(103);n=a(3);a(5);p=a(24);q=a(13);t=a(18);w=a(161);v=a(197);k.prototype.bi=function(){return this.X4.value;};k.prototype.updating=function(){return this.Bd?this.Bd.updating:!1;};k.prototype.Yca=function(u){this.aRa=u;};k.prototype.$qa=function(){return this.CG;};k.prototype.buffered=function(){return this.Bd.buffered;};k.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};k.prototype.toJSON=function(){return {type:this.type};};k.prototype.J8=function(){var u,x,y,z,A,B,D;try{u=this.Bd.buffered;x=0;if(u){y=[];z=0;A=u.length;for(z=0;z < A;z++){B=u.start(z);D=u.end(z);x+=D - B;(0,p.sb)(D > B);y.push(B + "-" + D);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(C){}};k.prototype.MUa=function(u,x){!1;try{(0,p.sb)(this.Bd.buffered && 1 >= this.Bd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.J8()));}catch(y){}(0,p.sb)(!this.bi());this.adb("append",u);x=x && x.Mv / 1E3;(0,q.Ga)(x) && this.Bd.timestampOffset !== x && (!1,this.Bd.timestampOffset=x);this.Bd.appendBuffer(u);!1;this.X4.set(!0);};k.prototype.remove=function(u,x){(0,p.sb)(!this.bi());try{this.adb("remove");!1;this.Bd.remove(u,x);this.X4.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.mka);}};k.prototype.adb=function(u,x){this.CG.data=x || [];this.CG.state="init";this.CG.operation=u;};k.prototype.c2b=function(u,x){this.ZQb=Math.floor(1E3 * u / x);};k.prototype.Yyb=function(u){var x;if(this.Bd){if((u=this.z_a([{type:this.FAb,Pf:u}]),u !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Bd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Bd.changeType(u);this.mimeType=u;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.mka,{From:x,To:u}),new c(y.message));}}}else this.log.info("No SourceBuffer");};k.prototype.appendBuffer=function(u,x){!x || x.Hc?this.Ula(u,x):this.f6(u,x);return !0;};k.prototype.Ula=function(u,x){this.j.Wf.Ula(this,u,x || ({}));};k.prototype.f6=function(u,x){u=this.AAb(u,x);!1;this.j.Wf.f6(u);};k.prototype.AAb=function(u,x){var y;y=this.ZQb || 0;return {Hzb:function(){this.response=void 0;},Ji:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:v.Ec.$c.DONE,yB:x.$,ay:x.$ + x.duration,Ds:x.duration,Mv:y,uk:x.uk,fa:x.fa,Qa:x.Qa,ue:+x.ue,location:x.location,xN:x.offset,vN:x.offset + x.aa - 1,bitrate:x.bitrate,response:u,h3a:u && 0 < u.byteLength,jE:!0,get Hc() {return !this.jE;},ccb:this.hk - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.fa,isHeader:this.Hc,ptsStart:this.yB,ptsOffset:this.Mv,responseType:this.Fcc,duration:this.Ds,readystate:this.Sh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};k.prototype.endOfStream=function(){var u;this.j.mH("EndOfStream");null === (u=this.j.Wf) || void 0 === u?void 0:u.kZ(this.mediaType);};k.prototype.Edb=function(u){this.kub=u;};k.prototype.addEventListener=function(u,x,y){this.Zk.addListener(u,x,y);};k.prototype.removeEventListener=function(u,x){this.Zk.removeListener(u,x);};k.prototype.z_a=function(u){var x;x=l.Aa.get(w.lT);return this.type === h.Rb.Ya.Nb?x.f7(u):x.a7(u);};Ya.Object.defineProperties(k.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Fdb:{configurable:!0,enumerable:!0,get:function(){return this.kub;}},FAb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Zga=k;la(c,Error);b.gjb=c;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.pYa=b.fva=void 0;c=a(24);k=a(25);h=a(13);(function(){var d,f,m;function g(l){(0,c.sb)(void 0 !== d[l]);return d[l];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;m=/[", ]/;b.pYa=function(l){return (0,h.sd)(l)?(0,h.Ga)(l)?l:(0,h.Uf)(l)?l.replace(f,g):(0,h.B4a)(l)?l:isNaN(l)?"NaN":"":"";};b.fva=function(l){var n,p;n=b.pYa;p="";(0,k.Rg)(l,function(q,t){q=n(q) + "=" + n(t);m.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ck=void 0;r=b.ck || (b.ck={});r[r.zdb=1]="sourceopen";r[r.Dq=2]="currentTimeChanged";r[r.M_=3]="seeked";r[r.$5a=5]="licenseadded";r[r.xdb=6]="sourceBuffersAdded";r[r.qba=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vha="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xha="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var k;function c(h,g){var d;d=this;this.gj=h;this.qh=g;this.addEventListener=function(f,m,l){return d.qh.addListener(f,d.HYa(f,m),l);};this.removeEventListener=function(f,m){return d.qh.removeListener(f,d.HYa(f,m));};this.getReady=function(){return d.qh.isReady();};this.getXid=function(){return d.Mb().EA();};this.getMovieId=function(){return d.Mb().Z1a();};this.getPlaygraphId=function(){return d.qh.LLb();};this.getElement=function(){return d.qh.co();};this.isPlaying=function(){return d.Mb().Wq();};this.isPaused=function(){return d.Mb().hY();};this.isMuted=function(){return d.Mb().Kta();};this.isReady=function(){return d.Mb().isReady();};this.isBackground=function(){return d.Mb().A4a();};this.setBackground=function(f){return d.Mb().Qza(f);};this.startInactivityMonitor=function(){return d.Mb().VQ();};this.setTransitionTime=function(f){return d.Mb().fAa(f);};this.getDiagnostics=function(){return d.Mb().d1a();};this.getTextTrackList=function(f){return d.Mb().gsa(f);};this.getMaxRecommendedTextIndex=function(f){return d.Mb().vra(f);};this.getTextTrack=function(){return d.Mb().fsa();};this.setTextTrack=function(f){return d.Mb().bAa(f);};this.getVolume=function(){return d.Mb().U2a();};this.isEnded=function(){return d.Mb().Cta();};this.getBusy=function(){return d.Mb().bi();};this.getError=function(){return d.Mb().getError();};this.getCurrentTime=function(){return d.Mb().Yu();};this.getBufferedTime=function(){return d.Mb().M0a();};this.getSegmentTime=function(){return d.Mb().N8();};this.getDuration=function(){return d.Mb().Yqa();};this.getVideoSize=function(){return d.Mb().T2a();};this.getAudioTrackList=function(){return d.Mb().E0a();};this.getMaxRecommendedAudioIndex=function(){return d.Mb().T1a();};this.getAudioTrack=function(){return d.Mb().D0a();};this.getTimedTextTrackList=function(f){return d.Mb().gsa(f);};this.getMaxRecommendedTimedTextIndex=function(f){return d.Mb().vra(f);};this.getTimedTextTrack=function(){return d.Mb().fsa();};this.getAdditionalLogInfo=function(){return d.Mb().B0a();};this.getTrickPlayFrame=function(f){return d.Mb().Q2a(f);};this.getSessionSummary=function(){return d.Mb().Wra();};this.getTimedTextSettings=function(){return d.Mb().GX();};this.setMuted=function(f){return d.Mb().Icb(f);};this.setVolume=function(f){return d.Mb().Wcb(f);};this.getPlaybackRate=function(){return d.Mb().xp();};this.setPlaybackRate=function(f){return d.Mb().Jcb(f);};this.setAudioTrack=function(f){return d.Mb().ucb(f);};this.setTimedTextTrack=function(f){return d.Mb().bAa(f);};this.setTimedTextSettings=function(f){return d.Mb().NQ(f);};this.prepare=function(){return d.Mb().KJ();};this.load=function(){return d.Mb().load();};this.close=function(f){return d.PUa(d.qh.close(),f);};this.play=function(){return d.Mb().play();};this.pause=function(){return d.Mb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(f,m){return d.PUa(d.Mb().iO(f),m);};this.induceError=function(f){return d.Mb().b4a(f);};this.loadCustomTimedTextTrack=function(f,m,l,n){return d.Mb().g6a(f,m,l,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Mb().O8();};this.getCropAspectRatioXandY=function(){return d.Mb().Z0a();};this.generateScreenshots=function(f){return d.Mb().v0a(f);};this.getCurrentSegmentId=function(){return d.qh.a1a();};this.getPlaygraphMap=function(){return d.qh.yI();};this.updatePlaygraphMap=function(f){return d.qh.ry(f);};this.Ipa=new Map();this.log=(0,k.Aj)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.f4=void 0;k=a(8);a(103);c.prototype.Mb=function(){return this.qh.Mb();};c.prototype.HYa=function(h,g){var d;this.Ipa.has(h) || this.Ipa.set(h,new Map());d=this.Ipa.get(h);d.has(g) || d.set(g,this.dEb(h,g));return d.get(g);};c.prototype.dEb=function(h,g){var d;d=this;return function(f){return g(Object.assign({},f,{type:h,target:d}));};};c.prototype.PUa=function(h,g){return g?h.then(g,g):h;};b.f4=c;},function(r,b,a){b=a(259);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ha:Date.now;},function(r){r.exports={Ey:{Bia:0,qOa:1,Fl:2,name:["transient","semiTransient","permanent"]},Ay:{DGa:0,pOa:1,P3:2,ZS:3,Wy:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},jcc:{Ybc:0,Y$b:1,n9b:2,Wy:100,name:["trailer","montage","content"]},tw:{DIa:0,XNa:1,Zob:2,ekb:3,Wy:100,name:["left","right","up","down"]},CS:{bjb:0,P3:1,H$b:2,b$b:3,H8b:4,G$b:5,Thb:6,Wy:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},wL:{ZS:0,UEa:1,Wy:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c,k,h,g,d,f;c=a(597);k="function" === typeof Symbol && "symbol" === typeof Symbol("foo");h=Object.prototype.toString;g=Array.prototype.concat;d=Object.defineProperty;b=a(322)();f=d && b;r.exports=function(m,l){var n,p,t,w,v,u;n=2 < arguments.length?arguments[2]:{};p=c(l);k && (p=g.call(p,Object.getOwnPropertySymbols(l)));for(var q=0;q < p.length;q+=1){t=m;w=p[q];v=l[p[q]];u=n[p[q]];if(!((w in t)) || "function" === typeof u && "[object Function]" === h.call(u) && u())f?d(t,w,{configurable:!0,enumerable:!1,value:v,writable:!0}):t[w]=v;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,k;c=b.call(a);k="[object Arguments]" === c;k || (k="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return k;};},function(r,b,a){var k;function c(){if(k)try{return (k({},"a",{value:1}),!0);}catch(h){}return !1;}k=a(45)("%Object.defineProperty%",!0);c.pNb=function(){if(!c())return null;try{return 1 !== k([],"length",{value:1}).length;}catch(h){return !0;}};r.exports=c;},function(r,b,a){var c,k;c="undefined" !== typeof Symbol && Symbol;k=a(324);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:k();};},function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var c,k,h,g,d,f;c=a(602);k=a(603);h=a(604);g=a(167);d=a(328);f=a(613);r.exports=function(m){m=h(m);return g(m) || 0 === m?0:d(m)?f(m) * k(c(m)):m;};},function(r){var a,c,k,h,g,d,f,m;function b(l){var n;try{n=a.call(l);return g.test(n);}catch(p){return !1;}}a=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw h;}});h={};c(function(){throw 42;},null,k);}catch(l){l !== h && (c=null);}else c=null;g=/^\s*class\b/;d=Object.prototype.toString;f="function" === typeof Symbol && ! !Symbol.toStringTag;m="object" === typeof document && "undefined" === typeof document.all && void 0 !== document.all?document.all:{};r.exports=c?function(l){if(l === m)return !0;if(!l || "function" !== typeof l && "object" !== typeof l)return !1;if("function" === typeof l && !l.prototype)return !0;try{c(l,null,k);}catch(n){if(n !== h)return !1;}return !b(l);}:function(l){var n;if(l === m)return !0;if(!l || "function" !== typeof l && "object" !== typeof l)return !1;if("function" === typeof l && !l.prototype)return !0;if(f){try{if(b(l))n=!1;else (a.call(l),n=!0);}catch(p){n=!1;}return n;}if(b(l))return !1;l=d.call(l);return "[object Function]" === l || "[object GeneratorFunction]" === l;};},function(r,b,a){var c;c=a(324);r.exports=function(){return c() && ! !Symbol.toStringTag;};},function(r){var b;b=Number.isNaN || (function(a){return a !== a;});r.exports=Number.isFinite || (function(a){return "number" === typeof a && !b(a) && Infinity !== a && -Infinity !== a;});},function(r,b,a){r.exports=a(326);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);r=(function(){function k(){}k.prototype.Y0a=function(h){var g;g=Reflect.getMetadata(c.nha,h);h=Reflect.getMetadata(c.uPa,h);return {iXa:g,U6b:h || ({})};};k.prototype.QLb=function(h){return Reflect.getMetadata(c.vPa,h) || [];};return k;})();b.aha=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);b.e5a=function(k){return k instanceof RangeError || k.message === c.yob;};},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);k=a(42);h=a(65);g=a(94);r=(function(){function d(f){this.Spb=f;}d.prototype.V5b=function(){return this.Spb();};return d;})();b.Ega=r;b.l=function(d){return function(f,m,l){var n;if(void 0 === d)throw Error(c.Xob(f.name));n=new h.Metadata(k.AS,d);"number" === typeof l?g.HK(f,m,l,n):g.x0(f,m,n);};};},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);k=a(110);h=a(65);g=a(648);r=(function(){function d(f,m,l,n){this.id=k.id();this.type=f;this.Vg=l;this.name=new g.cob(m || "");this.Nc=[];f=null;"string" === typeof n?f=new h.Metadata(c.xC,n):n instanceof h.Metadata && (f=n);null !== f && this.Nc.push(f);}d.prototype.o3a=function(f){for(var m=0,l=this.Nc;m < l.length;m++){if(l[m].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.o3a(c.ZF);};d.prototype.GSb=function(f){return this.qva(c.ZF)(f);};d.prototype.Lta=function(){return this.o3a(c.xC);};d.prototype.Zta=function(){return this.Nc.some(function(f){return f.key !== c.AS && f.key !== c.ZF && f.key !== c.p3 && f.key !== c.pT && f.key !== c.xC;});};d.prototype.V4a=function(){return this.qva(c.aLa)(!0);};d.prototype.oLb=function(){return this.Lta()?this.Nc.filter(function(f){return f.key === c.xC;})[0]:null;};d.prototype.YJb=function(){return this.Zta()?this.Nc.filter(function(f){return f.key !== c.AS && f.key !== c.ZF && f.key !== c.p3 && f.key !== c.pT && f.key !== c.xC;}):null;};d.prototype.qva=function(f){var m;m=this;return function(l){var q;for(var n=0,p=m.Nc;n < p.length;n++){q=p[n];if(q.key === f && q.value === l)return !0;}return !1;};};return d;})();b.Z3=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(205);k=a(206);r=(function(){function h(g){this.Lc=g;this.AT=new k.dfa(this.Lc);this.$ia=new c.J1(this.Lc);}h.prototype.when=function(g){return this.AT.when(g);};h.prototype.l1=function(){return this.AT.l1();};h.prototype.Rx=function(g){return this.$ia.Rx(g);};return h;})();b.BF=r;},function(r,b,a){var h;function c(g){return function(d){function f(m){return null !== m && null !== m.target && m.target.qva(g)(d);}f.L7a=new h.Metadata(g,d);return f;};}function k(g,d){g=g.rB;return null !== g?d(g)?!0:k(g,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(42);h=a(65);b.pfb=k;b.yeb=c;a=c(r.xC);b.q8a=a;b.xfb=function(g){return function(d){var f;if(null !== d){f=d.qV[0];return "string" === typeof g?f.Vg === g:g === d.qV[0].Pm;}return !1;};};},function(r,b,a){var h;function c(g,d){this.Ag=d;this.aB=Math.floor(g);this.display=this.aB + " " + this.Ag.name;}function k(g,d,f){this.Ag=g;this.name=d;this.Nl=f?f:this;(0,h.Dp)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Xt=b.rT=void 0;h=a(56);k.prototype.LW=function(g){return this.Ag == g.Ag;};k.prototype.toJSON=function(){return this.name;};b.rT=k;c.prototype.ca=function(g){return this.Ag.LW(g)?this.aB:Math.floor(this.aB * this.Ag.Ag / g.Ag);};c.prototype.K$a=function(g){return this.Ag.LW(g)?this.aB:this.aB * this.Ag.Ag / g.Ag;};c.prototype.as=function(g){return new c(this.ca(g),g);};c.prototype.to=function(g){return new c(this.ca(g),g);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.aB,units:this.Ag.name};};c.prototype.add=function(g){return this.cXa(g);};c.prototype.Ha=function(g){return this.cXa(g,function(d){return -d;});};c.prototype.scale=function(g){return new c(this.ca(this.Ag.Nl) * g,this.Ag.Nl);};c.prototype.Pl=function(g){return this.ca(this.Ag.Nl) - g.ca(this.Ag.Nl);};c.prototype.LW=function(g){return 0 == this.Pl(g);};c.prototype.o5a=function(){return 0 == this.aB;};c.prototype.Mta=function(){return 0 > this.aB;};c.prototype.XPb=function(){return 0 < this.aB;};c.prototype.cXa=function(g,d){d=void 0 === d?function(f){return f;}:d;return new c(this.ca(this.Ag.Nl) + d(g.ca(this.Ag.Nl)),this.Ag.Nl);};b.Xt=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wMa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="DrmDataFactorySymbol";},function(r,b,a){var k;function c(h,g,d,f,m){this.version=h;this.FJ=g;this.PAa=d;this.Qp=f;this.cw=m;this.zl=new k.fIa(h,g,d,f,m);this.Am=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vga=void 0;k=a(679);c.prototype.load=function(h){var g;g=this;return this.zl.load(h).then(function(){var d;g.Am=null !== (d=g.zl.Am) && void 0 !== d?d:[];});};c.prototype.add=function(h){this.Am.push(h);return this.zl.set(this.Am);};c.prototype.remove=function(h,g){h=this.P0a(this.zO(h,g));return 0 <= h?(this.Am.splice(h,1),this.zl.set(this.Am)):Promise.resolve();};c.prototype.update=function(h,g){g=this.P0a(this.zO(h,g));return 0 <= g?(this.Am[g]=h,this.zl.set(this.Am)):Promise.resolve();};c.prototype.zO=function(h,g){for(var d=0;d < this.Am.length;++d){if(g(this.Am[d],h))return this.Am[d];}};c.prototype.P0a=function(h){return h?this.Am.indexOf(h):-1;};b.vga=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CQa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.HGa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.CMa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uG=void 0;r=b.uG || (b.uG={});r[r.Request=0]="Request";r[r.aOa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.T3=void 0;a.JOb=function(c){return "ID" + (c + 1);};a.beb=function(c){return Number(c.substr(2)) - 1;};b.T3=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l3='video/mp4; codecs="avc1.640028"';b.k3='audio/mp4; codecs="mp4a.40.5"';b.N9b="DrmTraitsSymbol";},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x,y,z,A,B,D){var C;C=this;this.Ea=y;this.lD=z;this.config=A;this.ot=B;this.kB=D;this.keyStatuses=new p.oc({});this.Qwa=function(F){var G,E,I,N,L,H;try{E=C.im.boa(F);I=E.hJ;N=E.messageType;L=E.sessionId;C.Gx=C.Gx || E.Gx;C.U_(L);C.log.trace("Received " + F.type + " event",{sessionId:L,messageType:N,keyIds:C.Gx});if(N === b.Rga){if(C.config.$oa){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.ig=g.zi.bq;C.ql=w.TJ;}C.ql === w.mh && C.uq(d.St.Kab);C.ql === w.TJ && C.uq(d.St.Lab);H={sk:I,wWa:N,ig:C.ig};null === (G=C.k9a) || void 0 === G?void 0:G.call(C,H);C.wY && (C.zsa(I)?C.oE(new n.od(h.T.XFa)):(C.wY.resolve(H),C.wY=void 0));}catch(Q){C.oE(Q);}};this.Owa=function(F){var G,E,I,N,L,O,J,M,P,R,S,U,va,ya,ra,V,K;E=F.target;I=E.keyStatuses;C.U_(E.sessionId);C.log.trace("Received event: " + F.type);try{L=null === (G=C.context) || void 0 === G?void 0:G.J$;F=[];for(var H=pa(I),Q=H.next();!Q.done;Q=H.next()){O=pa(Q.value);J=O.next().value;M=O.next().value;P=C.lD.encode(new Uint8Array(J));F.push({Ek:P,status:M,height:null === L || void 0 === L?void 0:L[P]});}F.sort(function(T,fa){return (T.height || 0) - (fa.height || 0);});R=F.map(function(T){return T.Ek;});S=F.map(function(T){return T.height;});U=F.map(function(T){return T.status;});C.jua=R + ", " + S + ", " + U;C.log.trace("KeyStatus: " + C.jua);L={};for(var ba=pa(I),na=ba.next();!na.done;na=ba.next()){va=pa(na.value);ya=va.next().value;ra=va.next().value;V=C.lD.encode(new Uint8Array(ya));K=v[ra];L[V]=K.status;C.r$(V,K.error) && (N=new m.vh(K.error));}C.keyStatuses.set(L);}catch(T){N=new m.vh(h.T.Fnb);N.mW(T);}N?C.Us?C.C$(N):C.lY(N):(C.im.T6() || C.q5a(),C.ig !== g.zi.Jo || C.im.nma() || (C.config.$oa?C.log.trace("Disabling license renewal"):C.w_b()));};this.Vm=function(F){var G;G=C.im.cA(F);C.log.error("Received event: " + F.type,G);C.oE(G);C.C$(G);C.Mq || C.Us || C.lY(G);};this.zVb=function(F){C.log.error("MediaKeySession closed unexpectedly: " + F);C.lY(new n.od(h.T.Ofa,u[F]));};this.oE=function(F){var G;C.Mq && C.close().then(function(){var E;C.log.trace("Issuing a generate challenge error");null === (E=C.Mq) || void 0 === E?void 0:E.reject(F);C.Mq=void 0;},function(E){var I;C.log.error("EmeSession closed with an error.",C.im.cA(E));null === (I=C.Mq) || void 0 === I?void 0:I.reject(F);C.Mq=void 0;});null === (G=C.wY) || void 0 === G?void 0:G.reject(F);};this.sQb=function(){var F;null === (F=C.Mq) || void 0 === F?void 0:F.resolve();C.Mq=void 0;};this.C$=function(F){C.log.error("Failed to add license",F);return C.close().then(function(){var G;C.log.trace("Issuing a license error");C.Mq=void 0;null === (G=C.Us) || void 0 === G?void 0:G.reject(F);C.Us=void 0;},function(G){var E;C.log.error("EmeSession closed with an error.",C.im.cA(G));C.ql === w.TJ && C.uq(d.St.kUa);C.Mq=void 0;null === (E=C.Us) || void 0 === E?void 0:E.reject(F);C.Us=void 0;}).then(function(){throw F;});};this.q5a=function(){C.Us && (C.log.info("Successfully added license"),C.ql === w.mh?C.uq(d.St.cUa):C.ql === w.TJ && C.uq(d.St.jUa),C.Us.resolve(),C.Us=void 0);};this.lY=function(F){C.close().then(function(){var G;C.log.trace("Issuing a CDM error");C.Mq=void 0;C.Us=void 0;null === (G=C.g9a) || void 0 === G?void 0:G.call(C,F);},function(G){var E;C.log.error("EmeSession closed with an error.",C.im.cA(G));C.Mq=void 0;C.Us=void 0;null === (E=C.g9a) || void 0 === E?void 0:E.call(C,F);});};this.uq=function(F){C.ud.push({time:C.Ea.Xb(),TY:F});};this.dbb=!1;this.log=x.kb("EmeSession");this.ql=w.P5b;this.Th=D.VXa();this.im=D.UXa();this.ud=[];}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=b.Rga=b.Sga=void 0;k=a(5);h=a(3);g=a(59);d=a(345);r=a(215);f=a(341);m=a(97);l=a(67);n=a(38);p=a(79);q=a(691);t=a(47);(function(x){x[x.P5b=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.mh=3]="license";x[x.TJ=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(w || (w={}));b.Sga="license-request";b.Rga="license-renewal";v={usable:{status:r.qw.jgb},expired:{status:r.qw.Ku,error:h.T.rha},released:{status:r.qw.released},"output-not-allowed":{status:r.qw.D9a,error:h.T.pLa},"output-restricted":{status:r.qw.D9a,error:h.T.sha},"output-downscaled":{status:r.qw.vWb},"status-pending":{status:r.qw.p3b},"internal-error":{status:r.qw.ePb,error:h.T.Enb}};u={"internal-error":h.O.zkb,"closed-by-application":h.O.vkb,"release-acknowledged":h.O.Dkb,"hardware-context-reset":h.O.Mfa,"resource-evicted":h.O.Fkb};c.prototype.tX=function(){return this.kB.G5a;};c.prototype.F1a=function(){return this.jua;};c.prototype.xA=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.k9a=this.context=void 0;this.ql=w.closed;this.ud=[];return this.Th.cQb()?(this.log.trace("Closing the session"),this.Th.Zab(this.Qwa),this.Th.Xab(this.Owa),this.Th.Vab(this.Vm),this.mediaKeys=void 0,this.ot.ut(this.config.HUa,this.Th.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.im.cA(y).code=h.T.Hnb;throw y;})):Promise.resolve(void 0);};c.prototype.Wu=function(){return this.kB.Wu();};c.prototype.H9=function(){return void 0 !== this.Cj;};c.prototype.createSession=function(x,y,z){var A;A=this;this.context=z;this.ig=y;this.ql=w.create;this.uq(d.St.Z5a);return (x.i3a()?Promise.resolve():this.ot.ut(this.config.IUa,this.Th.createMediaKeys(this.kB)).then(function(B){A.log.trace("Created media keys");return A.owb(B).then(function(){return x.eUa(B);}).catch(function(D){return Promise.reject(A.bya(D,h.T.Gkb));});})).then(function(){A.mediaKeys=x.mediaKeys;try{A.Th.createSession(A.mediaKeys,t.TEMPORARY);A.Th.fUa(A.Qwa);A.Th.aUa(A.Owa);A.Th.ZTa(A.Vm);A.Th.fvb(A.zVb);A.U_(A.Th.xA());}catch(B){return Promise.reject(A.bya(B,h.T.wkb));}}).catch(function(B){return Promise.reject(A.bya(B,h.T.hS));});};c.prototype.Q1b=function(x){this.Pj=x;this.log.WTa("xid",x.ea);};c.prototype.dJb=function(x){var y;y=this;return this.generateRequest(x).then(function(){y.log.trace("Returning the challenge promise");return y.wY.promise;});};c.prototype.eJb=function(x){this.generateRequest(x);return this.Mq.promise;};c.prototype.bUa=function(x){this.Ae=x.Ae;x=x.Cj.map(function(y){return y.data;});this.zsa(x)?(this.log.error("The license buffer is empty"),this.oE(new m.vh(h.T.WFa,h.O.UFa))):(this.ql === w.mh && (this.uq(d.St.Jab),this.Cj=x,this.yZa=this.im.EO(this.Gx,x),this.sQb()),this.ql === w.TJ && (this.uq(d.St.Mab),this.Cj=x,this.yZa=this.im.EO(this.Gx,x),this.Yla()));};c.prototype.qvb=function(x){this.ql === w.TJ?(this.uq(d.St.Nab),this.lY(x)):this.oE(x);};c.prototype.Yla=function(){var x,y;x=this;if(!this.Cj)return this.C$(new m.vh(h.T.WFa,h.O.ZFa));this.Us=new q.G3();y=this.Cj;this.Cj=void 0;this.ot.ut(this.config.LUa,this.Th.update(y,this.ql === w.mh?f.uG.Request:f.uG.aOa,this.Gx)).then(function(){x.im.T6() && x.q5a();}).catch(function(z){z=x.im.cA(z);z.code=h.T.z3;z.message="Unable to update the EME";x.log.error(z.message,z);x.C$(z);});return this.Us.promise;};c.prototype.J1b=function(x){this.k9a=x;};c.prototype.D1b=function(x){this.g9a=x;};c.prototype.EO=function(){return this.yZa;};c.prototype.generateRequest=function(x){var y;y=this;this.ql=w.mh;this.log.trace("Generating a license challenge");this.Mq=new q.G3();this.wY=new q.G3();return x?this.zsa(x)?(x=new m.vh(h.T.VFa,h.O.UFa),this.oE(x),Promise.reject(x)):this.ot.ut(this.config.e6,this.Th.generateRequest(this.im.sX(),x)).then(function(){y.U_(y.Th.xA());}).catch(function(z){var A,B;A=new m.vh(h.T.k2,z instanceof l.Zr?h.O.iS:h.O.km);try{B=y.im.cA(z);A.Qd=B.Qd;A.message="Unable to generate request.";A.mW(z);}catch(D){}y.log.error("Unable to generate a license request",A);y.oE(A);return Promise.reject(A);}):(x=new m.vh(h.T.VFa,h.O.ZFa),this.oE(x),Promise.reject(x));};c.prototype.owb=function(x){return this.ot.ut(this.config.KUa,this.Th.setServerCertificate(x,this.im.L8()));};c.prototype.U_=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.WTa("sessionId",x));};c.prototype.w_b=function(){var x;x=this;this.dbb || (this.dbb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.qE}),setTimeout(function(){x.SJ();},this.config.qE.ca(k.la)));};c.prototype.jQb=function(x){var y,z,A;return 1080 < (null !== (A=null === (z=null === (y=this.context) || void 0 === y?void 0:y.J$) || void 0 === z?void 0:z[x]) && void 0 !== A?A:0);};c.prototype.r$=function(x,y){return y === h.T.sha?this.jQb(x)?this.config.F9a:this.config.E9a:! !y;};c.prototype.SJ=function(){this.log.trace("Initiating a renewal request");this.ig=g.zi.bq;this.ql=w.TJ;this.im.ena()?this.im.vta(this.Th):this.e7();};c.prototype.e7=function(){var x;x=this;this.Th.e7(this.mediaKeys,t.TEMPORARY,this.Qwa,this.Owa,this.Vm).then(function(){x.log.debug("Creating session to renew license");x.U_(x.Th.xA());}).catch(function(){x.lY(new m.vh(h.T.k2));});};c.prototype.zsa=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.bya=function(x,y){var z,A;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.Jc))return x;A=(0,t.Fra)(null === x || void 0 === x?void 0:x.message);return new m.vh(y,x instanceof l.Zr?h.O.iS:h.O.km,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.lGa=c;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.zZa=b.St=void 0;(function(c){c[c.Z5a=0]="licenseStarted";c[c.Kab=1]="receivedLicenseChallenge";c[c.Jab=2]="receivedLicense";c[c.Lab=3]="receivedRenewalChallengeComplete";c[c.Mab=4]="receivedRenewalLicenseComplete";c[c.Nab=5]="receivedRenewalLicenseFailed";c[c.wZb=6]="receivedIndivChallengeComplete";c[c.xZb=7]="receivedIndivLicenseComplete";c[c.cUa=8]="addLicenseComplete";c[c.jUa=9]="addRenewalLicenseComplete";c[c.kUa=10]="addRenewalLicenseFailed";})(a=b.St || (b.St={}));b.zZa=function(c){switch(c){case a.Z5a:return "lg";case a.Kab:return "lc";case a.Jab:return "lr";case a.Lab:return "renew_lc";case a.Mab:return "renew_lr";case a.Nab:return "renew_lr_failed";case a.wZb:return "ilc";case a.xZb:return "ilr";case a.cUa:return "ld";case a.jUa:return "renew_ld";case a.kUa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fKa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bia="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NKa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HFa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kGa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BEa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cLa="OneWayCounterFactorySymbol";},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.afa=void 0;r=a(2);a=a(0);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(g){for(var d=new Uint8Array(g.length / 2),f=0;f < d.length;f++){d[f]=this.cfb(g.substr(2 * f,2));}return d;};c.prototype.encode=function(g){var l;for(var d="",f=g.length,m=0;m < f;m++){l=g[m];d+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return d;};c.prototype.lI=function(g,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[g & 15] || "0") + f;g>>>=4;}return f;};c.prototype.cfb=function(g){var d;d=g.length;if(7 < d)throw Error("hex to long");for(var f=0,m=0;m < d;m++){f=16 * f + k[g[m]];}return f;};h=c;h=r.__decorate([(0,a.U)()],h);b.afa=h;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bfa=void 0;r=a(2);a=a(0);h=Array.prototype.slice;g=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};m={};l={};n=/\s+/g;[g,h].forEach(function(p){var t;for(var q=p.length;q--;){t=p[q];d[t]=q << 18;f[t]=q << 12;m[t]=q << 6;l[t]=q;}});c.prototype.encode=function(p){return k.upa(p,g,"=");};c.prototype.decode=function(p){return k.zoa(p);};c.zoa=function(p){var q,t,w;p=p.replace(n,"");q=p.length;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=3 * (q >> 2);w=0;switch(q % 4){case 2:w=1;break;case 3:w=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(t + w);for(var v=0,u=0,x;u < t;){x=d[p[v++]] + f[p[v++]] + m[p[v++]] + l[p[v++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[u++]=x >>> 16;q[u++]=x >>> 8 & 255;q[u++]=x & 255;}if(0 < w && (x=d[p[v++]] + f[p[v++]],q[u++]=x >>> 16,1 < w && (x+=m[p[v++]],q[u++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < w?255:65535)))))throw Error("bad base64");return q;};c.upa=function(p,q,t){for(var w="",v=0,u=p.length,x=u - 2,y;v < x;){y=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");w+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(v == x){y=(p[v++] << 8) + p[v++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");w+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + t;}else if(v == u - 1){y=p[v++];if(!(0 <= y && 255 >= y))throw Error("not bytes");w+=q[y >>> 2] + q[y << 4 & 63] + t + t;}return w;};h=k=c;h=k=r.__decorate([(0,a.U)()],h);b.bfa=h;},function(r,b,a){var k,h;function c(){this.Kq={};this.id="$es$" + k.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Tk=void 0;r=a(2);a=a(0);c.prototype.addListener=function(g,d,f){var m,l;m="$netflix$player$order" + this.id + "$" + g;if(this.Kq){l=this.Kq[g]?this.Kq[g].slice():[];f && (d[m]=f);0 > l.indexOf(d) && (l.push(d),l.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.Kq[g]=l;}};c.prototype.removeListener=function(g,d){if(this.Kq && this.Kq[g]){for(var f=this.Kq[g].slice(),m;0 <= (m=f.indexOf(d));){f.splice(m,1);}this.Kq[g]=f;}};c.prototype.ed=function(g,d,f){var m;if(this.Kq){m=this.jra(g);for(g={fL:0};g.fL < m.length;(g={fL:g.fL},g.fL++)){f?(function(l){return function(){var n;n=m[l.fL];setTimeout(function(){n(d);},0);};})(g)():m[g.fL].call(this,d);}}};c.prototype.$h=function(){this.Kq=void 0;};c.prototype.on=function(g,d,f){this.addListener(g,d,f);};c.prototype.jra=function(g){var d;return null !== (d=this.Kq && (this.Kq[g] || (this.Kq[g]=[]))) && void 0 !== d?d:[];};h=k=c;h.counter=0;h=k=r.__decorate([(0,a.U)()],h);b.Tk=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QEa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gfa="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dha=b.Cmb=void 0;b.Cmb=function(){};b.dha="MseConfigSymbol";},function(r,b,a){var k;function c(h){this.wrb=void 0 === h?!1:h;this.lf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Zha=void 0;r=a(2);a=a(0);c.prototype.add=function(h,g){var d;g=void 0 === g?0:g;d=this.lf[g];d?this.wrb && -1 !== d.indexOf(h) || d.push(h):this.lf[g]=[h];};c.prototype.remove=function(h,g){this.wz(h,void 0 === g?0:g);};c.prototype.removeAll=function(h){this.wz(h);};c.prototype.flatten=function(){var h;h=this;return Object.keys(this.lf).sort().reduce(function(g,d){return g.concat(h.lf[d]);},[]);};c.prototype.wz=function(h,g){Object.entries(this.lf).forEach(function(d){var f,m;f=pa(d);d=f.next().value;f=f.next().value;if(void 0 === g || g === parseInt(d)){-1 < (m=f.indexOf(h)) && f.splice(m,1);}});};k=c;k=r.__decorate([(0,a.U)()],k);b.Zha=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dQa="UrlFactorySymbol";},function(r,b,a){var k,h,g;function c(d,f,m,l,n,p,q){this.debug=d;this.config=f;this.platform=m;this.vaa=l;this.debug.assert(n && n != h.T.zn,"There should always be a specific error code");this.errorCode=n || h.T.zn;p && "object" === typeof p?(this.wa=p.wa || p.Jc,this.Df=p.Df || p.Qd,this.Bpa=p.Bpa || p.Xn,this.Sb=p.Sb || p.details,this.rW=p.Ak,this.V7=p.V7 || p.agc || p.lB,this.dI=p.dI || p.data,p.PY && (this.PY=p.PY),this.kl=p.kl,this.method=p.method,this.Uaa=p.Uaa,this.alert=p.alert,this.Mla=p.Mla,this.JI=p.JI,!this.Sb && this.JI && (this.Sb=JSON.stringify(this.JI)),this.debug.assert(!this.kl || this.kl == this.Df)):(this.wa=p,this.Df=q);this.stack=[this.errorCode];this.wa?this.stack.push(this.wa):this.Df && this.stack.push(h.O.zn);this.Df && this.stack.push(this.Df);this.E7=this.platform.Gs + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;k=a(14);h=a(3);g=a(13);a(25);c.prototype.Kcb=function(d){this.BXb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.E7 + "]";this.Sb && (d+=" " + this.Sb);this.rW && (d+=" (CustomMessage: " + this.rW + ")");return d;};c.prototype.J0=function(){var d,f,m,l;this.rW && (m=["streaming_error"]);m || this.vaa.Wu() !== k.j2 || ("80080017" == this.Df && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Df && (m=["pause_timeout"]));m || this.vaa.Wu() !== k.Kfa || this.errorCode !== h.T.TFa && this.errorCode !== h.T.hS || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== h.T.Ofa || this.wa !== h.O.Mfa || (m=["pause_timeout"]);this.V7 === h.o3.Gia && (this.mna("2018") || this.mna("2020")?m=["received_soad"]:this.mna("5000") && (m=["should_reset_device"]));l=this.LJb();l && (m=[l],this.rW=void 0);if(!m)switch(this.errorCode){case h.T.y3:case h.T.e3:case h.T.Hhb:case h.T.rha:this.BXb && (m=["pause_timeout"]);break;case h.T.aIa:case h.T.bIa:m=this.wa?["platform_error"]:["multiple_tabs"];break;case h.T.tga:case h.T.tLa:case h.T.tha:case h.T.nLa:m=["platform_error","plugin_error"];break;case h.T.$S:m=["no_cdm","platform_error","plugin_error"];break;case h.T.$Fa:case h.T.Xr:case h.T.z3:switch(this.Df){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case h.T.pLa:case h.T.sha:m=["unsupported_output"];}!m && (0,h.uGa)(this.wa) && (m=this.wa == h.O.xS?["geo"]:["internet_connection_problem"]);m || this.errorCode !== h.T.hS || this.wa !== h.O.km || "S" !== this.platform.Gs || (m=["private_mode"]);if(!m)switch(this.eeb(this.wa)){case h.O.Pia:m=["should_upgrade"];break;case h.O.kLa:m=["should_reset_device"];break;case h.O.jLa:m=["should_reload_device"];break;case h.O.iLa:m=["should_exit_device"];break;case h.O.Dmb:case h.O.BJa:m=["should_signout_and_signin"];break;case h.O.Emb:m=["internet_connection_problem"];break;case h.O.VEa:m=["platform_error","plugin_error"];break;case h.O.Fjb:case h.O.KHa:case h.O.LHa:m=["private_mode"];break;case h.O.Pga:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Gs + this.errorCode);if(this.wa)switch(this.eeb(this.wa)){case h.O.lLa:m.push("incorrect_pin");break;default:m.push("" + this.wa);}m={display:{code:this.E7,text:this.rW},messageIdList:m,alert:this.alert,alertTag:this.Mla,preferredAudioLocale:null === (d=this.JI) || void 0 === d?void 0:d.J3a,preferredTextLocale:null === (f=this.JI) || void 0 === f?void 0:f.K3a};this.config().lHb && (m.debugData=this.dI);return m;};c.prototype.eeb=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.mna=function(d){return ((0,g.Ga)(this.Df)?this.Df.toString():(0,g.Uf)(this.Df)?this.Df:"").endsWith(d);};c.prototype.LJb=function(){if(this.errorCode === h.T.yL && (this.wa === h.O.oha || this.wa === h.O.hLa))return this.MJb(this.wa === h.O.oha);};c.prototype.MJb=function(d){var f,m,l,n;l=this.config().browserInfo || ({});n=null === (f=l.os) || void 0 === f?void 0:f.name;f=((null === (m=l.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.cNa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yga="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lS="EventSourceFactorySymbol";},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lS=b.yGa=void 0;r=a(2);k=a(355);a=a(0);c.prototype.create=function(){return new k.Tk();};h=c;h=r.__decorate([(0,a.U)()],h);b.yGa=h;b.lS="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cFa="DebouncerFactorySymbol";},function(r,b,a){var k;function c(h,g,d,f,m,l){this.level=h;this.ip=g;this.timestamp=d;this.message=f;this.Pb=m;this.index=void 0 === l?0:l;this.Wlb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Iga=void 0;k=a(5);c.prototype.Dda=function(h,g){var d;d="" + this.message;this.Pb.forEach(function(f){d+=f.OK(h,g);});return (this.timestamp.ca(k.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Wlb[this.level] || this.level) + "|" + this.ip + "| " + d;};b.Iga=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AKa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HOa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OMa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qQa="VideoPlayerFactorySymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(747),b);r.__exportStar(a(748),b);r.__exportStar(a(749),b);r.__exportStar(a(750),b);r.__exportStar(a(751),b);r.__exportStar(a(752),b);r.__exportStar(a(753),b);r.__exportStar(a(754),b);r.__exportStar(a(755),b);r.__exportStar(a(756),b);r.__exportStar(a(757),b);r.__exportStar(a(758),b);r.__exportStar(a(762),b);r.__exportStar(a(221),b);r.__exportStar(a(763),b);r.__exportStar(a(222),b);r.__exportStar(a(764),b);r.__exportStar(a(765),b);r.__exportStar(a(766),b);r.__exportStar(a(767),b);r.__exportStar(a(768),b);r.__exportStar(a(769),b);r.__exportStar(a(770),b);r.__exportStar(a(771),b);r.__exportStar(a(772),b);r.__exportStar(a(773),b);r.__exportStar(a(774),b);r.__exportStar(a(775),b);r.__exportStar(a(776),b);r.__exportStar(a(777),b);r.__exportStar(a(778),b);r.__exportStar(a(779),b);r.__exportStar(a(780),b);r.__exportStar(a(781),b);r.__exportStar(a(790),b);r.__exportStar(a(793),b);r.__exportStar(a(794),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xla=void 0;b.Xla=function(a,c,k){var h,g;h=!0;k.forEach(function(d){var f;if(h && a === d.profile){f=d.ranges;h=void 0 === f?c >= d.min && c <= d.max:f.some(function(m){return c >= m.min && c <= m.max;});!h && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (g=m.disallowedBy,!0);});}});return {inRange:h,D7:g};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gG=void 0;b.gG={Lm:function(a){return a;}};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$t=b.TL=void 0;c=a(373);(function(h){h[h.gQ=0]="primary";h[h.hI=1]="fallback";})(k=b.TL || (b.TL={}));r=(function(){function h(g,d){var f,m;m=this;void 0 === d && (d=!1);this.Gyb=d;this.filters=(f={},f[k.gQ]=[],f[k.hI]=[],f);Array.isArray(g)?g.forEach(function(l){return m.and(l,k.gQ);}):this.and(g);}h.prototype.and=function(g,d){void 0 === d && (d=k.gQ);g !== c.gG && this.filters[d].push({filter:g,xXa:!0});return this;};h.prototype.or=function(g,d){void 0 === d && (d=k.gQ);this.filters[d].push({filter:g,xXa:!1});return this;};h.prototype.filter=function(g){var d;d=this;[k.gQ,k.hI].forEach(function(f){d.filters[f]=d.filters[f].filter(function(m){return g(f,m.filter);});});};h.prototype.Lm=function(g,d,f,m){var l;l=this;return [k.gQ,k.hI].reduce(function(n,p){return l.filters[p].reduce(function(q,t){t.xXa?q=t.filter.Lm(q,d,f,m):0 === q.length && (q=t.filter.Lm(g,d,f,m));return q;},n);},g);};return h;})();b.$t=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Wr=b.iob=void 0;c=a(1);k=a(224);r=(function(){function h(g,d){this.Na=g;this.HA=d?[d]:[];}Object.defineProperties(h.prototype,{value:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});h.prototype.addListener=function(g){-1 === this.HA.indexOf(g) && (this.HA=this.HA.slice(),this.HA.push(g));};h.prototype.removeListener=function(g){g=this.HA.indexOf(g);-1 !== g && (this.HA=this.HA.slice(),this.HA.splice(g,1));};return h;})();b.iob=r;r=(function(h){function g(d,f){return h.call(this,d,f) || this;}c.__extends(g,h);g.rCa=function(d,f,m){return new k.kha(d,f,m,!1);};Object.defineProperties(g.prototype,{value:{get:function(){return this.Na;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});g.prototype.set=function(d){var f;f=this.Na;f !== d && (this.Na=d,this.HA.forEach(function(m){return m({oldValue:f,newValue:d});}));};return g;})(r);b.Wr=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vx=void 0;b.vx=function(a,c){var k;a=Math.abs(a);for(c=Math.abs(c);c;){k=c;c=a % c;a=k;}return a;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;c=a(1);r=(function(k){function h(g,d){g=k.call(this,g) || this;g.o_a=d;g.name="PlaybackError";return g;}c.__extends(h,k);h.WPb=function(g){return g && g.message && g.stack && g.o_a?"PlaybackError" === (null === g || void 0 === g?void 0:g.name):!1;};return h;})(Error);b.MMa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ce=void 0;r=a(1);r.__exportStar(a(379),b);r.__exportStar(a(809),b);r.__exportStar(a(225),b);r.__exportStar(a(810),b);r.__exportStar(a(811),b);r.__exportStar(a(812),b);r.__exportStar(a(380),b);r.__exportStar(a(814),b);c=a(54);Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return c.ce;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Go=b.NR=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.eSb=2]="lowCpuPlaybackStarting";})(b.NR || (b.NR={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Go || (b.Go={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(2);k=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);return g;})(Error);b.AssertionError=k;b.assert=function(h,g){if(!h)throw new k(g || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.k8=b.fIb=b.bqa=void 0;c=a(228);b.bqa=function(k,h){var g;g=void 0;return Object.keys(k.P).some(function(d){var f;return null === (f=(g=k.P[d]).next) || void 0 === f?void 0:f[h];})?g:void 0;};b.fIb=function(k,h){return c.ze(Object.keys(k.P),function(g){var d;return null === (d=k.P[g].next) || void 0 === d?void 0:d[h];});};b.k8=function(k,h){return Object.keys(k.P).filter(function(g){var d;return null === (d=k.P[g].next) || void 0 === d?void 0:d[h];});};},function(r){function b(){}function a(c){this.DTa=c;this.gq=[];this.Kg=null;}b.prototype.clear=function(){this.lf=null;this.size=0;};b.prototype.find=function(c){var h;for(var k=this.lf;null !== k;){h=this.Bn(c,k.data);if(0 === h)return k.data;k=k.Fh(0 < h);}return null;};b.prototype.lowerBound=function(c){var d;for(var k=this.lf,h=this.iterator(),g=this.Bn;null !== k;){d=g(c,k.data);if(0 === d)return (h.Kg=k,h);h.gq.push(k);k=k.Fh(0 < d);}for(d=h.gq.length - 1;0 <= d;--d){if((k=h.gq[d],0 > g(c,k.data)))return (h.Kg=k,h.gq.length=d,h);}h.gq.length=0;return h;};b.prototype.upperBound=function(c){for(var k=this.lowerBound(c),h=this.Bn;null !== k.data() && 0 === h(k.data(),c);){k.next();}return k;};b.prototype.min=function(){var c;c=this.lf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.lf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Cf=function(c){for(var k=this.iterator(),h;null !== (h=k.next());){c(h);}};a.prototype.data=function(){return null !== this.Kg?this.Kg.data:null;};a.prototype.next=function(){var c;if(null === this.Kg){c=this.DTa.lf;null !== c && this.xSa(c);}else if(null === this.Kg.right){do {if((c=this.Kg,this.gq.length))this.Kg=this.gq.pop();else {this.Kg=null;break;}}while(this.Kg.right === c);}else (this.gq.push(this.Kg),this.xSa(this.Kg.right));return null !== this.Kg?this.Kg.data:null;};a.prototype.NJ=function(){var c;if(null === this.Kg){c=this.DTa.lf;null !== c && this.tSa(c);}else if(null === this.Kg.left){do {if((c=this.Kg,this.gq.length))this.Kg=this.gq.pop();else {this.Kg=null;break;}}while(this.Kg.left === c);}else (this.gq.push(this.Kg),this.tSa(this.Kg.left));return null !== this.Kg?this.Kg.data:null;};a.prototype.xSa=function(c){for(;null !== c.left;){this.gq.push(c);c=c.left;}this.Kg=c;};a.prototype.tSa=function(c){for(;null !== c.right;){this.gq.push(c);c=c.right;}this.Kg=c;};r.exports=b;},function(r,b){function a(c){var k,h;k=Math.abs(c);h=1 / (1 + k / 2);k=h * Math.exp(-k * k - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));return 0 <= c?k:2 - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.YGb=b.M3a=b.lO=void 0;b.lO=a;b.M3a=function(c){var k,h,d;if(2 <= c)return -100;if(0 >= c)return 100;k=1 > c?c:2 - c;h=Math.sqrt(-2 * Math.log(k / 2));h=-.70711 * ((2.30753 + .27061 * h) / (1 + h * (.99229 + .04481 * h)) - h);for(var g=0;2 > g;g++){d=a(h) - k;h+=d / (1.1283791670955126 * Math.exp(-(h * h)) - h * d);}return 1 > c?h:-h;};b.YGb=function(c){return 1 - a(c);};},function(r){function b(a){this.oka=a;this.qg=[];this.ms=!1;this.bH=void 0;this.lk={};}b.prototype.T5=function(a){this.qg.length === this.oka && this.qg.shift();Array.isArray(a)?this.qg=this.qg.concat(a):this.qg.push(a);this.ms=!0;};b.prototype.LO=function(){return this.qg.length;};b.prototype.Zma=function(){var a;a=this.qg;return 0 < a.length?a.reduce(function(c,k){return c + k;},0) / this.qg.length:void 0;};b.prototype.M6=function(){var a,c;a=this.qg;if(0 < a.length){c=this.Zma();a=a.reduce(function(k,h){return k + h * h;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.xu=function(a){var c,k,h;if(this.ms || void 0 === this.bH)(this.bH=this.qg.slice(0).sort(function(g,d){return g - d;}),this.lk={},this.ms=!1);if(void 0 === this.lk[a]){c=this.bH;k=Math.floor(a / 100 * (c.length - 1) + 1) - 1;h=(a / 100 * (c.length - 1) + 1) % 1;this.lk[a]=k === c.length - 1?c[k]:c[k] + h * (c[k + 1] - c[k]);}return this.lk[a];};r.exports=b;},function(r,b,a){var g;function c(d){this.reset();this.P1b(d);}function k(d){this.setInterval(d);this.reset();}function h(d){this.LC=new k(d);this.Ze=0;this.bd=null;}g=a(10);c.prototype.P1b=function(d){this.cM=Math.pow(.5,1 / d);this.UT=d;};c.prototype.reset=function(d){d && d.qa && g.Ga(d.qa)?d.Ce && g.Ga(d.Ce)?(this.Lw=this.mrb,this.hq=d.qa,this.IC=d.Ce + d.qa * d.qa):(this.Lw=this.mrb,this.hq=d.qa,this.IC=d.qa * d.qa):this.IC=this.hq=this.Lw=0;};c.prototype.add=function(d){var f;if(g.Ga(d)){this.Lw++;f=this.cM;this.hq=f * this.hq + (1 - f) * d;this.IC=f * this.IC + (1 - f) * d * d;}};c.prototype.Mra=function(){var d,f,m;if(0 === this.Lw)return {qa:0,Ce:0};d=this.hq;f=this.IC;m=1 - Math.pow(this.cM,this.Lw);d/=m;f/=m;m=d * d;return {qa:d,Ce:f > m?f - m:0};};c.prototype.get=function(){var d;d=this.Mra();return {qa:Math.floor(d.qa),Ce:Math.floor(d.Ce)};};c.prototype.getState=function(){return 0 === this.Lw?null:{a:Number(this.hq.toPrecision(6)),s:Number(this.IC.toPrecision(6)),n:this.Lw};};c.prototype.Zd=function(d){if(g.xb(d) || !g.has(d,"a") || !g.has(d,"s") || !g.isFinite(d.a) || !g.isFinite(d.s))return (this.IC=this.hq=this.Lw=0,!1);this.hq=d.a;this.IC=d.s;g.has(d,"n") && g.Ga(d.n)?this.Lw=d.n:this.Lw=16 * this.UT;return !0;};k.prototype.setInterval=function(d){this.UT=d;this.cM=-Math.log(.5) / d;};k.prototype.reset=function(d){this.Gb=this.Lg=null;d && g.isFinite(d.qa)?this.hq=d.qa:this.hq=0;};k.prototype.start=function(d){g.xb(this.Lg) && (this.Gb=this.Lg=d);};k.prototype.add=function(d,f,m){var l,n,p;g.xb(this.Lg) && (this.Gb=this.Lg=f);this.Lg=Math.min(this.Lg,f);f=Math.max(m - f,1);l=this.cM;n=Math.max(m,this.Gb);p=n - this.Gb;m=n - m;this.hq=this.hq * (0 < p?Math.exp(-l * p):1) + 8 * d / f * (1 - Math.exp(-l * f)) * (0 < m?Math.exp(-l * m):1);this.Gb=n;};k.prototype.get=function(d){var f;d=Math.max(d,this.Gb);f=this.hq * Math.exp(-this.cM * (d - this.Gb));d=1 - Math.exp(-this.cM * (d - this.Lg));0 < d && (f/=d);return {qa:Math.floor(f)};};k.prototype.toString=function(){return "ewmav(" + this.UT + ")";};h.prototype.setInterval=function(d){this.LC.setInterval(d);};h.prototype.reset=function(d){this.LC.reset(d);this.Ze=0;this.bd=null;};h.prototype.start=function(d){!g.xb(this.bd) && d > this.bd && (this.Ze+=d - this.bd,this.bd=null);this.LC.start(d - this.Ze);};h.prototype.add=function(d,f,m){!g.xb(this.bd) && m > this.bd && (this.Ze+=f > this.bd?f - this.bd:0,this.bd=null);this.LC.add(d,f - this.Ze,m - this.Ze);};h.prototype.stop=function(d){this.bd=Math.max(g.xb(this.LC.Gb)?0:this.LC.Gb + this.Ze,g.xb(this.bd)?d:Math.min(this.bd,d));};h.prototype.get=function(d){return this.LC.get((g.xb(this.bd)?d:this.bd) - this.Ze);};h.prototype.toString=function(){return this.LC.toString();};r.exports={nkb:c,w9b:k,lkb:h};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.wFa=b.lFa=b.Lkb=void 0;c=a(1);k=a(388);h=(function(){function g(d,f,m,l,n){this.alpha=d;this.qa=f;this.weight=l;this.tia=m * this.weight;this.Cda=n;}Object.defineProperties(g.prototype,{Ce:{get:function(){return this.weight?this.tia / this.weight:0;},enumerable:!1,configurable:!0}});g.prototype.update=function(d,f,m){var l,n,p,q;l=this.alpha;n=this.weight;p=this.Cda;q=l * (d - p);5 < q && (this.weight/=Math.exp(q),this.Cda=p=d);d=Math.exp(l * (f - p)) - Math.exp(l * (d - p));f=this.weight+=d;l=this.qa;this.qa=p=l + d * (m - l) / f;this.tia=n?this.tia * (f - d) / n + d * (m - p) * (m - l):0;};return g;})();b.Lkb=h;r=(function(){var w00;function g(d){var x00,f,m,l;x00=2;for(;x00 !== 7;){switch(x00){case 3:this.U7a=m;this.PTb=l;this.reset();x00=7;break;case 2:var e9G="1";e9G+="SIYbZrN";e9G+="J";e9G+="C";e9G+="p9";e9G;(f=d.max_n,m=d.min_b,l=d.min_iv);this.A9=d.hl;this.KSb=f;x00=3;break;}}}w00=2;for(;w00 !== 7;){switch(w00){case 2:g.prototype.reset=function(){var y00,d;y00=2;for(;y00 !== 9;){switch(y00){case 1:this.KAa=new h(d,0,0,0,0);this.LAa=new h(d,0,0,0,0);this.oy=this.cR=null;y00=3;break;case 3:this.mua=[];y00=9;break;case 2:d=-Math.log(.5) / this.A9;y00=1;break;}}};g.prototype.start=function(d){var z00;z00=2;for(;z00 !== 1;){switch(z00){case 2:null === this.oy && (this.oy=d);z00=1;break;}}};g.prototype.add=function(d,f,m){var d9v=a000;var A00,p,l,n,q,t,w;A00=2;for(;A00 !== 16;){switch(A00){case 7:d=this.KSb;f=this.KAa;A00=14;break;case 3:n=this.mua;n.push([f,m,d]);n=this.$5b(n);A00=7;break;case 12:p=n.shift();A00=11;break;case 2:l=this.oy;this.oy=l=null === l?f:Math.min(l,f);n=this.cR;this.cR=null === n?m:Math.max(n,m);A00=3;break;case 14:m=this.LAa;A00=13;break;case 13:A00=n && n.length > d?12:17;break;case 10:(q=p[0] - l,t=p[1] - l,w=Math.max(t - q,1));p=p[2];d9v.n9G(0);f.update(q,t,d9v.y9G(w,p));A00=18;break;case 18:d9v.n9G(1);m.update(q,t,d9v.b9G(8,p,w));A00=13;break;case 11:A00=p?10:13;break;case 17:this.mua=n;A00=16;break;}}};w00=4;break;case 4:g.prototype.$5b=function(d){var B00,t,w,v,u,f,m,l,p,q,n,x,y;B00=2;for(;B00 !== 22;){switch(B00){case 25:(m=q[n],0 < m && d.push([f[n],f[n + 1],m]));B00=24;break;case 23:return d;break;case 10:B00=n < p?20:16;break;case 15:d=[];B00=27;break;case 6:l=0;B00=14;break;case 24:n++;B00=26;break;case 13:n=d[l];(t=n[0],w=n[1],v=n[2],u=w - t);B00=11;break;case 9:l++;B00=1;break;case 14:B00=l < m?13:15;break;case 26:B00=n < p?25:23;break;case 18:B00=w <= x?16:17;break;case 17:n++;B00=10;break;case 27:n=0;B00=26;break;case 11:n=0;B00=10;break;case 2:(f=[],m=d.length,l=0);B00=1;break;case 16:l++;B00=14;break;case 1:B00=l < m?5:8;break;case 8:f=f.filter(function(z,A,B){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return B.indexOf(z) === A;break;}}}).sort(function(z,A){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:a000.n9G(2);return a000.b9G(A,z);break;}}});(p=f.length - 1,q=Array(p));B00=6;break;case 5:n=d[l];f.push(n[0]);f.push(n[1]);B00=9;break;case 20:(x=f[n + 1],y=Math.min(x,w) - Math.max(f[n],t));0 < y && (y=y * v / u,q[n]=q[n]?q[n] + y:y);B00=18;break;}}};g.prototype.get=function(d,f){var q9v=a000;var E00,x,y,z,A,m,l,n,p,q,t,w,v,u;E00=2;for(;E00 !== 17;){switch(E00){case 1:E00=0 < l || q > t?5:18;break;case 13:u++;E00=9;break;case 8:(x=m[u],y=x[0] - n,z=x[1] - n,A=Math.max(z - y,1));x=x[2];q9v.n9G(0);w.update(y,z,q9v.b9G(A,x));q9v.n9G(1);v.update(y,z,q9v.b9G(8,x,A));E00=13;break;case 10:d=w.weight;f=v.weight;return {qa:d?w.qa:null,Ce:d?w.Ce:null,pN:f?v.qa:null,tR:f?v.Ce:null};break;case 2:(m=this.mua,l=m.length,n=this.oy || 0,p=this.cR || 0,q=d - p,t=this.PTb,w=this.KAa,v=this.LAa);E00=1;break;case 9:E00=u < l?8:12;break;case 11:0 < q && 0 < m && 0 !== f && (void 0 === f && (f=this.U7a),q >= t && (f=Math.min(f,this.U7a)),t=f * w.qa,m=Math.pow(f,2) * w.Ce,0 === m?q=Math.max(q,t):(u=new k.xga(t,m).sWa(q),l=t - u[1],u=1 - u[0],q=1E-11 < u?Math.max(l / u,q):q + 2 * m / t),w.update(p - n,d - n,q / f),v.update(p - n,d - n,0));E00=10;break;case 12:m=w.weight;E00=11;break;case 3:u=0;E00=9;break;case 18:(w=this.KAa,v=this.LAa);E00=10;break;case 5:w=new h(w.alpha,w.qa,w.Ce,w.weight,w.Cda);v=new h(v.alpha,v.qa,v.Ce,v.weight,v.Cda);E00=3;break;}}};g.prototype.toString=function(){var F00;F00=2;for(;F00 !== 1;){switch(F00){case 4:var j9G="Deliver";j9G+="yD";j9G+="ist(";return (j9G - this.A9) / ")";break;F00=1;break;case 2:var L9G="Delive";L9G+="r";L9G+="yDist(";return L9G + this.A9 + ")";break;}}};return g;break;}}})();b.lFa=r;r=(function(g){function d(f){f=g.call(this,f) || this;f.reset();return f;}c.__extends(d,g);d.prototype.reset=function(){g.prototype.reset.call(this);this.offset=0;this.UK=null;};d.prototype.start=function(f){var m;m=this.UK;null !== m && f > m && (this.offset+=f - m,this.UK=null);g.prototype.start.call(this,f - this.offset);};d.prototype.add=function(f,m,l){var n;n=this.UK;null !== n && l > n && (this.offset+=Math.max(m - n,0),this.UK=null);n=this.offset;g.prototype.add.call(this,f,m - n,l - n);};d.prototype.stop=function(f){var m,l;m=this.cR;l=this.UK;this.UK=Math.max(null === m?0:m + this.offset,null === l?f:Math.min(l,f));};d.prototype.get=function(f,m){var l;l=this.UK;return g.prototype.get.call(this,(null === l?f:l) - this.offset,m);};return d;})(r);b.wFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xga=void 0;c=a(384);r=(function(){function k(h,g){this.bwa=h;this.Ce=g;0 < g?(this.H5a=g=Math.pow(h,3) / g,h=2 * g / h,500 >= h && (this.Npa=Math.exp(h))):this.Npa=0;}k.prototype.rWa=function(h){var g,d,f;g=this.bwa;d=this.Npa;if(d && 0 < h){f=Math.sqrt(this.H5a / (2 * h));g=h / g;h=c.lO(f * (g - 1));f=c.lO(f * (g + 1));return Math.max((2 - h + d * f) / 2,0);}return h < g?0:h > g?1:.5;};k.prototype.Wba=function(h,g,d){for(var f=0,m=this.bwa + 5 * Math.sqrt(this.Ce),l=1,n=0;Math.abs(l) > g && d--;){n=(f + m) / 2;l=this.rWa(n);l=h - l;0 > l?m=n:f=n;}return n;};k.prototype.sWa=function(h){var g,d,f,m;g=this.bwa;d=this.Npa;if(d && 0 < h){f=Math.sqrt(this.H5a / (2 * h));m=h / g;h=2 - c.lO(f * (m - 1));d*=c.lO(f * (m + 1));return [Math.max((h + d) / 2,0),Math.max(g * (h - d) / 2,0)];}return h < g?[0,0]:h > g?[1,g]:[.5,g / 2];};return k;})();b.xga=r;},function(r,b,a){var k,h;function c(g,d,f,m){k.call(this,f,m);this.Uw=new h(g);this.Trb=d;}k=a(148);h=a(385);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var g;g=this.Vx(0);k.prototype.shift.call(this);null !== g && this.Uw.T5(g);return g;};c.prototype.flush=function(){var g;g=this.get();this.Uw.T5(g);k.prototype.reset.call(this);return g;};c.prototype.get=function(){var g;g=this.vI();return {sampleSize:this.LO(),Eba:g,kwa:g.Kj?(g.sl - g.rl) / g.Kj:void 0};};c.prototype.LO=function(){return this.Uw.LO();};c.prototype.vI=function(){return this.Uw.LO() < this.Trb?{rl:void 0,Kj:void 0,sl:void 0,sampleSize:void 0,Oj:void 0}:{rl:this.Uw.xu(25),Kj:this.Uw.xu(50),sl:this.Uw.xu(75),sampleSize:this.Uw.LO(),Oj:this.Uw.xu.bind(this.Uw)};};c.prototype.toString=function(){return "biqr(" + this.bN + "," + this.Nd + "," + this.qk + ")";};r.exports=c;},function(r,b,a){var k,h;function c(g){this.J={LY:g.maxc || 25,Sna:g.c || .5,L7b:g.w || 15E3,Pz:g.b || 5E3};k.call(this,this.J.L7b,this.J.Pz);this.zU();}k=a(148);h=a(230).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var g;g=this.Vx(0);k.prototype.shift.call(this);null !== g && (this.mf.push(g,1),this.ms=!0);return g;};c.prototype.flush=function(){var g;g=this.get();this.mf.push(g,1);this.ms=!0;k.prototype.reset.call(this);return g;};c.prototype.get=function(){return this.N2a();};c.prototype.zA=function(){var g;g=this.N2a();return {min:g.min,p10:g.vba,p25:g.rl,p50:g.Kj,p75:g.sl,p90:g.wba,max:g.max,centroidSize:g.Uyb,sampleSize:g.sampleSize,centroids:g.cj};};c.prototype.N2a=function(){var g;if(0 === this.mf.size())return null;g=this.mf.Oj([0,.1,.25,.5,.75,.9,1]);if(g[2] === g[4])return null;if(this.ms || !this.og)(this.ms=!1,this.og={min:g[0],vba:g[1],rl:g[2],Kj:g[3],sl:g[4],wba:g[5],max:g[6],Oj:this.mf.Oj.bind(this.mf),Uyb:this.mf.size(),sampleSize:this.mf.n,cj:this.OJb(),zA:this.zA.bind(this)});return this.og;};c.prototype.OJb=function(){var g;if(0 === this.mf.size())return null;if(!this.ms && this.og)return this.og.centroids;g=this.mf.Oj([.25,.75]);if(g[0] === g[1])return null;this.mf.size() > this.J.LY && this.mf.$z();g=this.mf.Tp(!1).map(function(d){return {mean:d.xg,n:d.n};});return JSON.stringify(g);};c.prototype.J2a=function(){return this.mf.summary();};c.prototype.size=function(){return this.mf.size();};c.prototype.toString=function(){return "btdtput(" + this.bN + "," + this.Nd + "," + this.qk + "): " + this.mf.summary();};c.prototype.zU=function(){this.mf=new h(this.J.Sna,this.J.LY);};r.exports=c;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v;function c(u){this.config=u;this.pqb=u.vja;}k=a(392).yha;b=a(386);h=b.nkb;g=b.lkb;d=a(232).mkb;f=a(387).wFa;m=a(232).epb;l=a(389);n=a(390);p=a(393).zPa;q=a(841);t=a(842);w=a(233);v=a(843).fNa;c.prototype.constructor=c;c.prototype.create=function(u,x){var y,z,A,B;y=this.pqb[u];z=x[u];A={};y && Object.keys(y).forEach(function(D){A[D]=y[D];});z && Object.keys(z).forEach(function(D){A[D]=z[D];});switch(A.type){case "slidingwindow":B=new k(this.config,new d(A.mw));break;case "discontiguous-ewma":B=new k(this.config,new g(A.mw));break;case "initial-discontiguous-ewma":B=new v(new g(A.mw),A.playerStates);break;case "wssl":B=new m(A.mw,A.max_n);break;case "iqr":B=new l(A.mx,A.mn,A.bw,A.iv);break;case "tdigest":B=new n(A);break;case "discrete-ewma":B=new h(A.hl);break;case "tdigest-history":B=new p(A);break;case "iqr-history":B=new q(A);break;case "avtp":B=new w();break;case "entropy":B=new t(A);break;case "deliverytime":B=new k(this.config,new f(A));}B && (B.type=A.type);return B;};r.exports=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.yha=void 0;new (a(6).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(k,h){this.config=k;this.filter=h;}c.prototype.y2b=function(k,h,g,d){var f,m,l;l=d.E_;if(!l || !l.x$())return !0;switch(this.config.rOb){case "requested":return !1;case "requested-low":return (l=l.Vbb(this.config.FZa),l.Z7a() > ((null === (f=d.XE) || void 0 === f?void 0:f.VZ) || 0));case "inferred":if((l=l.Vbb(this.config.FZa),l.a7a(k,h,g,this.config.xba)))return l.Z7a() > ((null === (m=d.XE) || void 0 === m?void 0:m.VZ) || 0);}return !0;};c.prototype.add=function(k,h,g,d){this.y2b(k,h,g,d) && this.filter.add(k,h,g,d);};c.prototype.get=function(k){if(this.filter.get)return this.filter.get(k);};c.prototype.start=function(k){this.filter.start && this.filter.start(k);};c.prototype.stop=function(k){this.filter.stop && this.filter.stop(k);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.yha=r;},function(r,b,a){var k,h;function c(g){this.J={LY:g.maxc || 25,Sna:g.c || .5,yZb:g.rc || "none",A9:g.hl || 7200};this.zU();this.ytb=this.J.yZb;this.UT=this.J.A9;this.Zia=Math.exp(Math.log(2) / this.UT);this.Zia=Math.max(this.Zia,1);this.A4=1;}k=a(10);h=a(230).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var g;if(0 === this.mf.size())return null;g=this.mf.Oj([.25,.75]);if(g[0] === g[1])return null;this.mf.size() > this.J.LY && this.mf.$z();g=this.mf.Tp(!1).reduce((function(d,f){k.Ga(f.xg) && k.Ga(f.n) && d.push({mean:f.xg,n:f.n / this.A4});return d;}).bind(this),[]);return {tdigest:JSON.stringify(g)};};c.prototype.Zd=function(g){var d;if(k.xb(g) || !k.has(g,"tdigest") || !k.Uf(g.tdigest))return !1;try{d=JSON.parse(g.tdigest);}catch(f){return !1;}d.forEach(function(f){k.isFinite(f.n) || (f.n=1);});g=d.map(function(f){return {xg:f.mean,n:f.n};});this.A4=1;this.mf.mya(g);void 0 === this.mf.Oj(0) && this.zU();};c.prototype.get=function(){var g,d;g=this.mf;d=g.Oj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],vba:d[1],rl:d[2],Kj:d[3],sl:d[4],wba:d[5],max:d[6],cj:g.Tp(!1)};};c.DLb=function(g){var d;d=new c({});k.xb(g) || k.ma(g) || !k.isArray(g.cj) || (d.mf.mya(g.cj),void 0 === d.mf.Oj(0) && d.zU());g=d.mf.Oj([.25,.75]);return g[0] === g[1]?null:function(f){return d.mf.Oj(f);};};c.prototype.add=function(g){var d;d=1;"ewma" === this.ytb && (this.A4=d=this.A4 * this.Zia);this.mf.push(g,d);};c.prototype.toString=function(){return "TDigestHist(" + this.mf.summary() + ")";};c.prototype.zU=function(){this.mf=new h(this.J.Sna,this.J.LY);};r.exports={zPa:c};},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=b.qga=void 0;c=a(1);k=c.__importStar(a(10));h=c.__importDefault(a(6));g=a(852);d=a(853);f=(function(){return function(){this.y6=new d.cT(100);this.Xaa=new d.cT(100);};})();r=(function(){function m(l,n,p){var q,t,w;this.J=n;this.I=p;this.t5=l;q=this.SM=this.gM=this.fM=0;t=0;w=0;this.t5.length >= this.J.Iaa && (this.t5.forEach(function(v){!(v=v.get().wIb) || k.ma(v.avtp) || k.ma(v.neuhd) || (q+=v.avtp,t+=1 * v.neuhd,w++);}),this.SM=w,this.fM=q / w,this.gM=t / w);}Object.defineProperties(m.prototype,{ixb:{get:function(){return this.fM;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kxb:{get:function(){return this.gM;},enumerable:!1,configurable:!0}});m.prototype.u$=function(){return this.SM >= this.J.Iaa && this.fM >= this.J.baselineHighAndStableThreshold.bwThreshold && this.gM < this.J.baselineHighAndStableThreshold.nethreshold;};return m;})();b.qga=r;r=(function(m){function l(n,p,q){n=m.call(this,n,p,q) || this;n.Ria=[];n.EHb={};n.Deb=[];n.eA=new f();n.t5.length >= n.J.Iaa && (n.JTa("avtp",n.eA.y6),n.JTa("neuhd",n.eA.Xaa));return n;}c.__extends(l,m);l.prototype.u$=function(){var n;this.CLb();n=new g.pJa(this.I,this.Deb,this.xxb);n.Qxa(this.Ria);n=n.Gzb(this.J.L9.Egc);return this.L6b && 1 === n && this.SM >= this.J.Iaa;};l.prototype.mX=function(){var n,p,q,t;n={};p=h.default.time.now();q=new Date(p);t=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=t;return n;};l.prototype.e1a=function(n,p,q){n="avtp" === n?this.fM:this.gM;for(var t=p.M6(),w=0,v="skew" === q?3:4,u=0;u < p.qg.length;u++){k.ma(n) || k.ma(t) || (w+=Math.pow(p.qg[u] - n,v));}w/=p.qg.length;return !k.ma(t) && 0 < t?w / Math.pow(t,v) - 3 * ("skew" === q?0:1):NaN;};l.prototype.t1a=function(n,p,q){var t;t=0;"lte" === q?t=n.reduce(function(w,v){return v <= p?w + 1:w;},0) / (1 * n.length):"gte" === q && (t=n.reduce(function(w,v){return v >= p?w + 1:w;},0) / (1 * n.length));return t;};l.prototype.mLb=function(n){var p,q;p=n.xu(25);q=n.xu(50);n=n.xu(75);return k.ma(p) || k.ma(q) || k.ma(n)?NaN:0 < q?(n - p) / q:NaN;};l.prototype.GJb=function(n,p){n="avtp" === n?this.fM:this.gM;p=p.M6();return !k.ma(p) && !k.ma(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};l.prototype.vI=function(n,p){n=n.xu(p);return k.ma(n)?NaN:n;};l.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};l.prototype.CLb=function(){var n,p,q,t,w,v,u,x,y,z,A,B;n=this;p=this.J.L9.E6a.ufc;q=this.J.L9.E6a.sfc;t=this.J.L9.E6a.tfc;x=[];B=0;this.L6b=!Object.keys(p).some(function(D){var C;A=NaN;if(!(p.hasOwnProperty(D) && q.hasOwnProperty(D) && t.hasOwnProperty(D) && !k.ma(n.eA) && n.eA.y6 && n.eA.Xaa) || 1 > n.SM || "number" !== typeof p[D] || "number" !== typeof q[D] || "number" !== typeof t[D])return !0;w=p[D];v=q[D];u=t[D];x=D.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":C=n.eA.y6;break;case "neuhd":C=n.eA.Xaa;break;default:C=void 0;}if("avtp" === y || "neuhd" === y){if(C)switch(z){case "last":A=C.qg[n.SM - 1];break;case "mean":A="avtp" === y?n.fM:n.gM;break;case "niqr":A=n.mLb(C);break;case "skew":A=n.e1a(y,C,"skew");break;case "kurtosis":A=n.e1a(y,C,"kurtosis");break;case "std":A=C.M6();break;case "b":A=n.GJb(y,C);break;default:-1 !== D.search("[p][1-9]?[1-9]") && (A=n.vI(C,Number(D.split("_p",2)[1])));}}else switch(D){case "fracAbove20Mbps":C=n.eA.y6;A=k.ma(C)?NaN:n.t1a(C.qg,2E4,"gte");break;case "fracBelow20p":C=n.eA.Xaa;A=k.ma(C)?NaN:n.t1a(C.qg,.15,"lte");break;case "hour_current":A=n.mX().currentHour;break;case "session_ct":A=n.SM;break;case "intercept":(A=w,n.xxb=A);}A=n.normalize(A,v,u);if(isNaN(A))return !0;"intercept" !== D && (n.Ria.push(A),n.Deb.push(w),n.EHb[D]=B,B+=1);});};l.prototype.JTa=function(n,p){this.t5.forEach(function(q){q=q.get().wIb;!q || "avtp" !== n && "neuhd" !== n || k.ma(q[n]) || p.T5(Number(q[n]));});};return l;})(r);b.vHa=r;},function(r,b,a){var k,h,g,d;function c(f){return function(){for(var m=Array(this.length),l=0;l < this.length;++l){m[l]=f.call(this,l);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.swb=b.Ix=b.Eia=b.OPa=void 0;r=a(1);k=a(4);r=r.__importDefault(a(6));h=a(21);g=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(m,l){this.cd=m;this.ye=l;}Object.defineProperties(f.prototype,{index:{get:function(){return this.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mc:{get:function(){return new h.R(this.bb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ee:{get:function(){return new h.R(this.rb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bb:{get:function(){return this.cd.x5 + this.cd.bD[this.ye];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rb:{get:function(){return this.bb + this.cd.fs[this.ye];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hu:{get:function(){return this.cd.fs[this.ye];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{za:{get:function(){return this.cd.za;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return this.cd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return Math.floor(1E3 * this.bb / this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return Math.floor(1E3 * (this.bb + this.Hu) / this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.La - this.$;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.bb / this.za.V,endPts:1E3 * this.rb / this.za.V,duration:1E3 * this.Hu / this.za.V,index:this.index};};return f;})();b.OPa=d;a=(function(){function f(m,l,n,p){this.mediaType=m;this.length=n.rd.length;this.eb=n.V;this.fs=n.rd;this.V5=p && p.Ev;this.rUa=p && p.Rv;this.xM=l;this.IBa=this.JBa=this.pSa=void 0;this.x5=n.Bl;this.bD=new Uint32Array(this.length + 1);if(this.length){for(l=m=0;l < this.length;++l){this.bD[l]=m;m+=this.fs[l];}this.bD[l]=m;this.Yia=Math.floor((this.La - this.$) / this.length);}}Object.defineProperties(f.prototype,{Bl:{get:function(){return this.Kdb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xpa:{get:function(){return this.Kdb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return this.Uj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return this.Uj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ej:{get:function(){return new h.R(this.xpa,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uva:{get:function(){return this.pSa || this.Ppb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{za:{get:function(){return this.xM;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});f.prototype.Kdb=function(m){return this.x5 + this.bD[m];};f.prototype.Uj=function(m){return Math.floor(1E3 * (this.x5 + this.bD[m]) / this.V);};f.prototype.KW=function(m){return this.Uj(m + 1);};f.prototype.rd=function(m){return this.KW(m) - this.Uj(m);};f.prototype.get=function(m){return new d(this,m);};f.prototype.Nm=function(m,l,n){if(0 === this.length || m < this.Uj(0))return -1;m=Math.max(m,l || 0);for(var p=0,q=this.length - 1,t,w;q >= p;){if((t=p + (q - p >> 1),w=this.Uj(t),m < w))q=t - 1;else if(m >= w + this.rd(t))p=t + 1;else {for(;l && t < this.length && this.Uj(t) < l;){++t;}return t < this.length?t:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.l8=function(m,l,n){m=this.Nm(m,l,n);return 0 <= m?this.get(m):void 0;};f.prototype.coa=function(m,l){var n,p;n=Math.floor(l * this.V / 1E3);l=Math.min(m + Math.ceil(l / this.Yia),this.length);p=this.bD[l] - this.bD[m];if(p > n){for(;p >= n;){--l;p-=this.fs[l];}return l - m + 1;}for(;p < n && l <= this.length;){p+=this.fs[l];++l;}return l - m;};f.prototype.subarray=function(m,l){k.assert(void 0 === m || 0 <= m && m < this.length);k.assert(void 0 === l || l > m && l <= this.length);return new f(this.mediaType,this.za,{V:this.V,Bl:this.x5 + this.bD[m],rd:this.fs.subarray(m,l)},this.V5 && ({Ev:this.V5.subarray(m,l + 1),Rv:this.rUa}));};f.prototype.forEach=function(m){for(var l=0;l < this.length;++l){m(this.get(l),l,this);}};f.prototype.map=function(m){for(var l=[],n=0;n < this.length;++n){l.push(m(this.get(n),n,this));}return l;};f.prototype.reduce=function(m,l){for(var n=0;n < this.length;++n){l=m(l,this.get(n),n,this);}return l;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Yia};};f.prototype.dump=function(){var l;g.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Yia + "ms");for(var m=0;m < this.length;++m){l=this.get(m);g.trace("TrackFragments: " + m + ": [" + l.$ + "-" + l.La + "]");}};f.prototype.Ppb=function(){for(var m=0,l=0;l < this.length;l++){m=Math.max(this.fs[l],m);}return this.pSa=m;};return f;})();b.Eia=a;b.Ix=c;a.prototype.Jdb=c(a.prototype.Uj);c(a.prototype.KW);c(a.prototype.rd);b.swb=function(f){return "[" + Array(f.length).map(function(m,l){return f[l].toString();}).join(",") + "]";};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.d_a=b.sA=b.Mm=b.W8=void 0;c=a(4);k=a(147);b.W8=function(h,g){return h.Nm(g,void 0,!0);};b.Mm=function(h,g,d,f,m,l){var n,p,q,t;k.rn.Oq(h);c.assert(d.X,"findFirstFragment called without stream fragments");n=d.X;f=Math.max(d.X.Uj(0),f);0 === h && !l && g.Jn && !g.qH && d.kg && (f=Math.max(d.X.Uj(0),f + d.kg.W));p=b.W8(n,f);q=d.jh(p);if(q.La < f)return q;t=q.eqa(f);t?(0 < t.yl && q.Tj({start:t.yl}),0 !== h || g.QY || (0 > t.Kd && q.Tj({start:t.yl}),t.Kd < (g.Jn && !g.qH && d.kg?Math.floor(d.kg.W):0) && q.ipa())):f >= q.La && p < n.length - 1 && (q=d.jh(p + 1));1 === h && m && q.La === m && p < n.length - 1 && (q=d.jh(p + 1));0 === h && !q.Ba && (g.r4a || g.RFb) && l && q.Tj({});q.MQ(f);return q;};b.sA=function(h,g,d,f,m,l){var n,p;k.rn.Oq(h);n=d.X;void 0 === f && (f=n.La);if(m && (m=m.ZHb(d,f,h,g,l)))return m;m=n.za;l=f?f + b.d_a(h,m,g.WJ,g.Mca):n.KW(n.length - 1);n=n.Nm(l,void 0,!0);m=d.jh(n);0 === n || m.$ !== f || 1 !== h && g.WJ || (--n,m=d.jh(n));l=1 === h?l:f;if(l < m.La){p=m.dqa(l);p && 0 !== p.yl?m.Tj({end:p.yl}):0 === h && (p || l < m.$) && 0 !== n?m=d.jh(n - 1):1 !== h || (d.sPb || g.aCa) && !p || 0 === n || (m=d.jh(n - 1));}0 === h && !m.Ba && g.r4a && m.Tj();m.MQ(f);return m;};b.d_a=function(h,g,d,f){var m;return 1 === h || f?0:d?null !== (m=null === g || void 0 === g?void 0:g.W) && void 0 !== m?m:0:g?-g.W:0;};},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iDa=void 0;c=a(1);k=a(860);h=a(21);g=a(4);d=a(101);r=(function(){function f(m,l,n){var p,q,t;this.J=l;this.I=n;this.pk=m.track;this.YM=m.wf;this.Hk=m.Hk;this.qrb=m.Hk.fj;this.BM=this.Sa=void 0;l=m.nv;this.nv=void 0 === l?!0:l;this.D7=m.D7;this.wM=void 0;this.rSa=this.Ig=0;this.url=this.nK=this.Pc=this.At=this.Nua=this.location=this.Ua=this.Ab=void 0;this.IA=!1;this.dua=this.rf=void 0;l=(m=this.J) && "object" === typeof m.cab && m.cab[this.profile];"object" === typeof l && (l=l[this.bitrate]) && (this.stb=new h.R(l.ticks,l.timescale));this.fsb=0 <= (null === (p=m.Ywb) || void 0 === p?void 0:p.indexOf(this.profile));if((null === (q=m.YP) || void 0 === q?0:q.aec) && 1 === this.mediaType && (p=this.Hk,0 < (null === (t=p.zr) || void 0 === t?void 0:t.length))){t=p.zr.splice(0,p.zr.length);p=new Uint8Array(t.length);for(q=0;q < t.length;q++){p[q]=t[q].$a;}this.zr=p;}}Object.defineProperties(f.prototype,{pe:{get:function(){return ! !this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{M:{get:function(){return this.pk.M;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N:{get:function(){return this.M.N;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{K:{get:function(){return this.pk.K;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.pk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{za:{get:function(){return this.pk.za;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return this.pk.V;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{FP:{get:function(){return this.pk.FP;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{trackId:{get:function(){return this.pk.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{track:{get:function(){return this.pk;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wf:{get:function(){return this.YM;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qa:{get:function(){return this.Hk.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{id:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fj:{get:function(){return this.qrb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{SA:{get:function(){return this.track.SA;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bitrate:{get:function(){return this.Hk.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$a:{get:function(){var m;return this.X7?this.X7:null !== (m=this.Hk.vmaf) && void 0 !== m?m:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{b0b:{get:function(){return this.Hk.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bca:{get:function(){return this.Hk.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{profile:{get:function(){return this.Hk.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dt:{get:function(){return this.Hk.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kg:{get:function(){return this.stb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{BNb:{get:function(){return this.fsb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mx:{get:function(){return this.Sa && this.Sa.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{A8:{get:function(){return this.pk.A8;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{z8:{get:function(){return this.pk.z8;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ru:{get:function(){return void 0 !== this.wM?this.wM:this.fQb();},set:function(m){this.wM=m;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{pv:{get:function(){return this.nv && !this.IA;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kh:{get:function(){return this.BM;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sPb:{get:function(){g.assert(! !this.X,"Initial header should have been received already");return this.M.Fx() && -1 < this.Pf.indexOf("h264mpl") && void 0 === this.X.Lla;},enumerable:!1,configurable:!0}});f.prototype.vp=function(){return this.M.vp(this.mediaType,this.Qa);};f.prototype.Y8=function(){var m;m=this.vp();return m && m.stream.X;};f.prototype.sF=function(m){return this.M.sF(this,m);};f.prototype.pba=function(){this.track.pba();};f.prototype.oba=function(){this.track.oba();};f.prototype.nba=function(m,l,n,p,q,t,w){p && void 0 !== p.Bl && (this.track.pe || void 0 !== p.rd && p.rd.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(this.J.Jn && this.kg && 0 === p.Bl && (p.Bl+=this.kg.df(p.V).mc),this.BM=m,this.pe || (this.track.nba(this,l,n,p,t),this.Sa=new k.mPa(this.YM,this.track.Up,p,q,t,w,this.K),this.track.DVb(this))):p?this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.Bl) + "," + this.track.pe + "," + this.track.Xxa + "," + (void 0 !== p.rd) + "," + !(!p.rd || !p.rd.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};f.prototype.Z6=function(m){this.pe || (this.track.NAb(m.track),this.Sa=m.X,this.BM=m.kh);};f.prototype.jh=function(m){return new d.sn(this,this.X.get(m));};f.prototype.p1a=function(m){var l;l=this.jh(m.index);m.Ba && (l.Tj(m.Ba),l.MQ(m.kF));return l;};f.prototype.Ofb=function(m,l){this.Ig=m;this.rSa=l;};f.prototype.Pzb=function(){this.Ua=this.Ab=this.Pc=this.location=this.url=void 0;};f.prototype.SD=function(){return 0 === this.mediaType?this.Mqa():this.psa();};f.prototype.v2a=function(m,l){if(this.SA){if(m)return this.YKb();g.assert(void 0 !== l,"liveSegmentId is required for live media requests");return this.ZKb(l);}return this.url;};f.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Qa,bitrate:this.bitrate,streamIndex:this.wf,isAvailable:this.nv,fittable:this.Ru,vmaf:this.$a,resolutionWidth:this.b0b,resolutionHeight:this.Bca};};f.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Qa + ":" + this.bitrate;};f.prototype.M1a=function(){var m;g.assert(this.SA && this.M.ia.Iua,"liveMetadata missing from manifest");m=this.M.ia.Iua;return m.X0b[m.CFb[this.Qa]];};f.prototype.YKb=function(){var m;g.assert(this.SA && this.Hk.z_,"live representationId missing from manifest");m=this.Hk.z_;return this.url + this.M1a().UOb.replace("$RepresentationID$",m);};f.prototype.ZKb=function(m){var l;g.assert(this.SA && this.Hk.z_,"live representationId missing from manifest");l=this.Hk.z_;return this.url + this.M1a().media.replace("$RepresentationID$",l).replace("$Number$",m.toString());};f.prototype.fQb=function(){var m,l,n,p,q;if(!this.pe)return !0;if(this.track.Ksa >= this.bitrate)return this.wM=!0;if(this.track.C6a <= this.bitrate)return this.wM=!1;q=this.Sa.lyb(this.J.lJ,this.Ig,null !== (l=null === (m=this.M) || void 0 === m?void 0:m.vK.W) && void 0 !== l?l:0,null !== (p=null === (n=this.M) || void 0 === n?void 0:n.vK.aa) && void 0 !== p?p:0,this.rSa);q?this.track.Xxa && !this.fj && this.track.Sq || (this.track.Ksa=this.bitrate):this.track.C6a=this.bitrate;return this.wM=q;};f.prototype.psa=function(){return c.__assign(c.__assign({},this.track.SD()),{profile:this.Pf});};f.prototype.Mqa=function(){return c.__assign(c.__assign({},this.track.SD()),{profile:this.Pf,bitrate:this.bitrate});};return f;})();b.iDa=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};r.exports={from:function(a,c,k,h){a=new a(c.length);for(var g="function" === typeof k,d=0;d < c.length;++d){a[d]=g?k.call(h,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){var g;g=null !== k && k.apply(this,arguments) || this;g.$n=1536;return g;}c.__extends(h,k);h.Ta=!0;return h;})(a(176).default);b.default=r;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="ac-3";return h;})(r);b.vea=a;r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="ec-3";return h;})(r);b.Lfa=r;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(100);r=a(26);h=k.dG;r=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);d.prototype.parse=function(){this.Gc();this.fileSize=this.u.Yd();this.V=this.u.Yd();this.duration=this.u.Yd(!1,!0);this.Cwa=this.u.Yd();this.u.Yd();this.Gwa=this.u.Yd();this.jwa=this.u.xa();this.Dwa=this.u.Yd();this.rqa=this.u.xa();this.u.EB();this.cf={moof:{offset:this.Cwa},sidx:{offset:this.Dwa,size:this.rqa}};this.cf[k.SS]={offset:this.Gwa,size:this.jwa};this.u.offset - this.startOffset <= this.length - 24 && (this.Fwa=this.u.Yd(),this.dwa=this.u.xa(),this.Ewa=this.u.Yd(),this.cwa=this.u.xa(),this.cf[k.Uy]={offset:this.Fwa,size:this.dwa},this.cf[k.Ty]={offset:this.Ewa,size:this.cwa});return !0;};d.Vb=h;d.Ta=!1;return d;})(r.Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=a(100);a=a(26);k=r.eG;a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){var d,l,n;this.Gc();1 <= this.version && this.u.EB();d=this.u.xa();this.cf={};for(var f=this.startOffset + this.length,m=0;m < d;++m){l=this.u.am();"uuid" === l && (l=this.u.EB());n=this.u.Yd();this.cf[l]={offset:f,size:n};f+=n;}return !0;};g.Vb=k;g.Ta=!1;return g;})(a.Kc);b.default=a;},function(r){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Qk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Qk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(26);h=a(83);r=(function(g){function d(f,m,l,n,p){l=g.call(this,l,n,p) || this;l.Bma=f;l.Fr=m;l.Za={};return l;}c.__extends(d,g);d.prototype.parse=function(f){var m,l,n,p,q,t;this.offset=0;m=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.xa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=h.Ro(this.xa());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.EB();}if(0 === m.length && this.Fr.cX(p,l,n))break;if(l + n > this.view.byteLength)break;q=this.Bma[p];t=void 0;if(q){if((t=new q(this,p,l,n,m[0]),(m[0] || this).ou(t),t.parse(f)))this.config.CJ && q.Ta?m.unshift(t):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=l + n;for(;m.length && this.offset > m[0].byteOffset + m[0].uo - 8;){t=m.shift();if(!t.Pu(f))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.uo;}if(0 === m.length && this.Fr.sW(p,l,n,t))break;}return !this.Fr.done && (f=this.Fr.endOffset?this.Fr.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,fZ:f}:{done:!0,offset:Math.min(this.Fr.endOffset || Infinity,this.offset)};};d.prototype.ou=function(f){k.Kc.ou(this,f);};return d;})(a(880).Lia);b.DF=r;},function(r,b,a){var k;function c(h,g){h=g.indexOf(h);-1 !== h && g.splice(h,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(100);r=(function(){function h(g){this.endOffset=g;this.done=!1;}h.prototype.cX=function(){return this.done;};h.prototype.sW=function(g,d,f){return this.done=d + f >= this.endOffset;};return h;})();b.fS=r;r=(function(){function h(g,d,f,m){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === m && (m=!1);this.ki=g;this.hA=d;this.z0=f;this.EZ=m;this.done=!1;this.cf={};}h.prototype.cX=function(g,d,f){-1 !== h.Dsa.indexOf(g) && (this.cf[g]={offset:d,size:f});if(-1 !== this.z0.indexOf(g)){if((this.cf[g]={offset:d,size:f},this.EZ))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.ki && -1 !== this.ki.indexOf(g)?(g=1 < this.ki.length?4096:0,this.endOffset=Math.max(d + f + g,this.endOffset || 0)):-1 !== this.hA.indexOf(g) && (g=this.ki?4096:0,this.endOffset=Math.max(d + f + g,this.endOffset || 0));return this.done;};h.prototype.sW=function(g,d,f,m){var l;l=this;if(-1 !== this.z0.indexOf(g))return this.done=!0;g === k.dG && this.Y_(m.cf);g === k.eG && this.Y_(m.cf);this.ki && c(g,this.ki);c(g,this.hA);return this.ki && 0 === this.ki.length && !this.hA.some(function(n){return l.cf[n];})?this.done=!0:this.done;};h.prototype.Y_=function(g){var d;d=this;this.cf=g;this.endOffset=(this.ki || []).concat(this.hA).reduce(function(f,m){return d.cf[m]?(m=d.cf[m],Math.max(m.offset + (m.size || 4096),f)):f;},this.endOffset || 0);};h.Dsa=["moov","sidx"];return h;})();b.pga=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ria=void 0;c=a(1);k=a(117);a(4);c.__importDefault(a(31));r=(function(){function h(g,d,f,m,l,n){this.rd=g;this.AK=f;this.V=l;this.iSa=!1;this.length=Math.min(g.length,d.length,f.length);this.nk=d;m.length !== this.length?(g=new Uint8Array(this.length),k.XL.set(g,m.subarray(0,this.length),0),this.ku=g):this.ku=m;this.Ad=n;}Object.defineProperties(h.prototype,{aa:{get:function(){return void 0 !== this.Ad?this.Ad:this.Ad=this.eja();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sizes:{get:function(){return this.nk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Si:{get:function(){return this.ku;},enumerable:!1,configurable:!0}});h.prototype.subarray=function(g,d){return new h(this.rd.subarray(g,d),this.sizes.subarray(g,d),this.AK.subarray(g,d),this.Si.subarray(g,d),this.V);};h.prototype.concat=function(){var f,m,l,n;for(var g=[],d=0;d < arguments.length;d++){g[d]=arguments[d];}d=[this];g=d.concat.apply(d,c.__spread(g));d=g.reduce(function(p,q){return p + q.length;},0);f=new Uint32Array(d);m=new Uint32Array(d);l=new Uint8Array(d);n=new Uint8Array(d);d=g[0].V;g.reduce(function(p,q){k.XL.set(f,q.rd,p);k.XL.set(m,q.sizes,p);k.XL.set(l,q.AK,p);k.XL.set(n,q.Si,p);return p + q.length;},0);return new h(f,m,l,n,d);};h.prototype.eja=function(){for(var g=this.sizes,d=this.length,f=0,m=0;m < d;++m){f+=g[m];}return f;};h.prototype.iTb=function(){this.iSa || (this.iSa=!0,this.nk=new Uint32Array(this.nk),this.ku=new Uint8Array(this.ku),this.$M=new Uint8Array(this.ku.length));};h.prototype.jTb=function(){void 0 === this.$M && (this.$M=new Uint8Array(this.ku.length));};h.prototype.upgrade=function(g,d){var f;this.iTb();g.jTb();f=g.sizes[d];void 0 !== this.Ad && (this.Ad+=f - this.sizes[d]);this.$M[d]=1;g.$M[d]=1;this.AK[d]=g.AK[d];this.Si[d]=g.Si[d];this.sizes[d]=f;};h.prototype.K4a=function(g){return void 0 === this.$M?!1:0 < this.$M[g];};return h;})();b.ria=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Rea=void 0;c=a(1);k=a(117);r=a(17);h=c.__importDefault(a(6));g=a(9);d=a(41);f=a(4);m=a(15);l=a(246);n=a(407);a=a(408);p=h.default.MediaSource;a=(function(q){function t(w,v,u,x,y,z,A){v=q.call(this,w,x,y,v,A) || this;n.F1.d4a(v,w,x,A);v.pt=u;v.track=u.track;v.tx=! !x.tx;v.HP=! !x.HP;v.JD=! !x.JD;v.lWb=x.aa;v.SQ=! !x.SQ;v.gka=(z?"(cache)":"") + v.Qa + " header";w=x.offset;x=x.aa;v.Cn && (w+=v.Cn.byteLength,x-=v.Cn.byteLength);v.VM(w,x);return v;}c.__extends(t,q);Object.defineProperties(t.prototype,{Hc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{FZ:{get:function(){return this.$sb;},enumerable:!1,configurable:!0}});t.prototype.gd=function(){var w;if(!this.complete){w={type:"headerRequestCancelled",request:this};this.emit(w.type,w);}q.prototype.gd.call(this);};t.prototype.bX=function(w){this.stream.pba();q.prototype.bX.call(this,w);};t.prototype.vO=function(w,v,u){this.stream.oba();q.prototype.vO.call(this,w,v,u);};t.prototype.Kk=function(w){this.Cn=this.Cn?g.xD(this.Cn,w.response):w.response;w.q_();this.stream.oba();this.Ysb()?q.prototype.Kk.call(this,w):this.QQa?(this.VM(w.offset + w.aa,this.QQa),this.stream.pba(),q.prototype.Kk.call(this,w)):this.u8(this);};t.prototype.VM=function(w,v){w=new l.MR(this.stream,this.track,this.gka + " (" + this.Ka.length + ")",{Hc:!0,offset:w,aa:v,XE:{Qe:m.ta.yh},location:this.location,ue:this.ue,responseType:0},this,this.pf,this.I);this.push(w);this.Ad=this.Ka.reduce(function(u,x){return u + x.aa;},0);};t.prototype.Ysb=function(){var w,v,u,x,y,z,A;x=this.pf;y=new k.Vr(t.jUb,this.stream,this.Cn,["sidx"],!0,{mhc:this.stream.track.Xxa,Aba:void 0 === this.za,Lda:!p.Uc || !p.Uc.XWa,Mda:x.Mda,Jn:x.Jn,dC:this.pf.dC,Ibb:!0,dF:!p.Uc || !p.Uc.m8a,sca:this.pf.sca});z=y.parse({za:this.za});this.T6b=x.dC && y.k3a;if(z.Wm){f.assert(z.kh);this.BM=z.kh;this.$sb=z.FZ;this.tRa=! !z.b_a;void 0 === this.za && void 0 === z.za && this.I.error("No frame duration available for " + this.Qa);y=z.za?new g.R(z.za):this.za;A=void 0;if(1 === this.B_.mediaType && (null === (w=x.YP) || void 0 === w?0:w.enabled))if(null === (v=this.B_.zr) || void 0 === v?0:v.length)A=this.B_.zr;else if((w=this.B_.Hk.zr,0 < (null === w || void 0 === w?void 0:w.length)))for((A=new Uint8Array(w.length),u=0);u < w.length;u++){A[u]=w[u].$a;}else if(null === (u=z.Si) || void 0 === u?0:u.length)for((A=new Uint8Array(z.Si.length),u=0);u < z.Si.length;u++){A[u]=z.Si[u];}this.stream.nba(z.kh,z.V,y,z.X,z.oJ,z.Ei,A);this.Cn=void 0;}else this.QQa=z.qUa || 0;return ! !z.Wm;};t.jUb=new h.default.Console("MP4","media|asejs");return t;})(a.Oea);b.Rea=a;d.Jf(n.F1,a,!1,!1);d.Jf(r.EventEmitter,a);},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.F1=void 0;c=a(1);k=a(4);h=a(177);r=(function(g){function d(f,m,l){var n;n=g.call(this,f,m) || this;n.SQ=!1;n.tx=!1;n.HP=!1;n.JD=!1;n.pt=void 0;d.d4a(n,f,m,l);return n;}c.__extends(d,g);d.d4a=function(f,m,l,n){h.hw.zb(f,m,l);f.BM=l.kh;f.Cn=l.hxa;f.tRa=l.yk;f.I=n;};Object.defineProperties(d.prototype,{Hc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kh:{get:function(){return this.BM;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hxa:{get:function(){return this.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yk:{get:function(){return this.tRa;},enumerable:!1,configurable:!0}});d.prototype.gd=function(){};d.prototype.WBa=function(){};d.prototype.Svb=function(f){k.assert(this.pd.Qa === f.Qa);!f.pe && this.pd.pe && f.Z6(this.pd);!f.location && this.pd.location && (f.location=this.pd.location,f.Pc=this.pd.Pc,f.nK=this.pd.nK,f.url=this.pd.url,f.Ab=this.pd.Ab);this.pd=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},g.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.X});};return d;})(h.hw);b.F1=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oea=void 0;c=a(1);c.__importDefault(a(6));a(4);r=(function(k){function h(g,d,f,m,l){g=k.call(this,g,d,f,m,l) || this;g.ERa=!1;g.DRa=!1;g.ST=!1;g.Ka=[];g.Yo=!1;g.KSa=!1;g.ZRa=!1;g.hf=!1;g.vm=!1;g.Wi=!1;g.ZL=!1;g.GM=void 0;g.Ow=void 0;return g;}c.__extends(h,k);Object.defineProperties(h.prototype,{Nta:{get:function(){return this.Yo && !this.ST;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.hf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bya:{get:function(){return this.vm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Wi || (this.Wi=this.Ka.every(function(g){return g.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.ZL;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{We:{get:function(){return this.Ka.reduce(function(g,d){return g + d.We;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.Ka.reduce(function(g,d){return g + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ff:{get:function(){return this.GM || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{url:{get:function(){return this.Ka[0] && this.Ka[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{readyState:{get:function(){return this.Sh || this.Ka.reduce(function(g,d){return Math.min(g,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.Ow && this.Ow.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dh:{get:function(){return this.Ow && this.Ow.Dh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rO:{get:function(){return this.Ow && this.Ow.rO;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jj:{get:function(){return this.Ow && this.Ow.Jj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ov:{get:function(){return ! !this.Ka.length && this.Ka[0].ov;},enumerable:!1,configurable:!0}});h.prototype.push=function(g){this.ZRa && g.zb(this.Va);this.Ka.push(g);this.Yo && g.TP();};h.prototype.zb=function(g){k.prototype.zb.call(this,g);this.Ka.forEach(function(d){return d.zb(g);});this.ZRa=!0;};h.prototype.TP=function(){this.KSa=!0;(this.Yo=this.Ka.every(function(g){return g.TP();})) && this.bX(this);this.KSa=!1;return this.Yo;};h.prototype.gd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ka.forEach(function(g){return g.gd();});};h.prototype.vda=function(g){this.Sh=this.Ow=void 0;return this.Ka.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.vda(g):!0;});};h.prototype.abort=function(){var g,d,f;g=this.active;d=this.aborted;this.Sh=7;this.ZL=!0;this.vm=this.hf=!1;f=this.Ka.map(function(m){return m.abort();}).every(function(m){return m;});d || this.vO(this,g,this.Nta);return f;};h.prototype.getResponseHeader=function(g){var d;d=null;this.Ka.some(function(f){return ! !(d=f.getResponseHeader(g));});return d;};h.prototype.getAllResponseHeaders=function(){var g;g=null;this.Ka.some(function(d){return ! !(g=d.getAllResponseHeaders());});return g;};h.prototype.tba=function(){};h.prototype.qB=function(g){this.hf || (this.hf=!0);this.ERa || (this.ERa=!0,this.kt=0,this.GM=this.Jv=g.Ff,this.wO(this));};h.prototype.wJ=function(g){this.vm || (this.vm=!0);this.DRa || (this.DRa=!0,this.GM=g.Ff,this.PD(this));};h.prototype.xJ=function(g){this.GM=g.Ff;this.kI(this);this.kt=this.bytesReceived;this.Jv=g.Ff;};h.prototype.Kk=function(g){this.GM=g.Ff;this.complete?(this.Wi=!0,this.Sh=5,this.vm=this.hf=!1,this.ST=!0,this.Tu(this)):this.kI(this);this.kt=this.bytesReceived;this.Jv=g.Ff;};h.prototype.yZ=function(g){this.GM=g.Ff;this.Ow=g;this.Sh=6;this.u8(this);};h.prototype.xZ=function(){};h.prototype.Ji=function(){return this.Ka[0].Ji() + "-" + this.Ka[this.Ka.length - 1].Ji();};h.prototype.toString=function(){return "Compound[" + this.Ka.map(function(g){return g.toString();}).join(",") + "]";};h.prototype.toJSON=function(){return {requests:this.Ka};};return h;})(a(247).hL);b.Oea=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aqa=void 0;b.aqa=function(a,c){for(var k,h,g=a.length - 1;0 <= g;--g){if((h=a[g],h.pv)){if(h.bitrate <= c)return g;k=g;}}return k;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ara=b.$vb=void 0;b.$vb=function(a){return a.Mca;};b.Ara=function(a,c){return void 0 !== a.BP?a.BP:c && void 0 !== c.BP?c.BP:100;};},function(r,b,a){var h;function c(g,d){this.btb=g.YP && g.YP.enabled;this.A5=void 0;this.Qrb=d;this.Rka=[];this.jla=[];this.Bka=[];g=g.gTa || [];d=g.map(function(f){return f.Ndc;});d.unshift(0);this.itb=g;this.jtb=d;this.Fka=[];this.og=[];}function k(g,d){var t,w,v,u;for(var f=[],m=[],l=0;l < g.length;l++){for(var n=g[l],p=[],q=0;q < n.length;q++){t=n[q] - (m[q] || 0);w=d && d[q];v=p;u=v.push;1 <= w && (w=Math.pow(10,w || 0),t=Math.round(t * w) / w);u.call(v,t);}f.push(p);m=n;}return f;}h=a(31).TI;c.prototype.reset=function(g){this.A5=void 0;this.Rka=[];this.jla=[];this.Bka=[];this.Fka=[];g && (this.og=[]);};c.prototype.add=function(g,d){var f,m,l,n;f=d.filter(function(p,q){return h(p) || q === g.Te;});m=f.map(function(p){return p.bitrate;});d=d[g.Te];f=f.indexOf(d);l=this.A5;if(l && (l.length !== m.length || l.some(function(p,q){return p !== m[q];}))){n=this.$0a();n && (this.og.push(n),this.reset(!1));}void 0 === l && (this.A5=m);this.Rka.push([f,g.oy,g.kc,g.Pma,g.XVa,g.VZ,g.kVb,g.Qe,g.tq,g.uk,g.cR - g.oy,g.EXb]);void 0 !== g.Ux && this.Bka.push([g.oy,g.Ux.SB,g.Ux.aA,g.Ux.FB]);f=d && d.X;this.btb && void 0 !== f && (l=f.Nm(g.uk),-1 != l && (f=f.get(l),l=f.duration,d=f.$a || d.$a,void 0 !== d && this.jla.push({$:f.$,duration:l,$a:d})));(d=g.$Xb) && d.length && (d=d.slice(0),d.unshift(g.oy),this.Fka.push(d));};c.prototype.$0a=function(){var g,d;g=k(this.Rka);if(0 !== g.length){g={dltype:this.Qrb,bitrates:this.A5,seltrace:g,vmaftrace:this.jla,paceratetrace:k(this.Bka)};d=k(this.Fka,this.jtb);d && d.length && (g.predtrace={config:this.itb,data:d});return g;}};c.prototype.get=function(){var g,d;g=this.$0a();d=this.og;g && d.push(g);if(0 !== d.length)return d;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MEa=void 0;c=a(908);r=(function(){var G00;G00=2;function k(h){var H00;H00=2;for(;H00 !== 5;){switch(H00){case 3:this.I=h;"";H00=1;break;H00=5;break;case 2:var O9G="1SIYbZ";O9G+="rN";O9G+="JCp9";this.I=h;O9G;H00=5;break;}}}for(;G00 !== 3;){switch(G00){case 2:k.prototype.ypb=function(h,g){var I00,d;I00=2;for(;I00 !== 14;){switch(I00){case 2:g=c.EXa(g,h);d=h.steeringAdditionalInfo;I00=5;break;case 5:I00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 4:var m9G="a";m9G+="pp";m9G+="lyi";m9G+="ng manifest based stream";m9G+="ingClientConfig";return (h=d.streamingClientConfig,this.I.trace(m9G + JSON.stringify(h)),this.LSa(g,h));break;case 3:h=h.cdnResponseData;I00=9;break;case 8:return g;break;case 7:var W9G="using sab cell >= ";W9G+="100, pipelin";W9G+="eEnabled: ";var t9G="us";t9G+="ing sab cel";t9G+="l >= 200, pipel";t9G+="ineEnabled: ";var q9G=", allowS";q9G+="witch";q9G+="bac";q9G+="k";var B9G=", ";B9G+="probeDeta";B9G+="ilDeno";B9G+="min";B9G+="ator: ";var F9G="using sab cell >= 300, pr";F9G+="obeServerWhenEr";F9G+="ror: ";var M9G=",";M9G+=" allowSw";M9G+="i";M9G+="t";M9G+="chback";var H9G=", probe";H9G+="DetailDenomina";H9G+="tor:";H9G+=" ";var G9G="using";G9G+=" sab cell >";G9G+="= 400, pr";G9G+="obeServerWh";G9G+="enError: ";(h=h.sessionABTestCell) && (h=h.split(".")) && 1 < h.length && (h=parseInt(h[1].replace(/cell/i,""),10),400 <= h?(g.set?(g.set({probeServerWhenError:!0}),g.set({probeDetailDenominator:1}),g.set({allowSwitchback:!0})):(g.Kv=!0,g.OJ=1,g.Hz=!0),this.I.trace(G9G + g.Kv + H9G + g.OJ + M9G + g.Hz)):300 <= h?(g.set?(g.set({probeServerWhenError:!0}),g.set({probeDetailDenominator:1}),g.set({allowSwitchback:!1})):(g.Kv=!0,g.OJ=1,g.Hz=!1),this.I.trace(F9G + g.Kv + B9G + g.OJ + q9G + g.Hz)):200 <= h?(g.set?g.set({pipelineEnabled:!1}):g.dr=!1,this.I.trace(t9G + g.dr)):100 <= h && (g.set?(g.set({pipelineEnabled:!0}),g.set({maxParallelConnections:1}),g.set({maxActiveRequestsPerSession:g.faa}),g.set({maxPendingBufferLen:g.p7a})):(g.dr=!0,g.vP=1,g.Lx=g.faa,g.maa=g.p7a),this.I.trace(W9G + g.dr)));return g;break;case 9:I00=!h?8:7;break;}}};k.prototype.zpb=function(h,g){var J00;J00=2;for(;J00 !== 9;){switch(J00){case 2:J00=!g.aoa || h === this.xrb?1:5;break;case 1:return g;break;case 5:this.xrb=h;J00=4;break;case 14:this.xrb=h;J00=9;break;J00=4;break;case 4:for(var d in g.aoa){new RegExp(d).test(h) && (g=this.LSa(g,g.aoa[d]));}return g;break;}}};k.prototype.LSa=function(h,g){var K00,d,f,m;K00=2;for(;K00 !== 4;){switch(K00){case 2:for(f in g){if(g.hasOwnProperty(f)){var v9G="In";v9G+="vali";v9G+="d key";m=g[f];h.set?0 === h.set((d={},d[f]=m,d)) && this.I.trace(v9G + f):h[f]=m;}}return h;break;}}};return k;break;}}})();b.MEa=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.GIa=b.hT=void 0;c=a(1);k=a(17);h=c.__importStar(a(10));g=c.__importDefault(a(85));d=a(15);f=a(251);m=a(21);r=a(41);l=c.__importDefault(a(6));n=a(913);p=a(414);(function(t){t[t.k0a=0]="forwards";t[t.tma=1]="backwards";t[t.MP=2]="none";})(q=b.hT || (b.hT={}));a=(function(t){function w(v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H){var Q,O,J;O=t.call(this,void 0,u,y,C.M,v,C,void 0,F,I,m.R.Oa(G),B.af.bind(B),E,H,void 0,new k.EventEmitter(),void 0) || this;O.wb=v;O.Ci=x;O.zc=z;O.L4=A;O.S=B;O.TM=D;O.zg=E;O.hX=N;O.Yg=L;O.Xk=H;O.active=!1;O.RRa=[];O.Gka=0;null === (Q=O.M) || void 0 === Q?void 0:Q.Gya(O);O.children=Object.create(null);O.ny=[];O.re=void 0;void 0 === I && (I=m.R.Oa(C.$));J=[O.J.hVa,O.J.SAa];F.forEach(function(M){var P;P=M.mediaType;M=new p.h3(v,O.Ci,O.I,O,M,I.W,J[P],u,O.L4,O.Yg,null === E || void 0 === E?void 0:E.lb(P));O.ke.v1b(P,M);});O.hu=O.ke.$Z;return O;}c.__extends(w,t);Object.defineProperties(w.prototype,{K:{get:function(){return this.M.K;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{cn:{get:function(){var v,u,x,y;return [null !== (u=null === (v=this.lb(0)) || void 0 === v?void 0:v.cn) && void 0 !== u?u:0,null !== (y=null === (x=this.lb(1)) || void 0 === x?void 0:x.cn) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Rn:{get:function(){var v,u,x,y;return [null !== (u=null === (v=this.lb(0)) || void 0 === v?void 0:v.Rn) && void 0 !== u?u:{W:0,aa:0},null !== (y=null === (x=this.lb(1)) || void 0 === x?void 0:x.Rn) && void 0 !== y?y:{W:0,aa:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pca:{get:function(){return this.G.$;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ixa:{get:function(){return this.Pca + this.He;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Vc:{get:function(){return this.G.La;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pe:{get:function(){return this.Vc + this.He;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{xc:{get:function(){return this.M.xc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{weight:{get:function(){return this.G.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{G:{get:function(){return this.Gn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tl:{get:function(){return this.ke;},enumerable:!1,configurable:!0}});w.prototype.Bf=function(){var v;this.Xh || (this.active=!1,this.zg && (delete this.zg.children[this.G.id],this.zg=void 0),h.Cf(this.children,function(u){u && u.zg && (u.zg=void 0);}),this.children=Object.create(null),this.mM=void 0,t.prototype.Bf.call(this),null === (v=this.M) || void 0 === v?void 0:v.KBa(this),this.ke.clear());};w.prototype.dza=function(v,u){void 0 === u && (u=q.tma);this.tl.forEach(function(x){(h.ma(v) || x.mediaType === v) && x.reset();});switch(u){case q.tma:this.zg && this.zg.dza(v,u);break;case q.k0a:this.children && h.Cf(this.children,function(x){x && x.dza(v,u);});}};w.prototype.dY=function(v){var u,x,y;if(!this.active)return !1;u=this.zg;if(u){x=u.lb(v);y=x.Va.c$a;if(0 !== y && (u.oN(v),y=x.Va.c$a,0 !== y))return !1;}return !0;};w.prototype.Wd=function(v){return this.tl.get(v);};w.prototype.ANb=function(){return this.tl.every(function(v){return 0 === v.JB;});};w.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Dd,playerEndPts:this.Pe,pipelines:this.tl,previousBranch:this.zg});};w.prototype.Vcb=function(v,u){this.M.KBa(this);this.M=this.G.M=v;this.Zza(this.M);this.M.Gya(this);this.tl.forEach(function(x){var y;y=u[x.mediaType];y && x.a0(y);});};w.prototype.KLb=function(v){return this.Xk[v];};w.prototype.lb=function(v){return this.tl.get(v);};w.prototype.ZLb=function(v){return this.lb(v).JB;};w.prototype.Xza=function(v,u,x){var y,z,A,B;y=this;z=this.G;v=this.L6(z.$,this.M,v,this.K === (v?v.K:this.zc.dd.K));A=v.iQ;B=v.tA;void 0 === u && (u=[0,1]);0 === B.length || u.forEach(function(D){var C,F;C=y.lb(D);x && (C.oe=B[D]);F=y.TW(z.La);C.$ca(F[D]);});return A;};w.prototype.Qab=function(v,u){var x,y,z;x=this.wb;y=this.lb(0);void 0 === u && (u=y.TOb);this.zg && (z=this.zg.Wd(0));x=new p.h3(x,this.Ci,this.I,this,v,u,y.GQ,this.J,this.L4,this.Yg,z);this.ke.replace(y,x);this.hu=this.ke.$Z;this.Xza(this.zg,[0],!0);x.qK(u,! !this.zg);y.Bf();h.Cf(this.children,function(A){A && A.Qab(v);});};w.prototype.Qu=function(v,u){if(u=this.lb(u))return u.Va.Qu(v);};w.prototype.oN=function(v){void 0 === v?this.tl.forEach(function(u){u.oN();}):this.lb(v).oN();};w.prototype.e_=function(v,u,x){(v=this.lb(v)) && v.Va.e_(u,x);};w.prototype.n9=function(v,u){(u=this.lb(u)) && u.Va.n9(v);};w.prototype.zSb=function(v){this.RRa[v]=!0;};w.prototype.fzb=function(){var v;v=this;return [0,1].every(function(u){return !v.xc(u) || v.RRa[u];});};w.prototype.czb=function(v,u,x,y){var z,A,B,D,C,F,G,E,I;z=this.J;A=this.wb;B=this.S.getState();D=B === d.ta.yd || B === d.ta.bg;if(!D && void 0 === x)return {$e:!0};if(B === d.ta.bg && l.default.time.ha() < this.Gka + z.Uva)return {$e:!1};C=this.lb(0);F=this.lb(1);G=this.zc.ix(this,0);E=this.zc.ix(this,1);I=f.Qba(B);G=!C || C.AWa(I,this.S.af(),u,G,this.S.xp(),y);E=!F || F.AWa(I,this.S.af(),v,E,this.S.xp(),y);void 0 !== x && G && (x=x.trackId,v=this.M.getTrackById(x),this.Fpb(x,v.qF),A.Lz=void 0);if(G && E)return (this.TM(),this.vV=l.default.time.ha(),B === d.ta.bg && (this.Gka=l.default.time.ha()),{$e:!0,wu:F?F.vH:C.vH});G=this.ai(0);E=this.ai(1);if(D){A=!F || E > z.Ij;if((!C || G > z.Ij) && A && (C=this.hX(),C >= z.vB))return (this.Ub("buffering longer than limit: " + C + " >= " + z.vB + ", audio buffer: " + G + " ms, video buffer: " + E + " ms"),this.TM(),this.vV=l.default.time.ha(),B === d.ta.bg && (this.Gka=l.default.time.ha()),{$e:!0,wu:"prebufferTimeLimit"});this.Ci.ksb();}return {$e:!1};};w.prototype.qna=function(v,u){var x,y,z,A,B,D;x=this.J;y=this.lb(0);z=this.lb(1);u?(u=this.ai(0,v),v=this.ai(1,v)):(u=this.zc.ix(this,0,v),v=this.zc.ix(this,1,v));A=x.Ij;B=!this.xc(0) || y.yi && 0 === y.Va.IE && 0 === y.Va.Kt;y=!this.xc(1) || z.yi && 0 === z.Va.IE && 0 === z.Va.Kt;D=B && y;x=!B && u < x.Ij;if(!D && (x || !y && v < A))return !1;if(z && z.$e || !this.xc(1))return !0;if(D)if(this.wb.i5 && 0 === u && 0 === v)this.Ub("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};w.prototype.Xca=function(v,u){var x,y;x=this;y=this.J;this.tl.forEach(function(z){z.seeking=void 0;});v && y.Gi && this.tl.forEach(function(z){var A;if(z){A=x.zc.zH(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Rn.aa + ", completedMs: " + z.GN + ", completedBytes: " + A + ", partials: " + z.Va.IE + ", streamingPts: " + z.kc + ", completeStreamingPts: " + z.Aq + ", fragments: " + JSON.stringify(z.Va.X) + ", toAppend: " + u(z.mediaType);x.Ci.Um(z);}});};w.prototype.eF=function(v,u,x){var y,z,A;y=this;z=l.default.time.ha();A={};h.Cf(this.children,function(B){var D,C,F,G;if(B){if(B.re){B.re.EFb=z - B.re.a$;B.re.a$=void 0;D=B.re.weight;}else D=y.zc.B2a(y.G.id,B.G.id);C=B.RD();F=y.lb(0) && 0 === C.ns;G=y.lb(1) && 0 === C.Fo;A[B.G.id]={weight:D,ws:C,OX:!F && !G};}});x={sr:z,te:v,Noa:x,hda:this.G.id,re:A};v || (v=u.af(),x.TQ=v - (this.G.$ + this.He),x.TQ=Math.max(0,x.TQ),x.x7=0,x.startTime=z);this.ny.unshift(x);return x;};w.prototype.kAb=function(v){var u,x;u=this.ny[0];u.te && (u.TQ=this.Vc - this.G.$,u.TQ=Math.max(0,u.TQ));u.mfb={};x=v.RD();g.default(x,u.mfb);u.OX=v.Rn.every(function(y){return 0 < y.W;});this.ny=[];return u;};w.prototype.Co=function(v){var u;u=this.G;v-=this.He;if(u.$ < v && v < u.La)this.ny.shift();else if(u=this.ny[0])u.Co=!0;};w.prototype.L6=function(v,u,x,y){var z,A,B,D;z=this;void 0 === u && (u=this.M);A=!1;if(x){A=!0;B=x.lb(1).Gf;x=x.lb(0).Gf;if(!B || !x)return {iQ:[],tA:[]};B=B.La;y || (B=void 0);}D=this.N_a(v,B,A,u);u.Tb === this.zc.GDb && [1,0].forEach(function(C){var F;F=z.lb(C);F && (F.oe=D[C]);});return {iQ:D.map(function(C){return C.$;}),tA:D};};w.prototype.N_a=function(v,u,x,y){var z;z=this;void 0 === y && (y=this.M);return this.LTa(y)?[1,0].map(function(A){var B;if(!z.xc(A))return {};B=y.Gh[A];A=z.lb(A).Mm(B.stream,v,u,x);v=A.$;return A;}).reverse():[];};w.prototype.TW=function(v,u){var x;x=this;void 0 === u && (u=this.M);return this.LTa(u)?[1,0].map(function(y){var z;if(!x.xc(y))return {};z=u.Gh[y].stream;y=x.lb(y).sA(z,v);v=x.J.sh?new m.R(y.rb,z.za.V).W:y.La;return y;}).reverse():[];};w.prototype.e6b=function(v,u){var x;x=this.G.La;x && x < u && (v=this.TW(x));u=this.Wd(1);x=this.Wd(0);u && u.$ca(v[1]);x && x.$ca(v[0]);};w.prototype.LTa=function(v){var u;u=v.Gh;if(!u)return !1;v=u[1];v=!this.xc(1) || v && v.stream.pe;u=u[0];u=!this.xc(0) || u && u.stream.pe;return v && u?!0:!1;};w.prototype.Fpb=function(v,u){this.Ci.isb(v,u);};return w;})(n.LIa);b.GIa=a;r.Jf(k.EventEmitter,a);},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.h3=void 0;c=a(1);r=a(415);k=c.__importDefault(a(30)).default.Ya;h=a(396);g=a(15);d=c.__importDefault(a(6));f=a(181);m=a(4);l=a(21);n=a(951);a=(function(p){function q(t,w,v,u,x,y,z,A,B,D,C){v=p.call(this,u,A,v,u,u,x,l.R.Oa(y),z,!1,null === C || void 0 === C?void 0:C.$f) || this;v.wb=t;v.Ci=w;v.ug=B;v.Yg=D;v.Mma=0;v.OD=[];v.gz=!1;v.ap.kgb=!1;v.RT=new n.HIa(u,v.Yg,A,v.I,v.mediaType,v.Ci,v.Va,v.wb);v.XQb=d.default.time.ha();v.PQb=void 0;v.gJ=A.rta;v.U$a=d.default.time.ha();w=f.KO(A);t=w.TZ;w=w.UZ;v.ZXb=0 === v.mediaType?t:w;v.a0(x);return v;}c.__extends(q,p);Object.defineProperties(q.prototype,{qu:{get:function(){return this.Va.qu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GN:{get:function(){return this.Va.GN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wD:{get:function(){return this.Va.wD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JB:{get:function(){return this.Va.JB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yi:{get:function(){return this.RT.yi;},set:function(t){this.RT.yi=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pr:{get:function(){return this.RT.Pr;},set:function(t){this.RT.Pr=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{V$:{get:function(){return this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TOb:{get:function(){return this.XRa.W;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GQ:{get:function(){return this.Wj.GQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jMb:{get:function(){return this.wb.Kka;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$e:{get:function(){return this.gz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vH:{get:function(){return this.$Qa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.yi=!1;this.ap.reset();};q.prototype.Bf=function(){this.reset();p.prototype.Bf.call(this);};q.prototype.sA=function(t,w){return h.sA(this.pk.mediaType,this.J,t,w,this.sh,this.wb.rTb);};q.prototype.Mm=function(t,w,v,u){return h.Mm(this.pk.mediaType,this.J,t,w,v,u);};q.prototype.Co=function(){this.gJ=this.J.rta;};q.prototype.oN=function(){this.Va.Pda();};q.prototype.a0=function(t){var w,v;w=this.wb;v=this.mediaType;m.assert(t.mediaType === v);m.assert(t.M === this.mb.M);this.pk=t;this.mb.M.VBa(v,t.Rd);w.erb(this,t.Sm);this.myb(t.Rd);this.$f.a0(t);this.mb.M.Dna();this.yi=!1;};q.prototype.Ypa=function(t){var w;w=this.mb.M.Gh[this.mediaType];if(w && w.stream.pe && (t=w.stream.X.Nm(t),-1 !== t))return t;};q.prototype.qK=function(t,w){var v,u,x;if(this.oe && this.oe.$ === t){w=this.oe.index;v=t;}else {u=this.mb.M;x=u.Gh[this.mediaType];if(!x || !x.stream.pe){this.EJ=t;this.$Wb=w;return;}v=x.stream.X;this.oe=this.Mm(x.stream,t,void 0,w);if(void 0 === this.oe){if((w=v.length - 1,v=v.Uj(w),this.Ub("setStreamingPts out of range of fragments, pts:",t,"last startPts:",v,"fragment index:",w,"fastplay:",u.tf.Ne),u.tf.Ne)){this.EJ=t;return;}}else (w=this.oe.index,v=this.oe.$);}this.no=w;this.FU=v;this.EJ=void 0;};q.prototype.g7b=function(t){var w,v;w=this.pk.zx(t);v="verifying streamId: " + t + " stream's track: " + (w?w.Qa:"unknown") + " currentTrack: " + this.pk.trackId;return w?!0:(this.Ci.Um(v),this.Ci.Um("unknown streamId: " + t),!1);};q.prototype.myb=function(t){this.ONb=t.reduce(function(w,v){return v.pv && v.bitrate > w.bitrate?v:w;},t[0]);};q.prototype.$ca=function(t){this.Gf=t;};q.prototype.pSb=function(t,w,v,u,x){this.tfb(t,w,u,x);v && ++this.Mma;this.wb.mk();};q.prototype.qB=function(t){t.La && t.$ && (this.gJ-=t.La - t.$);p.prototype.qB.call(this,t);};q.prototype.Kk=function(t){this.a3a(t);this.Tu(t);};q.prototype.g6b=function(t){var w;w=d.default.time.ha();this.gJ+=t * (w - this.U$a);this.U$a=w;};q.prototype.$_b=function(){this.gJ=this.J.rta;};q.prototype.CN=function(t){this.Va.lna();this.sh || this.RT.CN(t,this.Vc);};q.prototype.a3a=function(t){var w,v,u;v=this.V$;u=this.wb;this.ug.xTa() || (this.Ci.Isb(t.mediaType,t.M.Tb,t.stream.track.fD,this.Aq,this.fa),null === (w=this.sh) || void 0 === w?void 0:w.GOb(t),w=v.S.af() || 0,u.Fb.iz() || (v=v.lb(k.Nb)) && !v.$e && v.F9 && u.Fb.Zra(v),this.CN(w),this.wb.$2a(t),this.ug.u4(this) && this.ug.mk());};q.prototype.$wa=function(t){this.wb.B9(t);};q.prototype.AWa=function(t,w,v,u,x,y){var z,A;z=this.J;A=z.Ij;if(v >= z.Ij && (z.wca && (A=v + 1E3),z.xca && !this.connected))return !1;if(this.sh)return this.sh.Vz();v=this.yi && 0 === this.Va.gxa && 0 === this.Va.Kt;return !v && u < A?!1:v?y && 0 === u?(this.Ub("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.pzb(t,w,x);};q.prototype.M1b=function(t){this.FU=t;};q.prototype.Xca=function(t){this.gz=!0;this.$Qa=t;};q.prototype.Bna=function(){this.gz=!1;this.$Qa=void 0;};q.prototype.pzb=function(t,w,v){if(this.$e || 0 === this.mediaType)return !0;if(void 0 === this.qv)return !1;w=this.Rqb(w,t);this.track.M.Rm.U0(this.track.M.N,this.track.Rd);this.Wj.Rxa([this.qv],!1,g.Pba(t),w,this.ZXb);t=this.Wj.Vz(w,t,v,this.qv,this.mb.M.Iq);t.complete?this.Xca(t.reason):(this.Bna(),this.sE=t.sE,this.progress=t.progress);return this.$e;};q.prototype.Rqb=function(t,w){var v,u,x,y,z;y=d.default.wp()[this.mediaType];z=this.Va.n9();t={yu:y,$:null !== (v=z.Dd) && void 0 !== v?v:0,qc:t,kc:null !== (u=z.dQ || t) && void 0 !== u?u:0,tk:null !== (x=z.LV || t) && void 0 !== x?x:0,We:z.We,Nj:z.Nj,bn:z.bn,n0a:z.X.length,X:z.X};"number" !== typeof t.$?(t.$=0,t.kc=0):w === g.Qc.yd && t.qc !== t.$ && (t.qc=t.$);return t;};return q;})(r.Fha);b.h3=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.Fha=void 0;c=a(1);k=a(17);h=a(914);g=a(82);d=a(915);f=a(917);m=a(924);l=a(179);n=a(256);p=a(9);q=a(4);t=a(21);w=c.__importDefault(a(6));r=a(102);v=a(41);u=a(421);x=a(129);a=(function(y){function z(A,B,D,C,F,G,E,I,N,L,H,Q,O){var J;J=y.call(this,A) || this;J.J=B;J.de=F;J.pk=G;J.XRa=E;J.Yw=Q;J.iq=O;J.events=new k.EventEmitter();J.connected=!1;J.ysa=!1;J.pm=!1;J.w8=new d.TKa(J.mediaType,B,D,J);J.I=p.ko(w.default,D,"[" + J.mediaType + "]");J.Yk=J.I.error.bind(J.I);J.Ub=J.I.warn.bind(J.I);J.Hn=J.I.trace.bind(J.I);J.FU=E.W;"string" === typeof I || void 0 === I?(A=0 === J.mediaType && B.ppa || 1 === J.mediaType && B.qpa,J.$ka=new n.xia(I,B,new l.W3(L),A)):J.$ka=I;J.Jl=new h.uMa(J,C,J.J,J.I,J.mediaType);J.ap=new f.kOa(J,B,J.I,J.Jl,J.de,J.mediaType,J.Yw,function(){return J.Rj;});B.sh && (J.sh=new m.aPa(B.sh,J.I));N && (J.Xf=null !== H && void 0 !== H?H:u.Cu(J.mediaType,J.track.M,J.J,J.I,J.Jl.IIb.bind(J.Jl),J.Jl.HIb.bind(J.Jl),function(){}),J.Xf.on("created",function(){return J.events.emit("requestQueueCreated");}));return J;}c.__extends(z,y);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.pk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.pk;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{mb:{get:function(){return this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fa:{get:function(){return this.de.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Va:{get:function(){return this.ap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rd:{get:function(){return this.pk.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rn:{get:function(){return this.ap.Rn;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cn:{get:function(){return this.ap.cn;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{kc:{get:function(){return this.FU;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jda:{get:function(){var A;return null !== (A=this.he) && void 0 !== A?A:this.Ps;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{KV:{get:function(){var A;return null !== (A=this.Va.KV) && void 0 !== A?A:this.jda;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rla:{get:function(){return this.Va.KV;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Aq:{get:function(){return this.Va.Aq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Qna:{get:function(){return this.Va.Qna;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{MQb:{get:function(){var A;A=this.Va.NQb;return null === A || void 0 === A?void 0:A.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hx:{get:function(){return ! !this.Gf && (this.no > this.Gf.index || this.FU >= this.Gf.Vc);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ml:{get:function(){return this.Hx && 0 === this.ap.IE;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qu:{get:function(){return this.Va.qu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hr:{get:function(){return this.md?t.R.max(this.md.Ha(this.iF),t.R.hb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tO:{get:function(){return this.mb.tO;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qYa:{get:function(){return this.Va.X.ZH;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wj:{get:function(){return this.$ka;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$f:{get:function(){return this.Wj.$f;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qv:{get:function(){return this.Wj.$f.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{V:{get:function(){var A,B;return null !== (B=null === (A=this.oe) || void 0 === A?void 0:A.V) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{bb:{get:function(){var A;return null === (A=this.oe) || void 0 === A?void 0:A.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rb:{get:function(){var A;return null === (A=this.Gf) || void 0 === A?void 0:A.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rj:{get:function(){return this.mb.Ie.df(this.V).mc;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{F9:{get:function(){return this.Va.F9;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ly:{get:function(){return this.Va.ly;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{FAa:{get:function(){return this.Va.FAa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ps:{get:function(){return this.XRa.add(this.mb.Ie);},enumerable:!1,configurable:!0}});z.prototype.NU=function(){var A;A=this;this.ap.NU(void 0,function(B){var D;D=B[0];B=D.qd;D=D.index;D < A.no && A.LQ(B,D);});};z.prototype.reset=function(){this.Va.reset();this.oe && this.LQ(this.oe.qd,this.oe.index);this.Xf && this.mb.M.dN(this.mediaType,this.Xf);};z.prototype.Bf=function(){var A;this.pm=!0;this.ap.Bf();null === (A=this.$ka) || void 0 === A?void 0:A.$f.Hb();this.Xf && (this.mb.M.dN(this.mediaType,this.Xf),x.Yp.instance.TN(this.Xf),this.Xf.removeAllListeners(),this.Xf=void 0);};z.prototype.toJSON=function(){return {started:this.ly,startOfSequence:this.FAa,segmentId:this.fa,requestedBufferLevel:this.cn,viewableId:this.de.M.N,hasFragments:this.F9};};z.prototype.nn=function(){return this.Va.nn();};z.prototype.LQ=function(A,B){this.FU=A;this.no=B;};z.prototype.CA=function(){return this.Va.CA();};z.prototype.aI=function(){this.Va.close();};z.prototype.LH=function(A){return (A=this.Va.Qu(A.W))?A.complete:!1;};Object.defineProperties(z.prototype,{Ih:{get:function(){return this.de.Ih;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{iF:{get:function(){var A,B,D,C;return null !== (C=null !== (A=this.Va.iF) && void 0 !== A?A:null === (D=null === (B=this.oe) || void 0 === B?void 0:B.Mc) || void 0 === D?void 0:D.add(this.mb.Ie)) && void 0 !== C?C:this.Ps;},enumerable:!1,configurable:!0}});z.prototype.ufb=function(A,B,D){var C;q.assert(this.Xf);q.assert(!this.pm,"pipeline.tryIssueRequest on disabled pipeline");C=A.Y8();return C?this.tfb(A,C,this.Xf,B,D):(A=A.sF(this.Xf))?{Wl:A,reason:"success"}:{Wl:A,reason:"pipelineTryIssueHeaderRequest"};};z.prototype.e$=function(A,B){A && (this.oe=A);B && (this.Gf=B);q.assert(this.oe);q.assert(this.Gf);q.assert(void 0 === this.no);this.LQ(this.oe.qd,this.oe.index);};z.prototype.truncate=function(A){var B;B=this;q.assert(this.oe,"expected first fragment to exist on updateStreaming");this.Gf=A;this.Hx && (A=c.__read(this.ap.Tub(A),2),this.LQ(A[0],A[1]),this.Qs() && (this.Va.tcb(),this.Va.lna(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.lE=function(){return this.Qs()?!1:this.Hh()?!0:this.track.Taa;};z.prototype.Hh=function(){return void 0 !== this.oe && void 0 !== this.Gf;};z.prototype.Qs=function(){return this.pm || this.Hx;};Object.defineProperties(z.prototype,{S$a:{get:function(){var A;A=!0;this.J.xca && (A=this.connected);this.J.wca && (A=A && this.ysa);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xWb:{get:function(){return void 0 !== this.sh;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{G9a:{get:function(){var A;return (null === (A=this.sh) || void 0 === A?0:A.Vz())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.Kk=function(A){this.Jl.SUb(A);"oncomplete" === this.J.a4a && (this.ysa=!0);this.Tu(A);};z.prototype.qB=function(A){A.Hc || this.Jl.S8a(A.stream,A.$,A.qd);this.Jl.OUb(this.fa,A.stream,A.Hc);this.wO(A);};z.prototype.wJ=function(A){A.X5 || (this.connected=!0);"onfirstbyte" === this.J.a4a && (this.ysa=!0);this.PD(A);};z.prototype.v1a=function(A){var B,D;B=this.Va.X;if(0 === B.length)return {X:[],Bba:0,Nj:0,bn:0};D=B.sO(A.W);0 > D && (D=void 0 === B.$ || A.W <= B.$?0:B.length);return {X:B.$0b(D),Bba:Math.max(0,B.mXa - D),Nj:B.Nj,bn:B.bn};};z.prototype.tfb=function(A,B,D,C,F){var G,E,I,N,L,H;I=this.de;N=I.M;L=this.mediaType;H=this.no;if(H >= B.length)return (this.Ub("makeRequest nextFragmentIndex:",H,"past fragments length:",B.length),{Wl:!1,reason:"insufficientFragments"});if(!this.oe || !this.Gf)return (this.Ub("makeRequest delayed, first or last fragment not set","first:",! !this.oe,"last:",! !this.Gf),{Wl:!1,reason:"noFirstOrLastFragment"});B=this.w8.u1a(A,H);if(this.iq && !this.iq.izb(this.mediaType,B.aa))return {Wl:!1,reason:1 === this.mediaType?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.oua=B.region;B.XE=F;null === (G=this.sh) || void 0 === G?void 0:G.IOb(B,A);B.jo && 1 === L && this.Jl.uka(I.G,B.La);this.J.wP && (B.wP=this.J.wP);void 0 !== A && (B.location=A.location,B.ue=A.Pc,B.Oza=A.At);(F=I.M.dda) && "OPEN_CONNECT_APPLIANCE" === A.Bt && (L=0 === L && this.J.ppa || 1 === L && this.J.qpa,G=this.J.zGb && 1 === this.mediaType && this.J.dr,B.E_=L?C:void 0,B.eda=F.Bu({tH:I.ai(this.mediaType),bba:this.J.uGb?this.J.bba:void 0,Xeb:String(w.default.time.ha()),SV:L?C:void 0,Cma:G?{start:B.offset,size:B.aa}:void 0}));w.default.time.ha();D=this.Va.lDb(B,D,A);if(!D.TP()){this.Ub("MediaRequest.open error: " + D.Dh + " native: " + D.Jj);if(7 === D.readyState)return {Wl:!1,reason:"requestAborted"};this.Ub("makeRequest caught:",D.Dh);N.rh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Wl:!1,reason:"openAseMediaRequest"};}null === (E=this.sh) || void 0 === E?void 0:E.QGb(D,B,A);this.Jl.TUb(D);this.LQ(D.Vc,B.IP);this.Qs() && (this.Va.tcb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Wl:!0,reason:"success"};};return z;})(g.gw);b.Fha=a;v.Jf(r.nC,a);v.Jf(r.By,a);},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CQ=void 0;r=a(1);c=r.__importStar(a(10));k=a(23);r=r.__importDefault(a(31));h=a(417);g=a(418);d=r.default.assert;f=r.default.Po;b.CQ=m;(function(){function l(n,p,q,t){var M00,v,u,x,y,z,A;M00=2;for(;M00 !== 20;){switch(M00){case 5:M00=v.Ua?4:14;break;case 2:var Y9G="Mus";Y9G+="t have at least one selec";Y9G+="ted stream";d(!c.ma(t),Y9G);(v=q[t],u=v.bitrate,x=v,y=p.Vd);M00=5;break;case 4:v=k.ze(q.slice(0,Math.min(t + (n.cwb?2:1),q.length)).reverse(),w);M00=3;break;case 3:M00=void 0 === v?9:6;break;case 9:v=q[0];M00=8;break;case 8:var z9G="fallback";z9G+="_lowe";z9G+="st";z9G+="_acceptable_st";z9G+="ream";z=z9G;M00=7;break;case 7:A=null === v || void 0 === v?void 0:v.Ua;M00=14;break;case 6:var o9G="select_fe";o9G+="asible_bu";o9G+="ffering";z=o9G;M00=7;break;case 14:t=new f();t.If=v;x !== v && (t.reason=z,t.hv=A);h.paa(n,q,y,t);return t;break;}}function w(B){var N00,D;N00=2;for(;N00 !== 7;){switch(N00){case 5:N00=!D || (B.bitrate > u?n.D6b:1) * B.bitrate * p.playbackRate > D?4:3;break;case 4:return !1;break;case 3:var P9G="bu";P9G+="ff_lt";P9G+="_";P9G+="h";P9G+="ist";z=P9G;A=D;return !0;break;case 2:void 0 !== y && (null === v || void 0 === v?0:v.X) && h.qaa(n,q,v.X.jy,y,y + 1);D=B.Ua;N00=5;break;}}}}var L00;L00=2;for(;L00 !== 5;){switch(L00){case 2:var k9G="1SI";k9G+="YbZrNJ";k9G+="Cp";k9G+="9";b.CQ=m=function(n,p,q,t,w,v,u){var O00;O00=2;for(;O00 !== 1;){switch(O00){case 2:var l9G="p";l9G+="l";l9G+="a";l9G+="yin";l9G+="g";return l9G === n.Nma?g.zo.call(this,n,p,q,t,w,v,u):l.call(this,n,p,q,t);break;}}};k9G;L00=5;break;}}})();},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.paa=b.qaa=void 0;c=a(1).__importDefault(a(31)).default.console;b.qaa=k;b.paa=h;(function(){var P00;function g(d,f,m){var Q00,l;Q00=2;for(;Q00 !== 7;){switch(Q00){case 1:l=0;Q00=5;break;case 2:Q00=0 === f.length?1:9;break;case 3:l++;Q00=5;break;case 4:f[d[l].wf]=l;Q00=3;break;case 5:Q00=l < d.length?4:9;break;case 9:d=f[m];return void 0 !== d?d:-1;break;}}}P00=2;for(;P00 !== 4;){switch(P00){case 2:var i9G="1SIYbZ";i9G+="rNJCp";i9G+="9";b.qaa=k=function(d,f,m,l,n){var R00,q,p,t,w,v,u,x;R00=2;for(;R00 !== 18;){switch(R00){case 11:R00=u > t || u === t && x > w?10:20;break;case 20:q++;R00=7;break;case 9:var Q9G="maybeUpgrade";Q9G+="LowVmafFragments: i";Q9G+="nvalid st";Q9G+="reams";c.error(Q9G);R00=18;break;case 4:q=g(f,p,m.AK[l]);R00=3;break;case 2:R00=d.WY && 0 < d.WY?1:18;break;case 1:p=[];R00=5;break;case 6:(t=m.Si[l],w=m.sizes[l]);R00=14;break;case 3:R00=-1 === q?9:8;break;case 13:(v=f[q].X.jy,u=v.Si[l],x=v.sizes[l]);R00=12;break;case 7:R00=m.Si[l] < d.WY && q < f.length?6:19;break;case 8:q+=1;R00=7;break;case 12:R00=!t || !u?19:11;break;case 5:R00=l < n?4:18;break;case 14:R00=!f[q].X?19:13;break;case 19:l++;R00=5;break;case 10:(g(f,p,v.AK[l]),m.upgrade(v,l));R00=20;break;}}};b.paa=h=function(d,f,m,l){var S00,w,v,n,p,q,t;S00=2;for(;S00 !== 8;){switch(S00){case 1:S00=d.WY && !(0 >= d.WY)?5:8;break;case 5:var E9G="min_";E9G+="fr";E9G+="agmen";E9G+="t_vmaf";(w=[],v=l.If);d=g(f,w,v.wf);v=null === (p=null === (n=v.X) || void 0 === n?void 0:n.jy) || void 0 === p?void 0:p.AK[m];void 0 !== v && (n=g(f,w,v),-1 !== n && (n !== d && (l.V7a=d,l.If=f[n],l.reason=E9G),(null === (t=null === (q=l.If) || void 0 === q?void 0:q.X) || void 0 === t?0:t.get) && l.If.X.get(m)));S00=8;break;case 2:S00=1;break;}}};i9G;P00=4;break;}}})();},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Rs=b.zo=void 0;r=a(1);k=r.__importStar(a(10));h=a(23);g=a(101);d=r.__importDefault(a(30));f=r.__importDefault(a(31));m=r.__importDefault(a(930));l=a(15);n=a(417);p=f.default.assert;q=f.default.Po;b.zo=(c=(function(){function v(u,x,y,z,A){var X00,B;X00=2;for(;X00 !== 3;){switch(X00){case 2:a000.C9G(4);B=a000.y9G(y,z,A);y=h.Ln(u,function(D){var Y00;Y00=2;for(;Y00 !== 1;){switch(Y00){case 2:return D.bitrate > B;break;case 4:return D.bitrate < B;break;Y00=1;break;}}});y=0 < y?y - 1:0 === y?0:u.length - 1;X00=4;break;case 4:return u[Math.max(x,y)];break;}}}var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:var I9G="1SIYbZ";I9G+="rNJC";I9G+="p9";I9G;return {Rs:t,zo:function(u,x,y,z,A,B,D){var k9v=a000;function F(K,T,fa,ia,Ba,Sa,La){var b10,Za,Wa,Va;b10=2;for(;b10 !== 20;){switch(b10){case 14:return !0;break;case 13:fa=!u.Yna || K === fa || K.Pc === fa.Pc && B?0:(fa=K.Ab) && fa.Mk && fa.Mk.qa?fa.Mk.qa + u.Vna * (fa.Mk.Ce?Math.sqrt(fa.Mk.Ce):0):0;(T=t(u,y,K,T,ba,L + fa - N,M,Q - N,H - N,O,ba.length,J,na,ia,Ba,P,x.xW,x.playbackRate,! !x.x6a)) && T.result && (E.rfc=T.EY);S={i8:T && T.result,Ua:Za,bitrate:K.bitrate};b10=10;break;case 4:Sa || Wa || (K.n0=!0);b10=3;break;case 8:b10=Za >= Math.max(K.Mx * La,K.bitrate * La * Va) && K.Ru?7:13;break;case 9:b10=Wa && !u.o0?8:6;break;case 7:return !0;break;case 10:return T && T.result;break;case 3:b10=!Sa || !Wa?9:13;break;case 6:b10=Za >= K.bitrate * La * Va?14:13;break;case 1:b10=S && !S.i8 && S.Ua >= Za && S.bitrate <= K.bitrate?5:4;break;case 5:return !1;break;case 2:(Za=K.Ua || 0,Wa=K.X && K.X.length,Va=Sa?u.Spa:Wa?u.h8:u.E_a);b10=1;break;}}}var Z00,U,va,ya,ba,na,I,N,L,H,Q,O,ra,V,J,M,P,R,S,G,E;Z00=2;function C(K,T,fa){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:return K.X?K.X.coa(T,fa):0;break;}}}for(;Z00 !== 44;){switch(Z00){case 31:Z00=A.X && A.X.length?30:34;break;case 18:R=C(A,O,u.M9);k9v.n9G(3);U=C(A,k9v.y9G(O,R),u.daa);Z00=16;break;case 32:return E;break;case 22:D=u.uAa && D >= u.tCa?y.length:z + 2;(va=C(A,O,u.Jsa),ya=C(A,O + va,u.bva));Z00=35;break;case 27:A.X && A.X.length || (A.n0=!0);(ba=g.sn.gYa(x.buffer.X),na=x.buffer.yu - ba.aa);Z00=25;break;case 34:E.If=A || I;n.paa(u,y,O,E);Z00=32;break;case 13:(I=A,N=x.buffer.$,L=x.buffer.qc,H=x.buffer.kc,Q=x.buffer.tk,O=x.Vd);k9v.C9G(2);D=k9v.b9G(L,Q);G=this.$f.K5a || d.default.J2.yh;Z00=10;break;case 25:G=y[0];Z00=24;break;case 30:(ra=C(A,O,u.Isa),V=C(A,O + ra,u.ava));Z00=29;break;case 23:Z00=z + 1 < y.length && D > u.ZA && (void 0 === this.P$ || this.Aua && this.Aua > this.P$ || H - this.P$ > u.Z$ && D > u.dva)?22:34;break;case 24:Z00=F(A,y[Math.max(z - 1,0)],A,R,U,!1,x.playbackRate)?23:31;break;case 28:A=G;Z00=34;break;case 15:return w.call(this,x,u,y,A);break;case 16:Z00=G === d.default.J2.Yob || !A.Ua?15:27;break;case 7:A=y[z];Z00=6;break;case 10:(J=x.state === l.ta.Rc || x.state === l.ta.xh?x.buffer.Nj:0,M=u.eJ,P=u.$A?u.$A:1E3,R=A.M.duration);D > P && R <= u.MSb && (P+=(1 - Math.min(R / (u.M9 + u.daa),1)) * (D - P));Z00=18;break;case 29:Z00=(A=h.ze(y.slice(0,z).reverse(),function(K,T){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return F(K,y[Math.max(z - T - 2,0)],I,ra,V,!0,x.playbackRate);break;}}})) && A.wf < G.wf || !A?28:34;break;case 14:return (A=v(y,z,A.Ua || 0,u.E_a,x.playbackRate),null !== (G=A.X) && void 0 !== G && G.length || (A.n0=!0),E.If=A,E);break;case 35:A=h.ze(y.slice(z + 1,D),function(K,T){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return F(K,y[z + T],I,va,ya,!1,x.playbackRate);break;}}});Z00=34;break;case 6:Z00=D?14:13;break;case 2:var D9G="n";D9G+="u";D9G+="m";D9G+="ber";var d9G="n";d9G+="um";d9G+="b";d9G+="e";d9G+="r";var a9G="i";a9G+="nvalid player fr";a9G+="agmentIndex";var Z9G="Must have";Z9G+=" at ";Z9G+="least one selected stream";p(!k.ma(z),Z9G);void 0 === x.Vd && (x.Vd=0);p(k.Ga(x.Vd),a9G);p(d9G === typeof x.buffer.yu);p(D9G === typeof x.xW);E=new q();Z00=7;break;}}}};break;}}function w(u,x,y){var W00;W00=2;for(;W00 !== 4;){switch(W00){case 2:u=new q();u.If=y[0];return u;break;}}}function t(u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M){var U00,R,S,U,ba,na;U00=2;for(;U00 !== 15;){switch(U00){case 8:return !1;break;case 11:U00=0 < M?10:20;break;case 13:M=L;U00=12;break;case 12:S=void 0;U00=11;break;case 17:return 0 < L || 0 < H?m.default({X:A.concat(na),blocks:E + L + H,qc:B,tk:C,T2b:D,Nj:I,kc:F,Vd:E,pIb:E + L,xW:O,s0a:N,Ua:R / J,Eaa:Q,lJ:u.lJ,nQb:u.o0,eGb:!1}):R > y.Mx?{result:!0,EY:0,Ru:!0}:{result:!1,EY:0,Ru:!0};break;case 18:(S=Math.min(M,z.X.length - G),P(z.X.jy,G,G + S),M-=S,G+=S,G >= z.X.length && (G=0));U00=19;break;case 9:U00=!R || R < y.bitrate * J * u.Hsa || !U?8:7;break;case 10:(S=Math.min(M,y.X.length - G),P(y.X.jy,G,G + S),M-=S,G+=S,G >= y.X.length && (G=0));U00=11;break;case 20:M=H;U00=19;break;case 2:var S9G="Second stream ";S9G+="unde";S9G+="fined";var p9G="F";p9G+="irst st";p9G+="ream undefined";p(y,p9G);p(z,S9G);(R=y.Ua,S=C - B,U=y.X && y.X.length,ba=z.X && z.X.length);p(A.length === E);u.eva && (Q=Math.min(Q,S));U00=9;break;case 19:U00=0 < M?18:17;break;case 14:U00=M?13:16;break;case 7:ba || (z=y);na=[];U00=14;break;case 16:(L=Math.max(0,Math.min(L,y.X.length - G)),H=Math.max(0,Math.min(H,z.X.length - G - L)),0 < L && P(y.X.jy,G,G + L),0 < H && P(z.X.jy,G + L,G + L + H));U00=17;break;}}function P(va,ya,ra){var V00;V00=2;for(;V00 !== 5;){switch(V00){case 2:n.qaa(u,x,va,ya,ra);na.push(va.subarray(ya,ra));V00=5;break;}}}}})(),c.zo);b.Rs=c.Rs;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.DPb=b.Fza=void 0;c=a(1);k=c.__importDefault(a(85));h=c.__importStar(a(10));g=a(23);d=a(393);f=c.__importDefault(a(6));r=c.__importDefault(a(99));a=c.__importDefault(a(31));m=a.default.lUb;l=a.default.byb;n=a.default.O6;p=a.default.Po;q=r.default.lAa;a=(function(){function y(B,D,C,F,G,E){var m10;m10=2;for(;m10 !== 5;){switch(m10){case 2:var h9G="no";h9G+="_vali";h9G+="d_Bitrate";var w9G="no_v";w9G+="alid_V";w9G+="MAF";var A9G="no_";A9G+="vali";A9G+="d_DelayTarg";A9G+="et";B=C?B.$a >= E.wv && B.$a <= E.v7a:B.bitrate >= E.vv && B.bitrate <= E.fB;return (F=F < G && B)?{i8:F}:{i8:F,reason:B?A9G:C?w9G:h9G};break;}}}function u(B,D){var m9v=a000;var j10,C;j10=2;for(;j10 !== 9;){switch(j10){case 1:var u9G="l";u9G+="o";u9G+="g";j10=0 === D.DQ.lastIndexOf(u9G,0)?5:3;break;case 2:m9v.C9G(5);var K31=m9v.b9G(7143,92847,20,16,14);m9v.n9G(1);var L31=m9v.b9G(982,500,491);B=n(B,0,K31) / L31;j10=1;break;case 5:C=D.DQ;j10=4;break;case 14:C=D.DQ;j10=5;break;j10=4;break;case 4:return (C=D.dcb[C]) && 2 === C.length?1E3 * (C[0] + C[1] * Math.log(1 + B)):D.Zs;break;case 3:var N9G="s";N9G+="i";N9G+="gmoi";N9G+="d";return 0 === D.DQ.lastIndexOf(N9G,0)?(C=D.DQ,(C=D.dcb[C]) && 2 === C.length?1E3 * (C[0] + C[1] * q(B)):D.Zs):D.Zs;break;}}}function z(B,D,C){var n10,F,G;n10=2;for(;n10 !== 4;){switch(n10){case 2:(F=new p(),G=Math.max(B.vv,B.Caa,D.Hta?B.Rva:-Infinity));F.If=g.ze(C.filter(function(E){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 4:return E.bitrate >= B.fB;break;o10=1;break;case 2:return E.bitrate <= B.fB;break;}}}).reverse(),function(E){var q10,I,N,L;q10=2;for(;q10 !== 13;){switch(q10){case 1:q10=E.bitrate > G?5:14;break;case 2:I={Ua:E.Ua,ym:E.Ab && E.Ab.ym,Rk:E.Ab && E.Ab.Rk};q10=1;break;case 3:q10=N?9:6;break;case 5:E=E.bitrate * D.playbackRate;N=I.Ua;q10=3;break;case 8:var K9G="h";K9G+="ist_buf";K9G+="ftime";w(E,N,B) <= L?(F.hv=N,I && (F.zp=I.ym?I.ym:0,F.Ap=I.ym && I.Rk),F.reason=K9G,I=!0):I=!1;q10=7;break;case 9:L=v(B,E);q10=8;break;case 7:return I;break;case 6:I=!1;q10=7;break;case 14:var f0G="no_h";f0G+="i";f0G+="storical_lte_minbitrate";var X0G="hist_tpu";X0G+="t_l";X0G+="t_mi";X0G+="nbitrate";var T0G="l";T0G+="t_hist_";T0G+="lte_minb";T0G+="itrate";(N=I.Ua,E.bitrate * D.playbackRate <= N?(F.hv=N,I && (F.zp=I.ym?I.ym:0,F.Ap=I.ym?I.Rk:void 0),F.reason=T0G,I=!0):N?(F.hv=N,I && (F.zp=I.ym?I.ym:0,F.Ap=I.ym?I.Rk:void 0),F.reason=X0G,I=!1):(F.reason=f0G,I=!0));q10=7;break;}}}) || C[0];return F;break;}}}var e10;function w(B,D,C){var g10;g10=2;for(;g10 !== 5;){switch(g10){case 2:B=l(C.Ij,B * C.Eva);return m(B,D);break;}}}e10=2;function A(B,D,C,F){var r10,G;r10=2;for(;r10 !== 7;){switch(r10){case 1:var r0G="nu";r0G+="m";r0G+="b";r0G+="er";r10=r0G !== typeof G?5:4;break;case 2:var V0G="v";V0G+="b";G=f.default.storage.get(V0G);r10=1;break;case 4:B=new p();B.If=g.ze(C.slice().reverse(),function(E){var s10;s10=2;for(;s10 !== 1;){switch(s10){case 2:return E.bitrate <= G;break;}}}) || C[0];r10=9;break;case 9:var b0G="hist_b";b0G+="itrat";b0G+="e";B.reason=b0G;return B;break;case 5:return B.QU?x(B,D,C,F):z(B,D,C,F);break;}}}function t(B,D){var f10,C,F;f10=2;for(;f10 !== 12;){switch(f10){case 7:f10=(F=h.Ga(D.Qca) && 0 <= D.Qca && 100 >= D.Qca && !h.ma(B) && !h.xb(B))?6:14;break;case 2:C=new p();C.If=B;B=C.If.Ab || ({});f10=4;break;case 14:var C0G="hist_t";C0G+="h";C0G+="r";C0G+="oughput";var y0G="hi";y0G+="st_";y0G+="tdigest";F?(D=B.Oj(D.Qca / 100) || C.If.Ua,C.hv=D,C.reason=y0G):C.If.Ua && (D=C.If.Ua,C.hv=D,C.reason=C0G);f10=13;break;case 4:C.Ap=B.ym && B.Rk;C.zp=B.ym?B.ym:0;B=k.default(C.Ap,{});f10=7;break;case 6:(F=d.zPa.DLb(B),h.kd(F)?(B.Oj=F,F=!0):F=!1);f10=14;break;case 13:return C;break;}}}for(;e10 !== 5;){switch(e10){case 2:var n0G="1S";n0G+="IYbZr";n0G+="NJ";n0G+="C";n0G+="p9";n0G;return {Xtb:function(B,D,C,F){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:var c0G="h";c0G+="is";c0G+="to";c0G+="r";c0G+="ical";return c0G === B.pta?A(B,D,C,F):B.QU?x(B,D,C,F):z(B,D,C,F);break;}}},rrb:y};break;}}function x(B,D,C){var k10,F,G,E,I,N,L;k10=2;for(;k10 !== 19;){switch(k10){case 1:k10=0 <= E && (F?C[E].$a >= B.wv:C[E].bitrate >= B.vv)?5:11;break;case 2:(F=! !B.wv && ! !B.v7a && C.every(function(H){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 4:return H.$a || 940 < H.$a;break;l10=1;break;case 2:return H.$a && 110 >= H.$a;break;}}}),G=null,E=C.length - 1);k10=1;break;case 5:I=C[E];G=t(I,B);(N=w(I.bitrate * D.playbackRate,G.hv,B),L=u(G.hv,B));L=y(I,G.hv,F,N,L,B);I=L.i8;k10=7;break;case 14:k10=I?11:13;break;case 13:G.reason=L;k10=12;break;case 7:L=L.reason;G.NA=N;k10=14;break;case 12:E--;k10=1;break;case 11:var R0G="fallba";R0G+="ck_no";R0G+="_a";R0G+="cceptable_stream";var x0G="below_minInitVi";x0G+="de";x0G+="oBitrate";h.xb(G) && C[E].bitrate < B.vv && (G=t(C[E],B),G.reason=x0G);h.xb(G) && (G=t(C[0],B),G.reason=R0G);return G;break;}}}function v(B,D){var h10,C,F;h10=2;for(;h10 !== 13;){switch(h10){case 2:h10=B.Z9?1:14;break;case 4:return C[0].d;break;case 1:(C=B.Z9,F=g.Ln(C,function(G){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return D <= G.r;break;}}}));h10=5;break;case 6:return Math.floor(B.d + (C.d - B.d) * (D - B.r) / (C.r - B.r));break;case 9:return C[C.length - 1].d;break;case 8:a000.C9G(2);B=C[a000.y9G(1,F)];C=C[F];h10=6;break;case 3:h10=-1 === F?9:8;break;case 5:h10=0 === F?4:3;break;case 14:return B.Zs;break;}}}})();r=a.rrb;b.Fza=a.Xtb;b.DPb=r;},function(r,b,a){var h,g,d,f,m,l;function c(n,p,q,t){f(!h.ma(t),"Must have at least one selected stream");return new l(t);}function k(n,p,q,t){f(!h.ma(t),"Must have at least one selected stream");return new l(t);}h=a(10);b=a(31);g=b.console;d=b.debug;f=b.assert;m=b.TI;l=b.Po;r.exports={STARTING:function(n,p,q){var w,v,u,x;function t(y,z){var A,B,D,C;A=y.id;B=y.bitrate;D=y.Ua || 0;C=! !D;d && g.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.pv)return (d && !y.nv && g.log("  Not available"),d && y.IA && g.log("  Failed"),!1);if(B > n.JY)return (d && g.log("  Above maxInitAudioBitrate (" + n.JY + " Kbps)"),!1);if(!(B * n.Jaa / 8 < p.buffer.yu))return (d && g.log("  audio buffer too small to handle this stream"),!1);if(C){d && g.log("  Have throughput history = " + C + " : available throughput = " + D + " Kbps");if(B * p.playbackRate < D / v)return (d && g.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && g.log(" bitrate requires more than available throughput");return !1;}y=n.ZY;p.Hta && (y=Math.max(y,n.XY));if(B <= y)return (d && g.log("  Bitrate is less than max of minInitAudioBitrate (" + n.ZY + " Kbps) " + (p.Hta?" and also minHCInitAudioBitrate (" + n.XY + " Kbps)":"")),d && g.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && g.log("  No throughput history");return !1;}w=new l();v=n.Vcc || 1;for(u=q.length - 1;0 <= u;--u){x=q[u];if(t(x,u)){w.Te=u;break;}m(x) && (w.Te=u);}return w;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Cu=void 0;c=a(16);k=a(129);h=a(4);b.Cu=function(g,d,f,m,l,n,p){var q;c.Z && m.trace("AsePlaygraph.createRequestQueue()");q=k.Yp.instance.Cu(g,d.K,!0,!1,{mA:f.mA},f);q.oh.on(q,"networkfailing",function(){var t;c.Z && m.trace("requestQueue OnNetworkFailing: ",q);q.g8 && (h.assert(q.PW),null === (t=d.Iq) || void 0 === t?void 0:t.st(q.PW,void 0,q.Dh,q.Jj));d.nn();});q.oh.on(q,"error",function(){p(q.Dh,q.Jj);});q.on("transportreport",l);q.on("mediaRequestComplete",n);q.zb();return q;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wla=b.TZ=b.q_a=void 0;c=a(1).__importDefault(a(99)).default.Hpa;b.q_a=function(k,h,g){var d,f,m;d=0;if(g){k.some(function(l){var n;n=l.b;l=l.m;if(h <= n)return (d=m && n !== f?m + (l - m) / (n - f) * (h - f):l,!0);f=n;d=m=l;return !1;});}else k.some(function(l){d=l.m;return h <= l.b;});return d;};b.TZ=function(k,h,g){var d;h=(null === (d=h.Ua) || void 0 === d?void 0:d.qa) || 0;return k.xVa?(k=c(k.wVa,g.tk - g.qc,1),h * (1 - k)):h * k.B0 / 100;};b.Wla=function(k,h){return k < 2 * h?k / 2:k - h;};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Tea=void 0;c=a(1);r=a(17);k=a(16);h=c.__importDefault(a(6));g=a(9);d=a(953);f=a(154);m=a(954);l=a(21);n=a(957);p=a(958);q=a(959);a=(function(t){function w(){var v;v=null !== t && t.apply(this,arguments) || this;v.hTa=0;v.Oka=0;v.v4=0;v.oja=0;return v;}c.__extends(w,t);w.prototype.Yya=function(v){var u,x;t.prototype.Yya.call(this,v);this.hTa++;this.Oka++;this.CTa=h.default.time.ha();this.vM || (this.vM={Vc:v.Vc,qd:v.qd,index:v.index},this.P4 || (this.P4=this.vM));u=this.b5;x=!1;u && 100 > Math.abs(u.Pe - v.Dd) && (this.v4+=v.Pe - u.Pe,this.oja++,x=!0);x || (this.v4=v.Ds,this.oja=1);this.b5=v;};w.prototype.stop=function(){t.prototype.stop.call(this);this.Oka=0;this.vM=void 0;};w.prototype.E1a=function(){var v,u,x,y;v=this.$w;u=v.j7;if(u){y=u.lb(this.bh);y && y.Va && (x=y.Va.Lra());return {RM:x,currentBranch:{sId:u.G && u.G.id,cancelled:u.Xh},currentReceivedCount:v && v.EDb,totalReceivedCount:this.hTa,currentState:v && v.rYa || "Uninitialized",lastRequestPushed:this.b5 && ({contentEndPts:this.b5.Vc,fragmentIndex:this.b5.index}),tslp:this.CTa && h.default.time.ha() - this.CTa,cpts:this.v4,crq:this.oja,rslp:this.Oka,firstRequestSSPushed:this.vM && ({contentStartPts:this.vM.qd,fragmentIndex:this.vM.index}),firstRequestPushed:this.P4 && ({contentStartPts:this.P4.qd,fragmentIndex:this.P4.index})};}};return w;})((function(t){function w(v,u,x,y,z,A,B,D,C,F){var G;G=t.call(this) || this;G.Hg=v;G.bh=u;G.J=y;G.I=z;G.S=A;G.PC=new g.Wr(!1);G.OC=new g.Wr(l.R.Oa(-Infinity));G.I=g.ko(h.default,G.I,"AsePlayerBuffer [" + u + "]:");G.$w=new d.MDa(G.I,x,u);G.resume();A && B && D && (G.$ba=new m.NNa(u,z,A,G.Hg,A.events,B,D,C),v=new n.AGa(null === A || void 0 === A?void 0:A.gr,l.R.Oa(G.J.aZ),z),G.$w.Ela(v),G.J.OUa && (z=new p.zLa(null === A || void 0 === A?void 0:A.gr,G.J.OUa,l.R.Oa(G.J.lwb),z),G.$w.Ela(z)),F && G.$w.Ela(new q.BOa(F)));G.Hg.on("requestAppended",function(E){G.PC.set(!0);E.request.md && G.OC.set(E.request.md);G.emit("requestAppended");});return G;}c.__extends(w,t);Object.defineProperties(w.prototype,{Ox:{get:function(){return this.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{nY:{get:function(){return this.OC;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pPb:{get:function(){return this.$w.Dk;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.bh;},enumerable:!1,configurable:!0}});w.prototype.E1a=function(){};w.prototype.resume=function(){k.Z && this.I.trace("resume");this.CAa();};w.prototype.E4a=function(v){return this.Hg.tra() > v;};Object.defineProperties(w.prototype,{Nwb:{get:function(){return this.eM;},enumerable:!1,configurable:!0}});w.prototype.K2b=function(){this.Hg.kZ(!0);};w.prototype.reset=function(v){var u;void 0 === v && (v=!1);k.Z && this.I.trace("reset");this.stop();this.Hg.reset(v);this.PC.set(!1);this.OC.set(l.R.Oa(-Infinity));v || (this.eM=void 0);v || (null === (u=this.$ba) || void 0 === u?void 0:u.reset());};w.prototype.wl=function(v){void 0 === v && (v=!1);k.Z && this.I.trace("restart");this.reset(v);this.CAa(!0);};w.prototype.stop=function(){k.Z && this.I.trace("stop");this.$w.Odb();};w.prototype.close=function(){var v;k.Z && this.I.trace("start");null === (v=this.$ba) || void 0 === v?void 0:v.close();};w.prototype.Hb=function(){this.stop();this.close();};w.prototype.qZ=function(){this.J.q8 && this.Hg.f0a();this.Hg.kA();};w.prototype.$E=function(v){this.Hg.$E(v);};w.prototype.qIb=function(v){this.Hg.N8a(v,!0);};w.prototype.bj=function(v){var u;return !(null === (u=this.$ba) || void 0 === u || !u.bj(v));};w.prototype.CAa=function(v){if(!this.$w.Dk || v)(this.$w.i0b(),f.AsyncIterator.uQb(this.$w,this.G$.bind(this)));};w.prototype.G$=function(v){v.done || this.Yya(v.value);};w.prototype.Yya=function(v){var u;k.Z && this.I.trace("requestReceived: " + v.toString());this.Hg.endOfStream?k.Z && this.I.error("Buffer manager has declared EOS, ignoring request",v.toString()):(this.eM?(this.eM.QQb=v.Vc,this.eM.SQb=v.Pe,this.eM.O5a=v.md):this.eM={nec:v.qd,oec:v.Dd,QQb:v.Vc,SQb:v.Pe,O5a:v.md},v.iI && v.stream.track.Sq && (null === (u=this.S) || void 0 === u || !u.ho(v.M.N)) && this.emit("drmNeeded",{N:v.M.N,Kxa:v.he}),this.Hg.Mwb(v));};return w;})(r.EventEmitter));b.Tea=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.efa=void 0;r=a(1);c=r.__importStar(a(10));k=r.__importDefault(a(85));h=r.__importDefault(a(6));g=a(960);d=a(15);f=a(255);m=a(9);l=a(4);n=a(21);p=a(372);q=a(413);a=(function(){function t(w,v,u,x,y,z,A,B,D,C){this.wb=w;this.Ci=v;this.I=u;this.TM=x;this.J=A;this.L4=B;this.QSa=D;this.hX=C;this.Ub=this.I.warn.bind(this.I);this.Hn=this.I.trace.bind(this.I);this.dg=this.I.log.bind(this.I);this.Ai=[];this.zh={};y.On?(l.assert(!y.Kp),this.bja=!0,this.Zsb(y,y.On,z)):(this.Uo=this.jz(y.Kp || "",y,0,void 0,void 0,{},!0),this.Uo.ar=!0,this.Uo.La=Infinity,this.F5=[this.Uo]);this.de=this.y4(this.Uo,void 0,z);this.de.active=!0;w=m.ko(h.default,this.I,"BranchQueue::");this.tj=new f.I1(w);this.tj.enqueue(this.de);this.Hka=this.$T=void 0;}t.Gqa=function(w){return "m" + w;};Object.defineProperties(t.prototype,{Fx:{get:function(){return ! !this.bja;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ck:{get:function(){return this.de.Xh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fe:{get:function(){return this.Uo;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ch:{get:function(){return this.de.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{GDb:{get:function(){return this.de.M.Tb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dd:{get:function(){return this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{qb:{get:function(){return this.Ai;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{He:{get:function(){return this.de.He;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yg:{get:function(){return this.wb.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ii:{get:function(){return this.$T?this.$T:this.qb[0];},enumerable:!1,configurable:!0}});t.prototype.Hb=function(){this.Ai.forEach(function(w){w.Bf();});this.Ai=[];this.tj.clear();};t.prototype.Oe=function(w){return this.zh[w];};t.prototype.C2a=function(){return this.tj.getIterator();};t.prototype.B2a=function(w,v){var u;u=this.zh[w];if(u)return (w=u.Ql[v]) && w.weight;this.Ub("getSegmentWeight, unknown segment:",w);};t.prototype.fMb=function(w){var v;v=this.zh[w];if(v)return v.$;this.Ub("getSegmentStartPts, unknown segment:",w);};t.prototype.eMb=function(w){var v;v=this.zh[w];if(!v)this.Ub("getSegmentDuration, unknown segment:",w);else if(c.Ga(v.La) && isFinite(v.La) && c.Ga(v.$) && isFinite(v.$))return v.La - v.$;};t.prototype.pca=function(w){var v;v=-1;this.Ai.some(function(u,x){return u === w?(v=x,!0):!1;});-1 !== v?this.Ai.splice(v,1):this.Ub("Unable to find branch:",w,"in branches array");};t.prototype.zH=function(w,v){var u;u=0;this.Pqb(w).forEach(function(x){(x=x.Wd(v)) && (u+=x.wD);});return u;};t.prototype.ix=function(w,v,u){var x;if(!w.xc(v))return 0;x=w.lb(v);for(x=u?x.kc:x.Aq;void 0 === x;){if(!w.zg)return 0;w=w.zg;x=w.lb(v);x=u?x.kc:x.Aq;}w=this.QSa.af();return Math.max(x - w,0);};t.prototype.Wpa=function(w){return this.Ai.filter(function(v){if(v.M.Tb === w)return !0;});};t.prototype.WHb=function(w,v){return this.xRa(w,!1,v);};t.prototype.VHb=function(w,v){return this.xRa(w,!0,v);};t.prototype.y_b=function(w,v,u){c.Cf(this.Ai,function(x){x.M === w && x.Vcb(v,u);});c.Cf(this.zh,function(x){x.M === w && (x.M=v);});};t.prototype.Abb=function(){var w;w=this;c.Cf(this.Ai,function(v){var u;u=w.wb.Eh(v.M.Tb);v.Lt(n.R.Oa(u.Jx));});};t.prototype.Br=function(w){var v;v=this;c.Cf(this.Ai,function(u){u.lb(1).track.Rd.forEach(function(x){var y;y=p.Xla(x.Pf,x.bitrate,w,v.I);k.default(y,x);});});};t.prototype.Qu=function(w,v,u,x){var y;for(;v;){y=v.Qu(w,u);if(y)return y;if(x)break;v=v.zg;}};t.prototype.wYa=function(w){var v,u;v=this;void 0 === w && (w=!1);u=this.Ai;w && (u=u.filter(function(x){return x !== v.de;}));u.forEach(function(x){x.active=!1;v.tj.remove(x);});w || this.tj.clear();return u;};t.prototype.aZb=function(){var w;for(;0 < this.Ai.length;){w=this.Ai[0];w.lb(0);w.lb(1);if(!w.active)break;if(w === this.de)break;if(!w.ANb())break;w.Bf();this.Ai.shift();}};t.prototype.e_=function(w,v,u,x,y){if(u > x){for(u-=x;w;){w.e_(v,u,y);w=w.zg;}return u;}};t.prototype.J6a=function(w,v){for(var u={LV:null,dQ:null,Dd:null,Nj:0,bn:0,We:0,X:[]};w;){w.n9(u,v);w=w.zg;}return u;};t.prototype.Xzb=function(w){var v,u,x;v=this.de;if(v.y6a)u=v.y6a;else {x=this.de.He;u=this.y4(v.G,v);d.Lf.forEach(function(y){var z;z=u.Wd(y);z && (z.qK(0),y=v.Wd(y),z.$ca(y.Gf));});u.Lt(n.R.Oa(x + w));v.y6a=u;}this.$L(u,v);};t.prototype.Bvb=function(w,v,u){var x,y;l.assert(!w.Fx());if(!this.bja){this.bja=!0;this.$T=this.ii;x=this.Uo.id || t.Gqa(0);this.Uo.id=x;this.zh[x]=this.Uo;this.Uo.La=this.wb.IKb().H1a();this.Uo.OE=!0;}y=void 0 !== w.Kp?w.Kp:t.Gqa(w.Tb);w=this.jz(y,w,v,u,void 0,{},!0);w.OE=!0;this.F5.forEach(function(z){z.Ql={};z.Ql[y]={weight:100};z.fW=y;z.Yv=!1;});this.F5=[w];};t.prototype.xs=function(w,v){var u,x,y,z;u=this.ii;x=u.eF(v,this.wb.S);y=u.G;z=u.children[w];if(v){if(!y.Ql[w])return (this.de.Ub("chooseNextSegment, invalid destination:",w,"for current segment:",y.id),!1);if(u.il)return u.il === w;u.il=w;z && u.t8 && this.$L(z,u);return !0;}if(void 0 !== u.il)return !1;if(!z)return (x.s8a=!0,!1);x.s8a=!z.qna();this.wb.Pka(void 0,q.hT.MP);u.t8=void 0;u.il=w;this.$L(z,u);u.aI();this.wb.AU();return !0;};t.prototype.SNb=function(w,v){var u,x,y,z;u=this;z=w.G;v && !w.il && (w.il=z.fW,w.eF(!0,this.wb.S,!0));w.children=Object.create(null);c.Cf(z.Ql,function(A,B){w.il && B !== w.il || (x=u.zh[B],y=u.iqb(x,w),w.children[B]=y);});w.il && (v=w.children[w.il]) && this.$L(v,w);w.t8=!0;};t.prototype.d5b=function(){var w;w=0;c.Cf(this.Ai,function(v){d.Lf.forEach(function(u){v.xc(u) && (u=v.Wd(u),w+=u.Va.tq);});});return w;};t.prototype.i4b=function(w,v){var u,x,y;u=this;x=this.Nqb(w,v);if(x){if(x !== this.de.G){this.wYa();y=this.y4(x,this.de,w);y.zg=void 0;y.Xza(void 0,void 0,!0);this.npb(this.de);this.$L(y,this.de);}else this.wYa(!0).forEach(function(z){z.Bf();u.pca(z);u.tj.remove(z);});x === this.ii.G && (this.ii.ny.shift(),y && (y.ny=this.ii.ny,y.il=this.ii.il));this.Ci.f5(x,this.de.He);this.de.t8=void 0;}else this.Ub("findSegment no segment for manifestIndex:",v);};t.prototype.I6a=function(w,v){var u;u=w.G;v || (v=u.fW);w.il || (w.il=v,w.eF(!0,this.wb.S,!0));(v=w.children[w.il]) && this.$L(v,w);};t.prototype.ycb=function(w,v){if(this.de !== w){if(v)for(v=this.de;v && v !== w;){v.active=!1;this.tj.remove(v);v=v.zg;}this.de=w;}};t.prototype.ew=function(w,v){var u,x,y,z,A;u=this;if(this.Fx){x=this.J;y=this.ii;z=y.G;A=m.V0b(z.id);!y.il && !z.Yv && y.Vc - v <= x.AE && (this.Ub(A + "updatePts making fork decision at playerPts:",w,"contentPts:",v),this.I6a(y));}d.Lf.forEach(function(B){u.de.xc(B) && u.Yg[B].ew();});};t.prototype.UUb=function(w,v){var u,x;if(this.Fx){u=this.$T;if(!(this.J.sOb && w && this.Hka && w.$ === this.Hka || (w=w.Va.mb,u && w.G.id === u.G.id))){x=null === u || void 0 === u?void 0:u.Wd(1);x=null === x || void 0 === x?void 0:x.Gf;this.Hka=null === x || void 0 === x?void 0:x.$;this.$T=w;this.Jpb(u);u=u && u.kAb(w);this.Ci.Esb(w.G,v,u);}}};t.prototype.cba=function(w,v,u){v.ar || (v.$=this.b2a(w,v.$,!0),u || (v.La=this.b2a(w,v.La,!1)),v.ar=!0,!1);};t.prototype.pR=function(w,v){var u;u=this.zh[w];u?c.Cf(u.Ql,function(x,y){x.weight=v[y] || 0;}):this.Ub("updateChoiceMapEntry, unknown segment:",w);};t.prototype.b2a=function(w,v,u){w=u?w.N_a(v):w.TW(v);if(!w.length)return v;v=w[1];return u?v.$:v.La;};t.prototype.aSa=function(w,v,u){var x;x=v?u.Vc:u.Pe;return (v?u.Pca:u.Ixa) <= w && w < x;};t.prototype.xRa=function(w,v,u){var A;for(var x=this.wb,y=this.de;y;){if((!c.Ga(u) || x.Dta(u,y.M.Tb)) && this.aSa(w,v,y))return y;y=y.zg;}if(v){y=Object.keys(this.de.children);for(var z=0;z < y.length;z++){A=this.de.children[y[z]];if((!c.Ga(u) || x.Dta(u,A.M.Tb)) && this.aSa(w,v,A))return A;}}};t.prototype.iqb=function(w,v){var u,x;u=this.y4(w,v);x=u.Xza(v,void 0,this.J.Cya);d.Lf.forEach(function(y){var z,A,B;if(u.xc(y)){z=u.Wd(y);A=v.Wd(y);B=x[y];1 === y && u.Lt(n.R.Oa(A.kc + v.He - B));z.qK(B);}});this.Ci.f5(w,u.He);return u;};t.prototype.npb=function(w){for(var v=[w.G.id];w.zg;){w=w.zg;v.unshift(w.G.id);}this.Uia(w);};t.prototype.Uia=function(w){var v,u;v=this;u=w.G;c.Cf(w.children,function(x){x && v.Uia(x);});this.tj.remove(w);w.Bf();this.pca(w);this.Ci.vka(u);};t.prototype.$L=function(w,v){var u,x,y,z;u=this;x=v.G;v.M !== w.M && this.wb.nSa(w.M.Tb);w.active=!0;this.tj.enqueue(w);w.oN();y=h.default.time.ha();z={};c.Cf(v.children,function(A){var B,D;if(A){if(A.re){B=A.Wd(0);D=A.Wd(1);A.re.tH=[B?B.Rn.W:0,D?D.Rn.W:0];A.re.EFb=y - A.re.a$;A.re.a$=void 0;z[A.G.id]=A.re;}A.G.id !== w.G.id && u.Uia(A);}});v.children=Object.create(null);v.children[w.G.id]=w;v.mM=void 0;this.ycb(w);this.Ci.Csb(w.G,z);1 < Object.keys(x.Ql).length && w.qna();};t.prototype.Jpb=function(w){var v,u;if(w){v=h.default.time.ha();u=w.ny[0];u && void 0 === u.x7?u.x7=v - u.sr:u || (this.Ub("missing metrics for branch:",w.G.id),u={hda:w.G.id,te:!0,x7:0,re:{}},w.ny.unshift(u));void 0 === u.startTime && (u.startTime=v);}};t.prototype.Nqb=function(w,v){var x,y,z,A;l.assert(0 <= w);for(var u in this.zh){x=this.zh[u];if(this.wb.Dta(x.M.Tb,v)){if(x.$ <= w && (Infinity === x.La || void 0 === x.La || w < x.La))return x;y=Math.min(Math.abs(w - x.$),Math.abs(w - x.La));if(c.ma(z) || y < z)(z=y,A=x);}}return A;};t.prototype.jz=function(w,v,u,x,y,z,A,B,D){v=new g.FOa(w,v,u,x,y,z,A,B,void 0,D);return this.zh[w]=v;};t.prototype.Zsb=function(w,v,u){var x,y,z;x=this;this.Uo=void 0;this.F5=[];y=null;z=null;c.Cf(v.segments,function(A,B){var D,C,F,G,E;D=A.startTimeMs;C=A.endTimeMs;F={};c.Cf(A.next,function(I,N){F[N]={weight:I.weight || 0,q5b:I.transitionHint || A.transitionHint,$dc:"number" === typeof I.earliestSkipRequestOffset?I.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.ma(G) && (G=Object.keys(F)[0]);E=c.ma(G);G=x.jz(B,w,D,C,G,F,E,A.exitZones,A.transitionHint);D <= u && (u < C || c.ma(C))?x.Uo=G:D > u && (!y || D < z) && (y=B,z=D);E && x.F5.push(G);});this.Uo || (this.Uo=y?this.zh[y]:this.zh[v.initialSegment]);};t.prototype.y4=function(w,v,u){var x,y,z,A;x=w.M;y=this.wb.Eh(x.Tb);z=y.Jx;A=[];[0,1].forEach(function(B){x.xc(B) && A.push(y.Nq(B));});w=new q.GIa(this.wb,this.J,this.Ci,this.I,this,this.L4,this.QSa,this.TM,w,A,z,v,u?n.R.Oa(u):void 0,this.hX,this.wb.Yg,this.wb.Xw);this.opb(w);this.Ai.push(w);return w;};t.prototype.opb=function(w){var u;function v(x){u.wb.emit(x.type,x);}u=this;w.addListener("locationSelected",v);w.addListener("logdata",v);w.addListener("serverSwitch",v);w.addListener("streamSelected",v);w.addListener("lastSegmentPts",v);w.addListener("managerdebugevent",v);w.addListener("requestCreated",function(x){x=x.request;u.wb.Tka(x.mediaType,x.$);});};t.prototype.Pqb=function(w){for(var v=[w];w.zg;){w=w.zg;v.push(w);}return v;};return t;})();b.efa=a;},function(r,b,a){var g,d,f,m;function c(l,n,p){this.NE=n;this.Ol=p;this.VB=this.YX=this.mxa=this.$9a=this.Z9a=this.OP=this.Rd=this.yXb=this.Ol=this.gn=this.kc=this.$=this.Ot=this.Fo=this.X=this.p4a=this.kV=void 0;}function k(l,n,p){this.La=n;this.a5a=p;this.TUa=this.Sgb=this.ns=this.Fo=this.dJ=this.qx=void 0;}function h(l,n,p,q,t,w,v){var u;u=new c(p,n,l.Ol);l.forEach(function(x){var y,z;y=x.buffer;z=y.X;x.mediaType === d.Ya.cc?u.kV=z.length?z[0].bitrate:void 0:x.mediaType === d.Ya.Nb && (u.p4a=z.length?z[0].bitrate:void 0,u.X=z,u.Fo=y.tk - y.qc,u.Ot=y.We,u.$=y.qc,u.kc=y.kc,u.gn=x.Vd,u.Ol=x.Ol,u.yXb=n - x.Ol,u.Rd=x.Rd,u.OP=z.filter(function(A){return u.$ <= A.ay;}).length);});this.Vj=u;this.Iu=void 0;this.CYa=q;this.ey=t;this.NVa=w;this.zya=this.jca=this.v9a=this.ZB=this.iN=this.K_a=this.uy=this.Rd=this.Iu=void 0;this.Xvb=v;this.Nxa={};}g=a(1);d=a(30).default;f=a(31).assert;m=a(15).ta;c.prototype.constructor=c;k.prototype.constructor=k;h.prototype.constructor=h;h.prototype.Pu=function(l,n){var p,q,t,w,v,u,x,y,z,A,B,D,C,I,N,L,H,Q,O;p=this.Vj;q=[];t=l[d.Ya.Nb];w=l[d.Ya.cc];if(void 0 === t || void 0 === w)return !1;v=t.buffer;u=w.buffer;x=p.Rd.filter(function(J){return J.Y8();});if(void 0 === v || void 0 === u || void 0 === x || 0 === x.length)return !1;y=new k(n?m[n]:"maxbitratechanged",t.qc,n === m.bg);z=0;A=0;B=0;D=0;C=p.$;l=l[d.Ya.Nb].qc;for(var F=p.X,G=p.OP,E=0;E < G;E++){I=F[E];N=I.offset;L=I.offset + I.aa - 1;H=I.Ds;Q=I.yB;O=Q + H;I && Q <= l && O > C && (H=I.Ds,Q=Math.min(H,Math.min(l,O) - Math.max(Q,C) + 1),D+=Q,z+=Q / H * (L - N + 1),A+=I.bitrate * Q,B+=I.$a * Q);}p.Z9a=z;p.$9a=D;p.mxa=0 < D?A / D:0;p.YWb=0 < D?B / D:0;p.YX || (p.YX=0,x.some(function(J,M){if(J.bitrate === p.p4a)return (p.YX=M,!0);}));x.forEach(function(J){var M,R;J=J.Y8();M=[];p.VB || (p.VB=J.Nm(p.$,void 0,!0));y.qx || (y.qx=J.Nm(y.La,void 0,!0),y.dJ=J.length - 1);p.gn !== p.VB + p.OP && (p.gn=p.VB + p.OP);G=Math.min(y.dJ,y.qx + 1);for(var P=p.VB;P <= G;P++){R=J.get(P);M[P]=R;}q.push(M);});n === m.bg && (y.Fo=v.tk - v.qc,y.ns=u.tk - u.qc,y.Sgb=t.Fab,y.TUa=w.Fab);this.Iu=y;this.Rd=x;this.uy=q;return this.K_a=!0;};h.prototype.zA=function(){var l,n,p,q,t,w,v,u,x,y,z,C,F,G,E,I,H,Q;if(this.Ej)return this.Ej;p=this.ZB;q=this.Vj;t=this.Iu;w=this.Rd;v=this.v9a;u=this.Xvb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(t.a5a)(x=!1,y=!0);else t.qx - q.VB + 1 <= q.OP?y=x=!0:(x=!0,y=!1);z=!0;}if(v)for(var A=v.h$,B=v.oO,D=0;D < u.length;D++){C=u[D];(p=v[C]) && p.lwa && (y=!0);}t={bst:q.Ol,pst:q.NE,s:q.VB,e:t.qx,prebuf:q.OP,brsi:q.gn,pbdlbytes:q.Z9a,pbdur:q.$9a,pbtwbr:q.mxa,pbvmaf:q.YWb};this.ey && (t.fragmentsPrebuffered=q.X);z && (t.nt=z);y && (t.nd=y);A && (t.invalid=A);B && (t.exception=B);this.zya && (t.rr=this.zya);this.jca && (t.ra=this.jca);if(!y && !A && !B && (this.CYa || this.ey)){t.bitrate=w.map(function(O){return O.bitrate;});p=this.ZB;C=p.trace;F=[];E=0;C.forEach(function(O){O=Number(O).toFixed(0);F.push(O - E);E=O;});t.tput={ts:p.timestamp,trace:F,bkms:p.Pz};}if(y || z || A || B)t.feasible=x;else for((t.sols={},t.elapsed=v.UFb,D=0);D < u.length;D++){C=u[D];p=v[C];y={};if(p && p.Er){y.algelapsed=p.Wvb;y.maxHeapTotal=p.eB;y.f=p && p.Rs || !1;y.dltwbr=p.hZa;y.dlvmaf=p.kZa;y.dlvdur=p.jZa;y.dlvbytes=p.iZa;y.dlabytes=p.fZa;if(this.CYa || this.ey){G=p.Er.filter(function(O){return O;}).map(function(O){return O.Te;});E=0;I=[];G.forEach(function(O){I.push(O - E);E=O;});y.strmsel=I;}if(this.ey){z=[];x=this.Vj.gn;try{for(var N=(l=void 0,g.__values(G)),L=N.next();!L.done;L=N.next()){H=L.value;Q=this.uy[H][x];Q.wf=H;z.push(Q);x++;}}catch(O){l={error:O};}finally{try{L && !L.done && (n=N.return) && n.call(N);}finally{if(l)throw l.error;}}y.fragsel=z;y.streamList=this.Rd;y.pause_dlnd_sec=p.Er.filter(function(O){return O;}).map(function(O){return O.jxa;});y.buffer_sec=p.Er.filter(function(O){return O;}).map(function(O){return O.Kma;});y.buffer_kb=p.Er.filter(function(O){return O;}).map(function(O){return O.Jma;});y.buffer_frags=p.Er.filter(function(O){return O;}).map(function(O){return O.SVa;});y.elapsed_secs=p.Er.filter(function(O){return O;}).map(function(O){return O.GZa;});y.throughput=p.Er.filter(function(O){return O;}).map(function(O){return O.Ua;});}}t.sols[C]=y;}return this.Ej=t;};h.prototype.eIb=function(l){var q;if(void 0 !== this.Nxa[l])return this.Nxa[l];for(var n=this.uy[this.Vj.YX],p=0;p < n.length;p++){q=n[p];if(q && q.$ <= l && q.$ + q.duration > l)return this.Nxa[l]=q;}throw Error("findPlayingFragment: missing");};r.exports=h;},function(r,b,a){var h,g;function c(d,f,m){this.aa=d;this.dn=f;this.quality=m;}function k(d,f){this.iva=f;void 0 === f && (this.iva=!0);this.Dm=d;this.Apb();}h=a(1);g=a(4).assert;c.prototype.constructor=c;c.prototype.FA=function(){return 8 * this.aa / 1E3 / this.dn;};k.prototype.constructor=k;k.prototype.Bq=function(d,f,m,l,n){void 0 === f && (f=0);void 0 === m && (m=d.SO());void 0 === l && (l=0);void 0 === n && (n=d.Dm.length);for(var p=[],q,t=l;t < n;t++){l=[];for(var w=f;w < m;w++){q=d.Dm[t][w];l.push(q);}p.push(l);}return new k(p,d.iva);};k.prototype.Apb=function(){var d,f,n;f=this.Dm[0].length;try{for(var m=h.__values(this.Dm.slice(1)),l=m.next();!l.done;l=m.next()){n=l.value;g(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{l && !l.done && (d=m.return) && d.call(m);}finally{if(p)throw p.error;}}this.iva && this.Bpb();this.Cpb();};k.prototype.SO=function(){return this.Dm[0].length;};k.prototype.Bpb=function(){for(var d=0;d < this.Dm.length - 1;d++){for(var f=0;f < this.SO();f++){g(this.Dm[d][f].aa <= this.Dm[d + 1][f].aa,"Chunk size for epoch " + f + " is not monotonic");}}};k.prototype.Cpb=function(){for(var d=0;d < this.Dm.length - 1;d++){for(var f=0;f < this.SO();f++){g(1E-8 > Math.abs(this.Dm[d][f].dn - this.Dm[d + 1][f].dn),"Chunk duration for epoch " + f + " is not consistent");}}};k.prototype.RMb=function(){var d;d=[];this.Dm[0].forEach(function(f){d.push(f.dn);});return d;};r.exports={djb:c,ejb:k};},function(r,b,a){var g;function c(){}function k(d,f,m){void 0 === m && (m=!1);g(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");g(1E-8 < h(d),"bitrate zero, won't be able to send anything.");this.nD=d;this.BZa=f;this.repeat=m;this.Im=this.lp=0;}function h(d){return d.reduce(function(f,m){return f + m;},0);}g=a(4).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.Bq=function(){var d;d=new k(this.nD,this.BZa,this.repeat);d.lp=this.lp;d.Im=this.Im;return d;};k.prototype.qsa=function(){return this.nD[this.lp % this.nD.length];};k.prototype.YD=function(){return this.BZa[this.lp % this.nD.length];};k.prototype.AFb=function(d){g(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.lp && this.lp < this.nD.length))throw new c();g(this.Im < this.YD(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.YD() - this.Im;f=d < f?d:f;d-=f;this.Im+=f;if(this.Im < this.YD())break;this.Im-=this.YD();this.lp+=1;if(!this.repeat && this.lp >= this.nD.length){if(0 < d)throw new c();break;}}};k.prototype.X9a=function(d){this.AFb(d);};k.prototype.BFb=function(d){g(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.lp && this.lp < this.nD.length))throw new c();g(this.Im < this.YD(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,m=0;;){f=this.YD() - this.Im;f=d < f * this.qsa()?d / this.qsa():f;d-=this.qsa() * f;m+=f;this.Im+=f;if(this.Im < this.YD())return m;this.Im-=this.YD();this.lp+=1;if(!this.repeat && this.lp >= this.nD.length){if(0 < d)throw new c();return m;}}};r.exports={Uob:k,Vob:c};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Job=b.$ga=b.Lob=b.ePa=void 0;r=a(1);c=r.__importStar(a(10));k=r.__importDefault(a(6));h=r.__importDefault(a(31)).default.TI;g=r.__importStar(a(9)).ko;d=r.__importDefault(a(425));f=a(409);m=a(222);l=a(15);n=a(23);p=a(4);q=a(98);t=a(251);a=(function(){function x(y,z,A,B,D,C,F,G,E,I,N){var L;L=this;this.I=y;this.Xg=z;this.J=A;this.xc=B;this.S=D;this.IQ=C;this.$b=F;this.Jb=G;this.ug=E;this.C6=I;this.WG=N;this.z5=[];this.Yka=[];this.wSa=[];this.UQa=void 0;[0,1].forEach(function(H){L.xc(H) && (L.z5[H]=new u(L.I,H),L.Yka[H]=new w(H),L.wSa[H]=new v(H));});this.Hgb=new q.vG(this.I);this.fC=q.zD(this.J,this.Hgb);this.lma=q.yD();this.DG=void 0;}Object.defineProperties(x.prototype,{Zf:{get:function(){return this.z5;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{WB:{get:function(){return this.Yka;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Px:{get:function(){return this.wSa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Lz:{get:function(){return this.UQa;},set:function(y){this.UQa=y;},enumerable:!1,configurable:!0}});x.prototype.Br=function(y,z){this.Hgb.Br(y,z);};x.prototype.hva=function(y){var z,A,B,D,C,F;z=this.J;A=y.mediaType;B=k.default.wp()[A];D=z.I6b?0 === A?z.bV:z.c1:1 === A?z.bV:z.c1;C=this.S.getState();F=this.S.af();z=y.Va.mb;A=this.C6.J6a(z,A);B={yu:B,$:A.Dd,qc:F,kc:A.dQ || F,tk:A.LV || F,We:A.We,Nj:A.Nj,bn:A.bn,n0a:A.X.length,X:[]};D={state:C,Wq:this.S.Wq(),Vd:y.no,buffer:B,xW:D,x6a:! !this.IQ.caa,bO:! !this.IQ.tt,tq:this.$b && this.$b.tq,kca:y.jMb,playbackRate:this.S.xp()};void 0 === D.Vd && (D.Vd=y.Ypa(B.kc));D.vV=z.vV;B.X=A.X;c.Ga(B.$)?y.seeking && B.qc != B.$ && (B.qc=B.$):(B.$=0,B.kc=0);this.Xg.jzb(D);this.Xg.Avb(D);return D;};x.prototype.pna=function(y,z,A){var G,E;y=this.z5[y];for(var B=y.maxBitrate,D="manifest",C=0,F=z.length - 1;0 <= F;F--){G=z[F];E=G.bitrate;if(h(G)){C=Math.max(C,E);break;}else this.J.o0 && !G.Ru?D="bc":G.nv?G.IA && (D="hf"):D="av";}if(void 0 === B || C !== B)(y.maxBitrate=C,this.Jb.PUb(B,C,D,A));};x.prototype.hMb=function(y){return this.Zra(y).wf;};x.prototype.Zra=function(y){var z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S;z=this.J;A=y.mediaType;B=1 == A;D=0;C=this.z5[A];F=this.Yka[A];if(!C.Xf)return {wf:void 0};G=this.hva(y);E=y.$f;I=E.qv;N=y.V$.M;L=y.track.Rd;if(!N.Rm.U0(N.N,L))return (y.Yk("location selector did not find any urls"),{wf:void 0});H=t.Qba(G.state);Q=B?this.fC:this.lma;try{O=Q.Lm(L,H);}catch(U){this.I.error("StreamFilters: filterStreams: " + U);O=[L[0]];}0 === O.length && (this.I.error("StreamFilters: empty list"),O=[L[0]]);if(this.WG.Fs && (y.OD.length !== O.length || 0 < n.ru(y.OD,O).length || 0 < n.ru(O,y.OD).length)){try{this.DG && this.UHb();}catch(U){this.Jb.oo("Hindsight: Error when handling maxbitrate chagned: " + U);}y.OD=O;}H=I?I.wf:C.qqa;try{if(I && (D=I.bitrate,I && E.track && !I.track.equals(E.track))){J=f.aqa(O,D) || 0;M=O[J];if(I.bitrate !== M.bitrate || 1 === A)G.state=l.ta.yh;I=M;H=L.indexOf(M);}}catch(U){this.I.error("StreamFilters: track change: " + U);}if(!B && (D=z.bR,!(D && 0 < D.length) && H && L[H] && I && I.location === L[H].location))return {wf:H};I=this.Xg;try{P=I.KO(A);R=B?I.gX():I.IX();S=y.Wj.Gza(G,O,R,P,C.Xf.config.et,N.Iq);if(!S)return (y.Yk("stream selector did not find a stream"),{wf:void 0});}catch(U){this.I.error("StreamFilters: stream selector: " + U);S={Te:0};}S.Te=L.indexOf(O[S.Te]);this.IQ.tt && this.IQ.tt.Dvb(y.mediaType,S,L);B && this.pna(A,O,y.kc);G=S.Te;O=L[G];P=O.bitrate;G != H && (B && z.dO && this.ug.MQa(y,P),B?I.rK(P):I.hy(P));c.Ga(C.qqa) || (C.qqa=G);y.$e || (S.$e?(p.assert(void 0 !== S.D6),y.Xca(S.D6),F.wu=S.D6):(y.sE=S.sE,y.XJ=S.XJ,y.progress=S.progress));this.iz();if(B)if(S.iA)N.JQ(S.iA);else if(!N.E9() && !z.rdb)for(y=0;y < L.length;++y){if((z=L[y],z.pv && !N.vp(A,z.Qa))){N.JQ([z.Qa]);break;}}S.kVa && this.Jb.WUb(S.kVa);return {Qa:O.Qa,wf:G,Ux:S.Ux};};x.prototype.iz=function(){var y,z,A,B,D,C;A=this.Zf[0];B=this.Zf[1];D=this.WB[1];C=this.WB[0];A=this.C6.dd.czb(null !== (y=null === B || void 0 === B?void 0:B.Fv) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Fv) && void 0 !== z?z:0,this.Lz,this.IQ.PZ);A.wu && (this.IQ.pn && D?D.wu=A.wu:C && (C.wu=A.wu));return A.$e;};x.prototype.Vpa=function(y,z){var A,B,D,C;A=this;if(this.DG){B=this.DG;D=this.S.af();C=[];z && (D=z.La);m.Lf.forEach(function(F){var G,E;G=A.C6.dd.Wd(F);if(G){E=A.hva(G);E.mediaType=F;E.qc=D;y === l.ta.bg && (E.Fab=G.Va.Sla(D));C[F]=E;}});B.K_a || B.Pu(C,y) || this.cza();return B;}};x.prototype.UHb=function(){var y,z;y=this.DG;z=this.J;y && (this.Vpa(void 0),y && !y.iN && this.Xg.nya.Gpa(y));this.$Xa(z);};x.prototype.cza=function(){this.DG=void 0;};x.prototype.k6b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.DG;B=this.J;y === l.ta.Rc && z !== l.ta.Rc?(A && this.I.warn("override an existing play segment!"),this.$Xa(B,z,!0)):y !== l.ta.Rc && z === l.ta.Rc && A && (this.Vpa(y),A && !A.iN && this.Xg.nya.Gpa(A),this.cza());};x.prototype.$Xa=function(y,z,A){var B,D,C;B=this;D=[];m.Lf.forEach(function(F){var G,E,I;G=B.C6.dd.Wd(F);if(G){E=B.hva(G);if(A){I=B.Zf[F];I.wAa?(E.Ol=I.wAa,I.wAa=void 0):E.Ol=I.Ol;}else E.Ol=k.default.time.ha();E.Rd=G.OD;E.mediaType=F;D[F]=E;}});C=k.default.wp();C={Lcc:C[0],Fgb:C[1],Efc:y.s7a,$s:y.$s};this.DG=new d.default(D,k.default.time.ha(),z,this.WG.GW,y.ey,C,y.N9);};return x;})();b.ePa=a;w=(function(){function x(y){this.mediaType=y;this.xV=this.ux=this.NA=this.wu=this.OA=void 0;}x.prototype.o6b=function(y,z,A){this.OA=y?y:this.OA;this.wu=this.wu;this.NA=z?z:this.NA;this.ux=A?A:this.ux;};return x;})();b.Lob=w;v=(function(){return function(x){this.mediaType=x;this.uua=this.Bua=this.wua=this.$I=void 0;};})();b.$ga=v;u=(function(){return function(x,y){this.mediaType=y;this.I=g(k.default,x,"[" + y + "]");this.Yk=this.I.error.bind(this.I);this.Ub=this.I.warn.bind(this.I);this.Hn=this.I.trace.bind(this.I);this.dg=this.I.log.bind(this.I);this.I.debug.bind(this.I);this.qqa=this.Ol=this.fp=this.Xf=void 0;this.RZ=this.Fv=0;this.AR=!1;this.maxBitrate=void 0;};})();b.Job=u;},function(r,b,a){var q,t,w,v,u,x,y,z,A,B,D,C,F;function c(){}function k(G,E){var I,N,L,H;I=q.kd(E)?E:c;this.J=G || ({});(function(Q,O,J){this.jk[Q].Fe[O]=J;}).bind(this);(function(Q,O){return this.jk[Q].Fe?this.jk[Q].Fe[O]:void 0;}).bind(this);this.on=this.addEventListener=C.addEventListener;this.removeEventListener=C.removeEventListener;this.emit=this.ab=G.dec?C.ab:c;N=v.GCb(G);L=this.J.dailyDiskCacheWriteLimit;if(N){this.Nw=N;H=l(G.Ofc || F,v.fKb());this.Cz=function(Q){return q.ma(H) || null === H || void 0 === this.jk[Q]?!1:!q.ma(H[Q]);};H?(this.jk={},E=t.Promise.all(Object.keys(H).map(function(Q){return new t.Promise(function(O,J){var M;M=H[Q];M.rgb=G.rgb;new u(Q,N,M,function(P,R){P?J(P):O(R);},L);});})).then((function(Q){Q.map((function(O){var J;J=O.Ww;this.jk[J]=O;H[J].MIb=H[J].yu - O.Bz;this.jk[J].on(u.Xe.REPLACE,(function(M){M=M || ({});M.partition=J;M.type="save";this.ab("mediacache",M);}).bind(this));this.jk[J].on(u.Xe.AQa,(function(M){M=M || ({});M.partition=J;M.type="save";this.ab("mediacache",M);}).bind(this));this.jk[J].on(u.Xe.ag,(function(M){M=M || ({});M.partition=J;M.type=u.Xe.ag;this.ab("mediacache-error",M);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(Q){f(N,t.storage.TS,Object.keys(H));return Q;}).bind(this)).then((function(Q){Object.keys(Q.jk).map(function(O){Q.jk[O].kra().map(function(J){Q.delete(O,J);});});Q.jv=!0;I(null,Q);}).bind(this)).catch((function(Q){w.error("Failed to initialize media cache ",Q);this.QI=B.WEa;I(this.QI,this);}).bind(this)),D.$x(E)):(this.QI=B.Jlb,I(this.QI,this));}else (this.QI=B.WEa,I(this.QI,this));}function h(G,E,I,N,L,H){var Q;Q=H?"mediacache-error":"mediacache";E={partition:I,type:E,resource:N,time:t.time.now()};H && (E.error=H);L && (q.Ga(L.duration) && (E.duration=L.duration),q.Ga(L.Rz) && (E.bytesRead=L.Rz));try{G.ab(Q,E);}catch(O){w.warn("caught exception while emitting basic event",O);}}function g(G,E,I,N,L){var H;H=L?"mediacache-error":"mediacache";E={partition:I,type:E,resources:N,time:t.time.now()};L && (E.error=L);try{G.ab(H,E);}catch(Q){w.warn("caught exception while emitting basic event",Q);}}function d(G){return !x.hP(G) && !z.JPb(G);}function f(G,E,I){G.query(E,"",function(N,L){N || Object.keys(L).filter(function(H){return 0 > I.indexOf(H.slice(0,H.indexOf(".")));}).map(function(H){G.remove(E,H,c);});});}function m(G,E,I){var L,H;function N(Q){G.delete(L,function(O){O?I(O):(delete G.Fe[H],O=Object.keys(Q.resourceIndex),O=t.Promise.all(O.map(function(J){return new t.Promise(function(M,P){G.delete(J,function(R){R?P(R):M(J);});});})).then(function(){I();},function(J){I(J);}),D.$x(O));});}if(x.hP(E))(L=E,H=x.f8(E));else (L=x.eoa(E),H=E);(E=G.Fe[H])?N(E):G.read(L,function(Q,O){Q?I(Q):N(O);});}function l(G,E){var I,N,L;I={};N=G.partitions.reduce(function(H,Q){return H + Q.capacity;},0);L=E / N;G.partitions.map(function(H){var Q;Q=H.key;I[Q]={};I[Q].yu=Math.floor(L * H.capacity);I[Q].HDb=H.dailyWriteFactor || 1;I[Q].sgc=H.owner;I[Q].cHb=H.evictionPolicy;});return I;}function n(G,E,I){if(I)return z.gFb(G,E).reduce(function(N,L){Object.keys(L).map(function(H){N[H]=L[H];});return N;},{});I={};I[G]=E;return I;}function p(G,E,I,N,L,H,Q,O,J,M,P){return function(R,S){R?q.isArray(R)?(S=R.map(function(U){return U.error;}),S.some(function(U){return U.code === B.iL.code;}) && !S.some(function(U){return U.code === B.i4.code;})?P(M,R,function(){J.save(E,I,N,L,H,Q);}):(M.delete(O),delete M.Fe[I],H({error:R[0].error,zv:R[0].zv,type:R[0].type,xUa:R}))):H({error:R,zv:E,type:"save"}):(R=S.items.filter(function(U){return 0 <= Object.keys(G).indexOf(U.key);}).reduce(function(U,ba){return U + ba.E$;},0),M.Fe[I].Qcb(R),R={MIb:S.ao,Gdc:S.ON,el:0,items:S},0 < S.el && (R.el=S.el),0 < S.duration && (R.duration=S.duration),H(null,R));};}q=a(10);t=a(131);w=new t.Console("MEDIACACHE","media|asejs");v=a(974);u=a(975);x=a(430);y=a(132);z=a(982);A=a(983);B=a(260);D=a(261);C=a(431).EventEmitter;F={xgc:[]};k.prototype.f_=function(G,E,I){var N;N=q.kd(I)?I:c;this.Cz(G)?this.jk[G].query(E,function(L,H){L?(w.error("Failed to query resources",L),N([])):N(H.filter(d));}):N([]);};k.prototype.read=function(G,E,I){var N,L,H,Q;N=q.kd(I)?I:c;if(this.Cz(G)){L=this.jk[G];H=L.Fe[E];if(!x.hP(E) && this.J.oTb){Q=(function(O){L.ica(Object.keys(O),(function(J,M,P){J?N(B.QL.Mr("Failed to read " + E,J)):(h(this,"read",G,E,P),N(null,z.dPb(M)));}).bind(this),O);}).bind(this);H?Q(H.resourceIndex):this.oZb(G,E,function(O,J){O?N(B.QL.Mr("Failed to read " + E,O)):Q(J.resourceIndex);});}else L.read(E,(function(O,J,M){O?N(B.QL.Mr("Failed to read " + E,O)):(H && H.convertToBinaryData && (J=A.JAb(J)),h(this,"read",G,E,M),N(null,J));}).bind(this));}else N(B.uC);};k.prototype.ica=function(G,E,I){var N,L;N=q.kd(I)?I:c;if(this.Cz(G)){L={};E=t.Promise.all(E.map((function(H){return new t.Promise((function(Q,O){this.read(G,H,function(J,M){J?(M={},M[H]=J,O(M)):(L[H]=M,Q());});}).bind(this));}).bind(this))).then(function(){N(null,L);},function(H){N(H);});D.$x(E);}else N(B.uC);};k.prototype.Tbb=function(G,E,I){var N;N=q.kd(I)?I:c;this.Cz(G)?"[object Object]" !== Object.prototype.toString.call(E)?N(B.h4.Mr("items must be a map of keys to objects")):(I=new t.Promise((function(L){var H,Q;H=this.jk[G].kra();Q=Object.keys(E);(H=H.filter(function(O){return -1 === Q.indexOf(O);})) && 0 < H.length?this.SYa(G,H,function(){L();}):L();}).bind(this)).then((function(){return t.Promise.all(Object.keys(E).map((function(L){return new t.Promise((function(H,Q){this.save(G,L,E[L].vr,E[L].Nc,function(O,J){O?(w.error("Received an error saving",L,O),Q(O)):H(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(L){var H,Q,O;try{H=Number.MAX_VALUE;Q=Number.MAX_VALUE;O=L.reduce(function(J,M){M.ao && M.ao < H && (H=M.ao);M.ON && M.ON < Q && (Q=M.ON);H < Number.MAX_VALUE && (J.freeSize=H);Q < Number.MAX_VALUE && (J.dailyBytesRemaining=Q);q.Ga(M.el) && (J.bytesWritten+=M.el);q.Ga(M.duration) && (J.duration+=M.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(E),time:t.time.now(),bytesWritten:0,duration:0});this.ab("mediacache",O);N(null,O);}catch(J){N(err);}}).bind(this),(function(L){q.isArray(L.xUa)?L.xUa.forEach((function(H){this.ab("mediacache-error",{partition:G,type:"saveMultiple",error:H.error,resources:H.resources});}).bind(this)):this.ab("mediacache-error",{partition:G,type:"saveMultiple",error:L});N(L);}).bind(this)),D.$x(I)):(q.kd(I)?I:c)(B.uC);};k.prototype.save=function(G,E,I,N,L,H){var Q,O,J,M,P,R,S,U,ba;Q=q.kd(L)?L:c;if(this.Cz(G)){O=this.jk[G];J=x.eoa(E);L=O.kra();L=L.filter(function(na){return na !== E;});if(q.ma(N) || q.xb(N) || !q.Ga(N.lifespan))Q(B.fmb);else {M=n(E,I,this.J.oTb);P=O.Fe[E] || ({});R=P.resourceIndex;R && Object.keys(R).map(function(na){q.ma(M[na]) && O.delete(na);});N.convertToBinaryData && (I=A.KAb(M),M=n(E,I,!1));R=t.time.now();S={};S.partition=G;S.resourceIndex=Object.keys(M).reduce(function(na,va){na[va]=y.QO(M[va]);return na;},{});S.creationTime=P.creationTime || R;S.lastRefresh=R;S.lifespan=N.lifespan;S.lastMetadataUpdate=R;S.size=P.size;S.convertToBinaryData=N.convertToBinaryData;U=(function(na,va,ya){na.CEb((function(ra,V){ra && w.error("Evicting","Failed to delete some orphaned records",ra);V.Eya?ya():(ra=na.qKb())?this.delete(na.Ww,ra,(function(K){K?(H || (q.isArray(va)?va.forEach((function(T){g(this,"save",na.nLb,T.resources,T.error);}).bind(this)):h(this,"save",na.Ww,E,void 0,va)),Q(va)):ya();}).bind(this)):Q(B.iL);}).bind(this));}).bind(this);ba=(function(){var na,va,ya;na=this.jk;va=0;ya=t.time.now();if(!q.ma(na))for(var ra in na){va+=na[ra].HJb(ya);}return va;}).bind(this);this.SYa(G,L,(function(){O.replace(J,S,(function(na,va){va?(O.Fe[E]=x.Cqa(S),O.z_b(M,p(M,G,E,I,N,Q,H,J,this,O,U),H,ba)):na.code === B.iL.code?U(O,na,(function(){this.save(G,E,I,N,Q,H);}).bind(this)):Q(na);}).bind(this),H,ba);}).bind(this));}}else Q(B.uC);};k.prototype.delete=function(G,E,I){var N;N=q.kd(I)?I:c;this.Cz(G)?m(this.jk[G],E,(function(L){h(this,"delete",G,E,void 0,L);N(L);}).bind(this)):N(B.uC);};k.prototype.SYa=function(G,E,I){var N,L;N=q.kd(I)?I:c;if(this.Cz(G)){L=this.jk[G];I=t.Promise.all(E.map((function(H){return new t.Promise((function(Q){m(L,H,(function(O){Q({da:q.ma(O),error:O,vr:H});}).bind(this));}).bind(this));}).bind(this))).then((function(H){var P,R;for(var Q=[],O=[],J=[],M=0;M < H.length;M++){P=H[M];P.da?Q.push(P.vr):P.error && O.push(P);}0 < Q.length && g(this,"delete",G,Q);if(0 < O.length){J=O.map(function(S){return S.vr;});H=D.X2a(O);R=H[0];H.forEach((function(S){w.error("Failed to delete resources ",S.error,S.resources);g(this,"delete",G,S.resources,S.error);}).bind(this));}H={};H.Rgc=Q;0 < J.length && (H.Sgc=J);R?N(R,H):N(void 0,H);}).bind(this),(function(H){g(this,"delete",G,E,H);N(H);}).bind(this));D.$x(I);}else N(B.uC);};k.prototype.clear=function(G,E){var I;I=q.kd(E)?E:c;this.Cz(G)?this.jk[G].clear(function(N){I(N.filter(d));}):I(B.uC);};k.prototype.oZb=function(G,E,I){var N,L;N=q.kd(I)?I:c;if(this.Cz(G)){L=this.jk[G];L.read(x.eoa(E),function(H,Q){var O;if(H)N(B.gmb);else {O=x.Cqa(Q) || ({});L.h2a(Object.keys(O.gza),function(J){O.size=J;(J=L.Fe[E]) && (O.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= O.lastMetadataUpdate?L.Fe[E]=O:J.lastMetadataUpdate && (J.lastMetadataUpdate > O.lastMetadataUpdate || q.ma(O.lastMetadataUpdate)) && (O=J));N(null,O);});}});}else N(B.uC);};k.prototype.constructor=k;r.exports=k;},function(r,b,a){var g,d;function c(f,m,l,n,p,q){return new h(f,m,l,n,p,q);}function k(f){return f && 0 <= f.indexOf(".__metadata__");}function h(f,m,l,n,p,q){this.partition=f;this.lifespan=l;this.resourceIndex=m;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.efb();}g=a(10);d=a(131);a(132);new d.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.efb();};h.prototype.Qcb=function(f){this.size=f;};h.prototype.sXa=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};h.prototype.efb=function(){this.lastMetadataUpdate=d.time.now();return this;};h.prototype.constructor=h;r.exports={create:c,Cqa:function(f){var m;m=f;"string" === typeof f && (m=JSON.parse(f));if(m && m.partition && !g.ma(m.lifespan) && m.resourceIndex && m.creationTime && m.lastRefresh)return (f=c(m.partition,m.resourceIndex,m.lifespan,-1,m.creationTime,m.lastRefresh),m.lastMetadataUpdate && (f.lastMetadataUpdate=m.lastMetadataUpdate),!g.ma(m.size) && 0 <= m.size && f.Qcb(m.size),f.sXa(),f.convertToBinaryData=m.convertToBinaryData,f);},eoa:function(f){return f + ".__metadata__";},f8:function(f){return k(f)?f.slice(0,f.length - 13):f;},hP:k};},function(r,b,a){r.exports={EventEmitter:a(978),Dg:a(979)};},function(r){r.exports="4.1.1972";},function(r,b,a){var p,q,t;function c(w){return w.Gt - w.Bs;}function k(w,v){return Math.exp(-(Math.log(2) / w) * v);}function h(w,v){w=Math.log(2) * v / w;return (1 - Math.exp(-w)) / w;}function g(w,v){var u,x,y,z,A;u=v.Vxa;x=v.Uxa;y=v.ZZ;if(0 === v.Ih.length)return {W5:!1};z=v.Ih[0];v=z.te;A=z.dE;z=z.duration;if(!A || 1 === y)return {W5:!1};q.assert(z,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(u < x)return {W5:!1};x=u - x;u=y + x / z * (1 - y);z-=x;A=A * (1 - u) / (1 - y);w=v * u / y * k(w,z) + A * h(w,z);q.assert(1 >= w);return {W5:!0,Rvb:w};}function d(w){var v,u,x,y,z;v=w.Ds;u=w.Ydb;x=w.MB;y=w.Gt;z=w.Bs;w=w.$_a;q.assert(void 0 !== u);q.assert(void 0 !== v);x=1 - x;y-=z;w?(z=u - w - y,v-=w,0 >= z?w=Math.max(0,(u - w) / v):(u=v - z,w=0 < u?y / u:0,x*=0 < u?u / v:1)):(z=u - y,0 >= z?w=u / v:(u=v - z,w=0 < u?y / u:0,x*=0 < u?u / v:1));q.assert(0 <= w);q.assert(1 >= w);q.assert(0 <= x);q.assert(1 >= x);return 1 - w * x;}function f(w,v){w=Math.log(2) / w.Hab;return m(v) * Math.exp(-w * c(v));}function m(w){var v;return (null !== (v=w.AI) && void 0 !== v?v:1) * w.Ih.reduce(function(u,x){var y;y=x.dE;return u * (x.te + (void 0 === y?0:y));},1);}function l(w){var v,u,x,y;if(0 === w.Ih.length)return 0;u=0;if(1 > w.ZZ){u=w.Vxa;x=w.Uxa;y=null !== (v=w.Ih[0].duration) && void 0 !== v?v:0;u=Math.max(0,Math.min(y,u - (x - y)));}return w.Ih.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - u;}function n(w){return w.Ih.filter(function(v){return !v.dE;}).reduce(function(v,u){return v * u.te;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.bna=b.nWa=b.vyb=b.mWa=b.zyb=void 0;p=a(15);q=a(4);t=a(16);b.zyb=c;b.mWa=function(w,v,u){var x,y,z,A,B,D,C,F;if(!w.O7 || p.Bp(v.Nf))return f(w,v);y=w.Hab;w=c(v);z=l(v);A=n(v);B=g(y,v);D=B.W5;B=B.Rvb;B=void 0 === B?1:B;C=1 > v.MB?d(v):1;F=(null !== (x=v.AI) && void 0 !== x?x:1) * A * k(y,w - z) * B * C * v.Ih.filter(function(G,E){return G.dE && (0 < E || !D);}).reduce(function(G,E){var I,N;I=E.dE;N=E.duration;N=void 0 === N?0:N;I=void 0 === I?0:I;E=E.te * k(y,N) + I * h(y,N);return G * E;},1);t.Z && (null === u || void 0 === u?void 0:u.log("{" + v.groupId + "} [" + v.mediaType + "] calculateStreamablePriority: sp: " + (v.MB + ", pssp: ") + (v.ZZ + ", streamingDuration: ") + (v.Ydb + ", duration: ") + (v.Ds + ", seamlessProbability: ") + (A + ", distance: ") + (w + ", immediateDistance: " + z + ", risk:") + (k(y,w - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + C + ", probabilities: ") + (JSON.stringify(v.Ih) + " => " + F)));return F;};b.vyb=f;b.nWa=m;b.bna=n;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.LR=void 0;c=a(1);k=a(17);h=a(9);g=a(4);d=c.__importDefault(a(6));f=a(68);m=a(23);r=a(119);l=a(995);n=a(436);p=a(999);q=a(1E3);t=r.jt.Coa;a=(function(w){function v(u,x,y){var z;z=w.call(this) || this;z.S=u;z.Cd=x;z.gu=y;z.zW=[];z.Ng=void 0;z.Fja=new k.Dg();z.hs=void 0;z.VC=void 0;z.I=new d.default.Console("ASEJS","media|asejs");z.Fja.on(z.S,"underflow",function(){return z.Jk();});z.FT=new p.aNa(u);z.Fja.on(z.S,"skipped",function(){return z.uZ();});z.Yw=new f.nT(z.FT,z.I,"player");z.sCa=new h.kT();u.pWa && u.wl && (z.iK=new q.AOa(z,u));return z;}c.__extends(v,w);Object.defineProperties(v.prototype,{my:{get:function(){var u;return null === (u=this.Ng) || void 0 === u?void 0:u.my;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gr:{get:function(){return this.Yw;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qb:{get:function(){var u,x;return null !== (x=null === (u=this.Ng) || void 0 === u?void 0:u.wx()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{na:{get:function(){var u;return null === (u=this.Ng) || void 0 === u?void 0:u.na;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Da:{get:function(){return this.FT;},enumerable:!1,configurable:!0}});v.prototype.X_=function(u){-1 === this.zW.indexOf(u) && this.zW.push(u);this.Ng && this.Ng.qZ(u);this.events.emit("drmReady",{viewableId:u});};v.prototype.Tza=function(u){u=this.zW.indexOf(u);-1 !== u && this.zW.splice(u,1);};v.prototype.ho=function(u){var x;return -1 !== this.zW.indexOf(u) || !(null === (x=m.ze(this.qb,function(y){return y.aE && y.M.N === u;})) || void 0 === x || !x.M.dj);};v.prototype.$E=function(u){var x;null === (x=this.Ng) || void 0 === x?void 0:x.$E(u);};v.prototype.reset=function(){var u;this.sCa=new h.kT();w.prototype.reset.call(this);this.VC=void 0;null === (u=this.Ng) || void 0 === u?void 0:u.reset();};v.prototype.G_=function(u){var x,y;w.prototype.G_.call(this,u);null === (x=this.Ng) || void 0 === x?void 0:x.G_(u);null === (y=this.iK) || void 0 === y?void 0:y.a0b(u);};v.prototype.EH=function(){var u;null === (u=this.Ng) || void 0 === u?void 0:u.EH();};v.prototype.pause=function(u){this.yK(u);w.prototype.pause.call(this,null !== u && void 0 !== u?u:this.Cd);};v.prototype.resume=function(u){var x;null === (x=this.Ng) || void 0 === x?void 0:x.resume(u);w.prototype.resume.call(this,null !== u && void 0 !== u?u:this.Cd);};v.prototype.Hb=function(){this.hs=this.I9()?this.Om():void 0;this.Ng && this.Uoa(this.Ng.na);this.FT.Hb();this.Yw.Hb();this.Fja.clear();w.prototype.Hb.call(this);};v.prototype.oI=function(){var u,x;if(null === (u=this.Ng) || void 0 === u?0:u.AYb){u=this.S.qc;if(this.Da.Dk){if(this.VC){if(this.VC.greaterThan(u))return (u=this.VC.Ha(u),this.sCa.push(u.W),this.VC);if(this.qb.length){x=this.Ng.aRb;if(x && x.lessThan(u))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Pb:{clockdrift:{type:"count"}}}),this.VC);}}this.VC=u;}return u;}return w.prototype.oI.call(this);};v.prototype.xp=function(){var u;u=this.S.playbackRate;void 0 === u && (u=w.prototype.xp.call(this));return u;};v.prototype.I9=function(){return ! !this.hs || 0 < this.qb.length;};v.prototype.Om=function(){if(this.hs)return this.hs;g.assert(0 < this.qb.length,"Could not find presenting branch. Player has no branches.");return this.ii;};v.prototype.a9=function(){var u;return null === (u=this.Ng) || void 0 === u?void 0:u.TQb;};v.prototype.Uoa=function(u){var x;g.assert(u === this.na);null === (x=this.Ng) || void 0 === x?void 0:x.Hb();this.Ng=void 0;};v.prototype.q6=function(u,x){this.hs=void 0;if(x=w.prototype.q6.call(this,u,x))(this.Ng=new l.oDa(u,this,this.I,u.config,this.gu,this.events,this.Cd,this.Yw,this.iK,this.PC,this.OC),this.yK(this.WP));return x;};v.prototype.zpa=function(){var y;for(var u=[],x=0;x < arguments.length;x++){u[x]=arguments[x];}y=this.Ng;g.assert(y);u.forEach(function(z){return y.PGb(z);});};v.prototype.mAa=function(){var u;null === (u=this.Ng) || void 0 === u?void 0:u.mAa();};v.prototype.bj=function(u){var x,y,z;if(!this.Ng)return !1;x=this.G8(u);if(!x)return !1;y=x.G;z=h.R.Oa(this.gu.AE);return y.ej.Ha(z).lessThan(u) || !x.LH(u)?!1:this.Ng.bj(u);};v.prototype.l9=function(){var u;return null === (u=this.iK) || void 0 === u?void 0:u.l9();};v.prototype.Jk=function(){var u,x,y;x=this.tg;g.assert(this.na);y=this.Jp(x);g.assert(y);null === (u=this.Ng) || void 0 === u?void 0:u.Jk();u=this.G8(x);null === u || void 0 === u?void 0:u.M.Jk();this.na.Jk(y);};v.prototype.uZ=function(){this.VC=void 0;};v.prototype.Nqa=function(){var u;return null === (u=this.Ng) || void 0 === u?void 0:u.Nqa();};v.prototype.yK=function(u){var x;null === (x=this.Ng) || void 0 === x?void 0:x.yK(u);};v.prototype.vBa=function(u){g.assert(this.na && this.Ng);return w.prototype.vBa.call(this,u);};c.__decorate([t.return.JVa(),t.return.hn],v.prototype,"Om",null);c.__decorate([t.return.JVa(),t.return.hn],v.prototype,"a9",null);return v;})(n.Uha);b.LR=a;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Hca=void 0;c=a(1);k=a(4);h=a(183);b.Hca=function(g,d,f,m,l,n){var p,q;void 0 === l && (l=h.uw.tW);p=g();if(m && p){q=m.Qla;g=m.hn;m=m.rules.map(function(t){return ["function" === typeof t.xl?t.xl(f):f[t.xl],t.config];});q || k.assert(d,"Param is null");n && m.push([{map:n,tD:function(){return !0;}},void 0]);n=m.filter(function(t){t=c.__read(t,2);return t[0].tD(d,p,t[1]);});g && k.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(t,w){w=c.__read(w,2);return w[0].map(t,l,p,w[1]);},d);}return d;};},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uha=void 0;c=a(1);k=a(17);h=a(9);g=a(4);d=a(15);f=a(119).jt.Coa;r=(function(){function m(){this.WP=[];this.PC=new h.Wr(!1);this.OC=new h.Wr(h.R.Oa(-Infinity));this.events=new k.EventEmitter();}Object.defineProperties(m.prototype,{my:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.xp();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ox:{get:function(){return this.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nY:{get:function(){return this.OC;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sf:{get:function(){return this.Ms;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tg:{get:function(){return this.oI();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zh:{get:function(){var l,n;l=this.tg;n=this.Jp(l);g.assert(n,"Could not find current branch for " + l.W);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ROb:{get:function(){return this.qb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{TA:{get:function(){return this.Ms?this.qb[this.qb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ii:{get:function(){var l,n;l=this.tg;n=this.G8(l);g.assert(n,"Could not find presenting branch for " + l.W);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ms:{get:function(){return 0 < this.qb.length;},enumerable:!1,configurable:!0}});m.prototype.d3a=function(l){return -1 !== this.qb.indexOf(l);};m.prototype.q6=function(){return void 0 !== this.na?!1:!0;};m.prototype.Hb=function(){};m.prototype.BI=function(l){var n,p,q;n=this.qb.filter(function(t){return t.G.id === l.fa;});if(0 !== n.length){p=this.oI();q=new h.R(Infinity,1);n.forEach(function(t){t=t.fr.add(l.offset);p.C7(t).lessThan(p.C7(q)) && (q=t);});return q;}};m.prototype.z9=function(l){var n,p,q,t,w,v,u,x,y,z;return c.__generator(this,function(A){switch(A.label){case 0:n=this.qb.filter(function(B){return B.G.id === l.fa;});if(0 === n.length)return [2,void 0];p=this.oI();A.label=1;case 1:(A.Dl.push([1,6,7,8]),q=c.__values(n),t=q.next(),A.label=2);case 2:if(t.done)return [3,5];w=t.value;v=w.fr.add(l.offset);u=p.C7(v);return [4,{Kxa:v,C7:u}];case 3:(A.jc(),A.label=4);case 4:return (t=q.next(),[3,2]);case 5:return [3,8];case 6:return (x=A.jc(),y={error:x},[3,8]);case 7:try{t && !t.done && (z=q.return) && z.call(q);}finally{if(y)throw y.error;}return [7];case 8:return [2];}});};m.prototype.Jp=function(l){var n,p,q;n=this.G8(l);if(n){p=n.G;q=p.id;l=l.Ha(p.uf.add(n.Ie));return {fa:q,offset:l};}};m.prototype.l9=function(){};m.prototype.reset=function(){};m.prototype.G_=function(){};m.prototype.pause=function(l){void 0 === l && (l=d.Lf);this.WP=null === l || void 0 === l?void 0:l.reduce(function(n,p){-1 === n.indexOf(p) && n.push(p);return n;},this.WP);};m.prototype.resume=function(l){var n;n=this;void 0 === l && (l=d.Lf);l.forEach(function(p){p=n.WP.indexOf(p);-1 !== p && n.WP.splice(p,1);});};m.prototype.vBa=function(l){var n;g.assert(this.na);g.assert(l !== this);this.yK();n=l.q6(this.na,this);n && (l.pause(this.WP),l.zpa.apply(l,c.__spread(this.qb)),this.Uoa(this.na));return n;};m.prototype.oI=function(){return this.D1a();};m.prototype.D1a=function(){var l,n;g.assert(this.Ms,"Attempted to get initial time before any branches were queued");n=c.__read(this.qb,1)[0];g.assert(n);return null !== (l=n.he) && void 0 !== l?l:n.Ps;};m.prototype.xp=function(){return 1;};m.prototype.a9=function(){};m.prototype.G8=function(l){var n;if(this.Ms){n=this.D1a();return l.lessThan(n)?this.qb[0]:h.U_a(this.qb,l);}};m.prototype.UJb=function(){var l,n,t,w,v,u,x,y;n={};try{for(var p=c.__values(this.qb),q=p.next();!q.done;q=p.next()){t=q.value;w=void 0;v=void 0;u=t.RD();for(w in u){x=w;y=u[x];y && (n[x]=(null !== (v=n[x]) && void 0 !== v?v:0) + y);}if(!t.Ml)break;}}catch(A){var z;z={error:A};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(z)throw z.error;}}return n;};c.__decorate([f.return.cv()],m.prototype,"Zh",null);c.__decorate([c.__param(0,f.cv())],m.prototype,"BI",null);c.__decorate([c.__param(0,f.cv())],m.prototype,"z9",null);c.__decorate([f.return.cv()],m.prototype,"Jp",null);return m;})();b.Uha=r;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya;function c(ra){var V;V={};ra.forEach(function(K){V[K.mediaType]=K.SD();});return V;}Object.defineProperties(b,{__esModule:{value:!0}});b.H1=void 0;k=a(1);h=a(17);g=a(225);d=a(15);f=a(1001);m=a(9);l=a(1002);n=k.__importDefault(a(6));p=a(4);q=a(1003);t=a(23);w=a(68);v=a(98);u=a(54);x=a(438);y=a(264);z=a(184);A=a(1004);B=a(71);D=k.__importDefault(a(149));C=a(1005);F=a(1006);G=a(1007);E=a(441);I=a(1012);N=a(1013);L=a(1014);H=a(1015);Q=a(1018);O=a(1019);J=a(1020);M=a(1021);P=a(1022);R=a(1023);S=a(1025);U=a(1026);ba=a(1027);na=a(1028);va=a(1029);ya=a(119).jt.Coa;r=(function(){function ra(V,K,T,fa,ia,Ba,Sa,La,Za,Wa){var Va;Va=this;this.ls=V;this.OTa=K;this.config=T;this.id=fa;this.m5=Ba;this.fl=Sa;this.Dzb=La;this.iq=Wa;this.xd=void 0;this.oH="2.0";this.Fn=void 0;this.Xc=g.Zj.CLOSED;this.Mja=!0;this.mN=!1;this.mCa=this.hV=void 0;this.KVa=new h.Dg();this.KD=0;this.pda=!1;this.HE=function(cb){var wb,da;cb=Va.navigator.Oe(cb.position.fa);if((cb=Va.a2a(cb)) && Va.S.sf){da=Va.S.ii;null === (wb=Va.S.my) || void 0 === wb?void 0:wb.eF({G:da.G,get Kda() {return da.ee.Ha(da.G.uf);}},cb,Va.Zh.offset,!0,!1);}Va.gp.start();};this.qZ=function(){Va.fl("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Wg=new B.Fw({dt:10,cr:this,source:"AsePlaygraph",console:this.console});this.Lcb(V);this.qb=new Q.iNa();this.Pg=new na.kNa(this.console);this.events=new h.EventEmitter();this.tsa=new I.UGa(this.config,m.R.Oa(this.config.eJ),{parent:this.F2a.bind(this)},this.events,this.console);this.qda=new l.pPa(this.console,this.events);this.tV={LI:T.sv || Infinity};this.S=new q.Hha(this);this.gr=new w.nT(this.S.Da,this.console,"playgraph");this.Pt=new w.nT(new y.V3({Dk:!0,currentTime:function(){return m.R.Oa(n.default.time.ha());},speed:1}),this.console,"wallclock");this.eg=new O.TDa(this.console,T,ia,this.events,this,this.Pt);this.B6=new P.LDa(this.gr,this.Pt,this.config,this.Qi.bind(this),this.Nf,this.console);this.lba=this.eg.lba.bind(this.eg);this.vZ=this.eg.vZ.bind(this.eg);this.sba=this.eg.sba.bind(this.eg);this.Rca=this.Rca.bind(this);this.rQ=new u.hia(T);U.PXa({eg:this.eg,Pt:this.Pt},w.Wk.bL(m.R.Oa(this.config.vB)),function(){Va.S.sf && Va.S.ii && (Va.eg.state.value === d.Qc.bg || Va.eg.state.value === d.Qc.yd) && Va.ks(Va.S.ii);},"buffering");this.rQ.Mg(new z.Ew(this.eg.Wg));this.rQ.Mg(new A.vMa(this.ELb.bind(this)));this.rQ.Mg(new z.Ew(this.Wg));this.rQ.Mg(new C.hNa(this.qb,this));this.Xdb=new ba.oPa(this,this.console,Za);this.r6a=new F.kJa(this.Pt,this.console,this.events);this.gp=new va.nNa(this.nca.bind(this));this.ada(v.zD(this.config),v.yD());}Object.defineProperties(ra.prototype,{state:{get:function(){return this.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{GI:{get:function(){return !(this.S instanceof q.Hha);},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{ja:{get:function(){return this.ls;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{weight:{get:function(){return this.OTa;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{gy:{get:function(){p.assert(this.dv,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Fn.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{bcb:{get:function(){p.assert(this.dv,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.GA(this.gy).Hm;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Nf:{get:function(){return this.eg.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Qe:{get:function(){return this.eg.Qe;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{dv:{get:function(){return void 0 !== this.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Zh:{get:function(){return this.S.sf?this.S.Zh:this.gy;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{tg:{get:function(){return this.S.sf?this.S.tg:this.bcb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{lma:{get:function(){return this.Epb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{fC:{get:function(){return this.Jub;},enumerable:!1,configurable:!0}});ra.prototype.open=function(){this.Mja=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Xc !== g.Zj.CLOSED)return !1;this.Xc=g.Zj.OPEN;return !0;};ra.prototype.Hb=function(){this.Pt.Hb();this.gr.Hb();this.Xc !== g.Zj.CLOSED && (this.Bf(),this.gp.Hb(),this.eg.stop(),this.Xc=g.Zj.CLOSED);};ra.prototype.QB=function(V,K){var T,fa,ia,Ba;T=this;this.hV=V;this.mCa=K;K=J.r_a(this.qb,this.Rca.bind(this));V=K.$yb;K=K.Lxb;if(0 === V.length)return !0;if(1 !== V.length || 0 !== V[0])return !1;fa=this.Zh;ia=this.S.l9();if(ia && ia.greaterThan(this.S.tg))return !1;V.forEach(function(Sa){return T.S.G_(Sa);});Ba=this.GA(fa).Hm;K.forEach(function(Sa){var La;La=Sa.mb;La.QB(Sa.yf,fa.fa === La.G.id?Ba:void 0,void 0 !== T.qb.Jra(La));});this.eg.dWb(fa,K[0].yf);return !0;};ra.prototype.yD=function(V){return v.yD(this.config,V);};ra.prototype.zD=function(V){return v.zD(this.config,V);};ra.prototype.JO=function(V,K){var T,fa;T=this.navigator.Oe(V);fa=this.navigator.Oe(K);return {Dgb:T.zNb(K),tN:K !== V && this.qb.has(K) && this.qb.wx(K)[0].Hh,qd:fa.uf.W,JP:this.a2a(T)};};ra.prototype.Qi=function(V,K,T,fa){var ia,Ba,Sa,La;ia=this;void 0 === fa && (fa=!0);if(!K)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(fa && this.Pg.get(V))T || this.Pg.set(V,K);else {Sa=this.Sqa(V)[0];La=this.navigator.Oe(V);this.Zh.fa === V && Sa && (null === (Ba=this.S.my) || void 0 === Ba?void 0:Ba.eF({G:Sa.G,get Kda() {return Sa.ee.Ha(Sa.G.uf);}},K,this.Zh.offset,fa,T));fa || (V={offset:m.R.hb,fa:K},this.Fn={position:V,Hh:!0,Hfb:V});T?this.Pg.z1b(La.id,K):this.Pg.set(La.id,K);this.gp.start();fa && La.dy && 0 < La.dy.length && (p.assert(Sa),Sa.DBa(La.dy) && this.Sqa(K).forEach(function(Za){return ia.Lt(Sa,Za);}));fa || this.eg.s9a(this.gy);}};ra.prototype.Lt=function(V,K){var T;T=this;V=V.md.Ha(K.G.uf);K.Lt(V);this.qb.QJb(K).forEach(function(fa){return T.Lt(K,fa);});};ra.prototype.mj=function(V){this.navigator.mj(V);this.gp.start();};ra.prototype.ada=function(V,K){this.Epb=V;this.Jub=K;this.state === g.Zj.sj && this.fl("setStreamFilters");};ra.prototype.U1b=function(V){this.m5=V;};ra.prototype.NB=function(V,K){var T,fa,ia,Ba,Sa,La,Za,Wa;T=this;La=E.Egb(this.ja,V);if(La.kP){Za=this.Jca(V);if(void 0 === Za)this.rh("Invalid seekPosition after sanitization to " + V.fa + ("(" + V.offset.W + "ms), reason: ") + La.reason,null === (fa=this.ja.P[V.fa]) || void 0 === fa?void 0:fa.N);else if(void 0 === this.hV || void 0 === this.mCa)this.rh("No track selectors available");else if((fa=!(this.GI && this.S.Ms) && E.V2a(null === (ia=this.Fn) || void 0 === ia?void 0:ia.Hfb,Za),this.events.emit("seeking",{type:"seeking",position:V,duplicate:fa}),!fa)){if(this.dv)if((ia=this.navigator.Oe(this.Zh.fa),null === (Ba=this.S.my) || void 0 === Ba?void 0:Ba.eF({G:ia,Kda:ia.duration},Za.fa,this.Zh.offset,!1),(null === (Sa=this.S.a9()) || void 0 === Sa?void 0:Sa.G.id) === V.fa)){if((this.Pg.Jzb(V.fa),!this.Pg.get(V.fa) && this.S.Ms)){V=this.S.qb;Wa=this.S.a9();Wa && (V=t.ze(V,function(Va){return Va.parent === Wa;})) && this.Pg.set(Wa.G.id,null === V || void 0 === V?void 0:V.G.id);}}else this.Pg.zna();V=this.qb.map(function(Va){return T.m5(Va.G.N).tY;});try{this.Bf(!0);this.Izb();this.Fn={position:Za,Hfb:Za,Hh:!1,Kxa:K};this.eg.s9a();this.Xc=g.Zj.sj;this.gp.start();}finally{V.forEach(function(Va){return Va.release();});}}}else this.rh("Invalid seekPosition to " + (null === V || void 0 === V?void 0:V.fa) + ("(" + V.offset.W + "ms), reason: ") + La.reason,null === (Za=this.ja.P[V.fa]) || void 0 === Za?void 0:Za.N);};ra.prototype.Bf=function(V){var K,T,fa;fa=this.PMb();this.qb.reset();if(!V && (this.Pg.zna(),fa.length))try{for(var ia=k.__values(fa),Ba=ia.next();!Ba.done;Ba=ia.next()){Ba.value.f_b();}}catch(La){var Sa;Sa={error:La};}finally{try{Ba && !Ba.done && (K=ia.return) && K.call(ia);}finally{if(Sa)throw Sa.error;}}this.gr.reset();this.Pt.reset();this.S.reset();this.Fn=void 0;this.B6.reset();null === (T=this.KVa) || void 0 === T?void 0:T.clear();this.Xc === g.Zj.sj && (this.Xc=g.Zj.OPEN);};ra.prototype.Sqa=function(V){return this.qb.wx(V);};ra.prototype.Jk=function(V){this.eg.Jk(V);p.assert(this.S.TA,"Must have an appended branch on underflow");this.B6.uBa(this.S.TA,this.tg);this.fl("onUnderflow");this.events.emit("underflow");};ra.prototype.Mg=function(V){this.rQ.Mg(V);};ra.prototype.$U=function(V){this.Mg(new x.jOa(V));return this.Kwb(V);};ra.prototype.Kwb=function(V){if(!this.S.vBa(V))return (this.rh("player in use"),!1);this.S=V;this.gr.aVa(this.S.Da);this.S.events.on("segmentPresenting",this.HE);this.S.events.on("drmReady",this.qZ);return !0;};ra.prototype.GA=function(V){var K,T;K=V.offset;T=this.navigator.Oe(V.fa);V=T.N;K=T.uf.add(K);return {N:V,Hm:K};};ra.prototype.Jp=function(V,K){var T;T=this.S.Jp(V);if(void 0 !== T)return T;T=this.S.TA;return E.Jp(V,{na:this,SOb:T && ({id:T.G.id,W0b:T.fr})},K);};ra.prototype.BI=function(V){return this.S.BI(V);};ra.prototype.z9=function(V){return this.S.z9(V);};ra.prototype.Jca=function(V){var K;K=this.ja.P[V.fa];if(void 0 !== K)return null === K.va || void 0 === K.va?{fa:V.fa,offset:m.R.max(m.R.hb,V.offset)}:{fa:V.fa,offset:m.R.max(m.R.hb,m.R.min(V.offset,m.R.Oa(K.va - K.sa)))};};ra.prototype.Mm=function(V,K){var T;V="string" === typeof V?{N:this.ja.P[V].N,Hm:m.R.Oa(K)}:V;K=this.m5(V.N);try{return null === (T=K.M) || void 0 === T?void 0:T.Mm(this.config,V.Hm.W);}finally{K.tY.release();}};ra.prototype.g9=function(){return R.I0a(this.qb,this.l$.bind(this));};ra.prototype.l$=function(V){V=this.qb.Jra(V);return void 0 === V || V.Ml && this.l$(V);};ra.prototype.f9=function(){return this.tV.LI;};ra.prototype.nKb=function(V){return S.I2a(this.qb,V);};ra.prototype.ai=function(V){var K,T,fa;K=this;this.qb.uO(function(ia){var Ba,Sa;Ba=ia.FX(0);Sa=ia.FX(1);if(ia.G.Yv || !K.qb.wsa(ia) || !ia.Ml){if(!T || Ba < T)T=Ba;if(!fa || Sa < fa)fa=Sa;}return ia.Ml;});return {K0:T?Math.max(T - V.W,0):0,L0:fa?Math.max(fa - V.W,0):0};};ra.prototype.xx=function(){var V,K,T,fa;T=this.dv?this.ai(this.tg):{K0:0,L0:0};fa=D.default.instance().get();return {totalabuflmsecs:T.K0,totalvbuflmsecs:T.L0,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (K=Number(0 < fa.confidence) && (null === (V=fa.Ua) || void 0 === V?void 0:V.qa)) && void 0 !== K?K:0};};ra.prototype.OO=function(){var V,K,T,fa,ia,Ba,Sa,La;V=this;if(this.io())return (this.Wg.ps({isStreamingFailureReported:!0}),[]);T=this.qb.size;this.Wg.ps({branchCount:T});if(!this.dv || 0 === T)return [];fa=this.tg;ia=this.Zh;Ba=[];T=this.navigator.Oe(this.Zh.fa);Sa=T.duration;La=this.Pg.get(T.id)?1:null !== (K=T.MB) && void 0 !== K?K:1;K=this.qb.reduce(function(Za,Wa,Va){var cb,wb,wa,Oa,Xa;try{for(var da=k.__values(Wa.e9()),ua=da.next();!ua.done;ua=da.next()){wa=ua.value;if(!wa.Qs()){Oa="p" + V.id + "-" + Va + "-" + (null === (wb=Wa.he) || void 0 === wb?void 0:wb.W);Xa=V.E2a(wa);Za.push(V.nDb(wa,Xa.W,Oa,Sa.W,La,fa.W,ia));}!wa.lE() && V.Wg.enabled && Ba.push({segmentId:wa.fa,isDoneStreaming:wa.Qs(),isNormalized:wa.Hh(),needsHeaderRequest:wa.track.Taa});}}catch(Bb){var lb;lb={error:Bb};}finally{try{ua && !ua.done && (cb=da.return) && cb.call(da);}finally{if(lb)throw lb.error;}}return Za;},[]);this.Wg.ps({nonStreamables:Ba});return K;};ra.prototype.E2a=function(V){var K;if(V.rla)return V.rla;K=this.F2a(V);return !K || this.config.O7 && this.navigator.xNb(K.mb.G,V.fa)?V.KV:this.E2a(K);};ra.prototype.F2a=function(V){var K;return null === (K=this.qb.Jra(V.mb)) || void 0 === K?void 0:K.IO(V.mediaType);};ra.prototype.eWb=function(V){var K,T;if(!this.qda.io()){K=void 0;T=this.S.Zh;T && (K=this.navigator.Oe(T.fa).N);this.rh("BufferingStateTracker: Temporary failure while buffering",K,"NFErr_MC_StreamingFailure",null === V || void 0 === V?void 0:V.Dh,null === V || void 0 === V?void 0:V.II,null === V || void 0 === V?void 0:V.Jj);}};ra.prototype.rh=function(V,K,T,fa,ia,Ba,Sa){void 0 === Sa && (Sa=!1);"string" === typeof V?this.qda.rh(V,T,{networkErrorCode:fa,httpCode:ia,nativeCode:Ba,viewableId:K,temporaryFailure:Sa}):this.qda.F_b(V);};ra.prototype.P0=function(V,K){K=this.c9(K);this.events.emit("logdata",{type:"logdata",target:V,fields:K});};ra.prototype.c9=function(V){var K;this.r6a.iRb(V);K=this.rQ.Vl(V);V === u.ce.pp && (V=this.xx(),K.vbuflmsec=V.totalvbuflmsecs,K.abuflmsec=V.totalabuflmsecs,K.vbuflbytes=V.vbuflbytes,K.abuflbytes=V.abuflbytes);return K;};ra.prototype.Nfb=function(V){this.tV=V;this.fl("updateBudget");};ra.prototype.io=function(){return this.qda.io();};ra.prototype.egb=function(V){V !== this.weight && (this.OTa=V,this.events.emit("weightUpdated"));};ra.prototype.ry=function(V){var K,T,fa,ia,Ba,Sa,Wa,Va,cb,wb,da,ua,wa,Oa,Xa,lb;fa=H.iWa(this.ja,V);ia=fa.oQ;Ba=fa.Zyb;Sa=fa.N5b;if([fa.Kvb,ia,Ba].every(function(ub){return !ub.length;}))return {da:!0,reason:d.Gw.xnb};if(0 === Ba.length && 0 === Sa.length && this.GI && this.S.sf)return {da:!1,reason:d.Gw.Lmb};if(this.GI){if(this.S.qb.some(function(ub){return -1 < ia.indexOf(ub.G.id);}))return {da:!1,reason:d.Gw.pob};this.dv && !this.S.sf && -1 < ia.indexOf(this.gy.fa) && (this.Fn=void 0);}if(this.dv)try{for(var La=k.__values(Ba),Za=La.next();!Za.done;Za=La.next()){Wa=Za.value;Va=this.ja.P[Wa];cb=Va.sa;wb=Va.va;da=Va.N;ua=V.P[Wa];wa=ua.va;Oa=ua.sa;Xa=ua.N;if(this.Zh.fa === Wa && wa !== wb){if(!wa)return {da:!1,reason:d.Gw.qob};lb=m.R.Oa(wa - Oa);if(null === (T=this.Zh.offset) || void 0 === T?0:T.greaterThan(lb))return {da:!1,reason:d.Gw.shb};}if(cb !== Oa)return {da:!1,reason:d.Gw.Jkb};if(da !== Xa)return {da:!1,reason:d.Gw.Kkb};}}catch(ub){var Bb;Bb={error:ub};}finally{try{Za && !Za.done && (K=La.return) && K.call(La);}finally{if(Bb)throw Bb.error;}}this.Lcb(V);this.gp.start();return {da:!0,reason:d.Gw.wnb};};ra.prototype.Lcb=function(V){this.ls=V;this.navigator=new L.sNa(V);this.UMb=H.zXa(this.navigator);};ra.prototype.Xwa=function(V,K){this.bbb(V);V.mO.addListener("criticalNetworkError",this.lba);V.mO.addListener("temporaryNetworkError",this.vZ);V.mO.addListener("updatingLastSuccessEvent",this.sba);this.Xc === g.Zj.sj && K && this.Xbb();};ra.prototype.Ywa=function(V){0 === this.qb.filter(function(K){return K.aE && K.M === V;}).length && this.bbb(V);};ra.prototype.bbb=function(V){V.mO.removeListener("criticalNetworkError",this.lba);V.mO.removeListener("temporaryNetworkError",this.vZ);V.mO.removeListener("updatingLastSuccessEvent",this.sba);};ra.prototype.UTa=function(V){var K;p.assert(V.Hh,"expected branch to be normalized on addBranchToPlayer");this.S.Ms || (null === (K=this.Fn) || void 0 === K?0:K.Hh) || this.nIb(V);this.eg.Xda(V.yf);this.S.Ms && (K=this.S.TA) && this.Pg.clear(K.G.id);this.S.zpa(V);this.B6.uBa(V,this.tg);};ra.prototype.nIb=function(V){p.assert(V.Mc,"Normalized branch should have a defined content start timestamp");p.assert(this.Fn,"AsePlaygraph should have a seek position on first branch normalization");p.assert(!this.Fn.Hh,"Seek position should not already be normalized on first branch normalization");this.Fn=k.__assign(k.__assign({},this.Fn),{position:{fa:V.G.id,offset:V.Mc.Ha(V.G.uf)},Hh:!0});this.eg.u1b(this.Fn.position,V.yf.filter(function(K){return 0 === K.mediaType;})[0]);};ra.prototype.Izb=function(){var V;this.B6.reset();this.S.EH();this.Fn=void 0;null === (V=this.KVa) || void 0 === V?void 0:V.clear();};ra.prototype.nDb=function(V,K,T,fa,ia,Ba,Sa){var La,Za,Wa,Va;La=this;Va=null !== (Wa=null === (Za=V.mb.he) || void 0 === Za?void 0:Za.W) && void 0 !== Wa?Wa:V.mb.Ps.W;Za=V.iF.W;Wa=this.Pg.get(V.fa)?1:V.mb.G.MB;return {identifier:V.fa,mediaType:V.mediaType,Ih:V.Ih,Nf:this.Nf.value,sB:K,Gt:Za,Bs:Ba,$_a:V.tO.W,Vxa:Sa.offset.W,Uxa:fa,ZZ:ia,MB:Wa,Ds:V.mb.ZH.W,Ydb:Math.max(Za - Va,0),lE:V.lE(),Qs:V.Qs(),groupId:T,n5a:function(cb,wb){cb=La.Xdb.Hyb(cb,V.mediaType,1 > wb || !La.l$(V.mb));1 === wb && "global" === d.yya(cb.reason) && La.eg.CVb(V.mediaType,La.ai(La.tg));return cb;},r5a:function(){var cb,wb,da,ua,wa,Oa,Xa,lb,Bb,ub;ua=V.mediaType;wa=La.tsa.c1b(La.Nf.value,La.tg,V.iF,La.S.playbackRate,V,0 === ua?La.lma:La.fC,La.mN);Oa=wa.stream;Xa=wa.e0;lb=wa.aP;Bb=wa.XE;ub=wa.Ux;wa=wa.reason;if(!Oa)return {Wl:!1,reason:wa || "selectLocationsAndStream"};if(La.Nf.value === d.Qc.sj && V.mb && V.mb.M.Sq && !V.mb.M.MY && !La.S.ho(V.mb.M.N)){wa=V.iF.W - La.tg.W;if(!V.mb.M.tf.Ne && wa > La.config.rva)return {Wl:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Oa.fj && 1 === Oa.mediaType && wa >= La.config.jaa)return {Wl:!1,reason:"maxFastPlayBufferInMs"};}wa=1;if(null === (cb=V.mb) || void 0 === cb?0:cb.yf.every(function(Kb){return 0 === Kb.mediaType;}))wa=0;La.eg.wg && ua === wa && La.eg.H1b(V.Wj.GQ,Oa.bitrate,lb);La.JQ(Xa);cb=null === (wb=V.mb.Hr) || void 0 === wb?void 0:wb.W;wb=V.ufb(Oa,ub,Bb);wb.Wl && (La.Mja && (La.um("firstDriveStreaming"),La.Mja=!1),0 < La.KD && (Oa=null === (da=V.mb.Hr) || void 0 === da?void 0:da.W,cb && Oa && (La.KD-=cb - Oa,0 >= La.KD && La.Xbb())));return wb;}};};ra.prototype.JQ=function(V){var K;K=this;V.forEach(function(T){T.M.A1b(T,function(){var fa,ia;p.assert(K.dv,"Speculative header callback after streaming is cancelled");fa=K.tg.W;ia=fa + K.config.VY;return {Ih:[],Nf:K.eg.state.value,sB:ia,Gt:ia,Bs:fa};});});};ra.prototype.Xbb=function(){var V;V=this;this.gp.jea(va.XF.Jy,function(){return V.gp.start();});};ra.prototype.nca=function(){var V,K,T,fa,ia,Ba,Sa;V=this;if(this.Xc === g.Zj.sj){K=this.Zh;T=this.S.qb;fa=this.qb.HMb();ia=k.__read(T,1)[0];ia=ia?this.navigator.Oe(ia.G.id):this.navigator.Oe(K.fa);T=T.map(function(La){return La.G.id;});T=N.nca(this.console,this.UMb,ia,fa,this.Pg,T,m.R.Oa(this.config.Jxb),this.config.Vva,m.R.Oa(this.config.Dma));fa=T.yca;T=T.KD;ia=k.__read(fa);Ba=ia[0];ia=ia.slice(1);Sa=ia.filter(function(La){return La.Gv;});p.assert(ia.length === Sa.length,"Missing parent branch");p.assert(!ia.length || ia.some(function(La){return La.Gv === Ba;}),"Disconnected tree");this.KD=T || 0;this.qb.Y5b(fa,function(La,Za){var Wa;Wa=V.navigator.Oe(La);La=La !== K.fa || V.S.Ms?Wa.uf:Wa.uf.add(K.offset);return V.C5b(Wa,La,Za);}).oQ.forEach(function(La){La.Bf("aborted");});this.Rab();this.CWa();this.gp.jea(va.XF.Jy,function(){V.fl("reevaluateBranches");V.gp.TY(va.XF.gT);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};ra.prototype.PMb=function(){return t.ZU(this.qb.filter(function(V){return V.aE;}).map(function(V){return V.M;}));};ra.prototype.Rab=function(){var V,K;V=this;if(this.Xc === g.Zj.sj){if(!this.S.TA){K=k.__read(this.qb.wx(this.gy.fa),1)[0];(null === K || void 0 === K?0:K.Hh) && this.UTa(K);}if(this.S.TA)for(;;){K=this.x1a(this.S.TA.G);if(!K)break;K=k.__read(this.qb.wx(K).filter(function(T){return T.parent === V.S.TA;}),1)[0];if(!K)break;if(null === K || void 0 === K || !K.Hh)break;else if(this.S.d3a(K))break;this.UTa(K);}}};ra.prototype.a2a=function(V){var K,T,fa,ia;if(this.S.Ms){K=this.S.ii;T=!1;fa=this.S.qb.filter(function(Ba){T || (T=Ba === K);return T;});ia=t.Ln(fa,function(Ba){return Ba.G.id === V.id;});if(fa=fa[ia + 1])return fa.G.id;}return this.x1a(V);};ra.prototype.x1a=function(V){var K;K=this.Pg.get(V.id);if(void 0 !== K)return K;V=this.navigator.eKb(V);if(1 === V.length)return V[0].id;};ra.prototype.CWa=function(){var V;V=0 !== this.iJb();V || this.pda?V && this.pda && (this.pda=!1):(this.eg.wg && (V=this.ai(this.tg),this.eg.$e("complete",V.K0,V.L0)),this.Gsb(),this.pda=!0);};ra.prototype.iJb=function(){return this.qb.filter(function(V){return !V.Ml;}).length;};ra.prototype.ks=function(V){this.l$(V) && this.eg.sna(this.tg,this.S.playbackRate,V,{rna:this.tsa.rna.bind(this.tsa,this.Xdb)});};ra.prototype.vVb=function(V,K){var T,fa;T=this;if(K.didNormalizeSegment){fa=M.IOa.OMb(V);p.assert(fa,"Segment should be normalized");Promise.resolve().then(function(){return T.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:V.G.id,normalizedStart:K.segmentContentStart,normalizedEnd:K.branchContentEnd,viewableContentEnd:fa.u7b,viewableEarliestContentEnd:fa.w7b});});}Promise.resolve().then(function(){T.Rab();});this.fl("branchNormalized");};ra.prototype.wVb=function(){this.CWa();};ra.prototype.uVb=function(){this.gp.start();};ra.prototype.C5b=function(V,K,T){var fa,ia,Ba,Sa,La,Za,Wa,Va;fa=this;if(this.Dzb(V,K))throw Error("Not implemented");La=!this.S.Ms && !this.qb.has(this.gy.fa);Za=new f.NDa(V.N,this.m5,function(cb,wb,da){fa.state !== g.Zj.CLOSED && (fa.Xwa(wb,da),fa.gp.jea(va.XF.gT,function(){fa.f5(cb,wb,La);}));},this.Ywa.bind(this));Wa=new G.JDa(this.config,this.console,this.events,V,this.Rca,K,null !== (Sa=null === (Ba=null === (ia=this.Fn) || void 0 === ia?void 0:ia.Kxa) || void 0 === Ba?void 0:Ba.Ha(this.bcb)) && void 0 !== Sa?Sa:m.R.hb,function(){return fa.tg.W;},T,this.Nf,this.gr,Za,this.iq);Va=new h.Dg();Va.addListener(Wa.events,"needsRequest",this.fl.bind(this,"branchNeedsHeader"));Va.addListener(Wa.events,"branchNormalized",this.vVb.bind(this,Wa));Va.addListener(Wa.events,"lastRequestIssued",this.uVb.bind(this,Wa));Va.addListener(Wa.events,"branchStreamingComplete",this.wVb.bind(this,Wa));Va.addListener(Wa.events,"checkBufferingProgress",this.ks.bind(this,Wa));Va.addListener(Wa.events,"branchDestroyed",function(cb){Va.clear();fa.qb.contains(Wa) && (fa.qb.pca(Wa),fa.gp.start());"aborted" === cb.reason && (fa.S.d3a(Wa) || fa.gp.jea(va.XF.Jy,function(){return fa.vka(Wa.G.id);}));});void 0 === T && (this.um("createDlTracksStart"),Wa.events.once("requestQueuesCreated",function(){fa.um("createDlTracksEnd");}));Wa.zb();return Wa;};ra.prototype.ELb=function(V){if(this.S.sf)return this.S.ii.lb(V);};ra.prototype.Rca=function(V){return [[0,this.hV,"audio_tracks"],[1,this.mCa,"video_tracks"]].map(function(K){var T,fa;T=k.__read(K,3);fa=T[1];K=T[2];p.assert(fa,"Expected mediaType " + T[0] + " track selector to be defined");T=fa.zt(V.ia,V.ia[K]);if(void 0 !== T)return V.getTrackById(V.ia[K][T].lR);}).filter(t.fba);};ra.prototype.f5=function(V,K,T){V={type:"segmentStarting",segmentId:V.G.id,contentOffset:V.Ie.W,maxBitrates:{audio:K.Ys[0],video:K.Ys[1]},media:c(V.yf),initial:T};this.events.emit(V.type,V);};ra.prototype.vka=function(V){V={type:"segmentAborted",segmentId:V};this.events.emit(V.type,V);};ra.prototype.Gsb=function(){var V;V={type:"streamerEnd",time:n.default.time.ha()};this.events.emit(V.type,V);};ra.prototype.um=function(V){V={type:"startEvent",event:V,time:n.default.time.ha()};this.events.emit(V.type,V);};k.__decorate([B.Kb({methodName:"setTracks",return:!0})],ra.prototype,"QB",null);k.__decorate([B.Kb({methodName:"setNextSegment",Kn:!0})],ra.prototype,"Qi",null);k.__decorate([B.Kb({methodName:"seekStreaming"}),k.__param(0,ya.cv())],ra.prototype,"NB",null);k.__decorate([ya.return.DXa(),k.__param(0,ya.cv())],ra.prototype,"GA",null);k.__decorate([ya.return.cv()],ra.prototype,"Jp",null);k.__decorate([k.__param(0,ya.cv())],ra.prototype,"BI",null);k.__decorate([k.__param(0,ya.cv())],ra.prototype,"z9",null);k.__decorate([ya.return.cv(),k.__param(0,ya.cv())],ra.prototype,"Jca",null);k.__decorate([k.__param(0,ya.DXa()),k.__param(0,ya.fa())],ra.prototype,"Mm",null);k.__decorate([B.Kb({methodName:"getStreamables",jl:!0})],ra.prototype,"OO",null);k.__decorate([B.Kb({methodName:"updatePlaygraphMap",return:!0})],ra.prototype,"ry",null);return ra;})();b.H1=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.J0a=b.i2a=b.Rqa=b.jOa=void 0;c=a(1);k=a(16);h=a(54);r=(function(){function g(d){this.Fa=d;}Object.defineProperties(g.prototype,{sg:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DE:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return k.Z;},enumerable:!1,configurable:!0}});g.prototype.Vl=function(d){var f,m,p;d=d.Li;if(d === h.ce.pp || d === h.ce.Do)if(d=this.Fa.Nqa()){m={};try{for(var l=c.__values(d.zXb),n=l.next();!n.done;n=l.next()){p=n.value;m[p.mediaType]=this.wSb(p);}}catch(t){var q;q={error:t};}finally{try{n && !n.done && (f=l.return) && f.call(l);}finally{if(q)throw q.error;}}return {branchQueue:b.J0a(d.kZb),playerIterator:m,driftStats:this.Fa.sCa};}};g.prototype.wSb=function(d){return null === d || void 0 === d?void 0:d.E1a();};return g;})();b.jOa=r;b.Rqa=function(g){var d,f;if(g){d=g.G;f={};g.Pq().forEach(function(m){f[m.mediaType]=b.i2a(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:g.Xh,RM:f};}return g;};b.i2a=function(g){var d,f,m,l;if(g && g.Va)return c.__assign(c.__assign({},g.Va.Lra()),{unsentRequests:g.Va.Kt,lastFragmentContentEndPts:null === (d=g.Gf) || void 0 === d?void 0:d.Vc,trackProfile:null === (m=null === (f=g.track) || void 0 === f?void 0:f.Sm) || void 0 === m?void 0:m.profile,bitrate:null === (l=g.Gf) || void 0 === l?void 0:l.bitrate});};b.J0a=function(g){return g.map(function(d){return b.Rqa(d);});};},function(r,b,a){var h,g,d;function c(f,m,l,n,p){var q,t;l=null !== (q=m.oe) && void 0 !== q?q:m.track.Mm(f,l.W,void 0,p);f=null !== (t=m.Gf) && void 0 !== t?t:m.track.sA(f,null === n || void 0 === n?void 0:n.W,m.sh);return [!m.Hh(),l,f];}function k(f,m){var B,D;for(var l=[],n=0,p=f[n],q=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1],w=m.Gf.index,v=m.track.Up,u=0,x=m.oe.Mc,y=m.oe.ee.W > p[0],z=y,A=m.oe.index;A <= w;++A){B=!1;if(p){D=v.get(A);y && (D.Mc.W >= t?(y=!1,++n >= f.length?t=q=p=void 0:(p=f[n],q=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1])):z?z=!1:(l.push(new g.O3(u,x,D.Mc)),x=D.Mc,B=!0));!y && p && D.ee.W > q && (y=!0,B=D.Mc,(D=m.track.$O.jh(A).T_a(q)) && 0 !== D.yl && (B=d.R.Oa(D.Kd)),l.push(new g.O3(u,x,B)),x=B,B=!0);}B && ++u;}l.push(new g.O3(u,x,m.Gf.ee));return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.DSb=b.Z6a=b.J8a=b.H8a=b.Rya=void 0;h=a(1);g=a(440);d=a(9);b.Rya=function(f,m,l){var n,p,q;q=m.get(0);m=m.get(1);m=null === m || void 0 === m?void 0:m.track.sA(f,null === l || void 0 === l?void 0:l.W,m.sh);return [null === q || void 0 === q?void 0:q.track.sA(f,null !== (p=null === (n=null === m || void 0 === m?void 0:m.ee) || void 0 === n?void 0:n.W) && void 0 !== p?p:null === l || void 0 === l?void 0:l.W,q.sh),m];};b.H8a=function(f,m,l,n,p){var q,t,w,v;q=m.get(0);m=m.get(1);t=h.__read(m?c(f,m,l,n,p):[!1],3);w=t[0];v=t[1];t=t[2];n=h.__read(q?c(f,q,w && void 0 !== (null === v || void 0 === v?void 0:v.$)?d.R.Oa(v.$):l,void 0 !== (null === t || void 0 === t?void 0:t.La)?d.R.Oa(null === t || void 0 === t?void 0:t.La):n,p):[!1],3);f=n[0];l=n[1];n=n[2];f && (null === q || void 0 === q?void 0:q.e$(l,n));w && (null === m || void 0 === m?void 0:m.e$(v,t));return [f,w];};b.J8a=function(f,m,l){return m.track.Mm(f,l.W,void 0,!0).Mc;};b.Z6a=function(f,m,l){var n;n=m.G;if(!n.Lq || 0 === n.Lq.length)return [];f=n.Lq.map(function(p){return [n.sa + p[0],n.sa + p[1]];});return k(f,l.$Z);};b.DSb=k;},function(r,b,a){var k,h,g;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.xNa=b.O3=b.M4a=void 0;k=a(1);h=a(9);g=a(4);b.M4a=c;r=(function(){function d(f,m,l){this.region=f;this.Mc=m;this.ee=l;}d.prototype.toJSON=function(){return {region:this.region,$:this.Mc.JJ,La:this.ee.JJ};};return d;})();b.O3=r;r=(function(){function d(f,m,l){var n,p,q;n=this;this.id=f;this.G=m;this.BSa=!1;this.PO=function(t){var w,v,u,x;return (null === (w=n.dy) || void 0 === w?0:w.length)?"immediate":null !== (x=null === (u=null === (v=n.G.next) || void 0 === v?void 0:v[t]) || void 0 === u?void 0:u.ie) && void 0 !== x?x:n.ie;};this.EU=new h.R(m.sa,1E3);this.PT=void 0 !== m.va && null !== m.va?new h.R(m.va,1E3):h.R.fE;this.xub=null !== (q=null !== (p=m.ie) && void 0 !== p?p:l) && void 0 !== q?q:"lazy";this.n4a();g.assert(this.EU.lessThan(this.PT),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{N:{get:function(){return this.G.N;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ar:{get:function(){return this.BSa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{uf:{get:function(){return this.EU;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ej:{get:function(){return this.PT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.PT.Ha(this.EU);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.EU.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.PT.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{OE:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yv:{get:function(){return this.nB.length?!this.G.vc && 0 === this.LP.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BUb:{get:function(){return this.QC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nB:{get:function(){var f,m;return Object.keys(null !== (m=null === (f=this.G) || void 0 === f?void 0:f.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{LP:{get:function(){var f;f=this;return this.nB.filter(function(m){return ! !f.QC[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aBa:{get:function(){var f;return null !== (f=this.yTa) && void 0 !== f?f:this.yTa=this.Ayb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sda:{get:function(){var f;return null !== (f=this.zTa) && void 0 !== f?f:this.zTa=this.Byb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{MB:{get:function(){return this.G.weight?this.G.weight / (this.G.weight + this.sda):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ie:{get:function(){var f;return (null === (f=this.dy) || void 0 === f?0:f.length)?"immediate":this.xub;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,m,l){this.EU=f;this.PT=m;this.dy=l;this.BSa=!0;this.Ygb();};d.prototype.b1a=function(){var f;return this.LP.length?null !== (f=this.LP.map(this.PO).reduce(function(m,l){return m === l?l:void 0;})) && void 0 !== f?f:this.ie:this.ie;};d.prototype.mj=function(f){this.n4a(f);};d.prototype.qyb=function(f){var m,l;if(this.aBa){m=(this.QC[f] || 0) / this.aBa;if(void 0 === this.G.weight || 0 === this.sda)return {te:m};l=this.MB;return 1 !== l && c(this.PO(f)) && this.QC[f]?{te:l * m,dE:this.QC[f] / this.sda * (1 - l)}:{te:l * m};}return {te:(null === (m=this.G.next) || void 0 === m?0:m[f])?1 / this.nB.length:0};};d.prototype.zNb=function(f){return -1 < this.nB.indexOf(f);};d.prototype.twb=function(){return this.ar?k.__assign(k.__assign({},this.G),{sa:this.uf.W,va:this.ej.W}):this.G;};d.prototype.n4a=function(f){var m;if(void 0 === this.G.next)this.QC={};else {m=this.G.next;this.QC=Object.keys(m).reduce(function(l,n){var p;p=f?f[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (l[n]=p);return l;},{});}this.Ygb();};d.prototype.Ayb=function(){var f;f=this;return this.LP.reduce(function(m,l){return m + f.QC[l];},0);};d.prototype.Byb=function(){var f;f=this;return this.LP.filter(function(m){return c(f.PO(m));}).reduce(function(m,l){return m + f.QC[l];},0);};d.prototype.Ygb=function(){this.zTa=this.yTa=void 0;};return d;})();b.xNa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yna=b.Jp=b.V2a=b.Egb=void 0;c=a(9);k=a(4);h=a(16);b.Egb=function(d,f){d=d.P[f.fa];if(void 0 === d)return {kP:!1,reason:"Segment " + f.fa + " was not found"};if(0 > f.offset.W)return {kP:!1,reason:"Offset " + f.offset.W + " was negative"};if(void 0 === d.va || null === d.va || Infinity === d.va)return {kP:!0};d=d.va - d.sa;return f.offset.W >= d?{kP:!1,reason:"Offset " + f.offset.W + " was greater than segment duration " + d}:{kP:!0};};g=c.R.Oa(100);b.V2a=function(d,f){if(d === f)return !0;if(d && f && d.fa === f.fa){if(d.offset === f.offset)return !0;d=c.R.abs(d.offset.Ha(f.offset));if(g.greaterThan(d))return !0;}return !1;};b.Jp=function(d,f,m){var l,n,p,q;p=f.na;f=f.SOb;void 0 === m && (m={});q=p.ja;p=p.navigator;q=p.Oe(null !== (l=null === f || void 0 === f?void 0:f.id) && void 0 !== l?l:q.fe);l=null !== (n=null === f || void 0 === f?void 0:f.W0b) && void 0 !== n?n:q.uf;if(l.greaterThan(d))return m.sdb?{offset:d.Ha(l),fa:q.id}:void 0;f=p.vQb(q);for(p=f.next();!p.done;){n=p.value;p=n.ej.Ha(n.uf);q=l;l=q.add(p);if(l.greaterThan(d))return (d=d.Ha(q),h.Z && k.assert(d.Ks(c.R.hb) && d.lessThan(p)),{fa:n.id,offset:d});p=f.next();if(p.done && m.tdb)return {fa:n.id,offset:d.Ha(q)};}};b.yna=function(d,f){f=f.P[d.fa];return d.offset.lessThan(c.R.hb)?{P6:c.R.hb,np:d.offset}:f.va && (f=c.R.Oa(f.va - f.sa),f.isFinite() && d.offset.greaterThan(f))?{P6:f,np:d.offset.Ha(f)}:{P6:d.offset,np:c.R.hb};};},function(r,b,a){var k,h,g;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(f,m){return 0 === m || g.Ln(d,function(l){return l.value === f.parent;}) < m;});}Object.defineProperties(b,{__esModule:{value:!0}});b.V$a=b.Fia=void 0;a(1);k=a(443);h=a(4);g=a(23);r=(function(){function d(){this.L=new k.cia();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.KB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var f;return null === (f=this.KB) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var f;f=[];this.uO(function(m){return ! !f.push(m);});return f;},enumerable:!1,configurable:!0}});d.prototype.has=function(f){return ! !this.L.get(f);};d.prototype.parent=function(f){var m;f=this.L.get(f);h.assert(f,"Attempted to find the parent of a node not in the tree");return null === (m=f.parent) || void 0 === m?void 0:m.value;};d.prototype.children=function(f){f=this.L.get(f);h.assert(f,"Attempted to find the children of a node not in the tree");return f.children?f.children.map(function(m){return m.value;}):[];};d.prototype.wsa=function(f){f=this.L.get(f);h.assert(f,"Attempted to find the children of a node not in the tree");return void 0 !== f.children && 0 < f.children.length;};d.prototype.add=function(f,m){var l;h.assert(!this.L.get(f),"Attempted to add a value to tree that is already present");l={value:f};void 0 === this.KB?(h.assert(void 0 === m,"a parent cannot be specified when the tree is empty"),this.KB=l):(h.assert(void 0 !== m,"a parent must be specified when the tree is non-empty"),m=this.L.get(m),h.assert(m,"Parent value does not exist in tree"),this.fVa(l,m));this.L.set(f,l);return this;};d.prototype.remove=function(f){f=this.L.get(f);h.assert(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};d.prototype.removeNode=function(f){var m;m=this;this.tqa(function(l){return m.L.delete(l);},f.value);void 0 === f.parent?this.KB=void 0:this.detach(f);};d.prototype.move=function(f,m){f=this.L.get(f);m=this.L.get(m);h.assert(f,"cannot move a value that is not in the tree");h.assert(m,"cannot move a value to a parent value not in the tree");h.assert(f.parent,"cannot move the root node");h.assert(!this.oPb(f,m),"cannot move a node below itself or one of its decendants");f.parent !== m && (this.detach(f),this.fVa(f,m));return this;};d.prototype.A_b=function(f){var m,l;m=this;f=this.L.get(f);h.assert(f,"cannot replant at a value that is not in the tree");l=[];this.detach(f);this.tqa(function(n){m.L.delete(n);l.unshift(n);return !0;});this.KB=f;};d.prototype.clear=function(){this.KB && this.remove(this.KB.value);return this;};d.prototype.e0a=function(f,m){var l,n;l=this;f=this.L.get(f);h.assert(f,"cannot iterate children of a value not in the tree");null === (n=f.children) || void 0 === n?void 0:n.forEach(function(p){return m(p.value,l);});};d.prototype.uO=function(f,m,l){var n;n=this;void 0 === l && (l=0);h.assert(!this.empty || void 0 === m,"cannot iterate from a value on an empty tree");this.empty || (m=null !== m && void 0 !== m?m:this.KB.value,f(m,this,l) && this.e0a(m,function(p){return n.uO(f,p,l + 1);}));};d.prototype.tqa=function(f,m){var l;l=this;h.assert(!this.empty || void 0 === m,"cannot iterate from a value on an empty tree");this.empty || (m=null !== m && void 0 !== m?m:this.KB.value,this.e0a(m,function(n){return l.tqa(f,n);}),f(m,this));};d.prototype.uZb=function(f){var m,l,n;m=this;h.assert(c(f),"entries must be in topological order");if(0 === f.length){l=this.values;n=[];this.clear();}else (n=f.filter(function(p){return m.has(p.value) && p.parent !== m.parent(p.value);}),l=this.values.filter(function(p){return -1 === g.Ln(f,function(q){return q.value === p;});}),this.clear(),f.forEach(function(p){return m.add(p.value,p.parent);}));return {oQ:l,fbb:n};};d.prototype.fVa=function(f,m){var l;f.parent=m;(null !== (l=m.children) && void 0 !== l?l:m.children=[]).push(f);};d.prototype.detach=function(f){var m;h.assert(f.parent,"cannot detach the root");h.assert(void 0 !== f.parent.children,"logic error: parent node does not have children");m=f.parent.children.indexOf(f);h.assert(0 <= m,"logic error: node does not appear in the children of its parent");f.parent.children.splice(m,1);f.parent=void 0;};d.prototype.oPb=function(f,m){for(;void 0 !== m;){if(m === f)return !0;m=m.parent;}return !1;};return d;})();b.Fia=r;b.V$a=function(d,f){var m;m="";d.uO(function(l,n,p){m+="" + Array(p + 1).join("-") + f(l) + "\n";return !0;});return m;};},function(r,b){var k,h,g;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.KQa);}function c(d){return (a(d)?d:Object.defineProperties(d,{KQa:{value:{},configurable:!1,enumerable:!1}})).KQa;}Object.defineProperties(b,{__esModule:{value:!0}});b.cia=void 0;h=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;g=Date.now() % h;r=(function(){function d(){this.id=g=(g + 1) % h;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,m){c(f)[this.id]=m;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.cia=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PS=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.xla=function(c,k){this[c]+=Math.max(k || 0,0);};return a;})();b.PS=r;0;1;},function(r,b,a){var k,h,g,d;function c(){return k.__awaiter(this,void 0,void 0,function(){var f;return k.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return k.__importStar(a(262));})];case 1:return (f=m.jc().uI,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.zX=void 0;k=a(1);h=a(1039);g=k.__importDefault(a(6));b.zX=function(f){var m;m=new g.default.Console("ASEJS","media|asejs");d || (d=new h.GNa(function(){return c();},f,m));return d;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gha=void 0;c=a(1);r=(function(){function k(h){this.na=h;this.mca();}Object.defineProperties(k.prototype,{eba:{get:function(){return this.gsb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gfb:{get:function(){return this.na().ja;},enumerable:!1,configurable:!0}});k.prototype.mca=function(){var h,g;h=this;if(this.na()){g=this.na().ja;this.gsb=c.__assign(c.__assign({},g),{P:new Proxy(g.P,{get:function(d,f){var m;d=g.P[f];if(!d)return d;m=h.MLb(f);return m?(f=m.twb(),c.__assign(c.__assign(c.__assign({},f),d),{sa:f.sa,va:f.va})):g.P[f];}})});}};k.prototype.MLb=function(h){var g;g=this.na().navigator;return g.m3a(h)?g.Oe(h):void 0;};return k;})();b.gha=r;},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Zfa=void 0;c=a(1);k=a(51);h=a(21);g=c.__importDefault(a(6));d=a(71);f=a(441);m=a(4);l=a(1053);r=(function(){function n(p,q){this.OM=p;this.lja=q;this.console=new g.default.Console("GRAPHLOCATIONSERVICE");this.Wg=new d.Fw({cr:this,source:"GraphLocation",console:this.console});}Object.defineProperties(n.prototype,{parent:{get:function(){return this.OM();},enumerable:!1,configurable:!0}});n.prototype.WN=function(p){var q,t,w;this.console.trace("downConverting",p);q=this.parent;t=this.lja;w=t.eba;if(q === t.Gfb)return p;if(w.P[p.fa])return (this.console.warn("Received a down converted position unexpectedly",p),p);t=f.yna(p,q);p=k.Cgb(q,w,{offset:t.P6.W,G:p.fa});p={offset:t.np.add(h.R.Oa(p.offset)),fa:p.G};this.console.trace("downConverting ret:",p);return p;};n.prototype.XK=function(p){var q,t,w;this.console.trace("upConverting",p);q=this.parent;t=this.lja;w=t.eba;if(q === t.Gfb)return p;if(q.P[p.fa])return (this.console.warn("Received a up converted position unexpectedly",p),p);t=f.yna(p,w);p=k.eXa(q,w,{offset:t.P6.W,G:p.fa});p={offset:t.np.add(h.R.Oa(p.offset)),fa:p.G};this.console.trace("upConverting ret:",p);return p;};n.prototype.VKb=function(p){var q;q=k.W0a(this.parent,this.lja.eba,{G:p.fa,offset:p.offset.W});q=l.M5a(q);m.assert(q,"Could not find any segments in the path of " + p);return q;};c.__decorate([d.Kb({methodName:"downConvertPosition",jl:!0,Kn:!0,return:!0})],n.prototype,"WN",null);c.__decorate([d.Kb({methodName:"upConvertPosition",jl:!0,Kn:!0,return:!0})],n.prototype,"XK",null);return n;})();b.Zfa=r;},function(r,b,a){var k,h,g,d;function c(f,m){return m && !Array.isArray(m) && -1 === m.t_a.indexOf(f)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.doa=void 0;k=a(1);r=a(17);h=a(183);g=a(435);d=(function(f){function m(l,n){var p;p=f.call(this) || this;p.uSb=l;p.q4a=n;p.Hja={};return p;}k.__extends(m,f);m.prototype.emit=function(l){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,l,this.uSb(l,n[0]));};m.prototype.subscribe=function(l){var n,p;n=this;if(!this.listeners(l).length){p=function(){for(var q=[],t=0;t < arguments.length;t++){q[t]=arguments[t];}return n.emit.apply(n,k.__spread([l],q));};this.Hja[l]=p;this.q4a.addListener(l,p);}};m.prototype.addListener=function(l,n){this.subscribe(l);f.prototype.addListener.call(this,l,n);return this;};m.prototype.removeListener=function(l,n){f.prototype.removeListener.call(this,l,n);this.listeners(l).length || (this.q4a.removeListener(l,this.Hja[l]),delete this.Hja[l]);return this;};m.prototype.on=function(l,n){this.addListener(l,n);return this;};m.prototype.pB=function(l,n){this.removeListener(l,n);return this;};m.prototype.once=function(l,n){var q;function p(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}q.removeListener(l,p);n.apply(void 0,k.__spread(t));}q=this;this.addListener(l,p);return this;};m.prototype.WZ=function(l,n){this.subscribe(l);f.prototype.WZ.call(this,l,n);return this;};m.prototype.R$a=function(l,n){var q;function p(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}q.removeListener(l,p);n.apply(void 0,k.__spread(t));}q=this;this.WZ(l,p);return this;};return m;})(r.EventEmitter);b.doa=function(f,m,l,n){return new d(function(p,q){var t,w;w=c(p,n["*"]);p=null !== (t=n[p]) && void 0 !== t?t:[];t=w.concat(p).filter(function(v){return "object" === typeof v;});w=k.__read(p.filter(function(v){return "function" === typeof v;}),1)[0];return t.length?g.Hca(f,q,l,{rules:t,hn:!1,Qla:!0},h.uw.LBa,w):q;},m);};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sfa=void 0;c=a(448);k=a(1062);r=(function(){function h(g,d){var f;f=this;this.f$=g;this.events=c.doa(function(){return f.O$;},this.f$.events,d,k.w$a);}h.prototype.RWa=function(){this.O$=void 0;};h.prototype.Scb=function(g){this.O$=g;};return h;})();b.sfa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QPa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tFa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QLa="PboGenerateScreenshotsCommandSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,k,h,g,d,f;b=a(55);c=a(455);k=a(1079);h=a(453);g=a(269);d=a(1084);f=a(458);a=b(c(["filter"],d,function(m,l){return h(l)?g(function(n,p){m(l[p]) && (n[p]=l[p]);return n;},{},f(l)):k(m,l);}));r.exports=a;},function(r,b,a){var c,k;c=a(456);k=a(1078);r.exports=function(h,g,d){return function(){var f,m;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);m=f.pop();if(!c(m)){for(var l=0;l < h.length;){if("function" === typeof m[h[l]])return m[h[l]].apply(m,f);l+=1;}if(k(m))return g.apply(null,f)(m);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={zb:function(){return this.q1["@@transducer/init"]();},result:function(b){return this.q1["@@transducer/result"](b);}};},function(r,b,a){var c,k,h,g,d;b=a(133);c=a(268);k=a(1085);h=!({toString:null}).propertyIsEnumerable("toString");g=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var m,l,n,p;if(Object(f) !== f)return [];m=[];l=d && k(f);for(n in f){!c(n,f) || l && "length" === n || (m[m.length]=n);}if(h)for(l=g.length - 1;0 <= l;){n=g[l];if(p=c(n,f)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--l;}return m;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,k=a.length,h=Array(k);c < k;){h[c]=b(a[c]);c+=1;}return h;};},function(r,b,a){var c,k,h;c=a(270);k=a(133);b=a(55);h=a(1088);a=b(function(g,d){return 1 === g?k(d):c(g,h(g,[],d));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dHa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eNa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wia="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JS="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uHa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};r.exports={from:function(a,c,k,h){a=new a(c.length);for(var g="function" === typeof k,d=0;d < c.length;++d){a[d]=g?k.call(h,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){var g;g=null !== k && k.apply(this,arguments) || this;g.$n=1536;return g;}c.__extends(h,k);h.Ta=!0;return h;})(a(187).default);b.default=r;a=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="ac-3";return h;})(r);b.vea=a;r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="ec-3";return h;})(r);b.Lfa=r;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(106);r=a(27);h=k.dG;r=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);d.prototype.parse=function(){this.Gc();this.fileSize=this.u.Yd();this.V=this.u.Yd();this.duration=this.u.Yd(!1,!0);this.Cwa=this.u.Yd();this.u.Yd();this.Gwa=this.u.Yd();this.jwa=this.u.xa();this.Dwa=this.u.Yd();this.rqa=this.u.xa();this.u.EB();this.cf={moof:{offset:this.Cwa},sidx:{offset:this.Dwa,size:this.rqa}};this.cf[k.SS]={offset:this.Gwa,size:this.jwa};this.u.offset - this.startOffset <= this.length - 24 && (this.Fwa=this.u.Yd(),this.dwa=this.u.xa(),this.Ewa=this.u.Yd(),this.cwa=this.u.xa(),this.cf[k.Uy]={offset:this.Fwa,size:this.dwa},this.cf[k.Ty]={offset:this.Ewa,size:this.cwa});return !0;};d.Vb=h;d.Ta=!1;return d;})(r.Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(106);a=a(27);k=r.eG;a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){var d,l,n;this.Gc();1 <= this.version && this.u.EB();d=this.u.xa();this.cf={};for(var f=this.startOffset + this.length,m=0;m < d;++m){l=this.u.am();"uuid" === l && (l=this.u.EB());n=this.u.Yd();this.cf[l]={offset:f,size:n};f+=n;}return !0;};g.Vb=k;g.Ta=!1;return g;})(a.Kc);b.default=a;},function(r){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Qk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Qk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);h=a(88);r=(function(g){function d(f,m,l,n,p){l=g.call(this,l,n,p) || this;l.Bma=f;l.Fr=m;l.Za={};return l;}c.__extends(d,g);d.prototype.parse=function(f){var m,l,n,p,q,t;this.offset=0;m=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.xa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=h.Ro(this.xa());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.EB();}if(0 === m.length && this.Fr.cX(p,l,n))break;if(l + n > this.view.byteLength)break;q=this.Bma[p];t=void 0;if(q){if((t=new q(this,p,l,n,m[0]),(m[0] || this).ou(t),t.parse(f)))this.config.CJ && q.Ta?m.unshift(t):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=l + n;for(;m.length && this.offset > m[0].byteOffset + m[0].uo - 8;){t=m.shift();if(!t.Pu(f))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.uo;}if(0 === m.length && this.Fr.sW(p,l,n,t))break;}return !this.Fr.done && (f=this.Fr.endOffset?this.Fr.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,fZ:f}:{done:!0,offset:Math.min(this.Fr.endOffset || Infinity,this.offset)};};d.prototype.ou=function(f){k.Kc.ou(this,f);};return d;})(a(1125).Lia);b.DF=r;},function(r,b,a){var k;function c(h,g){h=g.indexOf(h);-1 !== h && g.splice(h,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(106);r=(function(){function h(g){this.endOffset=g;this.done=!1;}h.prototype.cX=function(){return this.done;};h.prototype.sW=function(g,d,f){return this.done=d + f >= this.endOffset;};return h;})();b.fS=r;r=(function(){function h(g,d,f,m){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === m && (m=!1);this.ki=g;this.hA=d;this.z0=f;this.EZ=m;this.done=!1;this.cf={};}h.prototype.cX=function(g,d,f){-1 !== h.Dsa.indexOf(g) && (this.cf[g]={offset:d,size:f});if(-1 !== this.z0.indexOf(g)){if((this.cf[g]={offset:d,size:f},this.EZ))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.ki && -1 !== this.ki.indexOf(g)?(g=1 < this.ki.length?4096:0,this.endOffset=Math.max(d + f + g,this.endOffset || 0)):-1 !== this.hA.indexOf(g) && (g=this.ki?4096:0,this.endOffset=Math.max(d + f + g,this.endOffset || 0));return this.done;};h.prototype.sW=function(g,d,f,m){var l;l=this;if(-1 !== this.z0.indexOf(g))return this.done=!0;g === k.dG && this.Y_(m.cf);g === k.eG && this.Y_(m.cf);this.ki && c(g,this.ki);c(g,this.hA);return this.ki && 0 === this.ki.length && !this.hA.some(function(n){return l.cf[n];})?this.done=!0:this.done;};h.prototype.Y_=function(g){var d;d=this;this.cf=g;this.endOffset=(this.ki || []).concat(this.hA).reduce(function(f,m){return d.cf[m]?(m=d.cf[m],Math.max(m.offset + (m.size || 4096),f)):f;},this.endOffset || 0);};h.Dsa=["moov","sidx"];return h;})();b.pga=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fHa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uEa="CdnPartitionerSymbol";},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hfa=void 0;k=a(43);c.As=function(){var h;h={};return (h[k.Sd.NF]="mp4a.40.2",h[k.Sd.I2]="mp4a.40.2",h[k.Sd.OF]="mp4a.40.2",h[k.Sd.dz]="mp4a.40.42",h[k.Sd.$R]="ec-3",h[k.Sd.R1]="ec-3",h[k.Sd.aS]="ec-3",h);};b.Hfa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U$b="LogblobBuilderSymbol";b.GS="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HPa="ThroughputTrackerSymbol";b.FPa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CGa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sDa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){p=h.GF.call(this,l,n,k.dk.Audio,p) || this;p.config=l;p.Hj=n;p.type=k.iw.ow;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.f2=void 0;k=a(28);h=a(485);g=a(125);r=a(127);d=a(477);f=a(289);m=new r.rG().format;la(c,h.GF);c.prototype.p0=function(){var l;l=m(c.Qda,g.Md.jjb);return Promise.resolve(this.config().eO && this.Hj.isTypeSupported(l));};c.prototype.As=function(){return d.Hfa.As();};c.prototype.r2a=function(){return this.config().rH;};c.prototype.RW=function(l){return this.config().yWb?Promise.resolve(new f.F3(l,l.map(function(){return {supported:!0};}))):h.GF.prototype.RW.call(this,l);};b.f2=c;c.Qda="audio/mp4;codecs={0};";},function(r,b,a){var k,h,g,d,f;function c(m,l,n,p){this.config=m;this.Hj=l;this.mediaType=n;this.hB=p;this.Gva={};this.Gva[k.dk.Audio]="audio";this.Gva[k.dk.nQa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.GF=void 0;k=a(28);r=a(127);h=a(288);g=a(12);d=a(289);f=new r.rG().format;c.prototype.L2a=function(m){return this.SEb(this.PLb(this.r2a(),m));};c.prototype.AH=function(m){return this.Hj.isTypeSupported(m);};c.prototype.ZJb=function(){return [h.Cg.uea,h.Cg.Ykb,h.Cg.mS];};c.prototype.XOb=function(){this.hr=[];this.Zx=[];this.config().AWb && this.Zx.push(h.Cg.dz);this.config().K9a && this.Zx.push(h.Cg.bHa);this.config().J9a && this.Zx.push(h.Cg.aHa);this.config().I9a && this.Zx.push(h.Cg.nw);this.config().AJ && this.Zx.push(h.Cg.lC);this.config().L9a && this.Zx.push(h.Cg.HC);this.config().H9a && this.Zx.push(h.Cg.El);this.Zx=this.Zx.concat(this.ZJb());!this.config().IGb && this.hr.push(h.Cg.dz);!this.config().OZa && this.hr.push(h.Cg.kjb);!this.config().NZa && this.hr.push(h.Cg.ljb);!this.config().eO && this.hr.push(h.Cg.mjb);!this.config().vGb && this.hr.push(/prk$/);this.config().I9a || this.config().gGb || this.hr.push(h.Cg.nw);this.config().K9a || this.config().iGb || this.hr.push(h.Cg.bHa);this.config().J9a || this.config().rpa || this.hr.push(h.Cg.aHa);this.config().AJ || this.config().cO || this.hr.push(h.Cg.lC);this.config().L9a || this.config().FGb || this.hr.push(h.Cg.HC);this.config().H9a || this.config().bGb || this.hr.push(h.Cg.El);!this.config().DGb && this.hr.push(h.Cg.oT);};c.prototype.PLb=function(m,l){var n;n=g.Ee.hardwareConcurrency && g.Ee.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === l || void 0 === l?void 0:l.je) || !p.restrictToUILabels.includes(l.je))?!1:!0;}).map(function(p){return p.name;});};c.prototype.RW=function(m){var l,n;l=this;n=m.map(function(p){for(var q=pa(l.Zx),t=q.next();!t.done;t=q.next()){if(t.value.test(p))return Promise.resolve({supported:!0});}q=pa(l.hr);for(t=q.next();!t.done;t=q.next()){if(t.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return l.sx(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.F3(m,p);});};c.prototype.sx=function(m){return this.config().rGb?this.hB.sx(m):this.RHb(m);};c.prototype.RHb=function(m){var l;m=this.b_[m];l="";return m?(Array.isArray(m) && (l=1 < m.length?" " + m[1]:"",m=m[0]),m=f("{0}/mp4;codecs={1};{2}",this.Gva[this.mediaType],m,l),this.AH(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.SEb=function(m){this.XOb();return this.RW(m);};Ya.Object.defineProperties(c.prototype,{b_:{configurable:!0,enumerable:!0,get:function(){this.WSa || (this.WSa=this.As());return this.WSa;}}});b.GF=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VJa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZJa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YJa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MNa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.g3="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uKa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GDa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EDa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DDa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YDa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJa="ManifestProviderConfigSymbol";},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zia=void 0;k=a(12);c.q2a=function(){var h;h=k.yw && k.yw.height;return h?1080 <= h?1080:720:720;};b.zia=c;},function(r,b,a){var k;function c(h){this.log=h;}Object.defineProperty(b,"__esModule",{value:!0});b.OS=void 0;k=a(500);c.prototype.lfb=function(h,g){var d,f;d=this;if(!h)return (this.log.warn("There are no media streams for " + g.type + " track - " + g.trackId),[]);f=h.map(function(m){var l,n,p,q,t,w,v,u;u=new k.MediaStream(g,g.type,m.op,m.bitrate,m.$a,m.size,d.iKb(m.urls),m.NH,m.r0a / m.q0a,m.fj,m.lj);u.f2b(m.ubb,m.bza,m.k$a,m.j$a);u.w1b(null !== (l=m.CDb) && void 0 !== l?l:void 0,null !== (n=m.DDb) && void 0 !== n?n:void 0,null !== (p=m.BDb) && void 0 !== p?p:void 0,null !== (q=m.ADb) && void 0 !== q?q:void 0,null !== (t=m.k$a) && void 0 !== t?t:void 0,null !== (w=m.j$a) && void 0 !== w?w:void 0);g.Sl && (u.Sl=g.Sl);m.XH && (u.XH=null !== (v=m.XH) && void 0 !== v?v:void 0);m.NH && (u.Pf=m.NH);return u;});f.sort(function(m,l){return m.bitrate - l.bitrate;});f.forEach(function(m,l){m.lower=f[l - 1];m.Qec=f[l + 1];});return f;};c.prototype.iKb=function(h){return h.reduce(function(g,d){g[d.jp]=d.url;return g;},{});};b.OS=c;},function(r,b,a){var k,h,g;function c(d,f,m,l,n,p,q,t,w,v,u){this.track=d;this.type=f;this.wc=m;this.bitrate=l;this.$a=n;this.size=p;this.Gu=q;this.Pf=t;this.framerate=w;this.fj=v;this.lj=u;this.ph={Type:f,Bitrate:l,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.cjb=b.MediaStream=void 0;k=a(14);h=a(13);g=a(90);c.prototype.toJSON=function(){return this.ph;};c.prototype.f2b=function(d,f,m,l){(0,h.sd)(d) && (0,h.sd)(f) && (this.width=d,this.height=f,(0,h.Ga)(m) && (0,h.Ga)(l) && (this.width=Math.round(m / l * d)),this.ph.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.w1b=function(d,f,m,l,n,p){(0,h.sd)(d) && (0,h.sd)(f) && (0,h.sd)(m) && (0,h.sd)(l) && (this.moa=d,this.i7=f,this.h7=m,this.g7=l);(0,h.sd)(n) && (0,h.sd)(p) && (this.l$a=n,this.m$a=p);};b.MediaStream=c;b.cjb=function(d,f,m,l,n){if(d == k.j3 || d === g.Vi.audio)return f;if(d == k.LS || d === g.Vi.video)return m;if(d == g.Vi.Bda)return l;if(d == g.Vi.ABa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gNa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UPa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OJa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WLa="PboLinksManagerSymbol";b.ULa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GJa="ManifestEnricherSymbol";},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eha="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oFa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,k,h){if(null != h){if(0 < h(c,k))throw a.eYa(c,k);}else if(c.Pl && 0 < c.Pl(k))throw a.eYa(c,k);this.start=c;this.end=k;}Object.defineProperty(b,"__esModule",{value:!0});b.fia=void 0;a.eYa=function(c,k){return new RangeError("end [" + k + "] must be >= start [" + c + "]");};b.fia=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rFa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GLa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wKa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YLa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PCa="AppLogSinkSymbol";},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F;function c(G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V){var K;K=this;this.j=G;this.ya=E;this.Jeb=I;this.jg=N;this.Cva=L;this.Ppa=H;this.ve=Q;this.H7=O;this.Tf=J;this.config=M;this.Ld=P;this.Da=R;this.Ea=S;this.er=U;this.YA=ba;this.hj=na;this.Vu=va;this.jJ=ya;this.Cc=ra;this.wE=V;this.D0=[];this.Nva=this.iE=this.y_=0;this.XN=[];this.Dla=!1;this.fF=function(T){var fa,ia,Ba,Sa,La,Za;ia={};try{ia={playdelaysdk:(0,n.gg)(K.j.yV()),applicationPlaydelay:(0,n.gg)(K.j.Yma()),playdelay:(0,n.gg)(K.j.$ma()),trackid:K.j.Yj,bookmark:(0,n.gg)(K.j.hx || 0),pbnum:K.j.index,endianness:(0,d.n1a)()};K.config().GGb && (ia.transitiontime=K.j.ln,ia.uiplaystarttime=K.j.fb.oR,ia.playbackrequestedat=K.j.gj.ca(p.la),ia.clockgettime=K.getTime(),ia.clockgetpreciseepoch=K.Da.qf.ca(p.la),ia.clockgetpreciseappepoch=K.Ea.WA.ca(p.la),ia.absolutestarttime=K.j.mI(),ia.relativetime=K.j.t2a());K.D8(ia,"startplay");}catch(Wa){K.log.error("error in startplay log fields",Wa);}K.j.Fi && (ia.blocked=K.j.Fi);K.Cc.T3a(ia);(0,y.Ga)(K.j.IVa) && (ia.bookmarkact=(0,n.gg)(K.j.IVa));Ba=K.j.ud.at && K.j.ud.ats?K.j.ud.at - K.j.ud.ats:void 0;Ba && (ia.nccpat=Ba);(Ba=K.j.ud.lr && K.j.ud.lc?K.j.ud.lr - K.j.ud.lc:void 0) && (ia.nccplt=Ba);(Ba=K.j.ud.lc && K.j.ud.lg?K.j.ud.lc - K.j.ud.lg:void 0) && (ia.lct=Ba);(Ba=K.vW()) && (ia.downloadables=Ba);nb._cad_global.device && (0,y.sd)(nb._cad_global.device.W7) && (ia.esnSource=nb._cad_global.device.W7);(0,n.Gd)(ia,K.er,{prefix:"pi_"});K.j.hp && K.j.hp.initBitrate && (ia.initvbitrate=K.j.hp.initBitrate);K.j.hp && K.j.hp.selector && (ia.selector=K.j.hp.selector);ia.fullDlreports=K.ngb;if(K.j.state.value >= x.dc.we)try{Sa=K.j.Au();if(Sa){K.maxBitrate=(0,d.JR)(Sa.map(function(Wa){return Wa.bitrate;}));K.t7a=(0,d.JR)(Sa.map(function(Wa){return Wa.height;}));La=0 < Sa.length?(0,C.Y2a)(function(Wa,Va){return Wa.height === Va.height;},Sa).map(function(Wa){return (0,z.sva)(Wa,function(Va){return Va.bitrate;});}):void 0;ia.maxbitrate=K.maxBitrate;ia.maxresheight=K.t7a;}}catch(Wa){K.log.error("Exception computing max bitrate",Wa);}try{Za=(0,d.xI)();Za && (ia.pdltime=Za);}catch(Wa){}try{(0,n.Gd)(ia,K.j.ud,{prefix:"sm_"});(0,n.Gd)(ia,K.j.t9(),{prefix:"vd_"});}catch(Wa){}T && K.j.Lv && (ia.pssh=K.j.Lv);K.X3a(K.j,ia);ia.avtp=K.KK.eo().nBa;(null === (fa=K.j.Ia) || void 0 === fa?0:fa.NC) && K.U9(ia);if(K.j.tc.value)try{ia.ttTrackFields=K.j.tc.value.ph;}catch(Wa){}K.Cc.P3a(ia,K.j.Ac.value,K.ya);K.Cc.ZO(ia,!0,K.j.Bg.value,K.ya);K.j.ia && (ia.packageId=K.j.ia.Ib.Ip);K.j.ia && K.j.ia.Ib.On && (ia.hasChoiceMap=!0);K.IQb(La);K.HQb();T && (K.hta(ia),K.jta(ia));K.R3a(K.j,ia);K.MI(K.j,ia);K.NI(K.j,ia);K.eE(K.j,ia,K.Dla);K.XX(K.j,ia);K.yOb(K.j,ia);K.ita(ia);K.lta(ia);K.Cc.YO(ia);K.Q3a(ia);K.Cc.V9(ia,K.ya);K.kta(ia);K.Oc(A.fd.fF,T,F.De | F.Yt | F.Ui | F.Zt | F.FF | F.L1 | F.JF | F.Xp,ia);};this.zQ=function(T,fa,ia){fa={playdelay:(0,n.gg)(T),reason:ia,intrplayseq:K.iE - 1,skipped:fa};"repos" === ia && (fa.prstate=!0 === K.j.paused.value?"paused":"playing");K.NI(K.j,fa);K.Oc(A.fd.zQ,!1,F.De | F.Yt | F.Ui,fa);"rebuffer" !== ia && "force_rebuffer" !== ia || K.j.$l.nvb(Number((0,n.gg)(T)));};this.DN=function(T,fa,ia,Ba){T={moff:(0,n.rp)(ia),moffms:(0,n.gg)(ia),vbitrate:fa.bitrate,vbitrateold:T.bitrate,vdlid:fa.wc,vdlidold:T.wc,vheight:fa.height,vheightold:T.height,vwidth:fa.width,vwidthold:T.width,bw:Ba};K.NI(K.j,T);K.eE(K.j,T);K.Oc(A.fd.DN,!1,F.Ui,T);};this.Qya=function(T,fa,ia){T={moff:(0,n.rp)(ia),moffms:(0,n.gg)(ia),vdlidold:T.wc,vbitrateold:T.bitrate};K.NI(K.j,T);K.eE(K.j,T);K.Cc.Tq(T,fa,K.j.Hf.value && K.j.Hf.value.stream);K.Oc(A.fd.cbb,!1,F.Ui,T);};this.Bxa=function(){var T,fa;T={waittime:(0,n.gg)(K.j.t2a()),abortedevent:"startplay",trackid:K.j.Yj,prstate:K.BA(),paustate:K.j.paused.value};K.D8(T,"endplay");K.Vu.IW && (T.eventlist_version=1,T.eventlist=K.jJ.k2a(K.j));K.j.hp && K.j.hp.initBitrate && (T.initvbitrate=K.j.hp.initBitrate);try{fa=(0,d.xI)();fa && (T.pdltime=fa);(0,n.Gd)(T,K.j.ud,{prefix:"sm_"});}catch(ia){}K.cta(T,!0);K.Cc.V9(T,K.ya);K.Cc.ZO(T,!1,K.j.Bg.value,K.ya);K.hta(T);K.Cc.Tq(T,K.j.ef.value,K.j.Ah.value);K.X3a(K.j,T);K.MI(K.j,T);K.XX(K.j,T);K.kta(T);K.jta(T);K.Oc(A.fd.Mba,!1,F.De | F.Ui | F.FF | F.Zt | F.Xp,T);};this.Axa=function(T,fa){T={waittime:(0,n.gg)(T),abortedevent:"resumeplay",resumeplayreason:fa};K.j.hp && K.j.hp.initBitrate && (T.initvbitrate=K.j.hp.initBitrate);K.Cc.Tq(T,K.j.ef.value,K.j.Ah.value);K.XX(K.j,T);K.Oc(A.fd.Mba,!1,F.De | F.Ui | F.Xp,T);};this.IAa=function(T,fa){T={newstate:fa?"Paused":"Playing",oldstate:T?"Paused":"Playing"};K.NI(K.j,T);K.eE(K.j,T);K.Cc.Tq(T,K.j.se.value && K.j.se.value.stream,K.j.Hf.value && K.j.Hf.value.stream);K.Oc(A.fd.Ndb,!1,F.De | F.Ui,T);};this.xta=function(T,fa,ia){var Ba,Sa;T=(0,n.Gd)({vdlid:K.j.ef.value.wc,playingms:T,pausedms:fa,intrplayseq:K.iE++,prstate:K.BA(),paustate:K.j.paused.value},ia);K.D8(T,"intrplay");fa=K.j.Bc[k.Rb.Ya.Nb].value;ia=K.j.Bc[k.Rb.Ya.cc].value;T.cdnid=T.vcdnid=fa && fa.id;T.acdnid=ia && ia.id;T.locid=K.oY && K.oY.Oua;T.loclv=K.oY && K.oY.q6a;T.avtp=K.KK.eo().nBa;T.mediabuffered=null === (Ba=K.j.Wf) || void 0 === Ba?void 0:Ba.I8();if(null === (Sa=K.j.Ia) || void 0 === Sa?0:Sa.NC)(K.cta(T,!0),K.U9(T),K.V3a(T));try{(0,n.Gd)(T,K.j.t9(),{prefix:"vd_"});}catch(La){}K.NI(K.j,T);K.eE(K.j,T);K.Cc.Tq(T,K.j.se.value && K.j.se.value.stream,K.j.Hf.value && K.j.Hf.value.stream);K.Oc(A.fd.xta,!1,F.De | F.Ui,T);};this.sQ=function(T,fa,ia){T={moffold:(0,n.rp)(T),reposseq:K.y_++,prstate:K.BA(),paustate:K.j.paused.value};K.eE(K.j,T);K.Cc.Tq(T,ia && ia.stream,fa && fa.stream);K.Oc(A.fd.sQ,!1,F.De | F.Ui,T);};this.mma=function(){var T,fa,ia,Ba;fa=K.j.Ac.value;ia=K.j.Ah.value.wc;fa=fa?{trackId:fa.trackId,bcp47:fa.Af,downloadableId:ia,rank:fa.bc,chan:fa.channels}:{};ia=K.UA;Ba=null === (T=K.kua) || void 0 === T?void 0:T.wc;T=ia?{trackId:ia.trackId,bcp47:ia.Af,downloadableId:Ba,rank:ia.bc,chan:ia.channels}:{};K.Oc(A.fd.jVa,!1,F.De | F.Ui,{switchdelay:(0,n.gg)(K.getTime() - K.lua),track:fa,oldtrack:T});};this.f0=function(T){K.Oc(A.fd.Adb,!1,F.De | F.Ui,{speedold:Math.floor(1E3 * T.oldValue),speed:Math.floor(1E3 * T.newValue)});};this.fR=function(){K.Oc(A.fd.Q4b,!1,F.De | F.Ui,{track:K.j.tc.value.ph});};this.YB=function(T){var fa,ia;fa=K.j.tc.value;if(T.newValue || fa && fa.Vq() && !fa.Cp()){ia=(T=null !== (ia=T.newValue) && void 0 !== ia?ia:fa)?{trackId:T.trackId,bcp47:T.Af,downloadableId:T.wc,rank:T.bc,isImageBased:T.ol}:{};T=(T=K.zua)?{trackId:T.trackId,bcp47:T.Af,downloadableId:T.wc,rank:T.bc,isImageBased:T.ol}:{};ia={switchdelay:(0,n.gg)(K.getTime() - K.yua),track:ia,oldtrack:T};K.Cc.Tq(ia,K.j.se.value && K.j.se.value.stream,K.j.Hf.value && K.j.Hf.value.stream);K.Oc(A.fd.Veb,!1,F.De | F.Ui,ia);}};this.xq=function(T){K.Oc(A.fd.Dxb,!1,F.De | F.Ui,T.newValue);};this.Ryb=function(T,fa){var ia,Ba;ia=fa.serverid;Ba={locid:fa.location,loclv:fa.locationlv,selocaid:ia,selcdnid:ia,selocaname:fa.servername};Ba.mediatype=fa.mediatype;Ba.selreason=fa.selreason || "unknown";Ba.seldetail=fa.seldetail;Ba.cdnbwdata=JSON.stringify([{id:ia}]);T && (Ba.oldlocid=T.Oua,Ba.oldloclv=T.q6a,Ba.oldocaid=T.n1b,Ba.oldocaname=T.nK);K.Oc(A.fd.uWa,!1,F.L1,Ba);};this.eZa=function(){var T,fa,ia;if(K.j.Yh)try{T=!1;K.ngb || (T=!0,K.XN=K.XN.filter(function(Ba){return !Ba.da;}));if(0 < K.XN.length){fa=K.H7.construct(K.XN,K.j.gj.ca(p.la));K.XN=[];fa.erroronly=T;ia={};(0,n.Rg)(fa,function(Ba,Sa){ia[Ba]=JSON.stringify(Sa);});K.Oc(A.fd.lFb,!1,F.Ui,ia);}}catch(Ba){K.log.error("Exception in dlreport.",Ba);}};this.BA=function(){var T;T=K.j.Eb.value;return T === x.jb.Rc?"playing":T === x.jb.xh?"paused":T === x.jb.Or?"ended":"waiting";};this.yE=function(){var T,fa,ia;if(K.j.state.value == x.dc.we){ia=K.MZ();K.config().Wya && (ia.avtp=K.KK.eo().nBa,(null === (T=K.j.Ia) || void 0 === T?0:T.NC) && K.U9(ia));ia.mediabuffered=null === (fa=K.j.Wf) || void 0 === fa?void 0:fa.I8();ia.midplayseq=K.Nva++;ia.prstate=K.BA();ia.paustate=K.j.paused.value;K.config().k1b && K.heb("midplay");K.config().Iv && K.mta(ia);K.ita(ia);K.lta(ia);K.Cc.YO(ia);K.Oc(A.fd.yE,!1,F.De | F.Ui | F.FF | F.Zt,ia);}};this.heb=function(T){var fa,ia;fa={};fa.trigger=T;try{ia=K.j.Gra();fa.subtitleqoescore=K.j.Gr.vMb(ia);fa.metrics=JSON.stringify(K.j.Gr.dsa(ia));}catch(Ba){K.log.error("error getting subtitle qoe data",Ba);}K.Oc(A.fd.V3b,!1,F.De | F.FF | F.Yt,fa);};this.transition=function(T){K.eE(K.j,T);K.XX(K.j,T);K.Oc(A.fd.transition,!1,0,T);};this.bI=function(T){var fa,ia,Ba,Sa,La,Za,Wa;ia=K.MZ();K.D8(ia,"endplay");ia.prstate=K.BA();ia.paustate=K.j.paused.value;ia.muted=K.j.muted.value;K.j.$B && "downloaded" === K.j.$B.NO() && (ia.trickplay_ms=K.j.O0.offset,ia.trickplay_res=K.j.O0.tbb);K.config().vgb && (ia.rtinfo=K.j.aMb());K.config().Wya && (null === (fa=K.j.Ia) || void 0 === fa?0:fa.NC) && K.U9(ia);ia.endreason=T?"error":K.j.Eb.value === x.jb.Or?"ended":"stopped";(fa=K.er) && (0,n.Gd)(ia,fa,{prefix:"pi_"});try{(0,n.Gd)(ia,K.j.ud,{prefix:"sm_"});}catch(wb){}K.j.bta && (ia.inactivityTime=K.j.bta);K.cta(ia,T);K.V3a(ia);if(K.j.F6){fa=K.j.F6;Ba=K.config().sN;Sa=K.j.loadTime;La={iv:Ba,seg:[]};Za=function(wb,da,ua){return 0 === da || void 0 === ua[da - 1]?wb:wb - ua[da - 1];};Wa=fa.cV.map(Za);Za=fa.e1.map(Za);for(var Va,cb=0;cb < Wa.length;cb++){if(Wa[cb] || Za[cb])Va?(Va.ams.push(Wa[cb]),Va.vms.push(Za[cb])):Va={ams:[fa.cV[cb]],vms:[fa.e1[cb]],soffms:fa.startTime + cb * Ba - Sa};cb !== Wa.length - 1 && Wa[cb] && Za[cb] || !Va || (La.seg.push(Va),Va=void 0);}ia.bt=JSON.stringify(La);}T && (K.hta(ia),K.jta(ia));K.heb("endplay");K.config().Iv && K.mta(ia);K.Cc.ZO(ia,!1,K.j.Bg.value,K.ya);K.R3a(K.j,ia);K.MI(K.j,ia);K.NI(K.j,ia);K.eE(K.j,ia,K.Dla);K.XX(K.j,ia);K.ita(ia);K.lta(ia);K.Cc.YO(ia);K.zOb(ia);K.Q3a(ia);K.BOb(ia);K.AOb(ia);K.DOb(ia);K.kta(ia);K.EOb(ia);K.Oc(A.fd.bI,T,F.De | F.Yt | F.Ui | F.FF | F.Zt | F.JF | F.Xp,ia);};this.sFb=function(T){K.XN.push(K.H7.LAb(T.response));};this.cpa=function(T){var fa,ia,Ba,Sa,La,Za;T=T.response;fa=T.request;ia=T.request.iB;Ba=fa.track;if(Ba){Sa=!T.da && T.wa != q.O.sC;La=Ba.type;Za=T.Yl;if(Sa || K.ya.Tua){ia={dltype:La,url1:fa.url,url2:T.url || "",cdnid:fa.Bc && fa.Bc.id,tresp:(0,n.gg)(Za.Oi - Za.sr),brecv:(0,n.i0a)(Za.QV),trecv:(0,n.gg)(Za.Mp - Za.Oi),sbr:ia && ia.bitrate};T.qt && (ia.range=T.qt);switch(La){case f.Vi.audio:ia.adlid=fa.stream.wc;break;case f.Vi.video:ia.vdlid=fa.stream.wc;break;case f.Vi.Bda:ia.ttdlid=Ba.wc;}(fa=(0,B.Dra)(T.wa)) && (ia.nwerr=fa);T.kl && (ia.httperr=T.kl);K.Oc(A.fd.cpa,Sa,F.Ui,ia);}}};this.Fi=function(){K.Oc(A.fd.FVa,!1,F.De | F.FF | F.Xp,{});};this.bAb=function(T){var fa,ia;fa=T.response.Yl;T=(0,p.Sc)(fa.Oi);ia=(0,p.Sc)(fa.Mp);fa=(0,t.aa)(fa.QV || 0);fa.o5a() || fa.Mta() || (T=new w.fia(T,ia),K.KK.gvb(new v.xFa(T,fa)));};this.Cba=function(T){var fa;fa=T.newValue;T.Jm && T.Jm.qwa && fa || fa == K.YI || (K.IAa(K.YI,fa),K.YI=fa);};this.Qz=function(T){function fa(ia){var Ba;if(K.j.Yb && K.j.Yb.sourceBuffers){Ba=K.j.Yb.sourceBuffers.filter(function(Sa){return Sa.type === ia;}).pop();if(Ba)return {busy:Ba.bi(),updating:Ba.updating(),ranges:Ba.J8()};}}T={cause:T.cause};T.cause && T.cause === g.Kha && (T.mediaTime=K.j.mediaTime.value,T.buf_audio=fa(h.j3),T.buf_video=fa(h.LS));K.xta(K.D0[x.jb.Rc] || 0,K.D0[x.jb.xh] || 0,T);};this.hfb=function(T){var fa;T=T.oldValue;fa=K.getTime();T === x.jb.cg?K.D0=[]:K.D0[T]=(K.D0[T] || 0) + (fa - K.UQb);K.UQb=fa;};this.zm=function(T){K.lua=K.getTime();K.UA=T.oldValue;};this.fm=function(T){K.yua=K.getTime();K.zua=T.oldValue;};this.fV=function(T){K.kua=T.oldValue;};this.BY=function(T){function fa(ia,Ba){var Sa;if(!ia || ia.Oua !== Ba.location){Sa={Oua:Ba.location,q6a:Ba.locationlv,n1b:Ba.serverid,nK:Ba.servername};K.Ryb(ia,Ba);return Sa;}}if("audio" === T.mediatype){if(T=fa(K.OQb,T))K.OQb=T;}else if(T=fa(K.oY,T))K.oY=T;};this.S_=function(T){var fa,ia;fa=T.mediatype;ia=T.reason;"video" === fa?"serverswitchaway" === ia?(K.Xj.summary.Tgb++,K.Xj.R$=K.Da.qf.ca(p.la)):"serverswitchback" === ia && (K.Xj.summary.Ugb++,K.Xj.R$ && (K.Xj.summary.Vgb.push(K.Da.qf.ca(p.la) - K.Xj.R$),K.Xj.R$=void 0)):"audio" === fa && ("serverswitchaway" === ia?(K.Xj.summary.YUa++,K.Xj.K$=K.Da.qf.ca(p.la)):"serverswitchback" === ia && (K.Xj.summary.ZUa++,K.Xj.K$ && (K.Xj.summary.$Ua.push(K.Da.qf.ca(p.la) - K.Xj.K$),K.Xj.K$=void 0)));K.Oc(A.fd.p1b,!1,F.De | F.Ui,{mediatype:T.mediatype,server:T.server,selreason:T.reason,location:T.location,bitrate:T.bitrate,confidence:T.confidence,throughput:T.throughput,oldserver:T.oldserver});};this.kN=function(T){K.Oc(A.fd.xwb,!1,F.Ui,{strmsel:T.strmsel});};this.$Q=function(T){T=Object.assign({},T);T.details && (T.details=JSON.stringify(T.details));K.Oc(A.fd.U3b,!0,F.De | F.Yt | F.L1,T);};this.Dla=na.eCa || na.aea || na.g0a;this.KK=I();this.log=(0,m.Ii)(G,"LogblobBuilder");this.YI=G.paused.value;this.ea=this.ya.ea;this.Xj={summary:{Tgb:0,Ugb:0,Vgb:[],YUa:0,ZUa:0,$Ua:[]},R$:void 0,K$:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.HS=void 0;k=a(36);h=a(14);g=a(63);d=a(44);f=a(90);m=a(8);l=a(24);n=a(25);p=a(5);q=a(3);t=a(53);w=a(509);v=a(1216);u=a(12);x=a(18);y=a(13);z=a(1217);A=a(285);B=a(191);D=a(136);C=a(105);c.prototype.X3a=function(G,E){var I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra;if(this.config().Iv)try{I={};N=this.Ld.getStats(void 0,void 0,G.K);L=G.mI();H=N.JK.lAb || [];I.attempts=N.Xba || 0;I.num_completed_tasks=H.length;Q=this.ve.NHb;O={};J=D.Vk.aR;M=D.Vk.Ou;P=D.Vk.gna;N.Ul && (O.scheduled=N.Ul - L);R=G.ia;R && (0,y.Ga)(R.VJ) && (O.preauthsent=R.VJ - G.loadTime,O.preauthreceived=R.vQ - G.loadTime);S=H.filter(function(V){return "manifest" === V.type;});I.mf_succ=S.filter(Q("status",J)).length;I.mf_fail=S.filter(Q("status",M)).length;U=G.ud;(0,y.sd)(U.lg) && 0 > U.lg && G.loadTime && (O.ldlsent=U.lc,O.ldlreceived=U.lr);ba=H.filter(function(V){return "ldl" === V.type;});I.ldl_succ=ba.filter(Q("status",J)).length;I.ldl_fail=ba.filter(Q("status",M)).length;N=!0;L=[];"notcached" === G.yH && (N=!1,L.push("Missing cached manifest"));this.config().HW || (N=!1,L.push("LDL prefetch disabled"));na=ba.filter(Q("status",P)).length;this.config().HW && 0 === na && (!O.ldlreceived || 0 <= O.ldlreceived) && (N=!1,L.push("LDL received after start"));if(this.config().VZa)if(E.isPrefetchItem){va=E.prefetchedAudioMs / E.bcABufferLevelMs;if(1 > E.prefetchedVideoMs / E.bcVBufferLevelMs || 1 > va)(N=!1,L.push("Insufficient media fetched"));}else (N=!1,L.push("aseStats not initialized"));ya=H.filter(function(V){return "getHeaders" === V.type;});I.header_succ=ya.filter(Q("status",J)).length;I.header_fail=ya.filter(Q("status",M)).length;ra=H.filter(function(V){return "getMedia" === V.type;});I.media_succ=ra.filter(Q("status",J)).length;I.media_fail=ra.filter(Q("status",M)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,n.Gd)(E,I,{prefix:"pr_"});this.Vu.IW && (E.eventlist_version=1,E.eventlist=this.jJ.k2a(G));(E.prefetchCompleted=N) || (E.prefetchFailed=L,(0,n.Gd)(E,O,{prefix:"pe_"}));this.mta(E);}catch(V){this.log.warn("error in collecting video prepare data",V);}};c.prototype.gMb=function(G,E){if(G=G.iX())if(E=G[E])return E.sa;};c.prototype.R3a=function(G,E){G.fb.ci && (E.isBranching=!0);};c.prototype.MI=function(G,E){var I,N;N=(null === (I=G.ia) || void 0 === I?void 0:I.Q4a) || "videopreparer" === G.xH;E.cachedManifest=G.yH;E.cachedLicense=G.xH;E.usedldl=this.config().HW?N.toString():"not_capable";};c.prototype.NI=function(G,E){var I,N;if(this.config().COb){I=G.Hra();N=G.ka.ia;I && N && (E.segment=I,N=G.UD(),E.segmenttime=N,G=this.gMb(G,I),null !== N && void 0 !== G && (E.segmentoffset=N - G));}};c.prototype.eE=function(G,E,I){E.pxid=G.Sba;(void 0 === I?0:I) && (E.playgraph_trace=G.D$a);};c.prototype.XX=function(G,E){E.hasContentPlaygraph=G.TO();};c.prototype.yOb=function(G,E){var I,N;if(G.TO()){I=G.BD;N=G.ia.Ib.Gm.ja;E.auxViewables=Object.keys(N.P).map(function(L){return N.P[L].N;}).filter(function(L,H,Q){return L !== I && Q.indexOf(L) === H;});}};c.prototype.V3a=function(G){var E,I;E=this.j.Rec;I=E && E.Ogc;E && E.eOb && (G.htwbr=E.eOb,G.pbtwbr=E.mxa,G.hptwbr=E.Tec);E && E.t0b && (G.rr=E.t0b,G.ra=E.Igc);E && I && 0 < (I.length || 0) && (G.qe=JSON.stringify(I));};c.prototype.hta=function(G){var E,I,N;try{E=this.ve.createElement("canvas");I=E.getContext("webgl") || E.getContext("experimental-webgl");if(I){N=I.getExtension("WEBGL_debug_renderer_info");N && (G.WebGLRenderer=I.getParameter(N.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=I.getParameter(N.UNMASKED_VENDOR_WEBGL));}}catch(L){}};c.prototype.DOb=function(G){G.switchAwaySummary={vsa:this.Xj.summary.Tgb,vsb:this.Xj.summary.Ugb,vsbt:this.Xj.summary.Vgb,asa:this.Xj.summary.YUa,asb:this.Xj.summary.ZUa,asbt:this.Xj.summary.$Ua};};c.prototype.Jqb=function(G){var E;E=[];return G?Object.keys(G).map(function(I){return +I;}):E;};c.prototype.vW=function(){var G,E;G=this;if(this.j.Vp && this.j.aj){E=[];this.j.Vp.concat(this.j.aj).forEach(function(I){I.streams.forEach(function(N){E.push({dlid:N.wc,type:N.type,bitrate:N.bitrate,vmaf:N.$a,cdn_ids:G.Jqb(N.Gu)});});});return JSON.stringify(E);}};c.prototype.Qyb=function(){var E,I,N;function G(L,H){var Q,O,J;Q=L.cdnId + "$" + L.correlationId;O=N[Q];O || (O={cdnid:L.cdnId,pbcid:L.correlationId,dls:[]},N[Q]=O,I.push(O));(0,l.PN)(L.bitrate);(0,l.PN)(L.duration);Q={bitrate:L.bitrate,tm:(0,u.wn)(L.duration)};J=L.vmaf;J && ((0,l.PN)(L.vmaf),Q.vf=J);Q[H]=(0,n.Mj)(L.downloadableId);O.dls.push(Q);}E=this.j.$l.sJb();I=[];N={};E.audio.forEach(function(L){G(L,"adlid");});E.video.forEach(function(L){G(L,"dlid");});return JSON.stringify(I);};c.prototype.MZ=function(){var G,E,I,N,L,H,Q,O,J,M,P,R,S;G=this.j.$l;E={totaltime:(0,n.rp)(G.Ax()),totalcontenttime:(0,n.rp)(G.HX()),cdndldist:this.Qyb(),reposcount:this.y_,intrplaycount:this.iE};try{I={numskip:0,numlowqual:0};N=this.j.Wf;L=N.wA();(0,y.Ga)(L) && (E.totfr=L,I.numren=L);L=N.pI();(0,y.Ga)(L) && (E.totdfr=L,I.numrendrop=L);L=N.lX();(0,y.Ga)(L) && (E.totcfr=L,I.numrenerr=L);E.playqualvideo=JSON.stringify(I);H=this.j.ef.value;H && (E.videofr=H.framerate.toFixed(3));Q=G.Oqa();Q && (E.abrdel=Q);O=G.J9() && G.H0a();O && (E.tw_vmaf=O);J=G.F0a();J && (0,n.Gd)(E,J);E.rbfrs=this.iE;E.maxbitrate=this.maxBitrate;E.maxresheight=this.t7a;M=this.j.zI();for(G=0;G < M.length;G++){P=M[G];R=this.ya.zP.iy(P);if(R){(0,l.sb)(S);E.maxbitrate=S?S.bitrate:0;E.maxresheight=S?S.height:0;E.bitratefilters=R.join("|");break;}S=P;}this.j.$B && (E.trickplay=this.j.$B.NO());null !== this.j.Gr.uVa && (E.avg_subt_delay=this.j.Gr.uVa);}catch(U){this.log.error("Exception reading some of the endplay fields",U);}(0,n.Gd)(E,this.j.t9(),{prefix:"vd_"});return E;};c.prototype.getTime=function(){return this.Ea.Xb().ca(p.la);};c.prototype.Vra=function(){return this.getTime() - this.ya.gj.ca(p.la);};c.prototype.mta=function(G){var E;try{E=this.Ld.getStats();G.pr_cache_size=JSON.stringify(E.cache);G.pr_stats=JSON.stringify(E.ZIb);}catch(I){}};c.prototype.ita=function(G){this.log.debug("httpstats",this.Tf.ac);(0,n.Gd)(G,this.Tf.ac,{prefix:"http_"});};c.prototype.cta=function(G,E){var I,N,L;I=this.config().zYa && !(this.ea % this.config().zYa);N=this.j.Ia;L=null === N || void 0 === N?void 0:N.Bi;I && L && (G.ASEstats=JSON.stringify(N.g$(E)));};c.prototype.U9=function(G){Object.assign(G,this.j.Ia.$b.CMb());};c.prototype.lta=function(G){var E;try{E=u.xw.memory;(0,y.m5a)(E) && (G.totalJSHeapSize=E.totalJSHeapSize,G.usedJSHeapSize=E.usedJSHeapSize,G.jsHeapSizeLimit=E.jsHeapSizeLimit);}catch(I){}};c.prototype.Q3a=function(G){var E;try{if(this.config().BV){E=this.j.BJb();G.battery=E;this.log.trace("batterystatuses",E);}}catch(I){}};c.prototype.zOb=function(G){this.j.p7 && (G.dqec=this.j.p7);};c.prototype.kta=function(G){var E,I,N;(null === (E=this.j.Le) || void 0 === E?0:E.tX)?G.keysys=this.j.Le.tX():(null === (N=null === (I=this.j.Le) || void 0 === I?void 0:I.mediaKeys) || void 0 === N?0:N.keySystem)?G.keysys=this.j.Le.mediaKeys.keySystem:this.wE.E5a && (G.keysys=this.wE.E5a);};c.prototype.jta=function(G){var E;if(null === (E=this.j.Le) || void 0 === E?0:E.F1a)G.keystatus=this.j.Le.jua;};c.prototype.AOb=function(G){this.Opa && (G.externaldisplay=this.Opa.pO);};c.prototype.BOb=function(G){var E,I;if(this.jCa){E=this.jCa.map(function(N){return N.Uc;}).filter(function(N){return void 0 !== N;});I=(0,z.sva)(E,function(N){return N.height;});I && (G.media_capabilities_smooth=I.smooth,G.media_capabilities_efficient=I.powerEfficient,G.media_capabilities_bitrate=I.bitrate,G.media_capabilities_height=I.height,G.media_capabilities_width=I.width);G.media_capabilities=E.map(function(N){return {smooth:N.smooth,efficient:N.powerEfficient,bitrate:N.bitrate,height:N.height,width:N.width};});}};c.prototype.EOb=function(G){G.didHydrateTracks=this.j.B7;};c.prototype.HQb=function(){void 0 === this.Opa && (this.Opa=this.Ppa.FHb());};c.prototype.IQb=function(G){var E;E=this;void 0 === this.jCa && void 0 !== G && (this.jCa=G.map(function(I){return E.Cva.Upa(I);}));};c.prototype.D8=function(G,E){(E=this.j.zA(E)) && Object.entries(E).forEach(function(I){var N;N=pa(I);I=N.next().value;N=N.next().value;G[I]=N;});};c.prototype.Oc=function(G,E,I,N){var L,H;H=E?"error":"info";E && this.j.Hi && (0,q.Sfa)(this.j.Hi.errorCode,this.j.Hi.wa,this.Vra(),null === (L=this.j.Wf) || void 0 === L?void 0:L.wA()) && (H="info");this.sla(N,this.j,E,I);G=this.YA.Bu(G,H,N,this.ya);this.jg.Oc(G);};c.prototype.sla=function(G,E,I,N){var L,H,Q,O,J;this.Cc.xOb(G,E);this.Cc.S3a(G,E);N & F.De && ((0,l.sb)(!G || void 0 === G.moff),this.Cc.W3a(G,E));N & F.Yt && this.Cc.Y3a(G,E);N & F.Ui && (null === (L=E.Ia) || void 0 === L?0:L.Bi) && (G.abuflbytes=null !== (H=G.abuflbytes) && void 0 !== H?H:E.hma(),G.abuflmsec=null !== (Q=G.abuflmsec) && void 0 !== Q?Q:E.aV(),G.vbuflbytes=null !== (O=G.vbuflbytes) && void 0 !== O?O:E.iCa(),G.vbuflmsec=null !== (J=G.vbuflmsec) && void 0 !== J?J:E.b1());N & F.Zt && this.Cc.Z3a(G,E.xo);N & F.FF && (L=u.Ee.hardwareConcurrency,0 <= L && (G.numcores=L),L=this.ya.kpa) && (H=L.Pqa(),G.droppedFrames=JSON.stringify(H),L=L.vI(this.config().NFb),(0,n.Rg)(L,function(M,P){G["droppedFramesP" + M]=JSON.stringify(P);}));if(N & F.L1)try{E.Yh && (G.cdninfo=JSON.stringify(E.Yh.map(function(M){return {id:M.id,nm:M.name,rk:M.bc,wt:M.location.weight,lv:M.location.level};})));}catch(M){}I && N & F.JF && ((0,l.sb)(E.Hi),this.Cc.U3a(G,E,E.Hi));N & F.Xp && this.Cc.gta(G);};Ya.Object.defineProperties(c.prototype,{ngb:{configurable:!0,enumerable:!0,get:function(){return this.j.mA || this.j.bO;}}});b.HS=c;(function(G){G[G.De=1]="MOFF";G[G.Yt=2]="PRESENTEDSTREAMS";G[G.Ui=4]="BUFFER";G[G.Zt=8]="SCREEN";G[G.FF=16]="CPU";G[G.L1=32]="CDN";G[G.JF=64]="FATALERROR";G[G.Xp=128]="BROWSERINFO";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zFa="DownloadReportBuilderSymbol";},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;r=a(2);k=a(191);h=a(90);g=a(25);d=a(3);f=a(24);m=a(12);l=a(13);n=a(0);a=a(11);c.prototype.construct=function(q,t){var w,v,u;w=this;v={};q.forEach(function(x){var y;y=x.url;v[y] || (v[y]=[]);v[y].push(x);});u=[];(0,g.Rg)(v,function(x,y){u.push(w.JMb(y,t));});return {urls:u};};c.prototype.JMb=function(q,t){var w,v,u,x;w=this;v=q[0];u={url:v.url,bitrate:v.bitrate,cdnid:(0,l.Bj)(v.Bc)?v.Bc.id:v.Bc,dltype:v.nFb,id:v.wc};x={};q.forEach(function(y){var z;z=w.CPb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,g.Rg)(x,function(y,z){"fail" === y?u.failures=w.sKb(z,t):"success" === y && (u.downloads=w.kKb(z,t));});return u;};c.prototype.kKb=function(q,t){var w,v,u;w=this;v={};q.forEach(function(x){var y;y=x.Szb;v[y] || (v[y]=[]);v[y].push(x);});u=[];(0,g.Rg)(v,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);w.mPb(A) && (u.push(w.f1a(z,t,x)),z=[]);});0 < z.length && u.push(w.f1a(z,t,x));});return u;};c.prototype.f1a=function(q,t,w){var v,u,x,y,A;v=q.sort(function(B,D){return B.Yl.Oi < D.Yl.Oi?-1:B.Yl.Oi > D.Yl.Oi?1:0;});u=v[0].Yl;x=u.sr;y=u.Oi;u=u.Mp;for(var z=1;z < q.length;z++){A=q[z].Yl;A.sr < x && (x=A.sr);A.Oi < y && (y=A.Oi);A.Mp > u && (u=A.Mp);}z=this.TLb(v);A=v[v.length - 1];return {time:x - t,tcpid:w?parseInt(w):-1,tresp:y - x,first:z,ranges:this.ULb(v,z),dur:u - y,trace:this.WD(q),status:this.NO(A)};};c.prototype.TLb=function(q){var t;t=0;q.forEach(function(w){w.qt && (t=(0,m.Ry)(t,w.qt[0]));});return t;};c.prototype.ULb=function(q,t){var w;w=[];q.forEach(function(v){v.qt?w.push([v.qt[0] - t,v.qt[1] - t]):w.push([0,-1]);});return w;};c.prototype.WD=function(q){var t,w;t=[];q.forEach(function(v){var u;v=v.Yl;if(w){u=v.sr - w.Mp;0 < u && t.push([u,-2]);u=(0,m.Wt)(w.Mp,v.sr);u=v.Oi - u;0 < u && t.push([u,-3]);}t.push([v.Mp - v.Oi,v.QV || 0]);w=v;});return t;};c.prototype.mPb=function(q){if(q.wa === d.O.sC || q.wa === d.O.PF)return !0;};c.prototype.NO=function(q){if(q.da)return "complete";if(q.wa === d.O.sC)return "abort";if(q.wa === d.O.PF)return "stall";(0,f.sb)(!1,"download status should never be: other");return "other";};c.prototype.sKb=function(q,t){var w,v;w=this;v=[];q.forEach(function(u){var x;x=u.Yl;u={time:x.Oi - t,tresp:x.Oi - x.sr,dur:x.Mp - x.Oi,range:u.qt,reason:w.WLb(u),httpcode:u.kl,nwerr:(0,k.Dra)(u.wa)};v.push(u);});return v;};c.prototype.WLb=function(q){return q.kl || q.wa === d.O.wS?"http":q.wa === d.O.yS?"timeout":"network";};c.prototype.CPb=function(q){return q.da || void 0 === q.da || q.wa === d.O.sC || q.wa === d.O.PF?!1:!0;};c.prototype.LAb=function(q){var t,w,v,u,x,y;t=q.request;w=t.stream;v=t.track;u=t.url;x=this.hKb(v,u);switch(x){case h.Vi.audio:case h.Vi.video:y=t.stream.wc;break;case h.Vi.Bda:case h.Vi.ABa:y=v.wc;}q={bitrate:w && w.bitrate,nFb:x,wc:y,Yl:q.Yl,Bc:t.Bc,url:u,Df:q.Df,kl:q.kl,wa:q.wa,da:q.da,Szb:this.rHb(q)};void 0 !== t.offset && void 0 != t.length && (q.qt=[t.offset,t.offset + t.length - 1]);return q;};c.prototype.hKb=function(q,t){if(q)return q.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.rHb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?(0,g.Mj)(q):q;};p=c;p=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(a.Wc))],p);b.yFa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JS="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JQa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QKa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PKa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KGa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DHa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CLa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,f,m,l,n,p;function c(q){var t;q=new m.dS(q);if(1481462272 != q.nr())throw Error("Invalid header");t={XMR:{Version:q.nr(),RightsID:q.cy(16)}};k(q,t.XMR,q.buffer.length);return t;}function k(q,t,w){var v,u,x,y,z;for(;q.position < w;){v=q.Jh();u=q.nr();u-=8;switch(v){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:h(v)};z=t[x];z?(0,p.isArray)(z)?z.push(y):(t[x]=[],t[x].push(z),t[x].push(y)):t[x]=y;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:k(q,y,q.position + u);break;case 5:y.Reserved1=q.Jh();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Jh();y.MinimumAnalogVideoOutputProtectionLevel=q.Jh();y.Reserved2=q.Jh();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Jh();break;case 10:y.Reserved=q.cy(16);y.SymmetricCipherType=q.Jh();y.AsymmetricCipherType=q.Jh();u=q.Jh();y.EncryptedKeyLength=u;v=q.cy(u);y.EncryptedKeyData=10 >= u?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:y.SignatureType=q.cy(2);u=q.Jh();v=q.cy(u);y.SignatureData=10 >= u?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:y.Reserved=q.Jh();break;case 18:y.BeginDate=q.nr();y.EndDate=q.nr();break;case 42:y.CurveType=q.cy(2);u=q.Jh();v=q.cy(u);y.Key=10 >= u?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:y.ExpireAfterFirstPlay=q.nr();break;case 50:y.Sequence=q.nr();break;case 51:y.LicenseProcessingIndicator=q.Jh();break;case 52:y.MinimumSecurityLevel=q.Jh();break;case 57:y.PlayEnablerType=g(q.cy(16));break;case 85:break;default:y.OtherData=q.cy(u);}}}function h(q){return "0x" + q.toString(16);}function g(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.XDb=b.YDb=b.WDb=b.VDb=b.UDb=void 0;d=a(14);f=a(8);m=a(169);l=a(193);n=a(528);p=a(13);b.UDb=function(q,t,w){switch(t){case d.j2:q && (q=(0,f.yVa)(q),(0,n.hhb)(q,function(v){v.da && (v=v.object) && (v=(0,l.c1a)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,l.U9a)(v)) && (v=(0,f.us)(v)) && (v=c(v)) && w(v);}));}};b.VDb=c;b.WDb=k;b.YDb=h;b.XDb=g;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});b.hhb=void 0;c=a(8);k=a(3);h=a(529);g=a(530);d=a(60);b.hhb=function(f,m){var l,n;try{n=(0,h.ihb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.fg)(function(){if(n && n.documentElement)try{l=(0,g.jhb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.fg)(function(){l?m({da:!0,object:l}):m({da:!1,wa:k.O.Nkb});});});};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ihb=void 0;c=a(8);k=a(13);b.ihb=function(h){var g,d;if((0,k.lP)(h)){g=new DOMParser().parseFromString(h,"text/xml");d=g.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:h.slice(0,300),fileSize:h.length});}catch(f){}throw Error("xml parser error");}return g;}throw Error("bad xml text");};},function(r,b,a){var k;function c(h){var g,d,f,m,l,n,p;d={};d[k.zCa]=h.localName;f={};d[k.r1]=f;m=[];d[k.ehb]=m;l=h.attributes;n=l.length;for(g=0;g < n;g++){p=l[g];f[p.localName]=p.value;}h=h.childNodes;n=h.length;f={};for(g=0;g < n;g++){switch((l=h[g],l.nodeType)){case b.mhb:l=c(l);p=l[k.zCa];l[k.fhb]=d;m.push(l);d[p]?f[p][k.ghb]=l:d[p]=l;f[p]=l;break;case b.nhb:case b.khb:(l=l.text || l.nodeValue,m.push(l),d[k.zy] || (d[k.zy]=l));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.lhb=b.khb=b.nhb=b.X7b=b.mhb=b.Y7b=b.jhb=void 0;k=a(193);b.jhb=function(h){return c(h.nodeType == b.lhb?h.documentElement:h);};b.Y7b=c;b.mhb=1;b.X7b=2;b.nhb=3;b.khb=4;b.lhb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pMa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SLa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ILa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YMa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zha={mY:"keepAlive",splice:"splice"};b.OLa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iMa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QFa="DxManagerSymbol";b.PFa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FQa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BMa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JNa="PreparerManifestFetcherSymbol";b.INa="PreparerLicenseFetcherSymbol";b.HNa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var k,h,g,d;function c(f){this.Zm=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Wha=b.wNa=void 0;r=a(2);k=a(19);h=a(0);g=a(122);d=a(51);c.prototype.U6a=function(f){var m,l;m=this;if(f.$d.key.ja)return Promise.resolve(f.$d.key.ja);l=f.$d.key.N;return f.$d.nj.bo(l).Jr.then(function(n){n=n.ia;return n.On?(0,d.Wz)(n.On,{config:k.config}):(0,d.bF)(l,m.Zm.Is(l));});};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.NL))],a);b.wNa=a;b.Wha="PlaygraphResolverSymbol";},function(r,b){function a(c){this.qma=void 0 === c?function(){}:c;this.wF=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Nia=void 0;a.prototype.store=function(c,k){c=this.generateKey(c);this.wF.has(c) && this.M8a(this.wF.get(c),!0);this.wF.set(c,k);};a.prototype.bo=function(c,k){var h,g,d;d=null === (h=null === k || void 0 === k?void 0:k.mV) || void 0 === h?void 0:h.xj;h=null === (g=null === k || void 0 === k?void 0:k.mV) || void 0 === g?void 0:g.BJ;g={N:c,xj:d};h && !this.has(g) && this.qma(c,k);return this.get(g);};a.prototype.has=function(c){c=this.generateKey(c);return this.wF.has(c) && !this.wF.get(c).Ku;};a.prototype.clear=function(){var c;c=this;this.wF.forEach(function(k){c.M8a(k,!1);});this.wF.clear();};a.prototype.get=function(c){return this.wF.get(this.generateKey(c));};a.prototype.generateKey=function(c){var k;k=c.xj;return c.N.toString() + (k?":" + k:"");};a.prototype.M8a=function(c,k){var h;null === (h=c.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});c.neb=k;};b.Nia=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dKa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fLa="OpenConnectSideChannelSymbol";b.nKa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lKa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MLa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TPa="TransportFactorySymbol";b.FKa="MslTransportSymbol";b.$Oa="SslTransportSymbol";},function(r,b,a){var m,l;function c(n){return !(!n || !n.JE && !n.pboc || !n.code && !n.code);}function k(n){return !(!n || !n.Jc);}function h(n){return ! !(n instanceof Error);}function g(n){switch(n){case "ACCOUNT_ON_HOLD":return l.O.cnb;case "STREAM_QUOTA_EXCEEDED":return l.O.gnb;case "INSUFFICICENT_MATURITY":return l.O.lnb;case "TITLE_OUT_OF_WINDOW":return l.O.snb;case "CHOICE_MAP_ERROR":return l.O.fnb;case "BadRequest":return l.O.nnb;case "Invalid_SemVer_Format":return l.O.mnb;case "RESTRICTED_TO_TESTERS":return l.O.qnb;case "AGE_VERIFICATION_REQUIRED":return l.O.dnb;case "BLACKLISTED_IP":return l.O.enb;case "DEVICE_EOL_WARNING":return l.O.oha;case "DEVICE_EOL_FINAL":return l.O.hLa;case "INCORRECT_PIN":return l.O.lLa;case "MOBILE_ONLY":return l.O.pnb;case "MDX_CONTROLLER_CTICKET_INVALID":return l.O.onb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return l.O.tnb;case "RESET_DEVICE":return l.O.kLa;case "RELOAD_DEVICE":return l.O.jLa;case "EXIT_DEVICE":return l.O.iLa;case "FREE_PREVIEW_ENDED":return l.O.knb;case "STREAMING_LOCATION_DISALLOWED":return l.O.rnb;case "EXTRA_MEMBER_STREAM_HOLD":return l.O.jnb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return l.O.inb;default:return l.O.QGa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.od(n,g(p.code),"BadRequest" === p.code?l.d3.jib:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new m.od(n,p.Jc,p.Qd,void 0,p.lB,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.aWa=b.bWa=b.PIb=b.UIb=b.up=b.TIb=b.APb=b.vPb=b.W4a=void 0;m=a(38);l=a(3);b.W4a=c;b.vPb=k;b.APb=h;b.TIb=g;b.up=function(n,p){return k(p)?f(n,p):c(p)?d(n,p):h(p)?m.od.Bqa(n,p):new m.od(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.UIb=d;b.PIb=f;b.bWa=function(n,p,q,t,w){var v,u,x,y;v=p.ocb[q];if(void 0 === v)throw {JE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};u=v.version;if(void 0 === u)throw {JE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=v.service;if(void 0 === x)throw {JE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=v.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {JE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isPlayApiDirect?n.FLb(t) + "/" + y + "/" + x + "/" + u:n.vLb(t) + "/" + y + "/" + x + "/" + u + "/" + (void 0 === w?"router":w);};b.aWa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.pUa && p && (q["X-Esn"]=p.ll);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rMa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YPa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fq=void 0;r=b.fq || (b.fq={});r[r.s3=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.VF=2]="LOADED";r[r.DS=3]="LOAD_FAILED";r[r.gLa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yDa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QMa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iOa="RepositionTraceSymbol";b.gOa="RepositionTraceFactorySymbol";},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V;function c(K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb,wb,da,ua,wa,Oa,Xa,lb,Bb,ub,Kb,Pb,Zb,Fb,Qb,bc,ad,Qd,Df,Ef,Ff,Gf,Rd){var xb,Hf;function Ze(sb){sb.newValue && sb.newValue.stream && (xb.se.removeListener(Ze),xb.d$=sb.newValue.stream.bitrate);}function $e(sb){sb.newValue !== R.jb.cg && sb.newValue !== R.jb.xh && (xb.Eb.removeListener($e),xb.OI=xb.Da.R_,xb.Wb.ed(R.ga.Av));}function af(sb){sb.newValue !== R.jb.cg && (xb.Eb.removeListener(af),xb.Ym=!0,xb.NZ=xb.Da.qf.ca(F.la),xb.Wb.ed(R.ga.Ym));}xb=this;this.ob=Ba;this.Sk=Sa;this.KA=La;this.Ea=Wa;this.jD=Va;this.Da=cb;this.IY=wb;this.kva=wa;this.sP=Oa;this.Ld=Xa;this.hi=lb;this.hj=Bb;this.qN=ub;this.OZ=Kb;this.Gj=Pb;this.zBa=Zb;this.jg=Fb;this.ve=Qb;this.Cxa=bc;this.Xm=ad;this.ibb=Qd;this.cma=Df;this.jJ=Ef;this.kxa=Ff;this.jN=Gf;this.D$a=[];this.ht=new Map();this.Ac=new t.oc(null);this.Bg=new t.oc(null);this.tc=new t.oc(null);this.$i=new t.oc(null);this.Zv=new t.oc(void 0);this.ef=new t.oc(null);this.Ah=new t.oc(null);this.mediaTime=new t.oc(void 0);this.playbackRate=new ya.UMa(1,w.config.wva);this.MBa=function(sb){return xb.Ac.set(sb.newValue);};this.y6b=function(sb){return xb.Bg.set(sb.newValue);};this.v6b=function(sb){return xb.tc.set(sb.newValue);};this.W5b=function(sb){return xb.$i.set(sb.newValue);};this.u6b=function(sb){return xb.Zv.set(sb.newValue);};this.x6b=function(sb){return xb.ef.set(sb.newValue);};this.X5b=function(sb){return xb.Ah.set(sb.newValue);};this.m6b=function(sb){return xb.se.set(sb.newValue);};this.l6b=function(sb){return xb.Hf.set(sb.newValue);};this.i6b=function(sb){return xb.mediaTime.set(sb.newValue);};this.Vda=function(sb){return xb.playbackRate.set(sb.newValue);};this.Ej={};this.hza=this.tBa=0;this.Wb=new v.Tk();this.d1={};this.i0=this.u$a=this.Ym=!1;this.state=new t.oc(R.dc.IL);this.Qj=new t.oc(!1);this.paused=new t.oc(!1);this.muted=new t.oc(!1);this.volume=new t.oc(w.config.vEb / 100);this.Eb=new t.oc(R.jb.cg);this.Nf=new t.oc(R.Kf.yd);this.ss=new t.oc(R.Kf.yd);this.kn=new t.oc(R.Kf.yd);this.Hf=new t.oc(null);this.se=new t.oc(null);this.Rma=new t.oc(null);this.Q9=(0,p.BHa)(this);this.Bc=[new t.oc(null),new t.oc(null)];this.yma={};this.bO=!1;this.Ua=this.Mk=-1;this.Sra=function(sb,Sb){var Hc;sb=void 0 === sb?null:sb;return (0,H.Ga)(sb)?Sb && !xb.Bk(Sb).ia?sb:(null === (Hc=xb.Ia) || void 0 === Hc?0:Hc.Bi)?xb.Ia.zu(sb):sb:null;};this.f9a=function(){xb.BAa();};this.BD=K;this.addEventListener=this.Wb.addListener;this.removeEventListener=this.Wb.removeListener;this.fireEvent=this.Wb.ed;this.Ala({N:K,fa:ia,fb:fa || ({})},w.config.Iv?this.Ld.EA(K):void 0,T);this.log=(0,C.Ii)(this);this.z7=Za(this);this.pxb=da(this);this.xo=(0,M.createElement)("DIV",q.eia,void 0,{id:this.K});this.MOb();Hf=ua((0,F.Kh)(1));this.jd=this.log.d7("Playback");(0,d.yMa)(this);y.CC.i8a=this;y.CC.nqa || (y.CC.nqa=this);this.jd.info("Playback created",this.ph);this.Tua?this.jd.info("Playback selected for trace playback info logging"):this.jd.trace("Playback not selected for trace playback info logging");w.config.Iv && (this.Ld.hNb(this.K),this.addEventListener(R.ga.Av,function(){xb.Ld.jNb(xb.K);xb.tc.addListener(function(){xb.Ld.b3a();});xb.Ac.addListener(function(){xb.Ld.b3a();});}),this.addEventListener(R.ga.fh,function(){xb.Ld.gNb(xb.K);}));this.state.addListener(function(sb){xb.jd.info("Playback state changed",{From:sb.oldValue,To:sb.newValue});(0,E.sb)(sb.newValue > sb.oldValue);});x.bf.addListener(x.fo,this.f9a,q.x3);this.mediaTime.addListener(function(){xb.lIb();Hf.cm(function(){return xb.W_a();});});this.Eb.addListener(function(sb){xb.jd.info("PresentingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,I.qj)(xb.mediaTime.value)},xb.tv());});this.Eb.addListener(function(){xb.Qj.set(xb.Eb.value === R.jb.Rc);});this.Nf.addListener(function(sb){xb.jd.info("BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,I.qj)(xb.mediaTime.value)},xb.tv());});this.ss.addListener(function(sb){xb.jd.info("AV BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,I.qj)(xb.mediaTime.value)},xb.tv());});this.kn.addListener(function(sb){xb.jd.info("Text BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,I.qj)(xb.mediaTime.value)},xb.tv());});this.Ac.addListener(function(sb){(0,E.sb)(sb.newValue && sb.newValue.Ki);xb.jd.info("AudioTrack changed",sb.newValue && ({ToBcp47:sb.newValue.Af,To:sb.newValue.trackId}),sb.oldValue && ({FromBcp47:sb.oldValue.Af,From:sb.oldValue.trackId}),{MediaTime:(0,I.qj)(xb.mediaTime.value)});});this.tc.addListener(function(sb){(0,E.sb)(!sb.newValue || sb.newValue.Ki);xb.jd.info("TimedTextTrack changed",sb.newValue?{ToBcp47:sb.newValue.Af,To:sb.newValue.trackId}:{To:"none"},sb.oldValue?{FromBcp47:sb.oldValue.Af,From:sb.oldValue.trackId}:{From:"none"},{MediaTime:(0,I.qj)(xb.mediaTime.value)});});this.Eb.addListener(af,q.KL);this.Eb.addListener($e);this.addEventListener(R.ga.Av,function(){xb.i0=!0;xb.Gdb=xb.yV();xb.Be("start");});this.se.addListener(Ze);(0,D.KMa)(this);y.No.push(this);w.config.v_ && (this.Iba=this.Cxa(this),this.Lba=new A.WMa(this));y.Oha.forEach(function(sb){sb(xb);});this.xvb=function(){xb.addEventListener(R.ga.UJ,function(sb){var Sb;sb=sb.cause;sb !== R.Ye.Ny && sb !== R.Ye.SL && (null === (Sb=xb.Ia) || void 0 === Sb?void 0:Sb.stop());});xb.addEventListener(R.ga.Lk,function(sb){var Sb,Hc,bf,If,zc,Sd,Jf,Td,cf,Kf;xb.ibb.Lk(sb);bf=sb.cause;If=sb.skip;zc=sb.Zaa;Sd=sb.Iwa;Jf=sb.K;Td=sb.uk;xb.ka.$l.vwa(Sd,zc);if(bf !== R.Ye.SL && bf !== R.Ye.Ny)if(If){if(null !== (Sb=xb.Ia) && void 0 !== Sb && Sb.bj(zc)){xb.jd.trace("Repositioned. Skipping from " + Sd + " to " + zc);sb=function(Tb){xb.log.error("streamingSession.skipped threw an exception",Tb);Tb=S.od.Bqa(G.T.yhb,Tb);xb.mt(Tb.code,Tb);};try{xb.Ia.Co(zc).then(function(Tb){var Ic;Tb.cP || (null === (Ic=xb.Ia) || void 0 === Ic?void 0:Ic.play());}).catch(sb);}catch(Tb){sb(Tb);}}else xb.log.error("can skip returned false");}else {xb.jd.trace("Repositioned. Seeking from " + Sd + " to " + zc);try{cf=xb.ob.k9(xb.ka);Kf=Object.keys(cf.P).find(function(Tb){var Ic;Tb=cf.P[Tb];return Tb.N === Jf && Tb.sa <= Td && (null !== (Ic=Tb.va) && void 0 !== Ic?Ic:Infinity) > Td;});null === (Hc=xb.Ia) || void 0 === Hc?void 0:Hc.yt(Td,Kf);}catch(Tb){xb.log.error("streamingSession.seekByContentPts threw an exception",Tb);zc=S.od.Bqa(G.T.whb,Tb);xb.mt(zc.code,zc);}}});};this.playbackRate.addListener(function(){var sb,Sb;if(null === (sb=xb.Ia) || void 0 === sb?0:sb.Bi)null === (Sb=xb.Ia) || void 0 === Sb?void 0:Sb.Exa();});this.addEventListener(R.ga.Qz,function(sb){var Sb;sb.cause == y.Lha && (xb.Nf.set(R.Kf.yd),null === (Sb=xb.Ia) || void 0 === Sb?void 0:Sb.Do(xb.Wf.l1a()));});Rd && (this.ka.ia=Rd,this.Gj.l0(K,Rd));}Object.defineProperty(b,"__esModule",{value:!0});b.PMa=void 0;k=a(2);h=a(36);g=a(308);d=a(310);f=a(165);m=a(562);l=a(1291);n=a(1292);p=a(565);q=a(14);t=a(79);w=a(19);v=a(72);u=a(566);x=a(64);y=a(63);z=a(137);A=a(568);B=a(1295);D=a(572);C=a(8);F=a(5);G=a(3);E=a(24);I=a(92);N=a(25);L=a(60);H=a(13);Q=a(573);O=a(105);J=a(314);M=a(44);P=a(104);R=a(18);S=a(38);U=a(311);ba=a(575);na=a(134);va=a(1299);ya=a(1300);ra=a(51);V=a(61);c.prototype.Be=function(K,T){var fa;T=void 0 === T?this.BD:T;null === (fa=this.ht.get(T)) || void 0 === fa?void 0:fa.Be(K);};c.prototype.LA=function(K){this.ka.LA(K);};c.prototype.TO=function(){var K;return !(null === (K=this.ia) || void 0 === K || !K.Ib.Gm);};c.prototype.MOb=function(){var K;K=this;this.Ac.addListener(function(T){return K.ka.Ac.set(T.newValue);});this.Bg.addListener(function(T){return K.ka.Bg.set(T.newValue);});this.tc.addListener(function(T){return K.ka.tc.set(T.newValue);});this.$i.addListener(function(T){return K.ka.$i.set(T.newValue);});this.Zv.addListener(function(T){return K.ka.Zv.set(T.newValue);});this.ef.addListener(function(T){return K.ka.ef.set(T.newValue);});this.Ah.addListener(function(T){return K.ka.Ah.set(T.newValue);});this.se.addListener(function(T){return K.ka.se.set(T.newValue);});this.Hf.addListener(function(T){return K.ka.Hf.set(T.newValue);});this.Bc[h.Rb.Ya.cc].addListener(function(T){return K.ka.Bc[h.Rb.Ya.cc].set(T.newValue);});this.Bc[h.Rb.Ya.Nb].addListener(function(T){return K.ka.Bc[h.Rb.Ya.Nb].set(T.newValue);});this.mediaTime.addListener(function(T){return K.ka.mediaTime.set(T.newValue);});this.playbackRate.addListener(function(T){return K.ka.playbackRate.set(T.newValue);});this.Kbb();};c.prototype.Kbb=function(){var K;K=this;this.ka !== this.Dza && (this.ka.mediaTime.set(this.mediaTime.value),this.ka.playbackRate.set(this.playbackRate.value),this.Lr(function(T){return T.Ac;},this.MBa),this.Lr(function(T){return T.Bg;},this.y6b),this.Lr(function(T){return T.Zv;},this.u6b),this.Lr(function(T){return T.tc;},this.v6b),this.Lr(function(T){return T.$i;},this.W5b),this.Lr(function(T){return T.ef;},this.x6b),this.Lr(function(T){return T.Ah;},this.X5b),this.Lr(function(T){return T.Hf;},this.l6b),this.Lr(function(T){return T.se;},this.m6b),this.Lr(function(T){return T.Bc[h.Rb.Ya.cc];},function(T){return K.Bc[h.Rb.Ya.cc].set(T.newValue);}),this.Lr(function(T){return T.Bc[h.Rb.Ya.Nb];},function(T){return K.Bc[h.Rb.Ya.Nb].set(T.newValue);}),this.Lr(function(T){return T.mediaTime;},this.i6b),this.Lr(function(T){return T.playbackRate;},this.Vda),this.tc.set(this.ka.tc.value),this.Ac.set(this.ka.Ac.value,{DUa:!0}),this.Bg.set(this.ka.Bg.value),this.$i.set(this.ka.$i.value),this.Zv.set(this.ka.Zv.value),this.ef.set(this.ka.ef.value),this.Ah.set(this.ka.Ah.value),this.Dza=this.ka);};c.prototype.Lr=function(K,T){this.Dza && K(this.Dza).removeListener(T);K(this.ka).addListener(T);};c.prototype.load=function(K){var T,fa;T=this;this.load=function(){};this.G$a=K;if(this.state.value == R.dc.IL){this.jd.info("Playback loading",this);this.MUb();this.Be("asl_load_start");fa=this.jD;K=fa.startTime;fa=fa.endTime;(0,H.sd)(K)?(0,H.sd)(fa)?this.Be("asl_ended"):this.Be("asl_in_progress"):this.Be("asl_not_started");this.jD.zY(function(ia){T.Be("asl_load_complete");ia.da?T.BCb():T.mt(ia.errorCode || G.T.sga,ia);});}};c.prototype.RXb=function(){var K;!1;try{if(this.state.value === R.dc.LOADING){K={width:1,height:1};this.zI().forEach(function(T){K.width * K.height < T.width * T.height && (K.width=T.width,K.height=T.height);});this.vR=K;this.hx=this.qN.Qvb({WK:(0,F.Sc)(this.$),K:this.K,Hba:this.bA,fb:this.fb}).ca(F.la);this.Zla();this.yDb();}}catch(T){this.mt(G.T.zlb,{wa:G.O.km,Sb:(0,N.Me)(T)});}};c.prototype.Sx=function(){var K,T;!1;T=this.ob.k9(this);this.aYa(T);null === (K=this.Ia) || void 0 === K?void 0:K.ry(T);};c.prototype.vJ=function(K){var T,fa;!1;(0,E.sb)(this.Ia,"ASE should be initialized");fa=this.ob.yX(K);fa?K === this.ob.Ch?this.Ia.xs(fa,!0,!0) || this.LX(fa,{}):null === (T=this.Ia) || void 0 === T?void 0:T.Qi(K,fa,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.LX=function(K,T,fa){var ia,Ba,Sa,La,Za;ia=this;fa=void 0 === fa?!0:fa;!1;La=this.ob.Oe(K);if(this.hj.aea && this.ob.ka.N === La.N)return Promise.resolve(this.Wf.seek(La.sa,R.Ye.pG,void 0));La=this.Sk.RO(La.N);T=(0,O.Aaa)(La.Db,T);if(null === (Ba=this.Ia) || void 0 === Ba || !Ba.Bi)throw (!1,Error("No streaming session"));!1;this.mH("Transition " + this.ob.Ch + "->" + K);Za=this.Bk(K);Za.ln=this.Ea.Xb().ca(F.la);Za.fb=T;return "seamless" !== (null !== (Sa=this.ob.Oe(K).ie) && void 0 !== Sa?Sa:"seamless") || fa?(this.Ia.JO(K).tN?this.TMb(K,Za.K):this.L_(K,Za.K)).then(function(){ia.EIb(Za.K);}):Promise.resolve();};c.prototype.L_=function(K,T){var fa;fa=this.ob.ul.P[K].sa;!1;this.mH("NO DATA " + K + ", SEEKING " + fa + ", viewableId: " + T);return Promise.resolve(this.Wf.seek(fa,R.Ye.pG,K,!0));};c.prototype.TMb=function(K,T){var fa,ia,Ba,Sa,La;fa=this;!1;ia=this.Ia;if(null === ia || void 0 === ia || !ia.Bi)throw Error("No streaming session");Ba=new Promise(function(Za){function Wa(){!1;ia.removeEventListener("stop",Wa);Za();}ia.addEventListener("stop",Wa);});Sa=!1;La=new Promise(function(Za){function Wa(cb){!1;fa.removeEventListener(R.ga.Lk,Wa);Sa=cb.skip;Za();}function Va(){!1;fa.removeEventListener(R.ga.UJ,Va);ia.stop();}fa.addEventListener(R.ga.UJ,Va);fa.addEventListener(R.ga.Lk,Wa);});Ba=Promise.all([Ba,La]).then(function(){var Za;Za=!1;Sa && (Za=ia.xs(K,!1,!0));if(!Za)return (fa.mH("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),fa.L_(K,T));});La=ia.IN(K,this.ob.ul.P[K].sa);!1;this.Wf.seek(La,R.Ye.SL,K,!0);return Ba;};c.prototype.Ala=function(K,T,fa){var ia,Ba,Sa,La,Za;T=void 0 === T?this.KA.dA():T;fa=void 0 === fa?this.Ea.Xb():fa;Ba=! !w.config.Ggb && !(T % w.config.Ggb);Sa=K.N;La=K.fa;Za=K.fb;K=K.Vh;this.ht.has(Sa)?this.ht.get(Sa):(T=this.OZ(y.CC.index++,Sa,La,Za,T,fa,Ba,this.ka,this.Sra,this.TO,K),this.ht.set(Sa,T),1 < this.ht.size && (T.CY=this.sP.create(this,T,!1)),T.zP=new z.qKa(this,T),null === (ia=this.Ia) || void 0 === ia?void 0:ia.XV(T.fa,{ea:T.ea,vo:T.Rf}),1 < this.ht.size && this.Gj.C9(T.K) && this.hca(T));};c.prototype.aDb=function(K,T,fa){var ia,Ba,Sa,La,Za;ia=this;!1;Za={y$:!0,ci:!1,oR:Date.now()};(0,E.sb)(T.mV,"Auxiliary viewable config request options must have auxiliary options");T=T.mV;T={xj:T.xj,axa:this.Mi,BJ:T.BJ};(0,E.sb)(null === (Ba=this.Ia) || void 0 === Ba?void 0:Ba.xd,"If we have auxiliary viewables combined playgraph must exist");Ba=Object.keys(null === (La=null === (Sa=this.Ia) || void 0 === Sa?void 0:Sa.xd) || void 0 === La?void 0:La.P).find(function(Wa){var Va,cb;return (null === (cb=null === (Va=ia.Ia) || void 0 === Va?void 0:Va.xd) || void 0 === cb?void 0:cb.P[Wa].N) === K;});(0,E.sb)(! !Ba,"Segment for the auxiliary viewable should exist in the combined playgraph");this.Ala({Vh:T,fb:Za,fa:Ba,N:K},fa);};c.prototype.AA=function(K){if(!this.ht.has(K))throw Error("Playback segment not found: " + K);return this.ht.get(K);};c.prototype.Bk=function(K){var fa,ia,Ba,Sa,La,Za;function T(Wa){for(var Va=pa(fa.bQ),cb=Va.next();!cb.done;cb=Va.next()){if((cb=cb.value,cb.fa === Wa))return cb;}}fa=this;Za=T(K);return Za?Za:(null === (Ba=null === (ia=this.Ia) || void 0 === ia?void 0:ia.xd) || void 0 === Ba?0:Ba.P[K]) && (ia=null === (Sa=this.Ia) || void 0 === Sa?void 0:Sa.xd.P[K].Zc) && this.ob.OB(ia)?(Sa=this.ob.Oe(ia).N,K=null === (La=this.Ia) || void 0 === La?void 0:La.xd.P[K].N,Sa === K && (Za=T(ia)),null !== Za && void 0 !== Za?Za:this.AA(K)):this.ka;};c.prototype.JLb=function(K){for(var T,fa,ia=pa(this.bQ),Ba=ia.next();!Ba.done;Ba=ia.next()){if((Ba=Ba.value,(null === (fa=null === (T=Ba.Le) || void 0 === T?void 0:T.Ob) || void 0 === fa?void 0:fa.sessionId) === K))return Ba;}return this.ka;};c.prototype.hca=function(K){var T,fa;T=this;!1;fa=K.K;this.Sk.F1b(fa);return this.Q_(K).then(function(ia){T.cya(ia,K);ia=K.UI?T.Yb.Xl.jbb(K):Promise.resolve();T.dYb(K);return ia.then(function(){return T.Sk.zcb(fa);});}).catch(function(ia){T.log.error("queueManifest failed",ia);T.Sk.E1b(fa,ia);throw T.hi(ia.code,ia);});};c.prototype.uJb=function(){if((0,H.Ga)(this.ud.ats) && (0,H.Ga)(this.ud.at))return this.ud.at - this.ud.ats;};c.prototype.L0a=function(){var K,T;K=this.b1();T=this.aV();return Math.min(K,T);};c.prototype.VQ=function(){this.background || (this.jd.info("Starting inactivity monitor for movie " + this.K),new u.gIa(this));};c.prototype.close=function(K){K && (this.state.value == R.dc.CLOSED?K():this.addEventListener(R.ga.closed,function(){K();}));this.BAa();};c.prototype.Pd=function(K,T,fa){K=this.hi(K,T,fa);this.GH(K,void 0);};c.prototype.GH=function(K,T){var fa,ia,Ba,Sa;fa=this;!1;K.Kcb(this.Ym);if(this.state.value == R.dc.IL)this.Hi || (this.Hi=K,this.load());else {T && (this.state.value == R.dc.CLOSED?T():this.addEventListener(R.ga.closed,function(){T();}));ia=function(){fa.BAa(K);};Ba=w.config.PYa && K && w.config.PYa[K.errorCode];Sa=-1;(0,H.lP)(Ba) && (Sa=(0,N.Mj)(Ba));this.jd.error("Fatal playback error",{Error:"" + K,HandleDelay:"" + Ba});0 <= Sa?setTimeout(ia,Sa):ia();}};c.prototype.mH=function(K){var T;T=void 0 === T?this.fa:T;K=this.Ea.Xb().ca(F.la) + "-" + T + "-" + K;!1;this.D$a.push(K);};c.prototype.vIb=function(){this.W_a();};c.prototype.Hra=function(){var K;if(null === (K=this.Ia) || void 0 === K?0:K.Bi)if((K=this.Ia.Om().id,void 0 !== K))return K;return null;};c.prototype.UD=function(){var K,T;T=null === (K=this.Ia) || void 0 === K?void 0:K.Bi;return void 0 === this.ka.RV || T?this.Sra(this.mediaTime.value):this.ka.RV;};c.prototype.Gra=function(){var K;K=this.Sra(this.Wf.l1a());return null === K?null:Math.min(this.bA.ca(F.la),Math.max(0,K));};c.prototype.iX=function(){var K,T;return null === (T=null === (K=this.ia) || void 0 === K?void 0:K.Ib.On) || void 0 === T?void 0:T.P;};c.prototype.Uda=function(K){!1;this.fb=(0,O.Aaa)(this.fb,K);this.Zla();};c.prototype.pJb=function(){return this.Ac.value?this.Ac.value.streams:[];};c.prototype.zI=function(K){K=void 0 === K?this.K:K;return (K=this.AA(K).Bg) && K.value?K.value.streams:[];};c.prototype.qNb=function(K){for(var T=pa(this.bQ),fa=T.next();!fa.done;fa=T.next()){if(fa=(fa=fa.value.Yh) && fa.find(function(ia){return ia.id === K;}))return fa;}!1;};c.prototype.dYb=function(K){K=void 0 === K?this.ka:K;!1;K.tc.value?this.Gr.aYb(K.tc.value):Promise.resolve();};c.prototype.c3a=function(K){for(var T=pa(this.bQ),fa=T.next();!fa.done;fa=T.next()){fa=pa(fa.value.aj);for(var ia=fa.next();!ia.done;ia=fa.next()){if(ia=ia.value.streams.find(function(Ba){return Ba.wc === K;}))return ia;}}!1;};c.prototype.p3a=function(K){for(var T=pa(this.bQ),fa=T.next();!fa.done;fa=T.next()){fa=pa(fa.value.Vp);for(var ia=fa.next();!ia.done;ia=fa.next()){if(ia=(ia=ia.value) && ia.streams.find(function(Ba){return Ba.wc === K;}))return ia;}}!1;};c.prototype.Au=function(){var K,T,fa;return null !== (fa=null === (T=null === (K=this.Lba) || void 0 === K?void 0:K.UV) || void 0 === T?void 0:T.call(K)) && void 0 !== fa?fa:this.LCb().OD;};c.prototype.Tcb=function(K){var T,fa;null !== (T=this.Ia) && void 0 !== T && T.Bi && this.ht.has(K) && ((null === (fa=this.Lba) || void 0 === fa?0:fa.UV)?this.Lba.Lfb():(T=this.loa(K),this.Ia.Br(T,K)));};c.prototype.iQb=function(){return "trailer" === this.je;};c.prototype.rPb=function(){return ! !this.je && 0 <= this.je.indexOf("billboard");};c.prototype.pQb=function(){return ! !this.je && 0 <= this.je.indexOf("video-merch");};c.prototype.PPb=function(){return ! !this.je && 0 <= this.je.indexOf("mini-modal");};c.prototype.jP=function(){return this.iQb() || this.rPb() || this.pQb() || this.PPb();};c.prototype.O8=function(){var Ba,Sa,La;if(this.Vp){for(var K,T=0;T < this.Vp.length;T++){for(var fa=this.Vp[T],ia=0;ia < fa.streams.length;ia++){Ba=fa.streams[ia];if((0,H.Ga)(Ba.moa) && (0,H.Ga)(Ba.i7) && (0,H.Ga)(Ba.h7) && (0,H.Ga)(Ba.g7) && (0 < Ba.moa || 0 < Ba.i7)){Sa=1;La=1;(0,H.Ga)(Ba.l$a) && (0,H.Ga)(Ba.m$a) && (Sa=Ba.l$a,La=Ba.m$a);Ba=Ba.g7 * La / (Ba.h7 * Sa);K=(0,H.Ga)(K)?Math.min(K,Ba):Ba;}}}return K;}};c.prototype.aMb=function(){return {tr:this.tBa,rt:this.hza};};c.prototype.zA=function(K){return this.Ej[K];};c.prototype.Yma=function(){return this.ln?this.Ea.Xb().ca(F.la) - this.ln:this.Da.qf.ca(F.la) - this.mI();};c.prototype.yV=function(){var K;if(this.ln)return this.Ea.Xb().ca(F.la) - this.ln;K=this.Ea.WA;return this.NZ - (this.gj.ca(F.la) + K.ca(F.la));};c.prototype.$ma=function(){return this.ln?this.Ea.Xb().ca(F.la) - this.ln:this.NZ - this.mI();};c.prototype.BJb=function(){var K,T;K=this.loadTime;T={};(0,N.Rg)(this.yma,function(fa,ia){T[fa]=ia.map(function(Ba){return Ba - K;});});return m.gx?{level:m.gx.J1a(),charging:m.gx.Vqa(),statuses:T}:null;};c.prototype.t9=function(){this.V_a();return this.d1;};c.prototype.mI=function(){var K;K=this.fb.oR;K=(0,H.Ga)(K)?K:this.gj.ca(F.la) + this.Ea.WA.ca(F.la);(0,E.sb)((0,H.mE)(K));return K;};c.prototype.t2a=function(){return this.Ea.Xb().ca(F.la) - this.gj.ca(F.la);};c.prototype.Ucb=function(K,T){this.d1[K]=T;};c.prototype.A7b=function(){this.F2b=!0;};c.prototype.iba=function(){this.Tab();};c.prototype.b1=function(){var K;K=this.m6();return K && K.vbuflmsec || 0;};c.prototype.aV=function(){var K;K=this.m6();return K && K.abuflmsec || 0;};c.prototype.iCa=function(){var K;K=this.m6();return K && K.vbuflbytes || 0;};c.prototype.hma=function(){var K;K=this.m6();return K && K.abuflbytes || 0;};c.prototype.Q_=function(K,T,fa){var ia,Ba,Sa,La;ia=this;K=void 0 === K?this.ka:K;fa=void 0 === fa?!0:fa;!1;Ba=! !T;Sa=!Ba && K !== this.ka;La=w.config.fca.enabled?P.vn.bob:Sa?P.vn.iG:this.jP()?P.vn.S3:P.vn.bq;Ba=this.jP() || Ba || Sa?void 0:this.Yb.Xl.b9(Sa);return this.Gj.GO({ea:K.ea,fb:K.fb,N:K.K,Su:La,ig:Ba,Ida:T,Vh:K.Vh},K.Vh?!1:fa).then(function(Za){Za.P4a && ia.fireEvent(R.ga.yY,{K:K.K});return Za;});};c.prototype.cya=function(K,T,fa){var ia,Ba,Sa;T=void 0 === T?this.ka:T;fa=void 0 === fa?!1:fa;!1;if(T.fb.ci && !K.Ib.On)this.Pd(G.T.cib);else {ia=this.IY.create(this);Ba=! !(T.Vh && T.Vh.xj && T.Vh.zba);if(fa){Sa=ia.iOb(T.ia,T.Yc,K);K=Sa.ia;Sa=Sa.Yc;}else (K=Ba?ia.E0b(K,null === (Sa=T.Vh) || void 0 === Sa?void 0:Sa.zba):K,Sa=ia.T9a(K));T.ia=K;T.Yc=Sa;fa || (T.Bg.set(Sa.v7),T.Ac.set(Sa.eW),T.tc.set(Sa.gW));}};c.prototype.EIb=function(K){var T;T=void 0 === T?!1:T;!1;this.kK(K,T);};c.prototype.f3a=function(K,T){if(!this.hj.eCa)return !0;K=this.Dv.ca(F.la) - K;return 0 > K || K > T;};c.prototype.j0b=function(){!1;this.Wf.seek(this.UD() || 0,R.Ye.n2);};c.prototype.I3a=function(K,T){var fa,ia;fa=this;!1;ia=this.ka;ia.B7=!0;return this.Q_(ia,{axa:ia.Mi,V_b:K,Y_b:T},!1).then(function(Ba){var Sa;fa.cya(Ba,ia,!0);fa.Gj.l0(ia.K,ia.ia);return null === (Sa=fa.Ia) || void 0 === Sa?void 0:Sa.sy(fa.C$a);}).then(function(){var Ba,Sa;Ba=ia.aj.find(function(La){return La.trackId === K;});Sa=ia.oi.find(function(La){return La.trackId === T;});if(!(Ba && Ba.Ki && Sa && Sa.Ki))throw Error("Track hydration failed: requiredAudioTrackId=" + K + " requiredTextTrackId=" + T);fa.fireEvent(R.ga.jfb);return {Ac:Ba,A0:Sa};});};c.prototype.kK=function(K,T){var fa,ia;!1;if(this.fQ){if(K === this.BD){this.fQ=K;return;}fa=this.AA(K);ia=fa.ia;ia && (0,H.sd)(ia.VJ) && (0,H.sd)(ia.vQ) && fa.LA({pr_ats:ia.VJ,pr_at:ia.vQ});this.fireEvent(R.ga.jva,{K:this.BD});this.BD=K;this.Zla();T || this.Kbb();this.OI=this.Da.R_;this.ka.ln || (this.ka.ln=this.Ea.Xb().ca(F.la));}("boolean" === typeof this.fb.hO?this.fb.hO:w.config.hO) && !T && this.zBa.hO(this);T={K:K,r$:T,fQ:this.fQ};this.fQ=K;this.fireEvent(R.ga.bJ,T);};c.prototype.BCb=function(){!1;try{this.Yb=new l.bKa(this);this.X6=new U.NEa(this);this.CY=this.sP.create(this,this.ka,!0);w.config.Myb && new ba.zGa(this,this.jg,this.log);w.config.BV && this.BV(this);this.b7b();}catch(K){this.mt(G.T.ylb,{wa:G.O.km,Sb:(0,N.Me)(K)});}};c.prototype.b7b=function(){!1;this.Hi?this.GH(this.Hi):(0,H.Sta)(this.K)?this.ozb():this.mt(G.T.vlb,{Sb:"" + this.K});};c.prototype.ozb=function(){var K;!1;K=g.zK.rcb;K?K.da?this.Jna():this.mt(G.T.bIa,K):((0,E.sb)(!w.config.R7),this.ola());};c.prototype.Jna=function(){var K;K=this;!this.background && w.config.Jna?(0,y.Nha)(function(){K.ola();},this):this.ola();};c.prototype.ola=function(){var K;K=this;!1;this.state.value == R.dc.LOADING && (w.config.ypa && !this.jP()?g.zK.Ez(y.JMa,function(T){T.da?(K.$$=T.$$,K.nVa()):K.mt(G.T.aIa);},!0):this.nVa());};c.prototype.nVa=function(){var K,T,fa;K=this;if(this.state.value == R.dc.LOADING){this.log.info("Authorizing",this);T=this.Ea.Xb().ca(F.la);this.Be("ats");(0,E.PN)(this.K);(0,E.PN)(this.Yj);fa=this.PYb.bind(this,T);Promise.all([this.ia,w.config.Iv && this.Gj.C9(this.K)?this.Gj.K8(this.K).catch(function(){}):void 0]).then(function(ia){var Ba,Sa;Ba=pa(ia);ia=Ba.next().value;Ba=Ba.next().value;ia && Ba?Sa=Ba.Ib.expiration > ia.Ib.expiration?Ba:ia:ia?Sa=ia:Ba && (Sa=Ba);Sa && 18E5 > Sa.Ib.expiration - (0,V.R6)() && (Sa=void 0);return Sa?(K.yH=Sa === ia?"ui":"videopreparer",Sa):K.Q_();}).then(function(ia){try{K.cya(ia);fa(q.Fg);K.u$a || (K.u$a=!0,K.kxa.Pp(K));}catch(Ba){K.log.error("Exception processing authorization response",Ba);fa({da:!1,wa:G.O.Rnb});}}).catch(fa);}};c.prototype.PYb=function(K,T){var fa,ia;fa=this;!1;if(this.state.value == R.dc.LOADING){this.Be("at");ia=this.ia;this.LA({pr_ats:ia && (0,H.sd)(ia.VJ)?ia.VJ:K,pr_at:ia && (0,H.sd)(ia.vQ)?ia.vQ:this.Ea.Xb().ca(F.la)});T.da?0 < this.Yc.Yh.length && this.Yc.eW && this.Yc.v7 && this.Yc.gW?this.G$a?(this.log.info("Processing post-authorize",this),this.G$a(this,function(Ba){Ba.da?fa.Pfb():fa.mt(G.T.Clb,Ba);})):this.Pfb():this.mt(G.T.rJa,this.kva(this.Yc)):this.mt(G.T.BL,T);}};c.prototype.Pfb=function(){var K,T;k.__awaiter(this,void 0,void 0,function ia(){var Ba;Ba=this;return Ja(ia,function(Sa){!1;if(Ba.state.value != R.dc.LOADING)return Sa.return();(null === (K=Ba.ka.ia) || void 0 === K?0:K.Ib.On) && Ba.ob.reset((0,ra.Wz)(null === (T=Ba.ka.ia) || void 0 === T?void 0:T.Ib.On,{config:w.config}));Ba.Ia=Ba.cma(Ba.ob,Ba);Ba.Ia.i2b({su:f.su,config:w.config,ve:Ba.ve,jd:Ba.jd,tv:Ba.tv.bind(Ba),Aj:C.Aj,V_:Ba.V_.bind(Ba),kK:Ba.kK.bind(Ba)});Ba.RXb();Sa.FE=0;});});};c.prototype.yDb=function(){var K,T,fa,ia,Ba,Sa,La;K=this;!1;try{if(this.state.value === R.dc.LOADING){this.Yb.open();T=new Promise(function(Za){K.Yb.addEventListener(J.ck.zdb,Za);});this.Wf=new Q.jKa(this);fa=this.Yc.eW.ri === na.cq.NONE;ia={vF:this.Yc.eW.Vq || fa};Ba={ea:this.ea,vo:this.Rf,mA:this.mA};try{if(this.state.value !== R.dc.LOADING)return;Sa=this.Ia;Sa.e$({flags:ia,ox:Ba,fa:this.C$a,loa:this.loa.bind(this)});La=this.ob.k9(this);this.aYa(La);Sa.ry(La);this.xvb();Sa.Bxb({Ej:this.Ej,loadTime:this.loadTime});}catch(Za){throw (this.log.error("Failed to initialize ASE streaming",{error:Za,startPts:this.$,flags:ia}),Za);}T.then(function(){var Za;K.state.value !== R.dc.CLOSING && K.state.value !== R.dc.CLOSED && (null === (Za=K.Ia) || void 0 === Za?void 0:Za.open());});this.mediaTime.set(this.$);this.Gr=new n.KPa(this);if("boolean" === typeof this.fb.rca?this.fb.rca:w.config.rca)this.E0=new B.LPa(this);this.VQ();y.Pha.forEach(function(Za){Za(K);});this.LUb();}}catch(Za){this.mt(G.T.Alb,{wa:G.O.km,Sb:(0,N.Me)(Za)});}};c.prototype.MUb=function(){(0,E.sb)(this.state.value == R.dc.IL);this.loadTime=this.Ea.Xb().ca(F.la);this.state.set(R.dc.LOADING);};c.prototype.mt=function(K,T){this.done || (this.done=!0,T instanceof S.od?this.Pd(T.code,T):this.Pd(K,T));};c.prototype.BV=function(K){var fa,ia;function T(){var Ba,Sa;Ba=m.gx.Vqa() + "";Sa=K.yma[Ba];Sa || (Sa=K.yma[Ba]=[]);Sa.push(fa.Ea.Xb().ca(F.la));fa.log.trace("charging change event",{level:m.gx.J1a(),charging:m.gx.Vqa()});}fa=this;ia=m.gx.Lib;m.gx.addEventListener(ia,T);K.addEventListener(R.ga.fh,function(){m.gx.removeEventListener(ia,T);});};c.prototype.BAa=function(K){var T,fa;T=this;if(this.state.value == R.dc.IL || this.state.value == R.dc.LOADING || this.state.value == R.dc.we){this.jd.info("Playback closing",this,K?{ErrorCode:K.E7}:void 0);this.mH("Closing");x.bf.removeListener(x.fo,this.f9a);this.Hi=K;this.ka.RV=this.UD();this.V_a();(null === (fa=this.Ia) || void 0 === fa?0:fa.Bi) && this.Ia.flush();try{this.Wb.ed(R.ga.fh,{movieId:this.BD});}catch(ia){this.jd.error("Unable to fire playback closing event",ia);}this.state.set(R.dc.CLOSING);this.vhb();this.F2b || (0,L.fg)(function(){return T.Tab();});}};c.prototype.lIb=function(){this.Wb.ed(R.ga.Jfb);};c.prototype.W_a=function(){var K;K=this.mediaTime.value;this.YQb != K && (!1,this.YQb=K,this.Wb.ed(R.ga.lBa));};c.prototype.Tab=function(){var K,T;K=this;(0,E.sb)(this.state.value == R.dc.CLOSING);T=this.$$;this.$$=void 0;T?g.zK.release(T,function(fa){(0,E.sb)(fa.da);K.Pna();}):this.Pna();};c.prototype.vhb=function(){var K;null === (K=this.Ia) || void 0 === K?void 0:K.gd();delete this.Ia;};c.prototype.Pna=function(){var K;this.Pna=q.zw;(0,E.sb)(this.state.value == R.dc.CLOSING);K=y.No.indexOf(this);(0,E.sb)(0 <= K);y.No.splice(K,1);this.state.set(R.dc.CLOSED);this.Wb.ed(R.ga.closed,void 0,!0);this.Wb.$h();delete this.Le;this.ka.iba();};c.prototype.Zla=function(){this.fb.playbackState && ("number" === typeof this.fb.playbackState.volume && this.volume.set((0,I.BC)(this.fb.playbackState.volume,0,1)),"boolean" === typeof this.fb.playbackState.muted && this.muted.set(this.fb.playbackState.muted),"number" === typeof this.fb.playbackState.playbackRate && this.playbackRate.set(this.fb.playbackState.playbackRate));};c.prototype.V_a=function(){this.Wb.ed(R.ga.hdb,{d1:this.d1});};c.prototype.V_=function(K,T,fa){var ia;K=this.Bk(K);ia=K.Yh.filter(function(Ba){return Ba.id === T;})[0];ia && K.Bc[fa].set(ia);};c.prototype.tv=function(){return {AudioBufferLength:this.aV(),VideoBufferLength:this.b1()};};c.prototype.m6=function(){var K;if(null === (K=this.Ia) || void 0 === K?0:K.Bi)return this.Ia.g$(!1);};c.prototype.LUb=function(){this.state.value == R.dc.LOADING && this.state.set(R.dc.we);};c.prototype.LCb=function(){var K,T,fa;K=void 0 === K?this.K:K;T=this.zI(K);fa=this.AA(K);return (0,va.Au)(T,function(ia){return fa.zP.iy(ia);});};c.prototype.loa=function(K){var T,fa;K=void 0 === K?this.K:K;T=this.zI(K);fa=this.AA(K);return (0,va.S2a)(T,function(ia){return fa.zP.iy(ia);});};c.prototype.aYa=function(K){var T;T=this;Object.keys(K.P).filter(function(fa){return !T.ht.has(K.P[fa].N);}).forEach(function(fa){var ia,Ba,Sa;Ba=K.P[fa];Sa=Ba.N;Ba=Object.assign(null !== (ia=T.Sk.RO(Sa).Db) && void 0 !== ia?ia:{},{$:Ba.sa,La:Ba.va,ci:!1,oR:Date.now(),y$:!0});T.Ala({N:Sa,fa:fa,fb:Ba});});};Ya.Object.defineProperties(c.prototype,{bQ:{configurable:!0,enumerable:!0,get:function(){return this.ht.values();}},ka:{configurable:!0,enumerable:!0,get:function(){return this.ht.get(this.BD);}},$:{configurable:!0,enumerable:!0,get:function(){var K,T;return void 0 !== this.hx?this.hx:null !== (T=null === (K=this.bQ.next()) || void 0 === K?void 0:K.value.fb.$) && void 0 !== T?T:0;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.ka.Yc;},set:function(K){this.ka.Yc=K;}},r8:{configurable:!0,enumerable:!0,get:function(){return this.ka.fb.r8;}},s8:{configurable:!0,enumerable:!0,get:function(){return this.ka.fb.s8;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ka.index;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.ka.fa;}},C$a:{configurable:!0,enumerable:!0,get:function(){return this.ob.fCa?this.ob.Ch:this.ka.fa;}},Le:{configurable:!0,enumerable:!0,get:function(){return this.ka.Le;},set:function(K){this.ka.Le=K;}},ln:{configurable:!0,enumerable:!0,get:function(){return this.ka.ln;},set:function(K){this.ka.ln=K;}},yH:{configurable:!0,enumerable:!0,get:function(){return this.ka.yH;},set:function(K){this.ka.yH=K;}},xH:{configurable:!0,enumerable:!0,get:function(){return this.ka.xH;},set:function(K){this.ka.xH=K;}},d$:{configurable:!0,enumerable:!0,get:function(){return this.ka.d$;},set:function(K){this.ka.d$=K;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.ka.ia;},set:function(K){this.ka.ia=K;}},hx:{configurable:!0,enumerable:!0,get:function(){return this.ka.hx;},set:function(K){this.ka.hx=K;}},v0:{configurable:!0,enumerable:!0,get:function(){return this.ka.v0;},set:function(K){this.ka.v0=K;}},fb:{configurable:!0,enumerable:!0,get:function(){return this.ka.fb;},set:function(K){this.ka.fb=K;}},CY:{configurable:!0,enumerable:!0,get:function(){return this.ka.CY;},set:function(K){this.ka.CY=K;}},$l:{configurable:!0,enumerable:!0,get:function(){return this.ka.$l;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ka.K;}},je:{configurable:!0,enumerable:!0,get:function(){return this.ka.je;}},aj:{configurable:!0,enumerable:!0,get:function(){return this.ka.aj;}},Vp:{configurable:!0,enumerable:!0,get:function(){return this.ka.Vp;}},aC:{configurable:!0,enumerable:!0,get:function(){return this.ka.aC;}},oi:{configurable:!0,enumerable:!0,get:function(){return this.ka.oi;}},Mi:{configurable:!0,enumerable:!0,get:function(){return this.ka.Mi;}},UI:{configurable:!0,enumerable:!0,get:function(){return this.ka.UI;}},Lv:{configurable:!0,enumerable:!0,get:function(){return this.ka.Lv;}},Sl:{configurable:!0,enumerable:!0,get:function(){return this.ka.Sl;}},Yh:{configurable:!0,enumerable:!0,get:function(){return this.ka.Yh;}},bA:{configurable:!0,enumerable:!0,get:function(){return this.ka.bA;},set:function(K){this.ka.bA=K;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.ka.ea;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.ka.Yj;}},gj:{configurable:!0,enumerable:!0,get:function(){return this.ka.gj;}},OI:{configurable:!0,enumerable:!0,get:function(){return this.ka.OI;},set:function(K){this.ka.OI=K;}},Rf:{configurable:!0,enumerable:!0,get:function(){return this.ka.Rf;}},oK:{configurable:!0,enumerable:!0,get:function(){return this.ka.oK;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ka.background;},set:function(K){this.ka.background=K;}},k7:{configurable:!0,enumerable:!0,get:function(){return this.ka.k7;}},ud:{configurable:!0,enumerable:!0,get:function(){return this.ka.ud;}},xq:{configurable:!0,enumerable:!0,get:function(){return this.ka.xq;}},kpa:{configurable:!0,enumerable:!0,get:function(){return this.ka.kpa;}},zP:{configurable:!0,enumerable:!0,get:function(){return this.ka.zP;}},mA:{configurable:!0,enumerable:!0,get:function(){return 0 !== w.config.I7 && 0 === this.ka.ea % w.config.I7;}},B7:{configurable:!0,enumerable:!0,get:function(){return this.ka.B7;}},ph:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Yj,Xid:this.ea};}},Sba:{configurable:!0,enumerable:!0,get:function(){return this.ob.Sba;}}});b.PMa=c;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Sdb=void 0;c=a(14);k=a(8);h=a(3);a(25);b.Sdb=function(g){var d;(0,k.Aj)("Storage");d={};g({da:!0,storage:{load:function(f,m){var l;if(d.hasOwnProperty(f)){l=d[f];!1;m({da:!0,data:l,mda:f});}else (!1,m({wa:h.O.FC}));},save:function(f,m,l,n){l && d.hasOwnProperty(f)?n({da:!1}):(d[f]=m,!1,n && n({da:!0,mda:f}));},remove:function(f,m){delete d[f];!1;m && m(c.Fg);}}});};},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Qdb=void 0;c=a(8);k=a(96);h=a(32);g=a(560);b.Qdb=function(d){c.Aa.get(k.mC).create().then(function(f){d({da:!0,storage:new g.Fga(f,c.Aa.get(h.Qh))});}).catch(function(f){d(f);});};},function(r,b){function a(c,k){this.ex=c;this.ve=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Fga=void 0;a.prototype.load=function(c,k){var h;h=this;this.ex.load(c).then(function(g){k && k(a.jeb(g));}).catch(function(g){k && k(h.Epa(c,g));});};a.prototype.save=function(c,k,h,g){var d;d=this;this.ex.save(c,k,h).then(function(){g && g(a.jeb({key:c,value:k}));}).catch(function(f){g && g(d.Epa(c,f));});};a.prototype.remove=function(c,k){var h;h=this;this.ex.remove(c).then(function(){k && k({da:!0,mda:c});}).catch(function(g){k && k(h.Epa(c,g));});};a.jeb=function(c){return {da:!0,data:c.value,mda:c.key};};a.prototype.Epa=function(c,k){return {da:!1,mda:c,wa:k.wa,Sb:k.cause?this.ve.Me(k.cause):void 0};};b.Fga=a;},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Rdb=void 0;c=a(560);k=a(8);h=a(491);g=a(32);b.Rdb=function(d){d({da:!0,storage:new c.Fga(k.Aa.get(h.VIa),k.Aa.get(g.Qh))});};},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.gx=void 0;c=a(14);k=a(19);r=a(3);h=a(8);g=a(12);d=a(37);f=a(13);m=a(67);l=a(5);a=h.Aa.get(d.Ti);n=h.Aa.get(m.oG);a.register(r.T.NHa,function(p){var v,u;function q(){p(c.Fg);q=c.zw;}function t(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,f.kd)(x[y]))throw y + " is not a function";});}function w(){return Promise.resolve().then(function(){var x;x=g.Ee.getBattery();if(!(0,f.kd)(x.then))throw "getBattery did not return a promise";return x;});}v=(0,h.Aj)("BatteryManager");b.gx={Lib:"chargingchange",J1a:function(){return u?u.level:null;},Vqa:function(){return u?u.charging:null;},addEventListener:function(x,y){u && u.addEventListener(x,y);},removeEventListener:function(x,y){u && u.removeEventListener(x,y);}};k.config.BV && (0,f.kd)(g.Ee.getBattery)?n.ut((0,l.Sc)(k.config.AJb),w()).then(function(x){t(x);u=x;}).catch(function(x){v.error("getBattery failed",x);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,k){var h;h=this;this.W1a=c;this.d9a=k;this.rBa=!1;this.RP=function(){h.Sp=void 0;h.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.MPa=void 0;a.prototype.update=function(c){var k,h,g,d,f;g=this.W1a();if(this.ggb !== g){d=null === (h=null === (k=this.Ep) || void 0 === k?void 0:k.CO(g)) || void 0 === h?void 0:h[0];if(d && ("startTime" in d))if(d.startTime <= g && g <= d.endTime){f=d;this.Vfb(d.endTime - g);}else this.Vfb(d.startTime - g);this.ggb=g;this.qla !== f && (this.qla=f,!c && this.d9a && this.d9a());}};a.prototype.start=function(){this.rBa=!0;this.update();};a.prototype.Gcb=function(c){this.Ep=c;this.qla=this.ggb=void 0;c || this.stop();};a.prototype.stop=function(){this.rBa=!1;this.Ft();};a.prototype.jJb=function(){this.update(!0);return this.qla;};a.prototype.Vfb=function(c){this.Ft();this.rBa && 0 < c && (this.Sp=setTimeout(this.RP,c + a.Fmb));};a.prototype.Ft=function(){this.Sp && (clearTimeout(this.Sp),this.Sp=void 0);};b.MPa=a;a.Fmb=10;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;c=a(18);k=a(107);b.BHa=function(h){function g(d){h.fireEvent(c.ga.HD,{response:d,K:h.ka.K});}return {download:function(d,f){d.j=h;d=k.Tf.download(d,f);d.R5(g);return d;}};};},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;c=a(19);k=a(61);h=a(3);g=a(567);d=a(12);f=a(13);m=a(18);l=a(8);n=a(217);b.gIa=function(p){var t,w,v,u;function q(){p.state.value !== m.dc.we || p.Eb.value !== m.jb.xh && p.Eb.value !== m.jb.Or?w.Ft():w.cI();}t=c.config.TWb;if(!p.jP() && t){w=l.Aa.get(n.a4)(t,function(){p.fireEvent(m.ga.XO,h.T.y3);});p.Eb.addListener(q);p.state.addListener(q);if(c.config.ata){v=(0,k.Pn)();u=new g.$Na(c.config.ata,function(){var x,y;x=(0,k.Pn)();y=x - v;y > t && (p.fireEvent(m.ga.XO,h.T.e3),u.PWa());y > 2 * c.config.ata && (p.bta=(0,d.Wt)(y,p.bta || 0));v=x;});u.b2b();}p.addEventListener(m.ga.fh,function(){w.Ft();(0,f.sd)(u) && u.PWa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Na=void 0;b.$Na=function(a,c){var k;this.b2b=function(){k || (k=setInterval(c,a));};this.PWa=function(){k && (clearInterval(k),k=void 0);};};},function(r,b,a){var k,h,g,d,f,m,l;function c(n){var p,q,t,w;p=this;this.j=n;this.UV=void 0;this.Bja=(0,g.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.pja=(0,g.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.dja=(0,g.createElement)("DIV","width:100%;text-align:center");this.Dpb=this.rja("Audio Bitrate");this.ila=this.rja("Video Bitrate");this.gja=this.rja("CDN");this.kU={};this.JX=d.Aa.get(f.Io);this.Bja.appendChild(this.pja);this.pja.appendChild(this.dja);q=(0,g.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.xpb.bind(this),!1);this.dja.appendChild(q);q=(0,g.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Ntb.bind(this),!1);this.dja.appendChild(q);t=this.Vsb.bind(this);h.bf.addListener(h.ZD,t);n.addEventListener(l.ga.bJ,function(){p.kU={};});n.addEventListener(l.ga.fh,function(){h.bf.removeListener(h.ZD,t);});w=this.Atb.bind(this);n.Bc.forEach(function(v){v.addListener(w);});n.Ac.addListener(w);n.Bg.addListener(w);}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;k=a(36);h=a(64);g=a(44);d=a(8);f=a(40);m=a(194);l=a(18);c.prototype.show=function(){this.LU || (this.fTa(),document.body.appendChild(this.Bja),this.LU=!0);};c.prototype.Bx=function(){this.LU && (document.body.removeChild(this.Bja),this.LU=!1);};c.prototype.toggle=function(){this.LU?this.Bx():this.show();};c.prototype.Lfb=function(){var q,t,w,v;function n(u,x,y){var z,A,B;A=[];x.filter(function(D){return D.Pf === u;}).forEach(function(D){0 <= y.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(u,x,y){var z;z=[];x.filter(function(A){return A.Pf === u;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}t=this.j.Au();w=this.j.zI().sort(function(u,x){return u.bitrate - x.bitrate;});v=w.reduce(function(u,x){0 > u.indexOf(x.Pf) && u.push(x.Pf);return u;},[]).map(function(u){return {profile:u,ranges:n(u,w,t),disallowed:p(u,w,t)};});!1;null === (q=this.j.Ia) || void 0 === q?void 0:q.Br(v,this.j.K);};c.prototype.xpb=function(){var q,t;this.kU={};for(var n=this.ila.options,p=n.length;p--;){q=n[p];q.selected && (this.kU[q.value]=1);}this.UV=this.cqb.bind(this);this.Lfb();if(n=this.j.Yh){t=this.gja.value;n=n.filter(function(w){return w.id == t;})[0];p=this.j.Bc[k.Rb.Ya.Nb].value;n && n != p && (n.uWa={testreason:"streammanager",selreason:"userselection"},this.j.Bc[k.Rb.Ya.Nb].set(n));}this.Bx();};c.prototype.Ntb=function(){this.UV=void 0;this.j.Tcb(this.j.K);this.Bx();};c.prototype.cqb=function(){var n;n=this;return this.j.zI().filter(function(p){return n.kU[p.bitrate];});};c.prototype.fTa=function(){var n,p,q,t;n=this;p=this.j.Ac.value;q=this.j.Bg.value;t=this.j.Yh;p && (t=t.slice(),t.sort(function(w,v){return w.bc - v.bc;}),this.Uka(this.Dpb,p.streams.map(function(w){return {value:w.bitrate,caption:w.bitrate,selected:w == n.j.Ah.value};})));q && (this.Uka(this.ila,q.streams.map(function(w){var v,u;v=n.j.zP.iy(w);w=w.bitrate;u="" + w;v && (u+=" (" + v.join("|") + ")");return {value:w,caption:u,selected:n.UV?n.kU[w]:!v};})),this.ila.removeAttribute("disabled"));t && (this.Uka(this.gja,t.map(function(w){return {value:w.id,caption:"[" + w.id + "] " + w.name,selected:w == n.j.Bc[k.Rb.Ya.Nb].value};})),this.gja.removeAttribute("disabled"));};c.prototype.Atb=function(){this.LU && this.fTa();};c.prototype.rja=function(n){var p,q;p=(0,g.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,g.createElement)("DIV",void 0,n);q=(0,g.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.pja.appendChild(p);return q;};c.prototype.Uka=function(n,p){n.innerHTML="";p.forEach(function(q){var t;t={title:q.caption};q.selected && (t.selected="selected");t=(0,g.createElement)("option",void 0,q.caption,t);t.value=q.value;n.appendChild(t);});};c.prototype.Vsb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == m.vC.lob && this.JX.$ta && this.toggle();};b.WMa=c;},function(r,b,a){var k,h,g,d,f;function c(m,l){this.sqa=m;this.$H={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,k.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Acb(l);this.d0a=this.wKb(this.sqa);}Object.defineProperty(b,"__esModule",{value:!0});b.JPa=void 0;k=a(44);h=a(570);g=a(571);d=a(12);f=a(25);c.prototype.co=function(){return this.element;};c.prototype.r1b=function(m){this.o6=m;};c.prototype.B1b=function(m){this.entry=m;this.pQ();};c.prototype.I1b=function(m){this.Acb(m);this.pQ();};c.prototype.pQ=function(){var m,l,n,p,q,t,w,v,u,x,y,A,B,D;m=this;l=this.co();n=l.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;t=n=0;w={width:p,height:q};if(0 < p && 0 < q && this.entry){this.o6 && (w=(0,k.o8)(p,q,this.o6),n=Math.round((p - w.width) / 2),t=Math.round((q - w.height) / 2));u=this.xyb(w);x=(0,k.o8)(u.width,u.height,this.o6);u=(v=this.entry.blocks) && v.map(function(C){var F;F=(0,g.Apa)(C,x,m.sqa,m.d0a);C=(0,g.i_a)(C) + ";position:absolute";return (0,k.createElement)("div",C,F,c.tfa);});}Object.assign(this.$H,{left:n + "px",right:n + "px",top:t + "px",bottom:t + "px"});l.style.display="none";l.style.direction=this.$H.direction;l.innerHTML="";if(u && u.length){p=w.width;n=w.height;y=w;this.rV && (y=this.Wub(w,this.rV,q,t));this.$H.margin=this.Xs?this.K6(w,"top") + "px " + this.K6(w,"right") + "px " + this.K6(w,"bottom") + "px " + this.K6(w,"left") + "px ":void 0;u.forEach(function(C){return l.appendChild(C);});q=(0,k.TV)(this.$H);l.style.cssText=q + ";visibility:hidden;z-index:-1";t=[];for(var z=u.length - 1;0 <= z;z--){A=u[z];B=v[z];D=this.F8a(A,B,p,n);D.width > p && (A.innerHTML=(0,g.Apa)(B,w,this.sqa,this.d0a,p / D.width),D=this.F8a(A,B,p,n));t[z]=D;}t=(0,h.Bfb)(t,y);if(z=v && v[0] && v[0].textNodes && v[0].textNodes[0] && v[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),w=(0,g.k_a)(v,t,A,y,w),w=(0,k.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,w,c.tfa),l.insertBefore(w,l.firstChild)));l.style.display="none";for(w=t.length - 1;0 <= w;w--){z=t[w];y=u[w].style;A=v[w].region;z=(0,g.j_a)(A,z,p,n,0);Object.assign(y,z);}l.style.cssText=q;}};c.prototype.cAa=function(m){this.rV=m;this.pQ();};c.prototype.hsa=function(){return this.rV;};c.prototype.dAa=function(m){this.Xs=m;this.pQ();};c.prototype.isa=function(){return this.Xs;};c.prototype.jsa=function(){return "block" === this.$H.display;};c.prototype.eAa=function(m){var l;l=m?"block":"none";this.element.style.display=l;this.$H.display=l;m && this.pQ();};c.prototype.wKb=function(m){var l,n;l=this;n={};(0,f.Rg)(m,function(p,q){n[p]=l.mTb(q);});return n;};c.prototype.Acb=function(m){this.$H.direction="boolean" === typeof m?m?"ltr":"rtl":"inherit";};c.prototype.K6=function(m,l){if(this.Xs){if("left" === l || "right" === l)return m.width * (this.Xs[l] || 0);if("top" === l || "bottom" === l)return m.height * (this.Xs[l] || 0);}return 0;};c.prototype.xyb=function(m){return this.Xs?{height:m.height * (1 - (this.Xs.top || 0) - (this.Xs.bottom || 0)),width:m.width * (1 - (this.Xs.left || 0) - (this.Xs.right || 0))}:m;};c.prototype.mTb=function(m){var l;m="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + m + ";";m=(0,k.createElement)("DIV",m,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.tfa);d.wh.body.appendChild(m);l={fontSize:1E3,height:m.clientHeight,width:m.clientWidth / 52,lineHeight:m.clientHeight / 1E3};d.wh.body.removeChild(m);return l;};c.prototype.F8a=function(m,l,n,p){var q,t,w,v,u;q=l.region;t=(q.marginTop || 0) * p;w=(q.marginBottom || 0) * p;v=(q.marginLeft || 0) * n;u=(q.marginRight || 0) * n;l=m.clientWidth || 1;m=m.clientHeight || 1;switch(q.verticalAlignment){case "top":p=t;break;case "center":p=(t + p - w - m) / 2;break;default:p=p - w - m;}switch(q.horizontalAlignment){case "left":n=v;break;case "right":n=n - u - l;break;default:n=(v + n - u - l) / 2;}return {top:p,left:n,width:l,height:m};};c.prototype.Wub=function(m,l,n,p){return {height:n - Math.max(p,l.bottom || 0) - Math.max(p,l.top || 0),width:m.width};};b.JPa=c;c.tfa={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Bfb=void 0;c=a(12);b.Bfb=function(k,h){function g(m,l,n){var w,u,x,y,z;if(m && 1 < m.length){for(var p=[],q=[],t=0;t < m.length;t++){p[t]=0;q[t]=0;}w=!1;for(t=0;t < m.length;t++){for(var v=t + 1;v < m.length;v++){u=m[t];x=m[v];if(0 > u.width || 0 > x.width || x.left > u.left + u.width || x.left + x.width < u.left || x.top > u.top + u.height?0:x.top + x.height >= u.top){y=(0,c.Wt)(u.left,x.left);z=(0,c.Wt)(u.top,x.top);y={width:(0,c.Wt)((0,c.Ry)(u.left + u.width,x.left + x.width) - y,0),height:(0,c.Wt)((0,c.Ry)(u.top + u.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,u=d(m[t]),x=d(m[v]),z && l || !z && !l))(y=(0,c.Wt)(y.width / 2,.25),u.x <= x.x?(q[t]-=y,q[v]+=y):(q[v]-=y,q[t]+=y));else if(z && !l || !z && l)(u=(0,c.Wt)(y.height / 2,.25),p[t]-=u,p[v]+=u);}}for(t=0;t < m.length;t++){if(-.25 > q[t] && 0 <= m[t].left + q[t] || .25 < q[t] && m[t].left + m[t].width + q[t] <= n.width)(m[t].left+=q[t],w=!0);if(-.25 > p[t] && 0 <= m[t].top + p[t] || .25 < p[t] && m[t].top + m[t].height + p[t] <= n.height)(m[t].top+=p[t],w=!0);}return w;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}k=k.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,l){m.forEach(function(n){0 > n.left && n.left + n.width < l.width?n.left+=(0,c.Ry)(-n.left,l.width - (n.left + n.width)):n.left + n.width > l.width && 0 < n.left && (n.left-=(0,c.Ry)(n.left + n.width - l.width,n.left));0 > n.top && n.top + n.height < l.height?n.top+=(0,c.Ry)(-n.top,l.height - (n.top + n.height)):n.top + n.height > l.height && 0 < n.top && (n.top-=(0,c.Ry)(n.top + n.height - l.height,n.top));});})(k,h);for(var f=0;50 > f && g(k,!0,h);f++){;}for(f=0;50 > f && g(k,!1,h);f++){;}return k;};},function(r,b,a){var f,m,l;function c(n,p,q,t,w){var v;v={};"right" == n.horizontalAlignment?v.right=100 * (q - p.left - p.width - w) / q + "%":v.left=100 * (p.left - w) / q + "%";"bottom" == n.verticalAlignment?v.bottom=100 * (t - p.top - p.height - w) / t + "%":v.top=100 * (p.top - w) / t + "%";return v;}function k(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function h(n,p,q,t,w){var v,u;v=n.style;u=(0,m.Qsa)(n.text);for(n=n.lineBreaks;n--;){u="<br />" + u;}return g(u,v,p,q,t,w);}function g(n,p,q,t,w,v){var u;u=p.characterStyle;w=w[u];u=0 <= u.indexOf("MONOSPACE")?k(w,p.cellResolution) || w.lineHeight:w.lineHeight;t=p.characterSize * t.height / (u || 1);t=0 < v?(0,l.DL)(t * v):(0,l.wn)(t);v={"font-size":t + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (v["font-style"]="italic");p.characterUnderline && (v["text-decoration"]="underline");p.characterColor && (v.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (v["background-color"]=d(p.backgroundColor,p.backgroundOpacity));t=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":v["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":v["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":v["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":v["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}v=(0,f.TV)(v);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (v+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + v + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.i_a=b.UGb=b.SGb=b.VGb=b.TGb=b.j_a=b.k_a=b.Apa=void 0;f=a(44);m=a(25);l=a(12);b.Apa=function(n,p,q,t,w){var v;v="";n.textNodes.forEach(function(u){v+=h(u,q,p,t,w);});n.region && n.region.multiRowAlignment && (v='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + v + "</span>");return v;};b.k_a=function(n,p,q,t,w){var v,u,y,z,A;v="";u=w.width;w=w.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + t + ";width:" + (0,l.wn)(y.width + 2 * q) + "px;height:" + (0,l.wn)(y.height + 2 * q) + "px;";y=c(z,y,u,w,q);(0,m.Rg)(y,function(B,D){A+=B + ":" + D + ";";});v+='<div style="' + A + '"></div>';}return v;};b.j_a=c;b.TGb=k;b.VGb=h;b.SGb=g;b.UGb=d;b.i_a=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.TV)(p);};},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;c=a(14);k=a(19);h=a(61);g=a(92);d=a(12);f=a(60);m=a(13);l=a(18);b.KMa=function(n){var w,v,u,x,y,z;function p(){return n.state.value === l.dc.LOADING || n.state.value === l.dc.we && n.Eb.value === l.jb.cg;}function q(){p()?z || (z=setInterval(t,100)):z && (clearInterval(z),z=void 0,(0,f.fg)(t));}function t(){var A,B,D,C,F,G,E,I;A=(0,h.Pn)();B=w.value;D=B?B.progress:0;C=n.state.value == l.dc.LOADING || p() && A - v > k.config.$xb;if(C && n.state.value == l.dc.we){if(n.Nf.value === l.Kf.tOa)(F=D,G=!0);else {E=A;u=u || A;x=x || u + k.config.OTb + 1;(0,m.Ga)(E) && (E=(0,d.Wt)(E,x),F=(0,d.wn)(1E3 * (0,g.BC)((A - u) / (E - u),0,.99)) / 1E3);}if(F < D)if(D - F < k.config.XYb / 100)(F=D,y=void 0);else if(y){if(A - y > k.config.WYb){I=!0;y=void 0;}else F=D;}else (y=A,F=D);}else y=x=u=void 0;A=C?{Et:G,progress:F,YYb:I}:null;(!A || !w || !B || (0,m.Ga)(A.progress) && !(0,m.Ga)(B.progress) || (0,m.Ga)(A.progress) && (0,m.Ga)(B.progress) && .01 < (0,d.m3)(A.progress - B.progress) || A.Et !== B.Et) && w.set(A);}w=n.Rma;v=0;n.state.addListener(function(){q();t();},c.x3);n.Eb.addListener(function(A){if(A.oldValue !== l.jb.cg || A.newValue !== l.jb.cg)v=(0,h.Pn)();q();});n.Nf.addListener(function(){q();});n.ss.addListener(function(){q();});n.kn.addListener(function(){q();});z || (z=setInterval(t,100));};},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L;function c(H){var Q;Q=this;this.j=H;this.Yb=this.j.Yb;this.log=(0,n.Ii)(this.j,"MediaPresenterASE");this.Waa=this.o7=0;this.Y=this.Yb.Y;this.ydb=this.o$a=this.f$a=this.A$=this.Dxa=!1;this.W$=new Set();this.l4b=n.Aa.get(D.UL)((0,B.Sc)(z.Q3));this.jN=void 0;this.Op=n.Aa.get(F.COa)(this.j);this.vy={};this.F7a={};this.KX={};this.Tg=new E.TJa(this.j);this.j4b=function(){var O,J,M;Q.j.v0=(0,l.Pn)();if(!Q.Ck() && Q.jv){O=Q.Yb.A2a();O || (Q.bXb(),Q.Tg.sfb(Q.mediaTime));Q.j.paused.value || !Q.Tg.Aoa(Q.mediaTime) || !Q.Oma() || O || Q.Op.Pta?Q.mza():Q.Dxa || Q.nza();Q.aXb();if(!Q.Yb.A2a() && !Q.A$){O=Q.Yb.mX(!0);J=Q.j.Eb.value;M=Q.nAb();J !== M && !1;M === x.jb.Or?(Q.mediaTime=Q.j.Dv.ca(B.la),Q.mza()):M !== x.jb.cg && Q.j6b(O);Q.Zfb();Q.Tg.nna(Q.mediaTime);Q.j.Eb.set(M);M !== x.jb.cg || J !== x.jb.Rc && J !== x.jb.xh || Q.TVb();}}};this.em=(0,G.fab)(this.j4b);this.mediaTime=H.$;this.j.Fi=!1;this.Yb.addEventListener(A.ck.xdb,function(){Q.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");Q.ydb=!0;try{Q.zb();}catch(O){Q.log.error("Exception while initializing",O);Q.Pd(p.T.ynb);}});this.Yb.addEventListener(A.ck.$5a,function(O){O=O.N;Q.ydb?Q.j9a(O):Q.W$.add(O);});}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;k=a(36);h=a(14);g=a(19);d=a(63);f=a(64);m=a(44);l=a(61);n=a(8);a(103);p=a(3);q=a(357);t=a(24);w=a(92);v=a(25);u=a(60);x=a(18);y=a(13);z=a(173);A=a(314);B=a(5);D=a(114);C=a(217);F=a(574);G=a(1296);E=a(1297);I=a(274);N=a(215);L=a(12);c.prototype.l1a=function(){return this.Yb.mX(!1);};c.prototype.S8=function(){return this.Yb.S8();};c.prototype.wA=function(){return this.Yb.wA();};c.prototype.pI=function(){return this.Yb.pI();};c.prototype.lX=function(){return this.Yb.lX();};c.prototype.zb=function(){var H;H=this;this.log.trace("Video element initializing");this.Yb.sourceBuffers.forEach(function(Q){return H.Tg.X1b(Q);});this.NOb(this.j.UI);};c.prototype.NOb=function(H){var Q,O;Q=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (O=this.j.Ia) || void 0 === O?void 0:O.kA(this.j.K));0 < this.W$.size && setTimeout(function(){Q.log.trace("Notifying about licenses that were added before source buffers created");Array.from(Q.W$).forEach(function(J){Q.W$.delete(J);Q.j9a(J);});},0);this.log.trace("Waiting for loadedmetadata");(0,m.mUa)(this.Y,"loadedmetadata",function(){Q.log.trace("Video element event: loadedmetadata");Q.j.Be("md");});f.bf.addListener(f.fo,this.KX[f.fo]=function(){return Q.close();},h.KL);this.j.addEventListener(x.ga.fh,function(){return Q.close();},h.KL);this.j.addEventListener(x.ga.Sbb,function(){return Q.nza();});this.j.addEventListener(x.ga.bJ,function(){return Q.FVb();});this.j.paused.addListener(function(){return Q.em();});this.j.muted.addListener(function(){return Q.XBa();});this.j.volume.addListener(function(){return Q.XBa();});this.j.playbackRate.addListener(function(){return Q.Vda();});this.j.ss.addListener(function(){return Q.em();});this.j.kn.addListener(function(){return Q.em();});this.XBa();this.Vda();this.Tg.Yca(function(){return Q.uaa();});this.uaa();this.B5b();};c.prototype.j9a=function(H){var Q;this.j.Be("ld",H);null === (Q=this.j.Ia) || void 0 === Q?void 0:Q.kA(H);this.j.fireEvent(x.ga.X5a);};c.prototype.f6=function(H){var Q;Q=this;!1;this.Tg.kwb(H);this.Xyb(H).then(function(){Q.uaa();Q.j.fireEvent(x.ga.taa);}).catch(function(O){Q.Pd(p.T.Cnb,{Sb:(0,v.Me)(O)});});};c.prototype.Ula=function(H,Q,O){O=void 0 === O?{}:O;Q=this.SFb(H,Q);this.Tg.jwb(H,Q,O);this.uaa();this.f$a || H.type !== k.Rb.Uk.Nb || (this.Op.Pta || this.seek(this.j.$,x.Ye.Ny),this.f$a=!0);};c.prototype.B5b=function(){var H;H=this;this.Yb.addEventListener(A.ck.M_,this.vy[A.ck.M_]=function(){return H.XVb();});this.Yb.addEventListener(A.ck.Dq,this.vy[A.ck.Dq]=function(){return H.mba();});this.Y.addEventListener("ended",this.vy.ended=function(){return H.BVb();});this.Y.addEventListener("play",this.vy.play=function(){return H.KVb();});this.Y.addEventListener("pause",this.vy.pause=function(){return H.IVb();});this.Y.addEventListener("playing",this.vy.playing=function(){return H.QVb();});this.jv=!0;this.Tg.sfb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Be("vi");g.config.QYa?setTimeout(function(){H.Hwa=!0;H.em();},g.config.QYa):this.Hwa=!0;this.e3b();(0,u.fg)(function(){return H.em();});};c.prototype.e3b=function(){var O;function H(){var J;O.j.Eb.value !== x.jb.Rc || 0 !== (null === (J=O.j.Wf) || void 0 === J?void 0:J.S8()) || L.wh.hidden?(O.E8a.Ft(),J="stopTimer"):(O.E8a.cI(),J="ensureTimer");O.log.trace("No render timer update: " + J,{presentingState:x.jb[O.j.Eb.value],hidden:L.wh.hidden});}function Q(J){var M,P;J=void 0 === J?!0:J;M=O.j.Ia;P=(null === M || void 0 === M?void 0:M.Bi) && M.H9();O.j.Eb.value == x.jb.cg && O.j.state.value == x.dc.we && O.j.ss.value == x.Kf.we && O.j.kn.value == x.Kf.we && !O.j.Fi && P?(J && O.q7.Ft(),O.q7.cI(),M="ensureTimer"):(O.q7.Ft(),M="stopTimer");O.log.trace("Timer update: " + M,{presentingState:x.jb[O.j.Eb.value],playbackState:x.dc[O.j.state.value],avBufferingState:x.Kf[O.j.ss.value],textBufferingState:x.Kf[O.j.kn.value],autoplayWasBlocked:O.j.Fi,hasLicense:P,restartTimer:J});}O=this;g.config.GYa && ((0,t.sb)(!this.q7),this.q7=n.Aa.get(C.a4)(g.config.GYa,function(){var J;J=n.Aa.get(q.Gfa).$Ya(O.j);O.Pd(J.code,J);}),this.j.Eb.addListener(function(){return Q();}),this.j.ss.addListener(function(){return Q();}),this.j.kn.addListener(function(){return Q();}),this.j.state.addListener(function(){return Q();}),this.j.addEventListener(x.ga.X5a,function(){return Q();}),this.j.addEventListener(x.ga.Fi,function(){return Q();}),this.j.addEventListener(x.ga.oma,function(){return Q();}),this.j.addEventListener(x.ga.UJ,function(){return Q(!0);}),Q());g.config.D8a && (this.E8a=n.Aa.get(C.a4)(g.config.D8a,function(){var J;0 === (null === (J=O.j.Wf) || void 0 === J?void 0:J.wA()) && (J=n.Aa.get(q.Gfa).$Ya(O.j),O.Pd(J.code,J));O.j.Eb.removeListener(H);f.bf.removeListener(f.Js,O.KX[f.Js]);}),this.j.Eb.addListener(H),f.bf.addListener(f.Js,this.KX[f.Js]=H),H());};c.prototype.SFb=function(H,Q){var O;O=this.j.Le;(O=(0,N.Bta)(O)?O.EO():void 0) && H.type === k.Rb.Uk.Nb && ((H=new I.xL(this.log,{mediaType:I.dk.Nb,url:"http://some-url"},Q).Ba(O))?Q=H:!1);return Q;};c.prototype.uaa=function(){this.jv && this.em();this.Tg.BWa();};c.prototype.m3b=function(){!1;this.j.Eb.set(x.jb.cg);this.A$=!0;this.em();};c.prototype.jAb=function(){var H;H=this;this.A$ && (!1,this.A$=!1,(0,u.fg)(function(){return H.XUb();}));};c.prototype.I8=function(){return this.Tg.I8();};c.prototype.XUb=function(){var H,Q;H=this.j.UD() || 0;if(this.j.fb.ci){if(g.config.Mxb){H=H - (this.Yb.Aza + 1) - g.config.zza;Q=this.j.Ia.Om().qd;H=Math.max(H,Q);}}else (H-=g.config.R0b,H=Math.max(H,this.Op.tua));this.seek(H,x.Ye.Y3);};c.prototype.kZ=function(H){var Q;Q=this;this.Tg.Z1b(H);(0,u.fg)(function(){return Q.em();});};c.prototype.NKb=function(){return {o7:this.o7,Waa:this.Waa};};c.prototype.Xyb=function(H){var Q;Q=this.Yb && this.Yb.V1a();this.j.Dv && Q && Infinity !== H.ccb && (H=H.ccb + H.Mv,H > this.j.Dv.K$a(B.la) && (this.j.Dv=(0,B.Sc)(H)));return Promise.resolve();};c.prototype.aXb=function(){var H;H=this;this.Op.Dba && (!1,this.Oma() && this.Tg.Aoa(this.mediaTime) && (this.Yb.seek(this.mediaTime),this.Op.Dba=!1,(0,u.fg)(function(){return H.em();})));};c.prototype.j6b=function(H){var Q;if(H < this.mediaTime){Q=this.mediaTime - H;g.config.cXb && H && Q > z.Q3 && (H={ElementTime:(0,w.qj)(H),MediaTime:(0,w.qj)(this.mediaTime)},Q > z.WNa?this.Pd(p.T.Mnb,{Sb:Object.assign({Trace:this.Yb.WD()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,w.BC)(H,0,this.j.Dv.ca(B.la));};c.prototype.Oma=function(){return this.j.ss.value === x.Kf.we && this.j.kn.value === x.Kf.we;};c.prototype.nAb=function(){var H,Q,O;H=this;Q=this.j.Eb.value;O=Q;this.Op.Pta?O=x.jb.cg:this.Y && this.Y.ended?Q === x.jb.Rc && (O=x.jb.Or):this.Oma() && this.Tg.Aoa(this.mediaTime)?this.Yb.UEb()?O=this.Y && this.Y.paused?x.jb.xh:x.jb.Rc:this.l4b.cm(function(){return H.k4b();}):O=this.j.Dv?this.j.f3a(this.mediaTime,this.Tg.n7())?x.jb.cg:x.jb.Or:x.jb.cg;return O;};c.prototype.TVb=function(){var H;if(this.j.Eb.value === x.jb.cg){H=this.Tg.U4b() > this.Tg.n7();this.j.kn.value !== x.Kf.we?this.j.$i.value?(this.j.fireEvent(x.ga.Qz,{cause:d.HMa}),this.log.warn("rebuffer due to timed text",this.j.$i.value.ph)):this.j.fireEvent(x.ga.fR):H?(this.o7++,this.j.fireEvent(x.ga.Qz,{cause:d.Kha})):(this.Waa++,this.j.fireEvent(x.ga.Qz,{cause:d.Lha}));}};c.prototype.k4b=function(){this.Ck() || (g.config.aVb && this.Tg.$Ub(),this.em());};c.prototype.XVb=function(){this.em();};c.prototype.mba=function(){this.em();this.j.fireEvent(x.ga.Dq);};c.prototype.BVb=function(){this.log.trace("Video element event: ended");this.em();};c.prototype.KVb=function(){this.log.trace("Video element event: play");this.em();};c.prototype.IVb=function(){this.log.trace("Video element event: pause");this.em();};c.prototype.QVb=function(){this.log.trace("Video element event: playing");this.em();};c.prototype.XBa=function(){this.Ck() || (this.Y && this.Y.volume !== this.j.volume.value && (this.Y.volume=this.j.volume.value),this.Y && this.Y.muted !== this.j.muted.value && (this.Y.muted=this.j.muted.value));};c.prototype.Vda=function(){!this.Ck() && this.Y && (this.Y.playbackRate=this.j.playbackRate.value);};c.prototype.nza=function(){var H;H=this;this.Ck() || !(0,y.sd)(this.Y) || this.Y.ended || !this.Hwa || !this.uR && void 0 !== this.uR || (this.log.trace("Calling play on element"),Promise.resolve(this.Y.play()).then(function(){H.closed || (H.uR=!1,H.Dxa=!1,H.Y.style.display=null,H.j.Fi=!1,H.j.fireEvent(x.ga.oma));}).catch(function(Q){"NotAllowedError" === Q.name?(H.log.warn("Playback is blocked by the browser settings",Q),H.j.Fi=!0,H.closed || (H.Dxa=!0,H.Y.style.display="none",H.j.fireEvent(x.ga.Fi,{player:{play:function(){return H.nza();}}}))):H.closed || (H.uR=!1,H.o$a || (H.o$a=!0,H.log.error("Play promise rejected",Q)));}));};c.prototype.FVb=function(){this.Op.tua=this.j.UD() || 0;};c.prototype.mza=function(){this.Ck() || !(0,y.sd)(this.Y) || this.Y.ended || !this.Hwa || this.uR && void 0 !== this.uR || (this.log.trace("Calling pause on element"),this.Y.pause(),this.uR=!0);};c.prototype.Zfb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.vIb();};c.prototype.seek=function(H,Q,O,J){var M,P;O=void 0 === O?this.j.fa:O;J=void 0 === J?!1:J;P=null === (M=this.j.Ia) || void 0 === M?void 0:M.Bi;!this.Ck() && P && (this.j.fireEvent(x.ga.UJ,{cause:Q}),this.Op.IZ={time:H,cause:Q,fa:O,CIb:J},this.j.Eb.set(x.jb.cg),this.em());};c.prototype.bXb=function(){var H,Q,O,J,M,P,R,S;if(this.Op.IZ){H=this.Op.IZ;Q=H.time;O=H.cause;J=H.fa;M=H.CIb;if(!this.Tg.bi() || O === x.Ye.Ny){H=this.j.Bk(J).K;P=this.Tg.bi()?void 0:this.Tg.FJb();P=this.Op.pLb(Q,O,J,M,P);J=P.Zaa;M=P.uk;R=P.CXb;P=P.bj;this.Tg.nna(this.mediaTime);S=this.mediaTime;Q=(0,w.qj)(Q);this.j.mH("SEEKING: Requested: (" + H + ":" + O + ":" + Q + ") - Actual: (contentPts: " + M + ",playerPts: " + (R + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:Q,Actual:(0,w.qj)(J),Cause:O,Skip:P});O === x.Ye.Ny || P || (this.Tg.xbb(),this.Tg.T1b());this.mediaTime=J;this.Op.tua=M;Q=this.j.Hf.value;R=this.j.se.value;this.j.Hf.set(null);this.j.se.set(null);this.Zfb(!0);this.Op.IZ=void 0;this.Op.Dba=!0;this.j.fireEvent(x.ga.Lk,{Iwa:S,Zaa:J,uk:M,cause:O,skip:P,Hf:Q,se:R,K:H});P && this.Tg.skip(J);}}};c.prototype.Pd=function(H,Q,O){this.closed || this.j.Pd(H,Q,O);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Tg.close();this.Yb.removeEventListener(A.ck.M_,this.F7a[A.ck.M_]);this.Yb.removeEventListener(A.ck.Dq,this.F7a[A.ck.Dq]);this.Y.removeEventListener("ended",this.vy.ended);this.Y.removeEventListener("play",this.vy.play);this.Y.removeEventListener("pause",this.vy.pause);this.Y.removeEventListener("playing",this.vy.playing);f.bf.removeListener(f.fo,this.KX[f.fo]);f.bf.removeListener(f.Js,this.KX[f.Js]);this.closed=!0;try{this.Y.volume=0;this.Y.muted=!0;this.mza();this.Yb.close();}catch(H){}this.Y=void 0;this.Tg.xbb();}};c.prototype.Ck=function(){return this.closed?!0:(0,y.sd)(this.Y)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.jKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.COa="SeekManagerFactorySymbol";},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;c=a(19);k=a(64);h=a(25);g=a(3);d=a(18);b.zGa=function(f,m,l){function n(q){var t,w;t=q.error || q;w=(0,h.Me)(t);l.error("uncaught exception",t,w);(t=(t=t && t.stack) && c.config.Dfb && c.config.O5b?0 <= t.indexOf(c.config.Dfb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Pd(g.T.cQa));}function p(){k.bf.removeListener(k.w9,n);f.removeEventListener(d.ga.fh,p);f.removeEventListener(d.ga.Av,p);}try{k.bf.addListener(k.w9,n);f.addEventListener(d.ga.fh,p);c.config.tOb && f.addEventListener(d.ga.Av,p);}catch(q){l.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tha="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.G6a=void 0;c=a(19);k=a(14);h=a(61);r=a(3);g=a(12);d=a(13);f=a(8);a=a(37);f.Aa.get(a.Ti).register(r.T.RHa,function(m){var p,q,t,w,v;function l(){return (0,g.DL)((0,h.Pn)() / t);}function n(){var u;u=l();if(u != v){for(var x=(0,g.Ry)(u - v,30);x--;){w.push(0);}(x=(0,g.Wt)(w.length - 31,0)) && w.splice(0,x);v=u;}w[w.length - 1]++;}p=c.config.gSb;q=-6 / (p - 2 - 2);t=k.Vt;w=[];v=l();(0,d.Sta)(p) && (setInterval(n,1E3 / p),b.G6a={FKb:function(){var y;for(var u=[],x=w.length - 1;x--;){y=w[x];u.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,g.wn)((y - 2) * q + 7));}return u;}});m(k.Fg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qha="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$La="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ELa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U$=void 0;b.U$=function(a,c,k){var h;if(k.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");h=k.get;k.get=function(){var g,d;g=h.apply(this,arguments);d={enumerable:k.enumerable,value:g};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return g;};};},function(r,b,a){var k,h,g,d,f;function c(m,l){this.Yb=m;this.j=l;this.uY=[];}Object.defineProperty(b,"__esModule",{value:!0});b.RR=void 0;r=a(2);k=a(3);h=a(0);g=a(13);d=a(25);f=a(8);c.prototype.n8=function(m){this.uY.forEach(function(l){return l(m);});};c.prototype.Pd=function(m,l,n){this.j.Pd(m,l,n);};c.prototype.pvb=function(m){-1 === this.uY.indexOf(m) && this.uY.push(m);};c.prototype.n_b=function(m){m=this.uY.indexOf(m);0 <= m && this.uY.splice(m,1);};c.prototype.R2a=function(m){var l,n;l={};(0,g.sd)(m.code)?l.wa=(0,k.wGa)(m.code):l.wa=k.O.km;try{n=m.message.match(/\((\d*)\)/)[1];l.Df=(0,f.xma)(n,4);}catch(p){}l.Sb=(0,d.Me)(m);return l;};a=c;a=r.__decorate([(0,h.U)()],a);b.RR=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uNa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yNa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var k;function c(h,g,d,f,m){var l;l=this;this.ob=h;this.Sk=g;this.Vv=d;this.Wb=f;this.Zm=m;this.Yba=new Map();this.k2b();this.Wb.addListener(k.Ja.loaded,function(){return l.Q$a();});}Object.defineProperty(b,"__esModule",{value:!0});b.bG=void 0;k=a(18);c.prototype.oUa=function(h){var g,d;g=this;d=Object.keys(this.ob.ul.P).find(function(f){return g.ob.ul.P[f].N === h.K;});h.id || (h.id=null !== d && void 0 !== d?d:this.Zm.Is(h.K));d || (this.ob.ul=this.Zm.mwb(this.ob.ul,h));d=this.LJ(h.id);h.Fj && this.ob.p6b(h.id,h.Fj);return d;};c.prototype.wfb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.ssa=function(h,g){var d;d=this;g=void 0 === g?{}:g;return this.Vv.transition(h,g).then(function(){d.ob.Ch=h;});};c.prototype.close=function(h){return this.Vv.close(h);};c.prototype.isReady=function(){return this.Vv.VLb();};c.prototype.co=function(){return this.Vv.co();};c.prototype.wI=function(){return this.Vv.wI();};c.prototype.LJ=function(h){this.Yba.has(h) || this.Yba.set(h,this.Vv.eh(this.Zxb(h)));return this.Yba.get(h);};c.prototype.k2b=function(){var h;h=this;this.Vv.addListener(k.mG.O_,function(){return h.Wb.ed(k.mG.O_);});Object.values(k.Ja).forEach(function(g){h.Vv.addListener(g,function(d){return h.Wb.ed(g,d);});});};c.prototype.Sx=function(){this.Q$a();};c.prototype.Twa=function(h){this.Vv.n6b({id:h,K:this.ob.Oe(h).N,Fj:this.ob.mMb(h)});};c.prototype.vJ=function(){};c.prototype.Q$a=function(){var h,g;if(this.isReady()){h=this.ob.Ch;g=this.ob.yX(h);g && !this.Yba.has(g) && (this.Twa(h),this.LJ(g));}};c.prototype.Zxb=function(h){var g,d,f,m;d=this.ob.Oe(h);f=this.Sk.RO(d.N);m=null === f || void 0 === f?void 0:f.Db;f=null === f || void 0 === f?void 0:f.ia;return {id:h,K:d.N,$:d.sa,Fj:null !== (g=null === m || void 0 === m?void 0:m.Fj) && void 0 !== g?g:d.va,Db:m,ia:f};};b.bG=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rha=void 0;a.prototype.lva=function(c){c=void 0 === c?{}:c;return {Yj:c.trackingId,w6:c.authParams,en:c.sessionParams,je:c.uiLabel,cea:c.uxLabels,apa:c.disableTrackStickiness,oR:c.uiPlayStartTime,r8:c.forceAudioTrackId,s8:c.forceTimedTextTrackId,ci:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,hO:c.enableTrickPlay,Gsa:c.heartbeatCooldown,y$:c.isPlaygraph,X$:c.loadImmediately || !1,h$a:c.pin,SZ:c.preciseSeeking,$:c.startPts,La:c.endPts,Fj:c.logicalEnd,rca:c.renderTimedText,x_a:c.extraManifestParams,fma:c.assetId,Vwb:c.audioLanguages,A4b:c.textLanguages,Jgb:c.videoLanguage,Ip:c.packageId,WYa:c.desiredDownloadables,Zya:c.requestReference,Mvb:c.additionalAudioAssets,Ovb:c.additionalTextAssets};};b.Rha=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;b.PGa=function(a){var h,g,d,f;function c(){if(d)for(var m;m=h.pop();){m(f);}}function k(m){d=!0;f=m;c();}h=[];return function(m){h.push(m);g || (g=!0,a(k));c();};};},function(r,b,a){var k,h,g,d;function c(f){var m;(0,k.Aj)("MediaSourceASE").trace("Inside MediaSourceASE");m=f.wX();this.readyState=d.$c.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(l){return m.addSourceBuffer(l);};this.U5=function(l){return m.U5(l);};this.removeSourceBuffer=function(l){return m.removeSourceBuffer(l);};this.Gq=function(l){return m.Gq(l);};this.duration=void 0;this.readyState=d.$c.OPEN;this.Uc=h.Aa.get(g.Qh).mJ(d.Uc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;k=a(8);h=a(8);g=a(32);Object.defineProperty(c.prototype,"duration",{get:function(){return this.hk;},set:function(f){var m;this.hk=f || Infinity;m=Math.floor(1E3 * f) || Infinity;this.sourceBuffers.forEach(function(l){l.hk=m;});}});d={$c:{CLOSED:0,OPEN:1,Or:2,name:["CLOSED","OPEN","ENDED"]},Uc:{XWa:!0,m8a:!0}};b.oKa=Object.assign(c,d);},function(r,b,a){var m,l,n,p,q,t,w,v;function c(u){return u.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function k(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function h(u,x,y){var z;if("string" === typeof u)return h.call(this,c(u),x,y);z=0;Object.keys(u).forEach(function(A){var B,D,C;B=q[A];D=u[A];if(B){if(C=t[A] || v[typeof m[B]])try{D=C(D);}catch(F){y && y.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}C=p[B];this[B]=D;p[B] !== C && (y && y.debug("Config changed for '" + A + "' from " + k(C) + " (" + typeof C + ") to " + k(D) + " (" + typeof D + ")"),++z);}else x?(B=(B=w[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),w[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function g(){return Object.keys(q).reduce(function(u,x){var y,z;y=q[x];z=u[y];z?(z.push(x),u[y]=z.sort(function(A,B){return B.length - A.length;})):u[y]=[x];return u;},{});}function d(u,x){return u.hasOwnProperty(x)?k(u[x]):void 0;}function f(u,x){return "undefined" === typeof u?x:u;}b=a(85);a=a(1380).EventEmitter;m={};l=Object.create(m);n=Object.create(l);p=Object.create(n);q={};t={};w={};p.declare=function(u){Object.keys(u).forEach(function(x){var y,z,A,B;y=u[x];z=y[0];A=y[1];B=y[2];if(m.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var C;if(q.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");m.hasOwnProperty(x) || ("function" === typeof A && (A=A()),m[x]=A);q[D]=x;"function" === typeof B && (t[D]=B);if(C=w[D])(C.forEach(function(F){var G,E;G=F[0];E={};E[D]=F[1];h.call(G,E,!1);}),delete w[D]);});});return p;};v={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=h.bind(l);p.AZ=h.bind(n);p.dump=function(u,x){var z,A,B,D;function y(){D && u && u.log("===========================================");}z=Object.keys(w).sort();A={};B=g();x=f(x,!0);Object.keys(q).sort().forEach(function(C){var F,G,E;C=q[C];if(!A[C]){A[C]=!0;F=d(l,C);G=d(n,C);if(x || "undefined" !== typeof F || "undefined" !== typeof G){E=B[C].join(",");E+=" = " + k(p[C]) + " (" + typeof p[C] + ") [";E+=f(G,"<unset>") + ",";E+=f(F,"<unset>") + ",";E+=d(m,C) + "]";D || (D=!0,u && u.log("Current config values"),y());u && u.log(E);}}});(x || z.length) && u && u.log("<undeclared> :",z);y();};p.Bq=function(u){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});u && h.call(x,u);return x;};p.g$a=function(){var u;u=g();return Object.getOwnPropertyNames(l).reduce(function(x,y){x[u[y][0]]=l[y];return x;},{});};p.reset=function(){Object.keys(l).forEach(function(u){delete l[u];});};p.Ed={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var k;function c(h){for(var g="",d=0;d < h.length;d++){g+=h[d].N + "|";}return g;}k=a(319);r.exports={assert:function(h,g){if(!h)throw Error("PlayPredictionModel assertion failed" + (g?" : " + g:""));},bfc:function(h,g,d){Array.prototype.splice.apply(h,[g,0].concat(d));},VJb:function(h){for(var g=[],d=0;d < h.length;d++){if(h[d].context === k.CS.bjb){g=h[d].list;break;}}return g;},CJb:function(h){for(var g=[],d=0;d < h.length;d++){if(h[d].context === k.CS.Thb){g=h[d].list;break;}}return g;},QEb:function(h,g){for(var d=0,f,m,l,n=0,p=h.length - 1;n < p;n++){f=c(h[n].list || []);l=!1;for(var q=0,t=g.length;q < t;q++){if((m=c(g[q].list || []),m == f)){l=!0;break;}}if(!1 === l){d=n;break;}}return d;},pVb:function(h,g,d){for(var f=[],m,l=0;l < Math.min(g,h.length);l++){m=h[l].list || [];f=f.concat(m.slice(0,d));}return f;},oVb:function(h,g){for(var d=[],f,m=0;m < h.length && (f=h[m].list || [],f=f.slice(0,Math.min(f.length,g)),g-=f.length,d=d.concat(f),0 !== g);m++){;}return d;},nVb:function(h,g,d){var f;g < h.length && 0 <= g && (h=h[g].list || [],d < h.length && (f=h[d]));return f;},Q_a:function(h){for(var g={},d=h.length,f,m=0;m < d;m++){f=h[m].list || [];for(var l=0;l < f.length;l++){if(f[l].property === k.wL.ZS || f[l].property === k.wL.UEa){g.Nk=m;g.Em=l;break;}}}void 0 === g.Nk && void 0 === g.Em && (g.Nk=0,g.Em=0);return g;}};},function(r,b,a){var g;function c(d,f,m,l,n,p,q){this.a1=l;this.ohb=d;this.B8a=f;this.Xva=m;this.rQb=p;this.Np=q;this.split=n;}function k(){this.L={};this.L["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.L["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.L["3"]=new c("7","8","7","10","1.5",0,0);this.L["7"]=new c("15","16","15","9","4.5",0,0);this.L["15"]=new c("31","32","31","2","5.5",0,0);this.L["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.L["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.L["123"]=new c("123","124","123","0","0",1,.207298);this.L["124"]=new c("123","124","123","0","0",1,.49076);this.L["64"]=new c("125","126","125","4","40.5",0,0);this.L["125"]=new c("125","126","125","0","0",1,-.00157835);this.L["126"]=new c("125","126","125","0","0",1,.934205);this.L["32"]=new c("65","66","65","135","5.5",0,0);this.L["65"]=new c("127","128","128","4","1272.5",0,0);this.L["127"]=new c("127","128","128","0","0",1,-.510333);this.L["128"]=new c("127","128","128","0","0",1,.18363);this.L["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.L["129"]=new c("129","130","129","0","0",1,-.0464542);this.L["130"]=new c("129","130","129","0","0",1,.458833);this.L["16"]=new c("33","34","34","10","2.00001",0,0);this.L["33"]=new c("67","68","67","0","29.5",0,0);this.L["67"]=new c("131","132","131","2","39.5",0,0);this.L["131"]=new c("131","132","131","0","0",1,-.37577);this.L["132"]=new c("131","132","131","0","0",1,.512087);this.L["68"]=new c("133","134","134","140","1.5",0,0);this.L["133"]=new c("133","134","134","0","0",1,.321272);this.L["134"]=new c("133","134","134","0","0",1,-.675396);this.L["34"]=new c("69","70","70","2","24.5",0,0);this.L["69"]=new c("135","136","136","9","28.5",0,0);this.L["135"]=new c("135","136","136","0","0",1,-.0573845);this.L["136"]=new c("135","136","136","0","0",1,-.507455);this.L["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.L["137"]=new c("137","138","137","0","0",1,-.503909);this.L["138"]=new c("137","138","137","0","0",1,.450886);this.L["8"]=new c("17","18","17","4","44189.5",0,0);this.L["17"]=new c("35","36","35","2","21.5",0,0);this.L["35"]=new c("71","72","72","0","19.5",0,0);this.L["71"]=new c("139","140","140","9","2.5",0,0);this.L["139"]=new c("139","140","140","0","0",1,.00403497);this.L["140"]=new c("139","140","140","0","0",1,-.312656);this.L["72"]=new c("141","142","141","135","96",0,0);this.L["141"]=new c("141","142","141","0","0",1,-.465786);this.L["142"]=new c("141","142","141","0","0",1,.159633);this.L["36"]=new c("73","74","73","130","89.5",0,0);this.L["73"]=new c("143","144","144","10","4.5",0,0);this.L["143"]=new c("143","144","144","0","0",1,-.76265);this.L["144"]=new c("143","144","144","0","0",1,-.580804);this.L["74"]=new c("145","146","146","10","16.5",0,0);this.L["145"]=new c("145","146","146","0","0",1,.296357);this.L["146"]=new c("145","146","146","0","0",1,-.691659);this.L["18"]=new c("37","38","38","9","1.5",0,0);this.L["37"]=new c("37","38","38","0","0",1,.993951);this.L["38"]=new c("75","76","75","0","19",0,0);this.L["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.L["147"]=new c("147","148","147","0","0",1,-.346535);this.L["148"]=new c("147","148","147","0","0",1,-.995745);this.L["76"]=new c("147","148","147","0","0",1,-.99978);this.L["4"]=new c("9","10","9","5","4.5",0,0);this.L["9"]=new c("19","20","19","2","4.5",0,0);this.L["19"]=new c("39","40","39","140","7.5",0,0);this.L["39"]=new c("77","78","78","134","6.5",0,0);this.L["77"]=new c("149","150","150","7","11.5",0,0);this.L["149"]=new c("149","150","150","0","0",1,.729843);this.L["150"]=new c("149","150","150","0","0",1,.383857);this.L["78"]=new c("151","152","151","133","4.5",0,0);this.L["151"]=new c("151","152","151","0","0",1,.39017);this.L["152"]=new c("151","152","151","0","0",1,.0434342);this.L["40"]=new c("79","80","79","133","3.5",0,0);this.L["79"]=new c("153","154","154","8","4.5",0,0);this.L["153"]=new c("153","154","154","0","0",1,-.99536);this.L["154"]=new c("153","154","154","0","0",1,-.00943396);this.L["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.L["155"]=new c("155","156","155","0","0",1,.266272);this.L["156"]=new c("155","156","155","0","0",1,.959904);this.L["20"]=new c("41","42","42","10","65.5",0,0);this.L["41"]=new c("81","82","82","7","10.5",0,0);this.L["81"]=new c("157","158","158","2","37.5",0,0);this.L["157"]=new c("157","158","158","0","0",1,-.701873);this.L["158"]=new c("157","158","158","0","0",1,.224649);this.L["82"]=new c("159","160","159","133","9.5",0,0);this.L["159"]=new c("159","160","159","0","0",1,.0955181);this.L["160"]=new c("159","160","159","0","0",1,-.58962);this.L["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.L["83"]=new c("161","162","161","135","31",0,0);this.L["161"]=new c("161","162","161","0","0",1,-.229692);this.L["162"]=new c("161","162","161","0","0",1,.88595);this.L["84"]=new c("163","164","164","1","13.5",0,0);this.L["163"]=new c("163","164","164","0","0",1,-.992157);this.L["164"]=new c("163","164","164","0","0",1,.922159);this.L["10"]=new c("21","22","22","4","486",0,0);this.L["21"]=new c("43","44","44","133","4.5",0,0);this.L["43"]=new c("85","86","86","10","4.5",0,0);this.L["85"]=new c("165","166","166","4","158.5",0,0);this.L["165"]=new c("165","166","166","0","0",1,-.127778);this.L["166"]=new c("165","166","166","0","0",1,.955189);this.L["86"]=new c("165","166","166","0","0",1,-.994012);this.L["44"]=new c("87","88","88","1","3.5",0,0);this.L["87"]=new c("167","168","168","135","7",0,0);this.L["167"]=new c("167","168","168","0","0",1,-.997015);this.L["168"]=new c("167","168","168","0","0",1,.400821);this.L["88"]=new c("169","170","169","130","36",0,0);this.L["169"]=new c("169","170","169","0","0",1,-.898638);this.L["170"]=new c("169","170","169","0","0",1,.56129);this.L["22"]=new c("45","46","45","9","2.5",0,0);this.L["45"]=new c("89","90","90","9","1.5",0,0);this.L["89"]=new c("171","172","171","10","10.5",0,0);this.L["171"]=new c("171","172","171","0","0",1,.573986);this.L["172"]=new c("171","172","171","0","0",1,-.627266);this.L["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.L["173"]=new c("173","174","173","0","0",1,.925273);this.L["174"]=new c("173","174","173","0","0",1,-.994805);this.L["46"]=new c("91","92","91","136","5.5",0,0);this.L["91"]=new c("175","176","175","10","10.5",0,0);this.L["175"]=new c("175","176","175","0","0",1,.548352);this.L["176"]=new c("175","176","175","0","0",1,-.879195);this.L["92"]=new c("177","178","178","8","14.5",0,0);this.L["177"]=new c("177","178","178","0","0",1,.457305);this.L["178"]=new c("177","178","178","0","0",1,-.998992);this.L["2"]=new c("5","6","5","10","2.5",0,0);this.L["5"]=new c("11","12","11","9","4.5",0,0);this.L["11"]=new c("23","24","24","10","4.00001",0,0);this.L["23"]=new c("47","48","48","133","5.5",0,0);this.L["47"]=new c("93","94","93","3","13.5",0,0);this.L["93"]=new c("179","180","179","138","15.5",0,0);this.L["179"]=new c("179","180","179","0","0",1,.658398);this.L["180"]=new c("179","180","179","0","0",1,-.927007);this.L["94"]=new c("181","182","182","3","15.5",0,0);this.L["181"]=new c("181","182","182","0","0",1,-.111351);this.L["182"]=new c("181","182","182","0","0",1,-.99827);this.L["48"]=new c("95","96","95","7","167",0,0);this.L["95"]=new c("183","184","183","132","36.5",0,0);this.L["183"]=new c("183","184","183","0","0",1,.895161);this.L["184"]=new c("183","184","183","0","0",1,-.765217);this.L["96"]=new c("185","186","186","137","6.00001",0,0);this.L["185"]=new c("185","186","186","0","0",1,-.851095);this.L["186"]=new c("185","186","186","0","0",1,.674286);this.L["24"]=new c("49","50","49","137","5.5",0,0);this.L["49"]=new c("97","98","97","5","23.5",0,0);this.L["97"]=new c("187","188","187","3","28.5",0,0);this.L["187"]=new c("187","188","187","0","0",1,.951654);this.L["188"]=new c("187","188","187","0","0",1,-.993808);this.L["98"]=new c("187","188","187","0","0",1,-.99705);this.L["50"]=new c("187","188","187","0","0",1,-.997525);this.L["12"]=new c("25","26","25","8","8.5",0,0);this.L["25"]=new c("51","52","52","10","4.00001",0,0);this.L["51"]=new c("99","100","100","133","5.5",0,0);this.L["99"]=new c("189","190","190","7","40.5",0,0);this.L["189"]=new c("189","190","190","0","0",1,.151839);this.L["190"]=new c("189","190","190","0","0",1,-.855517);this.L["100"]=new c("191","192","192","133","14.5",0,0);this.L["191"]=new c("191","192","192","0","0",1,.86223);this.L["192"]=new c("191","192","192","0","0",1,.544394);this.L["52"]=new c("101","102","101","135","47.5",0,0);this.L["101"]=new c("193","194","194","4","24.5",0,0);this.L["193"]=new c("193","194","194","0","0",1,.946185);this.L["194"]=new c("193","194","194","0","0",1,.811859);this.L["102"]=new c("193","194","194","0","0",1,-.991561);this.L["26"]=new c("53","54","54","132","6.5",0,0);this.L["53"]=new c("103","104","103","131","85",0,0);this.L["103"]=new c("195","196","196","134","16.5",0,0);this.L["195"]=new c("195","196","196","0","0",1,.0473538);this.L["196"]=new c("195","196","196","0","0",1,-.999401);this.L["104"]=new c("197","198","198","8","15.5",0,0);this.L["197"]=new c("197","198","198","0","0",1,.816129);this.L["198"]=new c("197","198","198","0","0",1,-.99322);this.L["54"]=new c("105","106","105","133","3.5",0,0);this.L["105"]=new c("105","106","105","0","0",1,-.998783);this.L["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.L["199"]=new c("199","200","199","0","0",1,.528588);this.L["200"]=new c("199","200","199","0","0",1,-.998599);this.L["6"]=new c("13","14","14","10","7.5",0,0);this.L["13"]=new c("27","28","28","133","7.5",0,0);this.L["27"]=new c("55","56","56","10","4.5",0,0);this.L["55"]=new c("107","108","107","3","3.5",0,0);this.L["107"]=new c("201","202","201","4","17.5",0,0);this.L["201"]=new c("201","202","201","0","0",1,-.379512);this.L["202"]=new c("201","202","201","0","0",1,.15165);this.L["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.L["203"]=new c("203","204","203","0","0",1,-.884606);this.L["204"]=new c("203","204","203","0","0",1,.265406);this.L["56"]=new c("109","110","109","136","6.5",0,0);this.L["109"]=new c("205","206","205","4","157.5",0,0);this.L["205"]=new c("205","206","205","0","0",1,-.0142737);this.L["206"]=new c("205","206","205","0","0",1,.691279);this.L["110"]=new c("205","206","205","0","0",1,-.998086);this.L["28"]=new c("57","58","58","138","11.5",0,0);this.L["57"]=new c("111","112","112","2","6.5",0,0);this.L["111"]=new c("207","208","208","7","67.5",0,0);this.L["207"]=new c("207","208","208","0","0",1,.763925);this.L["208"]=new c("207","208","208","0","0",1,-.309645);this.L["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.L["209"]=new c("209","210","209","0","0",1,-.306635);this.L["210"]=new c("209","210","209","0","0",1,.556696);this.L["58"]=new c("113","114","113","138","50.5",0,0);this.L["113"]=new c("211","212","212","8","25.5",0,0);this.L["211"]=new c("211","212","212","0","0",1,.508234);this.L["212"]=new c("211","212","212","0","0",1,.793551);this.L["114"]=new c("211","212","212","0","0",1,-.998438);this.L["14"]=new c("29","30","29","134","27.5",0,0);this.L["29"]=new c("59","60","60","7","17.5",0,0);this.L["59"]=new c("115","116","115","135","5.5",0,0);this.L["115"]=new c("213","214","214","137","5.5",0,0);this.L["213"]=new c("213","214","214","0","0",1,.401747);this.L["214"]=new c("213","214","214","0","0",1,.0367503);this.L["116"]=new c("215","216","216","8","5.5",0,0);this.L["215"]=new c("215","216","216","0","0",1,-.0241984);this.L["216"]=new c("215","216","216","0","0",1,-.999046);this.L["60"]=new c("117","118","117","0","12.5",0,0);this.L["117"]=new c("217","218","218","132","5.5",0,0);this.L["217"]=new c("217","218","218","0","0",1,-.997294);this.L["218"]=new c("217","218","218","0","0",1,.210398);this.L["118"]=new c("219","220","219","137","1.5",0,0);this.L["219"]=new c("219","220","219","0","0",1,-.55763);this.L["220"]=new c("219","220","219","0","0",1,.074493);this.L["30"]=new c("61","62","62","133","42.5",0,0);this.L["61"]=new c("119","120","119","135","5.5",0,0);this.L["119"]=new c("221","222","222","4","473.5",0,0);this.L["221"]=new c("221","222","222","0","0",1,-.920213);this.L["222"]=new c("221","222","222","0","0",1,-.17615);this.L["120"]=new c("223","224","224","5","144",0,0);this.L["223"]=new c("223","224","224","0","0",1,-.954295);this.L["224"]=new c("223","224","224","0","0",1,-.382538);this.L["62"]=new c("121","122","121","133","50",0,0);this.L["121"]=new c("225","226","226","10","18.5",0,0);this.L["225"]=new c("225","226","226","0","0",1,-.0731343);this.L["226"]=new c("225","226","226","0","0",1,.755454);this.L["122"]=new c("227","228","228","0","30",0,0);this.L["227"]=new c("227","228","228","0","0",1,.25);this.L["228"]=new c("227","228","228","0","0",1,-.997101);}function h(d,f,m,l,n,p){this.Fca=n;this.S6=p;}b=a(590);g=a(318);a={};a.Pwb=new (function(){this.Oqb=g();this.Na=0;this.update=function(){this.Na=g() - this.Oqb;};this.type="num";})();a.lRb=new (function(){this.type="cat";})();a.mRb=new (function(){this.type="cat";})();a.oRb=new (function(){this.type="cat";})();a.pRb=new (function(){this.type="cat";})();a.nRb=new (function(){this.type="cat";})();a.qRb=new (function(){this.type="cat";})();a.rRb=new (function(){this.type="cat";})();a.sRb=new (function(){this.type="cat";})();a.tRb=new (function(){this.type="cat";})();a.uRb=new (function(){this.type="cat";})();a.vRb=new (function(){this.type="cat";})();a.wRb=new (function(){this.type="cat";})();a.yRb=new (function(){this.type="cat";})();a.zRb=new (function(){this.type="cat";})();a.ARb=new (function(){this.type="cat";})();a.xRb=new (function(){this.type="cat";})();a.vxb=new (function(){this.update=function(d){for(var f in d.Qb){if("becauseYouAdded" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.wxb=new (function(){this.update=function(d){for(var f in d.Qb){if("becauseYouLiked" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.zxb=new (function(){this.update=function(d){for(var f in d.Qb){if("billboard" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.IAb=new (function(){this.update=function(d){for(var f in d.Qb){if("continueWatching" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.yxb=new (function(){this.update=function(d){for(var f in d.Qb){if("bigRow" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.gJb=new (function(){this.update=function(d){for(var f in d.Qb){if("genre" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.uUb=new (function(){this.update=function(d){for(var f in d.Qb){if("netflixOriginals" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.wUb=new (function(){this.update=function(d){for(var f in d.Qb){if("newRelease" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.PXb=new (function(){this.update=function(d){for(var f in d.Qb){if("popularTitles" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.pt=new (function(){this.update=function(d){for(var f in d.Qb){if("queue" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.zZb=new (function(){this.update=function(d){for(var f in d.Qb){if("recentlyAdded" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.N2b=new (function(){this.update=function(d){for(var f in d.Qb){if("similars" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.s5b=new (function(){this.update=function(d){for(var f in d.Qb){if("trendingNow" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.M5b=new (function(){this.update=function(d){for(var f in d.Qb){if("ultraHD" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.G7b=new (function(){this.update=function(d){for(var f in d.Qb){if("watchAgain" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.c5b=new (function(){this.update=function(d){for(var f in d.Qb){if("topTen" === d.Qb[f].context){this.Na=Math.max(d.Qb[f].list.length,this.Na);break;}}};this.type="num";this.Na=0;})();a.SAb=new (function(){this.type="cat";})();a.TAb=new (function(){this.type="cat";})();a.UAb=new (function(){this.type="cat";})();a.VAb=new (function(){this.type="cat";})();a.WAb=new (function(){this.type="cat";})();a.XAb=new (function(){this.type="cat";})();a.YAb=new (function(){this.type="cat";})();a.ZAb=new (function(){this.type="cat";})();a.$Ab=new (function(){this.type="cat";})();a.aBb=new (function(){this.type="cat";})();a.bBb=new (function(){this.type="cat";})();a.cBb=new (function(){this.type="cat";})();a.dBb=new (function(){this.type="cat";})();a.eBb=new (function(){this.type="cat";})();a.fBb=new (function(){this.type="cat";})();a.gBb=new (function(){this.type="cat";})();a.hBb=new (function(){this.type="cat";})();a.iBb=new (function(){this.type="cat";})();a.jBb=new (function(){this.type="cat";})();a.kBb=new (function(){this.type="cat";})();a.lBb=new (function(){this.type="cat";})();a.mBb=new (function(){this.type="cat";})();a.nBb=new (function(){this.type="cat";})();a.oBb=new (function(){this.type="cat";})();a.pBb=new (function(){this.type="cat";})();a.qBb=new (function(){this.type="cat";})();a.rBb=new (function(){this.type="cat";})();a.sBb=new (function(){this.type="cat";})();a.tBb=new (function(){this.type="cat";})();a.uBb=new (function(){this.type="cat";})();a.vBb=new (function(){this.type="cat";})();a.wBb=new (function(){this.type="cat";})();a.xBb=new (function(){this.type="cat";})();a.yBb=new (function(){this.type="cat";})();a.zBb=new (function(){this.type="cat";})();a.ABb=new (function(){this.type="cat";})();a.BBb=new (function(){this.type="cat";})();a.CBb=new (function(){this.type="cat";})();a.DBb=new (function(){this.type="cat";})();a.EBb=new (function(){this.type="cat";})();a.FBb=new (function(){this.type="cat";})();a.GBb=new (function(){this.type="cat";})();a.HBb=new (function(){this.type="cat";})();a.IBb=new (function(){this.type="cat";})();a.JBb=new (function(){this.type="cat";})();a.KBb=new (function(){this.type="cat";})();a.LBb=new (function(){this.type="cat";})();a.MBb=new (function(){this.type="cat";})();a.NBb=new (function(){this.type="cat";})();a.OBb=new (function(){this.type="cat";})();a.PBb=new (function(){this.type="cat";})();a.QBb=new (function(){this.type="cat";})();a.RBb=new (function(){this.type="cat";})();a.SBb=new (function(){this.type="cat";})();a.TBb=new (function(){this.type="cat";})();a.UBb=new (function(){this.type="cat";})();a.VBb=new (function(){this.type="cat";})();a.WBb=new (function(){this.type="cat";})();a.XBb=new (function(){this.type="cat";})();a.YBb=new (function(){this.type="cat";})();a.ZBb=new (function(){this.type="cat";})();a.$Bb=new (function(){this.type="cat";})();a.aCb=new (function(){this.type="cat";})();a.bCb=new (function(){this.type="cat";})();a.cCb=new (function(){this.type="cat";})();a.dCb=new (function(){this.type="cat";})();a.eCb=new (function(){this.type="cat";})();a.fCb=new (function(){this.type="cat";})();a.gCb=new (function(){this.type="cat";})();a.hCb=new (function(){this.type="cat";})();a.iCb=new (function(){this.type="cat";})();a.jCb=new (function(){this.type="cat";})();a.kCb=new (function(){this.type="cat";})();a.lCb=new (function(){this.type="cat";})();a.mCb=new (function(){this.type="cat";})();a.nCb=new (function(){this.type="cat";})();a.oCb=new (function(){this.type="cat";})();a.pCb=new (function(){this.type="cat";})();a.qCb=new (function(){this.type="cat";})();a.BZb=new (function(){this.type="cat";})();a.CZb=new (function(){this.type="cat";})();a.DZb=new (function(){this.type="cat";})();a.EZb=new (function(){this.type="cat";})();a.FZb=new (function(){this.type="cat";})();a.GZb=new (function(){this.type="cat";})();a.HZb=new (function(){this.type="cat";})();a.IZb=new (function(){this.type="cat";})();a.JZb=new (function(){this.type="cat";})();a.KZb=new (function(){this.type="cat";})();a.LZb=new (function(){this.type="cat";})();a.MZb=new (function(){this.type="cat";})();a.NZb=new (function(){this.type="cat";})();a.OZb=new (function(){this.type="cat";})();a.PZb=new (function(){this.type="cat";})();a.QZb=new (function(){this.type="cat";})();a.RZb=new (function(){this.type="cat";})();a.SZb=new (function(){this.type="cat";})();a.TZb=new (function(){this.type="cat";})();a.UZb=new (function(){this.type="cat";})();a.VZb=new (function(){this.type="cat";})();a.WZb=new (function(){this.type="cat";})();a.XZb=new (function(){this.type="cat";})();a.W3b=new (function(){this.update=function(d){"down" === d.direction && this.Na++;};this.type="num";this.Na=0;})();a.Y3b=new (function(){this.update=function(d){"right" === d.direction && this.Na++;};this.type="num";this.Na=0;})();a.X3b=new (function(){this.update=function(d){"left" === d.direction && this.Na++;};this.type="num";this.Na=0;})();a.Z3b=new (function(){this.update=function(d){"up" === d.direction && this.Na++;};this.type="num";this.Na=0;})();a.fTb=new (function(){this.Na=0;this.update=function(d){this.Na=Math.max(this.Na,d.rowIndex);};this.type="num";})();a.gTb=new (function(){this.Na=0;this.update=function(d){this.Na=Math.max(this.Na,d.$Wa);};this.type="num";})();a.kTb=new (function(){this.BG=this.Na=0;this.update=function(d){this.BG++;this.Na=1 * (this.Na + d.rowIndex) / this.BG;};this.type="num";})();a.lTb=new (function(){this.BG=this.Na=0;this.update=function(d){this.BG++;return this.Na=1 * (this.Na + d.$Wa) / this.BG;};this.type="num";})();a.vYb=new (function(){this.type="num";})();a.wYb=new (function(){this.type="num";})();k.prototype.Np=function(d){return this.nTa(this.L["0"].Ybb(d),d);};k.prototype.nTa=function(d,f){return "string" == typeof d?this.nTa(this.L[d].Ybb(f),f):d;};c.prototype.Ybb=function(d){switch(this.rQb){case 0:switch(d.features[this.a1].type){case "cat":return null === d.features[this.a1].value?this.B8a:"missing" == d.features[this.a1].value?this.Xva:this.ohb;case "num":return null === d.features[this.a1].value?this.Xva:d.features[this.a1].value < this.split?this.ohb:this.B8a;default:return this.Xva;}case 1:return this.Np;default:return this.Np;}};b.declare({bZ:["modelSelector","modelone"],aAb:["colEpisodeList",5],TNb:["holdDuration",15E3],Lbb:["rowFirst",2],ZWa:["colFirst",5],Mbb:["rowScroll",2],aXa:["colScroll",6],s0b:["rowScrollHorizontal",6],P0b:["searchTop",3],vYa:["cwFirst",2],RX:["horizontalItemsFocusedMode",3],tQb:["itemsPerRank",1],TSb:["maxNumberPayloadsStored",10],o7a:["maxNumberTitlesScheduled",5],cec:["enableDetailedLogging",!0],Wgc:["rowStep",20],Adc:["colStep",15],ugc:["pageRows",100],tgc:["pageColumns",75],ova:["maskParamsList",new (function(){var d,f;this.ova=[];this.cf={};this.Fca=20;this.S6=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.Fca) + "_" + Math.floor(f / this.S6) in this.cf) || (this.cf[Math.floor(d / this.Fca) + "_" + Math.floor(f / this.S6)]=1,this.ova.push(new h("grid",10,5,5,Math.floor(d / this.Fca),Math.floor(f / this.S6))));}}})().ova],L:["nodes",new k().L],mapping:["mapping",{gTb:"0",lTb:"1",fTb:"2",kTb:"3",Pwb:"4",Z3b:"5",X3b:"6",Y3b:"7",W3b:"8",wYb:"9",vYb:"10",lRb:"11",mRb:"12",oRb:"13",pRb:"14",nRb:"15",qRb:"16",rRb:"17",sRb:"18",tRb:"19",uRb:"20",vRb:"21",wRb:"22",xRb:"23",yRb:"24",zRb:"25",ARb:"26",BZb:"27",CZb:"28",DZb:"29",EZb:"30",FZb:"31",GZb:"32",HZb:"33",IZb:"34",JZb:"35",KZb:"36",LZb:"37",MZb:"38",NZb:"39",OZb:"40",PZb:"41",QZb:"42",RZb:"43",SZb:"44",TZb:"45",UZb:"46",VZb:"47",WZb:"48",XZb:"49",SAb:"50",TAb:"51",UAb:"52",VAb:"53",WAb:"54",XAb:"55",YAb:"56",ZAb:"57",$Ab:"58",aBb:"59",bBb:"60",cBb:"61",dBb:"62",eBb:"63",fBb:"64",gBb:"65",hBb:"66",iBb:"67",jBb:"68",kBb:"69",lBb:"70",mBb:"71",nBb:"72",oBb:"73",pBb:"74",qBb:"75",rBb:"76",sBb:"77",tBb:"78",uBb:"79",vBb:"80",wBb:"81",xBb:"82",yBb:"83",zBb:"84",ABb:"85",BBb:"86",CBb:"87",DBb:"88",EBb:"89",FBb:"90",GBb:"91",HBb:"92",IBb:"93",JBb:"94",KBb:"95",LBb:"96",MBb:"97",NBb:"98",OBb:"99",PBb:"100",QBb:"101",RBb:"102",SBb:"103",TBb:"104",UBb:"105",VBb:"106",WBb:"107",XBb:"108",YBb:"109",ZBb:"110",$Bb:"111",aCb:"112",bCb:"113",cCb:"114",dCb:"115",eCb:"116",fCb:"117",gCb:"118",hCb:"119",iCb:"120",jCb:"121",kCb:"122",lCb:"123",mCb:"124",nCb:"125",oCb:"126",pCb:"127",qCb:"128",G7b:"129",zZb:"130",N2b:"131",pt:"132",IAb:"133",gJb:"134",s5b:"135",c5b:"136",zxb:"137",wUb:"138",M5b:"139",PXb:"140",vxb:"141",yxb:"142",wxb:"143",uUb:"144"}],features:["features",a],Bcc:["_modelName","tree"],wcc:["_format","xgboost"],Acc:["_itemsToKeep",5],zcc:["_itemsThreshold",null],ldc:["cacheLimit",20]});r.exports={config:b,yfc:h,Fdc:c};},function(r,b,a){r.exports=a(594);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(595);a(596)();a(621)();nb._cad_global={};nb.DEBUG=!1;a(14);a(12);a(13);a(25);a(44);a(92);a(1366);a(588);a(60);a(61);a(24);a(72);a(64);a(1367);a(313);a(361);a(1368);a(567);a(1369);a(564);a(571);a(569);a(570);a(558);a(559);a(561);a(309);a(308);a(1370);a(19);a(577);a(1371);a(198);a(107);a(565);a(193);a(529);a(530);a(528);a(1372);a(1373);a(527);a(1374);a(519);a(311);a(517);a(310);a(557);a(1375);a(312);a(573);a(196);a(589);a(165);a(1376);a(137);a(1383);a(1384);a(1387);a(1389);a(572);a(63);a(568);a(500);a(566);a(575);a(1390);a(317);a(138);a(1391);a(1392);a(1393);a(1395);a(1396);a(562);},function(r,b,a){(function(c){var k;(function(h){var G,E,I,N,L,H,Q,O,J;function g(M,P,R){var S;S=J.get(M);if(!S){if(!R)return;S=new Q();J.set(M,S);}M=S.get(P);if(!M){if(!R)return;M=new Q();S.set(P,M);}return M;}function d(M,P,R){if(f(M,P,R))return !0;P=u(P);return null !== P?d(M,P,R):!1;}function f(M,P,R){P=g(P,R,!1);return void 0 !== P && ! !P.has(M);}function m(M,P,R){if(f(M,P,R))return l(M,P,R);P=u(P);return null !== P?m(M,P,R):void 0;}function l(M,P,R){P=g(P,R,!1);return void 0 === P?void 0:P.get(M);}function n(M,P){var R,U;R=p(M,P);M=u(M);if(null === M)return R;P=n(M,P);if(0 >= P.length)return R;if(0 >= R.length)return P;M=new O();for(var S=0;S < R.length;S++){U=R[S];M.add(U);}for(R=0;R < P.length;R++){U=P[R];M.add(U);}return z(M);}function p(M,P){var R;M=g(M,P,!1);R=[];M && y(M,function(S,U){return R.push(U);});return R;}function q(M){return void 0 === M;}function t(M){return Array.isArray?Array.isArray(M):M instanceof Array || "[object Array]" === Object.prototype.toString.call(M);}function w(M){return "object" === typeof M?null !== M:"function" === typeof M;}function v(M){return "symbol" === typeof M?M:String(M);}function u(M){var P,R;P=Object.getPrototypeOf(M);if("function" !== typeof M || M === H || P !== H)return P;R=M.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return P;R=R.constructor;return "function" !== typeof R || R === M?P:R;}function x(M){M=M.next();return M.done?void 0:M;}function y(M,P,R){var S,U,ba;S=M.entries;if("function" === typeof S){S=S.call(M);try{for(;U=x(S);){ba=U.value;P.call(R,ba[1],ba[0],M);}}finally{U && (M=S["return"]) && M.call(S);}}else (S=M.forEach,"function" === typeof S && S.call(M,P,R));}function z(M){var P;P=[];y(M,function(R,S){P.push(S);});return P;}function A(M,P,R){var S;S=0;return {next:function(){var U;if((M || P) && S < (M || P).length){U=S++;switch(R){case "key":return {value:M[U],done:!1};case "value":return {value:P[U],done:!1};case "key+value":return {value:[M[U],P[U]],done:!1};}}P=M=void 0;return {value:void 0,done:!0};},"throw":function(U){if(M || P)P=M=void 0;throw U;},"return":function(U){if(M || P)P=M=void 0;return {value:U,done:!0};}};}function B(){var M;M={};return (function(){function P(){this.kf=[];this.Mf=[];this.Jw=M;this.bu=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.kf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(R){return 0 <= this.lz(R,!1);};P.prototype.get=function(R){R=this.lz(R,!1);return 0 <= R?this.Mf[R]:void 0;};P.prototype.set=function(R,S){R=this.lz(R,!0);this.Mf[R]=S;return this;};P.prototype.delete=function(R){var S;S=this.lz(R,!1);if(0 <= S){R=this.kf.length;for(S+=1;S < R;S++){this.kf[S - 1]=this.kf[S];this.Mf[S - 1]=this.Mf[S];}this.kf.length--;this.Mf.length--;this.Jw=M;this.bu=-2;return !0;}return !1;};P.prototype.clear=function(){this.kf.length=0;this.Mf.length=0;this.Jw=M;this.bu=-2;};P.prototype.keys=function(){return A(this.kf,void 0,"key");};P.prototype.values=function(){return A(void 0,this.Mf,"value");};P.prototype.entries=function(){return A(this.kf,this.Mf,"key+value");};P.prototype.lz=function(R,S){var U;if(this.Jw === R)return this.bu;U=this.kf.indexOf(R);0 > U && S && (U=this.kf.length,this.kf.push(R),this.Mf.push(void 0));return (this.Jw=R,this.bu=U);};return P;})();}function D(){return (function(){function M(){this.ah=new Q();}Object.defineProperty(M.prototype,"size",{get:function(){return this.ah.size;},enumerable:!0,configurable:!0});M.prototype.has=function(P){return this.ah.has(P);};M.prototype.add=function(P){return (this.ah.set(P,P),this);};M.prototype.delete=function(P){return this.ah.delete(P);};M.prototype.clear=function(){this.ah.clear();};M.prototype.keys=function(){return this.ah.keys();};M.prototype.values=function(){return this.ah.values();};M.prototype.entries=function(){return this.ah.entries();};return M;})();}function C(){var S,U;function M(ba,na){for(var va=0;va < na;++va){ba[va]=255 * Math.random() | 0;}return ba;}function P(){var ba,ya;do {ba="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):M(new Uint8Array(16),16):M(Array(16),16);ba[6]=ba[6] & 79 | 64;ba[8]=ba[8] & 191 | 128;for(var na="",va=0;16 > va;++va){ya=ba[va];if(4 === va || 6 === va || 8 === va)na+="-";16 > ya && (na+="0");na+=ya.toString(16).toLowerCase();}ba="@@WeakMap@@" + na;}while(L.has(S,ba));S[ba]=!0;return ba;}function R(ba,na){if(!G.call(ba,U)){if(!na)return;Object.defineProperty(ba,U,{value:N()});}return ba[U];}S=N();U=P();return (function(){function ba(){this.fu=P();}ba.prototype.has=function(na){na=R(na,!1);return void 0 !== na?L.has(na,this.fu):!1;};ba.prototype.get=function(na){na=R(na,!1);return void 0 !== na?L.get(na,this.fu):void 0;};ba.prototype.set=function(na,va){R(na,!0)[this.fu]=va;return this;};ba.prototype.delete=function(na){na=R(na,!1);return void 0 !== na?delete na[this.fu]:!1;};ba.prototype.clear=function(){this.fu=P();};return ba;})();}function F(M){M.tcc=1;delete M.ucc;return M;}G=Object.prototype.hasOwnProperty;E="function" === typeof Object.create;I=(function(){var P;function M(){}P={};M.prototype=P;return new M().__proto__ === P;})();N=E?function(){return F(Object.create(null));}:I?function(){return F({__proto__:null});}:function(){return F({});};(function(M){var P;P=!E && !I;M.has=P?function(R,S){return G.call(R,S);}:function(R,S){return (S in R);};M.get=P?function(R,S){return G.call(R,S)?R[S]:void 0;}:function(R,S){return R[S];};})(L || (L={}));H=Object.getPrototypeOf(Function);Q="function" === typeof Map?Map:B();O="function" === typeof Set?Set:D();J=new ("function" === typeof WeakMap?WeakMap:C())();h.Cs=function(M,P,R,S){var ba;if(q(S)){if(q(R)){if(!t(M))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(R=M.length - 1;0 <= R;--R){if((S=(0,M[R])(P),!q(S))){if("function" !== typeof S)throw new TypeError();P=S;}}return P;}if(!t(M))throw new TypeError();if(!w(P))throw new TypeError();R=v(R);for(S=M.length - 1;0 <= S;--S){(0,M[S])(P,R);}}else {if(!t(M))throw new TypeError();if(!w(P))throw new TypeError();if(q(R))throw new TypeError();if(!w(S))throw new TypeError();R=v(R);for(var U=M.length - 1;0 <= U;--U){ba=(0,M[U])(P,R,S);if(!q(ba)){if(!w(ba))throw new TypeError();S=ba;}}return S;}};h.Nc=function(M,P){return function(R,S){if(q(S)){if("function" !== typeof R)throw new TypeError();g(R,void 0,!0).set(M,P);}else {if(!w(R))throw new TypeError();S=v(S);g(R,S,!0).set(M,P);}};};h.w7=function(M,P,R,S){if(!w(R))throw new TypeError();q(S) || (S=v(S));g(R,S,!0).set(M,P);};h.yNb=function(M,P){var R;if(!w(P))throw new TypeError();q(R) || (R=v(R));return d(M,P,R);};h.Bsa=function(M,P){var R;if(!w(P))throw new TypeError();q(R) || (R=v(R));return f(M,P,R);};h.getMetadata=function(M,P,R){if(!w(P))throw new TypeError();q(R) || (R=v(R));return m(M,P,R);};h.g2a=function(M,P,R){if(!w(P))throw new TypeError();q(R) || (R=v(R));return l(M,P,R);};h.Aec=function(M,P){if(!w(M))throw new TypeError();q(P) || (P=v(P));return n(M,P);};h.Cec=function(M,P){if(!w(M))throw new TypeError();q(P) || (P=v(P));return p(M,P);};h.Jdc=function(M,P,R){var S;if(!w(P))throw new TypeError();q(R) || (R=v(R));S=g(P,R,!1);if(q(S) || !S.delete(M))return !1;if(0 < S.size)return !0;M=J.get(P);M.delete(R);if(0 < M.size)return !0;J.delete(P);return !0;};(function(M){if("undefined" !== typeof M.Reflect){if(M.Reflect !== h)for(var P in h){G.call(h,P) && (M.Reflect[P]=h[P]);}}else M.Reflect=h;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(k || (k={}));}).call(this,a(199));},function(r,b,a){var c,k;c=a(320);k=a(600);r.exports=function(){var h;h=k();c(Array.prototype,{includes:h},{includes:function(){return Array.prototype.includes !== h;}});return h;};},function(r,b,a){var c,k,h,g,d;c=Array.prototype.slice;k=a(321);h=Object.keys;g=h?function(f){return h(f);}:a(598);d=Object.keys;g.dm=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return k(f)?d(c.call(f)):d(f);}):Object.keys=g;return Object.keys || g;};r.exports=g;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;k=Object.prototype.toString;h=a(321);b=Object.prototype.propertyIsEnumerable;g=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(q){var t;t=q.constructor;return t && t.prototype === q;};l={Z7b:!0,$7b:!0,a8b:!0,b8b:!0,c8b:!0,d8b:!0,e8b:!0,f8b:!0,g8b:!0,h8b:!0,i8b:!0,j8b:!0,k8b:!0,l8b:!0,m8b:!0,n8b:!0,o8b:!0,p8b:!0,q8b:!0,r8b:!0,s8b:!0,t8b:!0,u8b:!0};n=(function(){if("undefined" === typeof nb)return !1;for(var q in nb){try{if(!l["$" + q] && c.call(nb,q) && null !== nb[q] && "object" === typeof nb[q])try{m(nb[q]);}catch(t){return !0;}}catch(t){return !0;}}return !1;})();p=function(q){var t,w,v,u,x,z;t=null !== q && "object" === typeof q;w="[object Function]" === k.call(q);v=h(q);u=t && "[object String]" === k.call(q);x=[];if(!t && !w && !v)throw new TypeError("Object.keys called on a non-object");t=d && w;if(u && 0 < q.length && !c.call(q,0))for(u=0;u < q.length;++u){x.push(String(u));}if(v && 0 < q.length)for(v=0;v < q.length;++v){x.push(String(v));}else for(var y in q){t && "prototype" === y || !c.call(q,y) || x.push(String(y));}if(g){if("undefined" !== typeof nb && n)try{z=m(q);}catch(A){z=!1;}else z=m(q);for(v=0;v < f.length;++v){z && "constructor" === f[v] || !c.call(q,f[v]) || x.push(f[v]);}}return x;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var k;k=this;if("function" !== typeof k || "[object Function]" !== a.call(k))throw new TypeError("Function.prototype.bind called on incompatible " + k);for(var h=b.call(arguments,1),g,d=Math.max(0,k.length - h.length),f=[],m=0;m < d;m++){f.push("$" + m);}g=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var l;if(this instanceof g){l=k.apply(this,h.concat(b.call(arguments)));return Object(l) === l?l:this;}return k.apply(c,h.concat(b.call(arguments)));});k.prototype && (d=function(){},d.prototype=k.prototype,g.prototype=new d(),d.prototype=null);return g;};},function(r,b,a){var c;c=a(601);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;c=a(325);k=a(614);h=a(616);g=a(619);d=a(167);f=a(328);b=a(45);m=a(139);l=a(620);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(t){var w,v,u;w=1 < arguments.length?c(arguments[1]):0;if(p && !d(t) && f(w) && "undefined" !== typeof t)return -1 < p.apply(this,arguments);v=h(this);u=k(v.length);if(0 === u)return !1;for(w=0 <= w?w:q(0,u + w);w < u;){if(g(t,l(v)?n(v,w):v[w]))return !0;w+=1;}return !1;};},function(r,b,a){var c;c=a(45)("%Math.abs%");r.exports=function(k){return c(k);};},function(r){var b;b=Math.floor;r.exports=function(a){return b(a);};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v;c=a(45);k=c("%TypeError%");h=c("%Number%");b=c("%RegExp%");g=c("%parseInt%");c=a(139);d=a(606);f=a(607);m=c("String.prototype.slice");l=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);t=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;w=c("String.prototype.replace");v=a(608);r.exports=function y(x){var z;x=f(x)?x:v(x,h);if("symbol" === typeof x)throw new k("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new k("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(l(x))return y(g(m(x,2),2));if(n(x))return y(g(m(x,2),8));if(q(x) || p(x))return NaN;z=w(x,t,"");if(z !== x)return y(z);}return h(x);};},function(r,b,a){var k,h,g,d,f,m,l;function c(){return d(k,h,arguments);}k=a(200);b=a(45);h=b("%Function.prototype.apply%");g=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || k.call(g,h);f=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);l=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}r.exports=function(n){var p;p=d(k,g,arguments);f && m && f(p,"length").configurable && m(p,"length",{value:1 + l(0,n.length - (arguments.length - 1))});return p;};m?m(r.exports,"apply",{value:c}):r.exports.apply=c;},function(r,b,a){var c;c=a(139)("RegExp.prototype.exec");r.exports=function(k){return function(h){return null !== c(k,h);};};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c;c=a(609);r.exports=function(k){return 1 < arguments.length?c(k,arguments[1]):c(k);};},function(r,b,a){var c,k,h,g,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;k=a(610);h=a(326);g=a(611);d=a(612);r.exports=function(f){var m,l,n;if(k(f))return f;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){l=Symbol.toPrimitive;n=f[l];if(null !== n && "undefined" !== typeof n){if(!h(n))throw new TypeError(n + " returned for property " + l + " of object " + f + " is not a function");l=n;}else l=void 0;}else d(f) && (l=Symbol.prototype.valueOf);if("undefined" !== typeof l){m=l.call(f,m);if(k(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (g(f) || d(f)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(l=0;l < m.length;++l){if((n=f[m[l]],h(n) && (n=n.call(f),k(n))))break a;}throw new TypeError("No default value");}return n;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c,k,h;c=Date.prototype.getDay;k=Object.prototype.toString;h=a(327)();r.exports=function(g){if("object" !== typeof g || null === g)g=!1;else if(h)try{c.call(g);g=!0;}catch(d){g=!1;}else g="[object Date]" === k.call(g);return g;};},function(r,b,a){var c,k,h;c=Object.prototype.toString;if(a(323)()){k=Symbol.prototype.toString;h=/^Symbol\(.*\)$/;r.exports=function(g){if("symbol" === typeof g)return !0;if("[object Symbol]" !== c.call(g))return !1;try{return "symbol" !== typeof g.valueOf()?!1:h.test(k.call(g));}catch(d){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var c,k;c=a(615);k=a(325);r.exports=function(h){h=k(h);return 0 >= h?0:h > c?c:h;};},function(r,b,a){a=a(45);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var c,k;c=a(45)("%Object%");k=a(617);r.exports=function(h){k(h);return c(h);};},function(r,b,a){r.exports=a(618);},function(r,b,a){var c;c=a(45)("%TypeError%");r.exports=function(k,h){if(null == k)throw new c(h || "Cannot call method on " + k);return k;};},function(r,b,a){var c;c=a(167);r.exports=function(k,h){return k === h || c(k) && c(h);};},function(r,b,a){var c,k,h;c=String.prototype.valueOf;k=Object.prototype.toString;h=a(327)();r.exports=function(g){if("string" === typeof g)g=!0;else if("object" !== typeof g)g=!1;else if(h)try{c.call(g);g=!0;}catch(d){g=!1;}else g="[object String]" === k.call(g);return g;};},function(r,b,a){var c,k,h;c=a(201);k=a(622);h=a(320);r.exports=function(){var g;c();g=k();h(Promise.prototype,{"finally":g},{"finally":function(){return Promise.prototype["finally"] !== g;}});return g;};},function(r,b,a){var c,k;c=a(201);k=a(623);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:k;};},function(r,b,a){var d,f,m,l;function c(n){var p,q,t;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=f(this,l);q=n;t=n;d(n) && (q=h(p,n),t=k(p,n));return this.then(q,t);}function k(n,p){return function(q){var t;t=p();return g(n,t).then(function(){throw q;});};}function h(n,p){return function(q){var t;t=p();return g(n,t).then(function(){return q;});};}function g(n,p){return new n(function(q){q(p);});}a(201)();d=a(329);f=a(624);m=a(109);l=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},function(r,b,a){var c,k,h,g;b=a(45);c=b("%Symbol.species%",!0);k=b("%TypeError%");h=a(625);g=a(109);r.exports=function(d,f){if("Object" !== g(d))throw new k("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== g(d))throw new k("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(h(d))return d;throw new k("no constructor found");};},function(r,b,a){var c,k,h;c=a(626)("%Reflect.construct%",!0);b=a(627);try{b({},"",{"[[Get]]":function(){}});}catch(g){b=null;}if(b && c){k={};h={};b(h,"length",{"[[Get]]":function(){throw k;},"[[Enumerable]]":!0});r.exports=function(g){try{c(g,h);}catch(d){return d === k;}};}else r.exports=function(g){return "function" === typeof g && ! !g.prototype;};},function(r,b,a){r.exports=a(45);},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;c=a(45)("%TypeError%");k=a(628);h=a(629);g=a(631);d=a(635);f=a(636);m=a(637);l=a(638);n=a(639);p=a(109);r.exports=function(q,t,w){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!m(t))throw new c("Assertion failed: IsPropertyKey(P) is not true");w=k({bQa:p,uIa:f,tIa:d},w)?w:n(w);if(!k({bQa:p,uIa:f,tIa:d},w))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return h(f,l,g,q,t,w);};},function(r,b,a){var c,k;b=a(45);c=a(108);k=b("%TypeError%");r.exports=function(h,g){var d,f;if("Object" !== h.bQa(g))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in g){if(c(g,f) && !d[f])return !1;}if(h.uIa(g) && h.tIa(g))throw new k("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var c,k,h,g,d;b=a(322);c=a(45);k=b() && c("%Object.defineProperty%",!0);h=b.pNb();g=h && a(630);d=a(139)("Object.prototype.propertyIsEnumerable");r.exports=function(f,m,l,n,p,q){if(!k){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== ! !q["[[Enumerable]]"])return !1;f=q["[[Value]]"];n[p]=f;return m(n[p],f);}if(h && "length" === p && ("[[Value]]" in q) && g(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);k(n,p,l(q));return !0;};},function(r,b,a){var c;b=a(45)("%Array%");c=!b.isArray && a(139)("Object.prototype.toString");r.exports=b.isArray || (function(k){return "[object Array]" === c(k);});},function(r,b,a){var c,k,h;c=a(202);k=a(633);h=a(109);r.exports=function(g){"undefined" !== typeof g && c(h,"Property Descriptor","Desc",g);return k(g);};},function(r,b,a){var c;c=a(108);r.exports=function(k){return c(k,"[[StartIndex]]") && c(k,"[[EndIndex]]") && 0 <= k["[[StartIndex]]"] && k["[[EndIndex]]"] >= k["[[StartIndex]]"] && String(parseInt(k["[[StartIndex]]"],10)) === String(k["[[StartIndex]]"]) && String(parseInt(k["[[EndIndex]]"],10)) === String(k["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=! !b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=! !b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=! !b["[[Configurable]]"]);return a;};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var c,k,h;c=a(108);k=a(202);h=a(109);r.exports=function(g){if("undefined" === typeof g)return !1;k(h,"Property Descriptor","Desc",g);return c(g,"[[Get]]") || c(g,"[[Set]]")?!0:!1;};},function(r,b,a){var c,k,h;c=a(108);k=a(202);h=a(109);r.exports=function(g){if("undefined" === typeof g)return !1;k(h,"Property Descriptor","Desc",g);return c(g,"[[Value]]") || c(g,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var c;c=a(167);r.exports=function(k,h){return k === h?0 === k?1 / k === 1 / h:!0:c(k) && c(h);};},function(r,b,a){var c,k,h,g,d;c=a(108);k=a(45)("%TypeError%");h=a(109);g=a(640);d=a(329);r.exports=function(f){var m,l;if("Object" !== h(f))throw new k("ToPropertyDescriptor requires an object");m={};c(f,"enumerable") && (m["[[Enumerable]]"]=g(f.enumerable));c(f,"configurable") && (m["[[Configurable]]"]=g(f.configurable));c(f,"value") && (m["[[Value]]"]=f.value);c(f,"writable") && (m["[[Writable]]"]=g(f.writable));if(c(f,"get")){l=f.get;if("undefined" !== typeof l && !d(l))throw new k("getter must be a function");m["[[Get]]"]=l;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new k("setter must be a function");m["[[Set]]"]=f;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new k("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},function(r){r.exports=function(b){return ! !b;};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t;c=this && this.__awaiter || (function(w,v,u,x){return new (u || (u=Promise))(function(y,z){function A(C){try{D(x.next(C));}catch(F){z(F);}}function B(C){try{D(x["throw"](C));}catch(F){z(F);}}function D(C){C.done?y(C.value):new u(function(F){F(C.value);}).then(A,B);}D((x=x.apply(w,v || [])).next());});});k=this && this.__generator || (function(w,v){var y,z,A,B,D;function u(C){return function(F){return x([C,F]);};}function x(C){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (y.label++,{value:C[1],done:!1});case 5:y.label++;A=C[1];C=[0];continue;case 7:C=y.ro.pop();y.Dl.pop();continue;default:if(!(B=y.Dl,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){y=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))y.label=C[1];else if(6 === C[0] && y.label < B[1])(y.label=B[1],B=C);else if(B && y.label < B[2])(y.label=B[2],y.ro.push(C));else {B[2] && y.ro.pop();y.Dl.pop();continue;}}C=v.call(w,y);}catch(F){C=[6,F];A=0;}finally{z=B=0;}}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}y={label:0,jc:function(){if(B[0] & 1)throw B[1];return B[1];},Dl:[],ro:[]};return (D={next:u(0),"throw":u(1),"return":u(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});h=a(642);g=a(58);d=a(74);a(42);f=a(330);m=a(643);l=a(650);n=a(652);p=a(110);q=a(140);a(655);t=a(656);r=(function(){function w(v){v=v || ({});if("object" !== typeof v)throw Error("" + g.ajb);if(void 0 === v.SH)v.SH=d.Rt.c4;else if(v.SH !== d.Rt.sia && v.SH !== d.Rt.c4 && v.SH !== d.Rt.Request)throw Error("" + g.Zib);if(void 0 === v.lV)v.lV=!1;else if("boolean" !== typeof v.lV)throw Error("" + g.Yib);if(void 0 === v.uK)v.uK=!1;else if("boolean" !== typeof v.uK)throw Error("" + g.$ib);this.options={lV:v.lV,SH:v.SH,uK:v.uK};this.id=p.id();this.iM=new t.$lb();this.hub=[];this.parent=this.rka=null;this.Rrb=new f.aha();}w.prototype.load=function(){var y,z;for(var v=[],u=0;u < arguments.length;u++){v[u]=arguments[u];}u=this.GRa();for(var x=0;x < v.length;x++){y=v[x];z=u(y.id);y.Hya(z.AVa,z.Afb,z.p5a,z.Dab);}};w.prototype.zY=function(){for(var v=[],u=0;u < arguments.length;u++){v[u]=arguments[u];}c(this,void 0,void 0,function(){var x,y,z,A,B;return k(this,function(D){switch(D.label){case 0:(x=this.GRa(),y=0,z=v,D.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Hya(B.AVa,B.Afb,B.p5a,B.Dab)];case 2:(D.jc(),D.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};w.prototype.bind=function(v){var u;u=new h.lib(v,this.options.SH || d.Rt.c4);this.iM.add(v,u);return new n.nib(u);};w.prototype.vZb=function(v){this.zfb(v);return this.bind(v);};w.prototype.zfb=function(v){try{this.iM.remove(v);}catch(u){throw Error(g.Jib + " " + q.MO(v));}};w.prototype.C4a=function(v){var u;u=this.iM.g3a(v);!u && this.parent && (u=this.parent.C4a(v));return u;};w.prototype.restore=function(){var v;v=this.hub.pop();if(void 0 === v)throw Error(g.Mmb);this.iM=v.qV;this.rka=v.JTb;};w.prototype.xCb=function(){var v;v=new w(this.options);v.parent=this;return v;};w.prototype.get=function(v){return this.FRa(!1,!1,d.bz.Jia,v);};w.prototype.getAll=function(v){return this.FRa(!0,!0,d.bz.Jia,v);};w.prototype.resolve=function(v){var u;u=this.xCb();u.bind(v).afb();return u.get(v);};w.prototype.GRa=function(){var z;function v(A){return function(B){B=z.vZb.bind(z)(B);B.Lc.hUb=A;return B;};}function u(){return function(A){return z.C4a.bind(z)(A);};}function x(){return function(A){z.zfb.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Lc.hUb=A;return B;};}z=this;return function(A){return {AVa:y(A),p5a:u(A),Dab:v(A),Afb:x(A)};};};w.prototype.FRa=function(v,u,x,y){var z;z=null;v={lxb:v,HAb:function(A){return A;},QPb:u,key:void 0,Vg:y,u4b:x,value:void 0};if(this.rka){if((z=this.rka(v),void 0 === z || null === z))throw Error(g.Ilb);}else z=this.ftb()(v);return z;};w.prototype.ftb=function(){var v;v=this;return function(u){var x;x=m.$P(v.Rrb,v,u.QPb,u.u4b,u.Vg,u.key,u.value,u.lxb);x=u.HAb(x);return l.resolve(x);};};return w;})();b.Q1=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(74);k=a(110);r=(function(){function h(g,d){this.id=k.id();this.pla=!1;this.Vg=g;this.scope=d;this.type=c.ak.Tlb;this.KH=function(){return !0;};this.$N=this.Rx=this.xB=this.qO=this.cache=this.Pm=null;}h.prototype.clone=function(){var g;g=new h(this.Vg,this.scope);g.pla=!1;g.Pm=this.Pm;g.$N=this.$N;g.scope=this.scope;g.type=this.type;g.qO=this.qO;g.xB=this.xB;g.KH=this.KH;g.Rx=this.Rx;g.cache=this.cache;return g;};return h;})();b.lib=r;},function(r,b,a){var d,f,m,l,n,p,q,t,w,v,u,x;function c(y,z,A,B,D){var C,F;C=g(A.gb,D.Vg);F=[];C.length === d.cfa.RKa && A.gb.options.lV && "function" === typeof D.Vg && y.Y0a(D.Vg).iXa && (A.gb.bind(D.Vg).afb(),C=g(A.gb,D.Vg));F=z?C:C.filter(function(G){var E;E=new u.Request(G.Vg,A,B,G,D);return G.KH(E);});k(D.Vg,F,D,A.gb);return F;}function k(y,z,A,B){switch(z.length){case d.cfa.RKa:if(A.V4a())return z;y=p.MO(y);z=f.Kmb;z+=p.kRb(y,A);z+=p.d6a(B,y,g);throw Error(z);case d.cfa.anb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.MO(y);z=f.rhb + " " + y;z+=p.d6a(B,y,g);throw Error(z);}}function h(y,z,A,B,D,C){var F;if(null === D){z=c(y,z,B,null,C);F=new u.Request(A,B,null,z,C);A=new w.Vnb(B,F);B.wvb(A);}else (z=c(y,z,B,D,C),F=D.VTa(C.Vg,z,C));z.forEach(function(G){var E,I,N;E=null;if(C.isArray())E=F.VTa(G.Vg,G,C);else {if(G.cache)return;E=F;}if(G.type === m.ak.Instance && null !== G.Pm){I=v.aKb(y,G.Pm);if(!B.gb.options.uK){N=v.yJb(y,G.Pm);if(I.length < N)throw (G=f.thb(v.getFunctionName(G.Pm)),Error(G));}I.forEach(function(L){h(y,!1,L.Vg,B,E,L);});}});}function g(y,z){var A,B;A=[];B=y.iM;B.g3a(z)?A=B.get(z):null !== y.parent && (A=g(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(644);f=a(58);m=a(74);l=a(42);n=a(331);p=a(140);q=a(645);t=a(65);w=a(646);v=a(647);u=a(649);x=a(333);b.wec=function(y){return y.iM;};b.$P=function(y,z,A,B,D,C,F,G){void 0 === G && (G=!1);z=new q.LEa(z);A=new t.Metadata(A?l.ZF:l.AS,D);B=new x.Z3(B,"",D,A);void 0 !== C && (C=new t.Metadata(C,F),B.Nc.push(C));try{return (h(y,G,D,z,null,B),z);}catch(E){throw (n.e5a(E) && z.$P && p.Azb(z.$P.lza),E);}};b.Bdc=function(y,z,A,B){A=new x.Z3(m.bz.Jia,"",z,new t.Metadata(A,B));y=new q.LEa(y);return new u.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cfa={gac:2,RKa:0,anb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(110);r=(function(){function k(h){this.id=c.id();this.gb=h;}k.prototype.wvb=function(h){this.$P=h;};return k;})();b.LEa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vnb=(function(){return function(a,c){this.UP=a;this.lza=c;};})();},function(r,b,a){var d,f,m,l,n,p;function c(q,t,w,v){var u,x,y,z,B,D,C,F,G,E,I,N;u=q.Y0a(w);x=u.iXa;if(void 0 === x)throw Error(f.imb + " " + t + ".");u=u.U6b;y=Object.keys(u);z=0 === w.length && 0 < y.length?y.length:w.length;y=[];for(var A=0;A < z;A++){B=A;D=v;C=t;F=x;G=u[B.toString()] || [];E=g(G);I=!0 !== E.Eo;F=F[B];N=E.l || E.pJ;F=N?N:F;F instanceof d.Ega && (F=F.V5b());if(I){I=F === Function;I=F === Object || I || void 0 === F;if(!D && I)throw Error(f.jmb + " argument " + B + " in class " + C + ".");B=new p.Z3(m.bz.HEa,E.y0,F);B.Nc=G;G=B;}else G=null;null !== G && y.push(G);}q=k(q,w);return y.concat(q);}function k(q,t){var y,z,A;for(var w=q.QLb(t),v=[],u=0,x=Object.keys(w);u < x.length;u++){y=x[u];z=w[y];A=g(w[y]);y=new p.Z3(m.bz.yEa,A.y0 || y,A.l || A.pJ);y.Nc=z;v.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (q=k(q,t),v=v.concat(q));return v;}function h(q,t){var w,v;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){w=n.getFunctionName(t);w=c(q,w,t,!0);v=w.map(function(u){return u.Nc.filter(function(x){return x.key === l.pT;});});v=[].concat.apply([],v).length;w=w.length - v;return 0 < w?w:h(q,t);}return 0;}function g(q){var t;t={};q.forEach(function(w){t[w.key.toString()]=w.value;});return {l:t[l.AS],pJ:t[l.ZF],y0:t[l.p3],Eo:t[l.pT]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(332);f=a(58);m=a(74);l=a(42);n=a(140);b.getFunctionName=n.getFunctionName;p=a(333);b.aKb=function(q,t){var w;w=n.getFunctionName(t);return c(q,w,t,!1);};b.yJb=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.YQ=c;}a.prototype.startsWith=function(c){return 0 === this.YQ.indexOf(c);};a.prototype.endsWith=function(c){var k;k=c.split("").reverse().join("");c=this.YQ.split("").reverse().join("");return this.startsWith.call({YQ:c},k);};a.prototype.contains=function(c){return -1 !== this.YQ.indexOf(c);};a.prototype.equals=function(c){return this.YQ === c;};a.prototype.value=function(){return this.YQ;};return a;})();b.cob=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(110);r=(function(){function k(h,g,d,f,m){this.id=c.id();this.Vg=h;this.UP=g;this.rB=d;this.target=m;this.una=[];this.qV=Array.isArray(f)?f:[f];this.Q_b=null === d?new Map():null;}k.prototype.VTa=function(h,g,d){h=new k(h,this.UP,this,g,d);this.una.push(h);return h;};return k;})();b.Request=r;},function(r,b,a){var h,g,d,f,m;function c(l){return function(n){var p,q,t,w,v;p=n.qV;q=n.una;t=n.target && n.target.isArray();w=!n.rB || !n.rB.target || !n.target || !n.rB.target.GSb(n.target.Vg);if(t && w)return q.map(function(u){return c(l)(u);});t=null;if(!n.target.V4a() || 0 !== p.length){v=p[0];p=v.scope === g.Rt.sia;w=v.scope === g.Rt.Request;if(p && v.pla)return v.cache;if(w && null !== l && l.has(v.id))return l.get(v.id);if(v.type === g.ak.FEa)t=v.cache;else if(v.type === g.ak.Function)t=v.cache;else if(v.type === g.ak.GEa)t=v.Pm;else if(v.type === g.ak.RFa && null !== v.$N)t=k("toDynamicValue",v.Vg,function(){return v.$N(n.UP);});else if(v.type === g.ak.Xfa && null !== v.qO)t=k("toFactory",v.Vg,function(){return v.qO(n.UP);});else if(v.type === g.ak.RNa && null !== v.xB)t=k("toProvider",v.Vg,function(){return v.xB(n.UP);});else if(v.type === g.ak.Instance && null !== v.Pm)t=m.c0b(v.Pm,q,c(l));else throw (q=f.MO(n.Vg),Error(h.Elb + " " + q));"function" === typeof v.Rx && (t=v.Rx(n.UP,t));p && (v.cache=t,v.pla=!0);w && null !== l && !l.has(v.id) && l.set(v.id,t);return t;}};}function k(l,n,p){try{return p();}catch(q){if(d.e5a(q))throw Error(h.Nib(l,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});h=a(58);g=a(74);d=a(331);f=a(140);m=a(651);b.resolve=function(l){return c(l.$P.lza.Q_b)(l.$P.lza);};},function(r,b,a){var h,g,d;function c(f,m,l){var n;m=m.filter(function(p){return null !== p.target && p.target.type === g.bz.yEa;});n=m.map(l);m.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function k(f,m){var l;if(Reflect.yNb(d.aT,f)){l=Reflect.getMetadata(d.aT,f);try{m[l.value]();}catch(n){throw Error(h.Pnb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});h=a(58);g=a(74);d=a(42);b.c0b=function(f,m,l){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === g.bz.HEa;}).map(l),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,m,l)):n=new f();k(f,n);return n;};},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);k=a(74);h=a(653);g=a(334);r=(function(){function d(f){this.Lc=f;}d.prototype.to=function(f){this.Lc.type=k.ak.Instance;this.Lc.Pm=f;return new h.ADa(this.Lc);};d.prototype.afb=function(){if("function" !== typeof this.Lc.Vg)throw Error("" + c.Klb);this.to(this.Lc.Vg);};d.prototype.gm=function(f){this.Lc.type=k.ak.FEa;this.Lc.cache=f;this.Lc.$N=null;this.Lc.Pm=null;new g.BF(this.Lc);};d.prototype.nF=function(f){this.Lc.type=k.ak.RFa;this.Lc.cache=null;this.Lc.$N=f;this.Lc.Pm=null;return new h.ADa(this.Lc);};d.prototype.Y4b=function(f){this.Lc.type=k.ak.GEa;this.Lc.Pm=f;new g.BF(this.Lc);};d.prototype.xf=function(f){this.Lc.type=k.ak.Xfa;this.Lc.qO=f;new g.BF(this.Lc);};d.prototype.Z4b=function(f){if("function" !== typeof f)throw Error(c.Hlb);this.gm(f);this.Lc.type=k.ak.Function;};d.prototype.Zeb=function(f){this.Lc.type=k.ak.Xfa;this.Lc.qO=function(m){return function(){return m.gb.get(f);};};new g.BF(this.Lc);};d.prototype.I0=function(f){this.Lc.type=k.ak.RNa;this.Lc.xB=f;new g.BF(this.Lc);};d.prototype.$4b=function(f){this.nF(function(m){return m.gb.get(f);});};return d;})();b.nib=r;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(654);k=a(205);h=a(206);r=(function(){function g(d){this.Lc=d;this.AT=new h.dfa(this.Lc);this.$ia=new k.J1(this.Lc);this.WQa=new c.mib(d);}g.prototype.ba=function(){return this.WQa.ba();};g.prototype.$sa=function(){return this.WQa.$sa();};g.prototype.when=function(d){return this.AT.when(d);};g.prototype.l1=function(){return this.AT.l1();};g.prototype.Rx=function(d){return this.$ia.Rx(d);};return g;})();b.ADa=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(74);k=a(334);r=(function(){function h(g){this.Lc=g;}h.prototype.ba=function(){this.Lc.scope=c.Rt.sia;return new k.BF(this.Lc);};h.prototype.$sa=function(){this.Lc.scope=c.Rt.c4;return new k.BF(this.Lc);};return h;})();b.mib=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u9b=(function(){function a(){}a.of=function(c,k){var h;h=new a();h.qV=c;h.JTb=k;return h;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);r=(function(){function k(){this.ah=new Map();}k.prototype.add=function(h,g){var d;if(null === h || void 0 === h)throw Error(c.US);if(null === g || void 0 === g)throw Error(c.US);d=this.ah.get(h);void 0 !== d?(d.push(g),this.ah.set(h,d)):this.ah.set(h,[g]);};k.prototype.get=function(h){if(null === h || void 0 === h)throw Error(c.US);h=this.ah.get(h);if(void 0 !== h)return h;throw Error(c.yIa);};k.prototype.remove=function(h){if(null === h || void 0 === h)throw Error(c.US);if(!this.ah.delete(h))throw Error(c.yIa);};k.prototype.g3a=function(h){if(null === h || void 0 === h)throw Error(c.US);return this.ah.has(h);};k.prototype.clone=function(){var h;h=new k();this.ah.forEach(function(g,d){g.forEach(function(f){return h.add(d,f.clone());});});return h;};return k;})();b.$lb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(110);b.zd=(function(){return function(k){this.id=c.id();this.Hya=k;};})();b.nDa=(function(){return function(k){this.id=c.id();this.Hya=k;};})();},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);k=a(42);b.U=function(){return function(h){var g;if(Reflect.Bsa(k.nha,h))throw Error(c.gkb);g=Reflect.getMetadata(k.Ejb,h) || [];Reflect.w7(k.nha,g,h);return h;};};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(65);k=a(94);b.xeb=function(h,g){return function(d,f,m){var l;l=new c.Metadata(h,g);"number" === typeof m?k.HK(d,f,m,l):k.x0(d,f,l);};};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);k=a(65);h=a(94);b.p8a=function(g){return function(d,f,m){var l;l=new k.Metadata(c.xC,g);"number" === typeof m?h.HK(d,f,m,l):h.x0(d,f,l);};};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);k=a(65);h=a(94);b.optional=function(){return function(g,d,f){var m;m=new k.Metadata(c.aLa,!0);"number" === typeof f?h.HK(g,d,f,m):h.x0(g,d,m);};};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);k=a(65);h=a(94);b.Eo=function(){return function(g,d,f){var m;m=new k.Metadata(c.pT,!0);h.HK(g,d,f,m);};};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);k=a(65);h=a(94);b.pJ=function(g){return function(d,f,m){var l;l=new k.Metadata(c.ZF,g);"number" === typeof m?h.HK(d,f,m,l):h.x0(d,f,l);};};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);k=a(65);h=a(94);b.y0=function(g){return function(d,f,m){var l;l=new k.Metadata(c.p3,g);h.HK(d,f,m,l);};};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);k=a(42);h=a(65);b.I$a=function(){return function(g,d){d=new h.Metadata(k.aT,d);if(Reflect.Bsa(k.aT,g.constructor))throw Error(c.wmb);Reflect.w7(k.aT,d,g.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l8a=function(a){return function(c){return function(){for(var k=[],h=0;h < arguments.length;h++){k[h]=arguments[h];}return k.forEach(function(g){return a.bind(g).$4b(c);});};};};},function(r,b,a){var d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D;function c(){}function k(C){this.Je=C;}function h(C){var F;F=l.Iha.call(this) || this;C.fP?Object.assign(F,(0,x.C1a)(C)):C.s$?Object.assign(F,(0,u.q1a)(C)):C.Ota?Object.assign(F,(0,v.c2a)()):C.RA || C.eY?Object.assign(F,(0,w.i1a)()):C.jY?Object.assign(F,(0,x.w2a)(C)):Object.assign(F,(0,t.T0a)(C));return F;}function g(C){this.data=C.s$?(0,u.s1a)(C):C.Ota?(0,v.e2a)(C):C.RA || C.eY?(0,w.k1a)(C):C.jY?(0,x.y2a)(C):(0,t.V0a)(C);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Fib=b.Eib=b.Dib=b.Cib=void 0;r=a(2);d=a(0);f=a(46);m=a(111);l=a(668);n=a(168);p=a(337);q=a(207);t=a(669);w=a(670);v=a(671);u=a(672);x=a(673);y=a(674);z=a(675);Ya.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Raa:{configurable:!0,enumerable:!0,get:function(){return this.data.Raa;}},Gs:{configurable:!0,enumerable:!0,get:function(){return this.data.Gs;}},qp:{configurable:!0,enumerable:!0,get:function(){return this.data.qp;}},yO:{configurable:!0,enumerable:!0,get:function(){return this.data.yO;}},DD:{configurable:!0,enumerable:!0,get:function(){return this.data.DD;}},Woa:{configurable:!0,enumerable:!0,get:function(){return this.data.Woa;}},MYa:{configurable:!0,enumerable:!0,get:function(){return this.data.MYa;}},Uua:{configurable:!0,enumerable:!0,get:function(){return this.data.Uua;}},nW:{configurable:!0,enumerable:!0,get:function(){return this.data.nW;}},Bgb:{configurable:!0,enumerable:!0,get:function(){return this.data.Bgb;}},Z5:{configurable:!0,enumerable:!0,get:function(){return this.data.Z5;}},r_:{configurable:!0,enumerable:!0,get:function(){return this.data.r_;}}});A=g;A=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.EF))],A);b.Cib=A;la(h,l.Iha);B=h;B=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.EF))],B);b.Dib=B;k.prototype.apply=function(){this.Je.s$?Object.assign(this,(0,u.r1a)(this.Je)):this.Je.Ota?Object.assign(this,(0,v.d2a)(this.Je)):this.Je.RA || this.Je.eY?Object.assign(this,(0,w.j1a)(this.Je)):this.Je.jY?Object.assign(this,(0,x.x2a)(this.Je)):Object.assign(this,(0,t.U0a)(this.Je));return this;};D=k;D=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.EF))],D);b.Eib=D;c=r.__decorate([(0,d.U)()],c);b.Fib=c;b.platform=new d.zd(function(C){C(f.Mo).to(A).ba();C(m.jG).to(B).ba();C(p.wMa).to(D).ba();C(f.D3).to(c).ba();C(q.Jha).xf(function(F){return function(){var G;G=F.gb.get(n.EF);return G.RA || G.eY?{ec:function(E,I,N){return new z.Qia(E,I,N);},request:y.GQa}:G.jY?{ec:function(E,I,N){return new (a(676))(E,I,N);},request:a(677)}:{};};});});},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Iha=void 0;c=a(5);k=a(53);h=a(43);g={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Iha=function(){this.Mza=!0;this.rH=[];this.qn=[];this.AJ=this.cO=!1;this.$v=[h.mm.ufa,h.mm.uob,h.mm.HL,h.mm.JHa];this.Qm=void 0;this.ypa=!0;this.R7=!1;this.k6=(0,k.aa)(288E4);this.n6=(0,k.aa)(335544320);this.dB=(0,c.Sc)(15E3);this.QSb=(0,k.aa)(6291456);this.rP=1E3;this.dna=!0;this.pBa=g;this.gR=(0,k.aa)(0);this.WO=("ro zh-Hans zh-Hant ko vi ar he hi").split(" ");this.Eda=(0,c.Sc)(0);this.UX=!0;this.$da=!1;this.fO=this.Fva=this.B8=!0;this.aL=this.LD=this.lx=!1;this.MH=["start"];};},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.U0a=b.T0a=b.V0a=void 0;c=a(28);k=a(43);h=a(123);g=a(141);b.V0a=function(d){return Object.assign(Object.assign({},(0,g.BO)()),{Gs:d.i5a?"T":d.dP?"C":"M",qp:d.i5a?"NFCDTS-01-":d.nE?"NFCDCH-02-":d.gP?"NFCDCH-MC-":d.dP?"NFCDCH-01-":d.j$?"NFCDCH-AP-":d.i$?"NFCDCH-AT-":d.fP?"NFCDCH-PH-":"NFCDCH-LX-",DD:d.dP?"chromeos-cadmium":"chrome-cadmium",r_:d.dP});};b.T0a=function(d){var f,m;f=(0,g.AO)();m=Object.assign(Object.assign({},f),{cO:!0,AJ:!0,lx:!0,LD:!0,aL:!0});d.nE && (m.qn=[].concat(ja(f.qn),ja((0,h.wo)([k.H.jC,k.H.kC],{minimumCores:5}))));d.gP && (m.qn=[].concat(ja(f.qn),ja((0,h.wo)([k.H.jC,k.H.kC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.dP && (m.qn=(0,h.wo)([].concat(ja(k.xe.hfa),ja(k.xe.xea),ja(k.xe.wea),ja(k.xe.ACa),ja(k.xe.mfa),ja(k.xe.nfa),ja(k.xe.lfa),ja(k.xe.jfa),ja(k.xe.kfa),ja(k.xe.ifa))));return m;};b.U0a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Gl.jL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.yq && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.dP && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15}),89 <= d.yq && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.yq && d.nE && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));d.nE && 99 <= d.yq && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var k,h,g,d,f,m;function c(){var l,n,p;p=null === (l=nb.MSMediaKeys) || void 0 === l?void 0:l.isTypeSupported(h.Bb.ae,f.Md.Pva);l=p || (null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(h.Bb.kG,f.Md.Pva));return {Y4a:p,X4a:l};}Object.defineProperty(b,"__esModule",{value:!0});b.j1a=b.lKb=b.i1a=b.k1a=void 0;k=a(28);h=a(95);g=a(43);d=a(141);f=a(125);m=a(123);b.k1a=function(l){return Object.assign(Object.assign({},(0,d.BO)()),{Gs:l.RA?"D":"H",qp:l.RA?l.gP?"NFCDIE-04-":l.MPb?"NFCDIE-LX-":l.j$?"NFCDIE-AP-":l.i$?"NFCDIE-AT-":l.fP?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",DD:"edge-cadmium",Z5:!1,r_:!1});};b.i1a=function(){var l,n,p;l=Object.assign(Object.assign({},(0,d.AO)()),{rH:(0,m.wo)([g.Sd.NF,g.Sd.OF,g.Sd.$R,g.Sd.aS]),qn:(0,m.wo)([].concat(ja(g.xe.hfa),ja(g.xe.xea),ja(g.xe.wea),ja(g.xe.ACa),ja(g.xe.mfa),ja(g.xe.nfa),ja(g.xe.lfa),ja(g.xe.jfa),ja(g.xe.kfa),ja(g.xe.ifa),ja(g.xe.ZDa),ja(g.xe.$Da),ja(g.xe.Kib))),Qm:void 0,UX:!1});n=c();p=n.Y4a;n.X4a || (l.lx=!0,l.LD=!0,l.aL=!0);l.MH=p?[]:["start"];return l;};b.lKb=c;b.j1a=function(l){var n,p,q,t,w,v,u;n=l.eY;p=l.RA;q=l.nE;t=c();w=t.X4a;v=t.Y4a;t={nudgeSourceBuffer:!0,audioCapabilityDetectorType:k.iw.Sy,videoCapabilityDetectorType:k.Gl.Sy,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:v?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0};v={prepareCadmium:!0,enableLdlPrefetch:!w || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:k.iw.ow,videoCapabilityDetectorType:k.Gl.jL,microsoftScreenSizeFilterEnabled:!1,keySystemList:[h.Bb.BQa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.wo)([g.Sd.NF,g.Sd.OF]),videoProfiles:(0,m.wo)([g.H.LF,g.H.MF,g.H.nS,g.H.pS,g.H.oS,g.H.qS]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= l.yq && (t=Object.assign(Object.assign(Object.assign({},t),v),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= l.yq && (t=Object.assign(Object.assign({},t),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= l.yq && (t=Object.assign(Object.assign({},t),{microsoftHwdrmRequiresHevc:!1})),17 <= l.yq && (t=Object.assign(Object.assign({},t),{enableDDPlusAtmos:!0})));p && (t=Object.assign(Object.assign(Object.assign({},t),v),{useEncryptedEvent:!1}),q && (t=Object.assign(Object.assign({},t),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),w?(t=Object.assign(Object.assign({},t),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[h.Bb.DMa,h.Bb.EMa]}),94 === l.yq && (t=Object.assign(Object.assign({},t),{enableHWDRM:!1})),102 <= l.yq && (t=Object.assign(Object.assign({},t),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0}))):t=Object.assign(Object.assign({},t),u));return t;};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.d2a=b.c2a=b.e2a=void 0;c=a(28);k=a(141);b.e2a=function(h){return Object.assign(Object.assign({},(0,k.BO)()),{Gs:"O",qp:h.j$?"NFCDOP-AP-":h.i$?"NFCDOP-AT-":h.fP?"NFCDOP-PH-":"NFCDOP-01-",DD:"opera-cadmium"});};b.c2a=function(){return Object.assign(Object.assign({},(0,k.AO)()),{cO:!0,AJ:!0,lx:!0,LD:!0,aL:!0});};b.d2a=function(h){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Gl.jL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1};67 <= h.yq && (g=Object.assign(Object.assign({},g),{enableVP9:!0}));return g;};},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.r1a=b.q1a=b.s1a=void 0;c=a(28);k=a(43);h=a(123);g=a(141);b.s1a=function(d){return Object.assign(Object.assign({},(0,g.BO)()),{Gs:"F",qp:d.gP?"NFCDFF-MC-":d.nE?"NFCDFF-02-":d.j$?"NFCDFF-AP-":d.i$?"NFCDFF-AT-":d.fP?"NFCDFF-PH-":"NFCDFF-LX-",DD:"firefox-cadmium"});};b.q1a=function(d){var f,m;f=(0,g.AO)();m=Object.assign(Object.assign({},f),{cO:!0,AJ:!0,lx:!0,LD:!0,aL:!0});d.nE && (m.qn=[].concat(ja(f.qn),ja((0,h.wo)([k.H.jC,k.H.kC],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.gP && (m.qn=[].concat(ja(f.qn),ja((0,h.wo)([k.H.jC,k.H.kC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.r1a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.Gl.jL,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1};(d.nE || d.gP) && 95 <= d.yq && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var k,h,g,d,f,m;function c(l){var n;n=Object.assign(Object.assign({},(0,m.AO)()),{rH:(0,f.wo)([d.Sd.NF,d.Sd.OF,d.Sd.dz]),qn:(0,f.wo)([].concat(ja(d.xe.hfa),ja(d.xe.xea),ja(d.xe.wea),ja(d.xe.mfa),ja(d.xe.nfa),ja(d.xe.lfa),ja(d.xe.jfa),ja(d.xe.kfa),ja(d.xe.ifa),ja(d.xe.ZDa),ja(d.xe.$Da))),Qm:g.Bb.Qkb,dB:(0,k.Sc)(7E3),MH:[]});(0,m.m$)(l,14) && (n.MH=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.x2a=b.w2a=b.C1a=b.y2a=void 0;k=a(5);h=a(28);g=a(95);d=a(43);f=a(123);m=a(141);b.y2a=function(l){return Object.assign(Object.assign({},(0,m.BO)()),{Gs:"S",qp:l.fP?"NFCDSF-PH-":"NFCDSF-01-",DD:"safari-cadmium"});};b.C1a=function(l){return Object.assign(Object.assign({},c(l)),{$da:!0,fO:!1,$v:[d.mm.g4]});};b.w2a=c;b.x2a=function(l){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:h.Gl.ow,enableSeamless:!0,enableCombinedPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1};(0,m.m$)(l,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.gY)(l,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.gY)(l,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.gY)(l,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.gY)(l,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,m.m$)(l,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};},function(r,b,a){var k;function c(h,g,d,f){this.log=h;this.tI=g;this.GB=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.GQa=void 0;k=a(3);c.prototype.mh=function(h){var g;g=this;(this.context.Ef || this.context.nl) && this.log.trace("Requesting license",{drmType:h.Wn});return this.tI(h).catch(function(d){g.log.error("Unable to get the Playready license",d);if(g.context.Whc)throw d;throw {da:!1,code:k.T.yL,Jc:d.Jc,Qd:d.Qd,Xn:d.Xn,Ak:d.message || d.Ak,dI:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Ak)};});};c.prototype.release=function(h){var g;g=this;this.log.trace("Requesting stop data");return this.GB(h).catch(function(d){g.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Jc,extCode:d.Qd,edgeCode:d.Xn,message:d.message || d.Ak});throw {da:!1,code:k.T.dia,Jc:d.Jc,Qd:d.Qd,Xn:d.Xn,Ak:d.message || d.Ak,message:"Unable to release the PlayReady license. " + (d.message || d.Ak)};});};b.GQa=c;nb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qia=void 0;c=a(3);k=a(204);h=a(208);g=a(32);d=a(76);f=a(33);m=a(28);l=a(62);(function(){var z;function n(A,B,D){var C;C=this;this.log=A;this.qo=B || y.bind(this);this.context=D;this.GZ=this.challenge=this.keySystem=this.keySessionId=this.Ob=this.mediaKeys=void 0;this.ud={};this.Hua=this.OAa=!1;this.rZ=w.bind(this);this.GZ=void 0;this.oCa=new Promise(function(F,G){C.eza=F;C.Iya=G;});this.oCa.catch(function(F){C.log.error("wait for license rejected",F);});k.pc.get(m.Gy).T8().then(function(F){(C.context.Ef || C.context.nl) && C.log.debug("DRIVERINFO: ",F);}).catch(function(F){C.log.error("DRIVERINFO",F);});this.Vm=function(F,G){C.Iya(F,G);C.context.onerror(F,G);};this.Pwa=function(){C.eza();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return k.pc.get(f.vi);}function q(){return k.pc.get(g.Qh);}function t(A){var B,D;B=k.pc.get(h.yia);D="";A.forEach(function(C){D+="<KeyID>" + C + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.aeb(A));(this.context.Ef || this.context.nl) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function w(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ob.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.ng.Xr,z.GC.Tt,B);this.Ob=void 0;}function v(A,B,D){var F,G,E;for(var C=2;C < arguments.length;++C){;}C="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (C+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > C.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(C=C.match(new RegExp(G)))return C[1];}function u(A,B,D,C){var F,G;F=A.target && A.target.sessionId;G=p().decode(v(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.Ef || D.context.nl || D.context.eC) && D.log.debug("LICENSE: License challenge",p().encode(G));D.keySessionId=F;A={ig:B,messageType:"license-request",Wn:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",sk:[{data:G,sessionId:F}]};12 === D.state && (D.qo("lc"),G={data:G,Wn:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.GJ || (D.GZ=G));D.context.bm.mh(A).then(function(E){if(12 === D.state && (D.qo("lr"),D.Pwa(),!D.context.GJ))(D.HZ=E.Cj[0].data,D.state=13,C({da:!0,state:D.state}));else if(D.Ob)return x(D,E.Cj[0].data,D.Ob).then(function(){D.state=30;C({da:!0,state:D.state});});}).catch(function(E){C(q().mJ(E,{state:D.state}));});}function x(A,B,D){A.o$() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:p().encode(B)});return new Promise(function(C,F){try{A.Ob.update(B);C(void 0);A.o$() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(G){F({da:!1,code:z.ng.z3,message:"Unable to update the EME.",Sb:q().Me(G)});}});}function y(A){this.context.Da && (this.ud[A]=this.context.Da.getTime(),this.log.trace("Milestone: " + A + ", " + this.ud[A]));}z={ng:c.T,GC:c.O};n.prototype.tX=function(){return this.keySystem;};n.prototype.$fb=function(A,B){A.log && (this.log=A.log);A.qo && (this.qo=A.qo);B.bm && (this.context.bm=B.bm);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):k.pc.get(m.Gy).FO()).then(function(D){B.qo("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.c_)D=Promise.reject({da:!1,code:z.ng.hS,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(D);}catch(C){D=Promise.reject({da:!1,code:z.ng.nLa,message:"create MSMediaKeys(" + D + ") failed",Sb:q().Me(C)});break a;}try{B.context.Y && B.context.Y.msSetMediaKeys(B.mediaKeys);}catch(C){D=Promise.reject({da:!1,code:z.ng.LL,message:"set MSMediaKeys failed",Sb:q().Me(C)});break a;}D=Promise.resolve({da:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.Y=void 0;if(this.Ob){this.log.info("Closing the session",{sessionId:this.Ob.sessionId});this.Ob.removeEventListener("mskeyerror",this.rZ);try{this.Ob.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ob=void 0;}};n.prototype.mh=function(A,B,D){var C;if(1 < B.length)return Promise.reject({code:z.ng.rLa});if(0 === B.length)return Promise.reject({code:z.ng.qLa});B=B[0];C=this;C.context.Ef && C.log.trace("LICENSE: Setting license");return C.context.c_?Promise.reject({da:!1,code:z.ng.YFa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,I,N,L,H,Q,O;try{I=function(J){C.Ob && (C.Ob.removeEventListener("mskeymessage",L),C.Ob.removeEventListener("mskeyadded",H),C.Ob.removeEventListener("mskeyerror",Q),C.Ob.addEventListener("mskeyerror",C.rZ));J.state=11;J.da?F(J):(C.close(),G(J));};N=function(J){var M,P;M=[];P=Array.prototype.map.call(J,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)M.push(P[1]);else {J=v(J,"KIDS");P=/VALUE="(.+?)">/g;for(var R=P.exec(J);null != R;){M.push(R[1]);R=P.exec(J);}}return M;};L=function(J){E && clearTimeout(E);u(J,A,C,I);};H=function(J){(C.context.Ef || C.context.nl) && C.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({da:!0});};Q=function(J){var M,P;E && clearTimeout(E);if(J.target && J.target.error)(M=J.target.error.systemCode,P=J.target.error.code);M={code:z.ng.Xr,Jc:z.GC.Tt,Qd:M?k.pc.get(d.Cy).lI(M,4):P,details:q().Me(J),cause:J.target && J.target.error,xda:M,b8:P};C.log.error("LICENSE: Received " + J.type + " event",{sessionId:C.Ob && C.Ob.sessionId,keySystem:J.target.keySystem,systemCode:M.xda,code:M.b8});C.qo("le");C.Vm && C.Vm(z.ng.Xr,M);I({da:!1,code:z.ng.Xr,Jc:z.GC.Tt,Qd:M.Qd,message:"Received a key error.",Sb:M.details,cause:M.cause});};C.log.trace("LICENSE: Executing prefix based EME");(C.context.Ef || C.context.nl) && C.log.debug("LICENSE: PSSH",p().encode(B));C.Gx || (C.Gx=N(B));if(D){O=t.call(C,C.Gx);C.Ob=C.mediaKeys.createSession("video/mp4",new Uint8Array(0),O);}else C.Ob=C.mediaKeys.createSession("video/mp4",B,null);(C.context.Ef || C.context.nl) && C.log.debug("LICENSE: Created the media keys sessions",{keySystem:C.Ob.keySystem,sessionId:C.Ob.sessionId});C.Ob.addEventListener("mskeymessage",L);C.Ob.addEventListener("mskeyadded",H);C.Ob.addEventListener("mskeyerror",Q);C.context.Eua && (E=setTimeout(function(){I({da:!1,code:z.ng.$S,Jc:z.GC.Hkb});},C.context.Eua));}catch(J){G({code:z.ng.$S,Jc:z.GC.km});}});})();};n.prototype.SJ=function(){var A;(this.context.Ef || this.context.nl) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.mh(l.Ho.Dga.bq,A,!0);};n.prototype.g6=function(A){this.HZ || this.log.error("pending license must exist at this point");this.context.GJ=!0;try{A && (this.context.Y=A,this.context.Y.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({da:!1,code:z.ng.LL,message:"setMediaKeys failed",Sb:q().Me(B)});}return x(this,this.HZ,this.Ob);};n.prototype.w_a=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ea:A.ea,Ae:A.Ae};return new Promise(function(C,F){(function(){B.context.bm.release.call(B.context.bm,D).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={da:!0};B.close();G.da?C(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Jc,extCode:G.Qd,edgeCode:G.Xn,message:G.Ak});B.close();G.da?C(G):F(G);});})();});};n.prototype.o$=function(){return this.context.Ef || this.context.nl;};b.Qia=n;nb._cad_global.WindowsEmeSession=b.Qia;})();},function(r,b,a){var u,x,y,z,A,B,D,C,F,G,E,I;function c(N,L,H){var Q;Q=this;this.log=N;this.qo=L || v.bind(this);this.context=H;this.GZ=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.ud={};this.Hj=void 0;this.url="";this.Hua=this.OAa=!1;this.rZ=l.bind(this);this.xo=this.GZ=void 0;this.oCa=new Promise(function(O,J){Q.eza=O;Q.Iya=J;});this.Vm=function(O,J){Q.Iya(O,J);Q.context.onerror(O,J);};this.Pwa=function(){Q.eza();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function k(){return u.Aa.get(A.au);}function h(){return u.Aa.get(z.vi);}function g(){return u.Aa.get(x.Qh);}function d(N){return (/com.apple.fps/).test(N) && !(/com.apple.fps.2_0/).test(N);}function f(N){var L;N=(function(H){var O,J;function Q(M,P,R,S){var U,ba;U=new Uint8Array("piff" == P?88:72);ba=new G.dS(U);ba.iC(12);ba.hC("frma");ba.hC(M);ba.iC(20);ba.hC("schm");ba.p1(0);ba.p1(0);ba.hC(P);ba.iC(R);"piff" == P?(ba.iC(56),ba.hC("schi"),ba.iC(48),ba.hC("uuid"),ba.o1([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ba.iC(40),ba.hC("schi"),ba.iC(32),ba.hC("tenc"));ba.p1(0);ba.p1(0);ba.iC(264);ba.o1(S);return U;}O=Q("avc1","piff",65537,H);O=k().decode(h().encode(O));H=Q("avc1",E.kw,65536,H);H=k().decode(h().encode(H));J=new Uint8Array(7 + O.length + 8 + H.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(O,7);J.set([34,44,10,32,32,32,32,34],7 + O.length);J.set(H,7 + O.length + 8);J.set([34,10,32,32,93],7 + O.length + 8 + H.length);return J;})(N);L=new Uint8Array(13 + N.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(N,13);L.set([10,125],13 + N.length);return L;}function m(N){var L;N=N.subarray(14,30);N=String.fromCharCode.apply(null,N);N=h().decode(N);N=N.subarray(4);L=new Uint8Array(16);L.set(N);return L;}function l(N){var L;L=n(N);this.log.error("LICENSE Error: Received event: " + N.type,{sessionId:this.Ob?this.Ob.sessionId:void 0,keySystem:N.target.keySystem,systemCode:L.xda,code:L.b8});this.Vm && this.Vm(I.ng.Xr,L);this.Ob=void 0;}function n(N){var L,H;if(N.target.error)(L=N.target.error.systemCode,H=N.target.error.code);return {code:I.ng.Xr,Jc:I.GC.Tt,Qd:L?u.Aa.get(y.Cy).lI(L,4):H,details:g().Me(N),cause:N.target.error,xda:L,b8:H};}function p(N,L,H,Q){var O,J,M;O=N.target.sessionId;J=N.message;M=g().vD(J,k().decode("certificate"));H.Hua=L === F.Ho.Dga.Jo;H.state=M?2:12;H.log.trace("LICENSE: Received event: " + N.type,{keySystem:N.target.keySystem,sessionId:O});(H.context.Ef || H.context.nl || H.context.eC) && H.log.debug("LICENSE: License challenge",h().encode(J));H.keySessionId=O;N={Ek:H.Ek,ig:L,messageType:"license-request",Wn:(/clearkey/i).test(H.keySystem)?"clearkey":"fps",sk:[{data:J,sessionId:O}]};12 === H.state && (H.qo("lc"),J={data:J,Wn:(/clearkey/i).test(H.keySystem)?"clearkey":"fps"},H.context.GJ || (H.GZ=J));H.context.bm.mh(N).then(function(P){if(12 === H.state && (H.qo("lr"),H.Pwa(),!H.context.GJ))(H.HZ=P.Cj[0].data,H.state=13,Q({da:!0,state:H.state}));else if(H.Ob)return (P=w(H,M,P.Cj[0].data,H.Ob),2 === H.state?P:P.then(function(){H.state=30;Q({da:!0,state:H.state});}));}).catch(function(P){Q(g().mJ(P,{state:H.state}));});}function q(N,L,H){L.log.trace("LICENSE: Received event: " + N.type,{keySystem:N.target.keySystem,sessionId:N.target.sessionId});H({da:!0});}function t(N,L,H){var Q;Q=n(N);L.Vm && L.Vm(I.ng.Xr,Q);L.log.error("LICENSE Error: Received event: " + N.type,{sessionId:L.Ob?L.Ob.sessionId:void 0,keySystem:N.target.keySystem,systemCode:Q.xda,code:Q.b8});H({da:!1,code:I.ng.Xr,Jc:I.GC.Tt,Qd:Q.Qd,message:"Received a key error.",Sb:Q.details,cause:Q.cause});}function w(N,L,H,Q){Q={sessionId:Q.sessionId};N.o$() && (Q.license=h().encode(H));N.log.trace("calling keysession update",Q);return new Promise(function(O,J){function M(){N.Ob.removeEventListener("webkitkeyadded",M);O(void 0);}try{L || N.Ob.addEventListener("webkitkeyadded",M);N.Ob.update(H);L && O(void 0);}catch(P){J({da:!1,code:I.ng.z3,message:"Unable to update the EME.",e:P});}});}function v(N){this.ud[N]=u.Aa.get(B.vd).Xb().ca(D.la);this.log.trace("Milestone: " + N + ", " + this.ud[N]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(8);b=a(3);x=a(32);y=a(76);z=a(33);A=a(70);B=a(20);D=a(5);C=a(12);F=a(62);G=a(169);E=a(47);I={ng:b.T,GC:b.O};c.prototype.tX=function(){return this.keySystem;};c.prototype.$fb=function(N,L){N.log && (this.log=N.log);N.qo && (this.qo=N.qo);L.bm && (this.context.bm=L.bm);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(N){var L;L=this;L.qo("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:N});L.keySystem=N;return L.context.c_?Promise.reject({da:!1,code:I.ng.hS,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function H(){var Q,O;Q=g().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");O=Q.lastChild;L.xo=Q;L.context.Y=C.wh.createElement("VIDEO");O?L.xo.insertBefore(L.context.Y,O):L.xo.appendChild(L.context.Y);}return new Promise(function(Q,O){function J(M){(L.context.Ef || L.context.nl || L.context.eC) && L.log.trace("CREATE: Received event: " + M.type,{readyState:M.target.readyState,duration:M.target.duration});try{L.mediaKeys=new nb.WebKitMediaKeys(N);L.context.Y.webkitSetMediaKeys(L.mediaKeys);Q({da:!0,mediaKeys:L.mediaKeys});}catch(P){L.log.error("CREATE: Exception on webkitSetMediaKeys",P);O({da:!1,code:I.ng.$S,Sb:g().Me(P)});}}if(d(L.keySystem))try{L.mediaKeys=new nb.WebKitMediaKeys(N);L.context.Y && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.Y.webkitSetMediaKeys(L.mediaKeys));Q({da:!0,mediaKeys:L.mediaKeys});}catch(M){O({da:!1,code:I.ng.$S,Sb:g().Me(M)});}else (L.mediaKeys=new nb.WebKitMediaKeys(N),L.context.Y?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.Y.webkitSetMediaKeys(L.mediaKeys)):(H(),L.Hj=new C.yC(),L.Hj.addEventListener("sourceopen",J),L.url=URL.createObjectURL(L.Hj),L.context.Y.src=L.url),Q({da:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Ob && (this.log.info("Closing the session",{sessionId:this.Ob.sessionId}),this.Ob.removeEventListener("webkitkeyerror",this.rZ),this.Ob.close(),this.Ob=void 0);};c.prototype.mh=function(N,L){var H;if(1 < L.length)return Promise.reject({code:I.ng.rLa});if(0 === L.length)return Promise.reject({code:I.ng.qLa});L=L[0];H=this;H.context.Ef && H.log.trace("LICENSE: Setting license",{initData:h().encode(L)});return H.context.c_?Promise.reject({da:!1,code:I.ng.YFa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(Q,O){var M,P,R;function J(S){H.Ob && (H.Ob.removeEventListener("webkitkeymessage",M),H.Ob.removeEventListener("webkitkeyadded",P),H.Ob.removeEventListener("webkitkeyerror",R),H.Ob.addEventListener("webkitkeyerror",H.rZ));S.da?Q(S):(H.close(),O(S));}M=function(S){p(S,N,H,J);};P=function(S){q(S,H,J);};R=function(S){t(S,H,J);};d(H.keySystem) && (H.Ek=m(L),L=f(H.Ek));H.log.trace("LICENSE: Executing prefix based EME");H.context.Ef | H.context.nl && H.log.debug("LICENSE: PSSH",h().encode(L));H.Ob=H.mediaKeys.createSession("video/mp4",L,null);(H.context.Ef || H.context.nl) && H.log.debug("LICENSE: Created the media keys sessions",{keySystem:H.Ob.keySystem,sessionId:H.Ob.sessionId});H.Ob.addEventListener("webkitkeymessage",M);H.Ob.addEventListener("webkitkeyadded",P);H.Ob.addEventListener("webkitkeyerror",R);});})();};c.prototype.SJ=function(){var N;N=this;return N.OAa?Promise.resolve({da:!0}):new Promise(function(L,H){var O,J,M;function Q(P){N.Ob && (N.Ob.removeEventListener("webkitkeymessage",O),N.Ob.removeEventListener("webkitkeyadded",J),N.Ob.removeEventListener("webkitkeyerror",M));P.da?L(P):(H(P),N.close());}O=function(P){p(P,F.Ho.Dga.bq,N,Q);};J=function(P){q(P,N,Q);L({da:!0});};M=function(P){t(P,N,Q);};N.Hua=!1;N.Ob.addEventListener("webkitkeymessage",O);N.Ob.addEventListener("webkitkeyadded",J);N.Ob.addEventListener("webkitkeyerror",M);N.Ob.update(k().decode("renew"));});};c.prototype.g6=function(N){this.HZ || this.log.error("pending license must exist at this point");this.context.GJ=!0;try{N && (this.context.Y=N,this.log.trace("calling setmediakeys on video element"),this.context.Y.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(H,Q){Q({da:!1,code:I.ng.LL,message:"setMediaKeys failed",Sb:g().Me(L)});});}return w(this,!1,this.HZ,this.Ob);};c.prototype.w_a=function(N){var L,H;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(N));L.OAa=!0;H={ea:N.ea,Ae:N.Ae};return new Promise(function(Q,O){(function(){L.context.bm.release.call(L.context.bm,H).then(function(){var J;L.log.trace("successfully released the license",JSON.stringify(N));J={da:!0};J.da?Q(J):(L.close(),O(J));}).catch(function(J){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Ob?L.Ob.sessionId:void 0,code:J.code,subCode:J.Jc,extCode:J.Qd,edgeCode:J.Xn,message:J.Ak});J.da?Q(J):(L.close(),O(J));});})();});};c.prototype.o$=function(){return this.context.Ef || this.context.nl;};r.exports=c;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p,q){this.log=l;this.tI=n;this.GB=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});k=a(3);h=a(8);g=a(32);d=a(70);f=a(33);m=a(47);c.prototype.mh=function(l){var n,p;n=this;(this.context.Ef || this.context.nl) && this.log.debug("Requesting a license",l);if(h.Aa.get(g.Qh).vD(h.Aa.get(d.au).decode("certificate"),l.sk[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Cj:[{sessionId:l.sk[0].sessionId,data:h.Aa.get(f.vi).decode(m.m2)}]});}else p=h.Aa.get(g.Qh).vD(h.Aa.get(d.au).decode("content"),l.sk[0].data)?Promise.resolve({Cj:[{sessionId:l.sk[0].sessionId,data:l.Ek}]}):(function(){n.log.trace("Requesting license",{drmType:l.Wn});return n.tI(l).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:k.T.yL,Jc:q.Jc,Qd:q.Qd,Xn:q.Xn,Ak:q.message || q.Ak,dI:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Ak),cause:q};});})();return p;};c.prototype.release=function(l){var n;n=this;this.log.trace("Requesting stop data");return this.GB(l).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Jc,extCode:p.Qd,edgeCode:p.Xn,message:p.message || p.Ak});throw {da:!1,code:k.T.dia,Jc:p.Jc,Qd:p.Qd,Xn:p.Xn,Ak:p.message || p.Ak,message:"Unable to release the FairPlay license. " + (p.message || p.Ak),cause:p};});};r.exports=c;},function(r,b,a){var g,d,f,m,l,n,p,q;function c(t,w,v){var u;u=this;this.is=t;this.Qp=w;this.config=v;this.cw=function(){return {version:u.version,drmData:u.K7.map(function(x){return x.cw();})};};this.Dqa=function(x){var y;u.is.In(x) && (x=k(x));1 === x.version && (x=h(u.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.h2(z);});}catch(z){throw new l.od(f.T.vL,f.O.pC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !u.is.uj(x.version))throw new l.od(f.T.vL,f.O.pC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new l.od(f.T.vL,f.O.UDa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.zl=new n.vga(2,this.config.yW,this.is.In(this.config.yW),this.Qp,this.cw);}function k(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new l.od(f.T.vL,f.O.pC);return {version:1,drmData:[t]};}function h(t,w){if(t.iD(w.drmData))return {version:2,drmData:w.drmData.map(function(v){var u;u=v.keySessionIds;return new q.h2({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(x){return {id:x,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).cw();})};throw new l.od(f.T.vL,f.O.pC);}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;r=a(2);g=a(0);d=a(66);f=a(3);m=a(29);l=a(38);n=a(339);p=a(96);q=a(210);c.prototype.xab=function(){return this.k3b();};c.prototype.YTa=function(t){return this.zl.add(t);};c.prototype.t_=function(t){return this.zl.remove(t,function(w,v){return w.ea === v.ea;});};c.prototype.toString=function(){return JSON.stringify(this.cw(),null,"  ");};c.prototype.k3b=function(){var t;t=this;this.Bab || (this.Bab=new Promise(function(w,v){t.zl.load(t.Dqa).then(function(){w();}).catch(function(u){u.wa && u.cause?v(new l.od(f.T.vL,u.wa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):v(u);});}));return this.Bab;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.zl.version;}},K7:{configurable:!0,enumerable:!0,get:function(){return this.zl.Am;}}});a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.Eg)),r.__param(1,(0,g.l)(p.mC)),r.__param(2,(0,g.l)(d.Ut))],a);b.lEa=a;},function(r,b,a){var k,h;function c(g,d,f,m,l){this.version=g;this.FJ=d;this.PAa=f;this.Qp=m;this.cw=l;}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=void 0;k=a(3);h=a(38);c.prototype.load=function(g){return this.DRb(g);};c.prototype.set=function(g){this.Am=g;return this.fXb();};c.prototype.DRb=function(g){var d;d=this;this.h6a || (this.h6a=new Promise(function(f,m){function l(n){d.zEb().then(function(){m(n);}).catch(function(){m(n);});}d.Yra().then(function(n){d.storage=n;return d.storage.load(d.FJ);}).then(function(n){var p;n=n.value;try{p=g(n);d.version=p.version;d.Am=p.data;f();}catch(q){l(q);}}).catch(function(n){n.wa !== k.O.FC?m(n):f();});}));return this.h6a;};c.prototype.fXb=function(){var g,d,f,m,l;g=this;if(!this.PAa)return Promise.resolve();if(this.nda){m=new Promise(function(n,p){d=n;f=p;});l=function(){g.nda=m;g.Udb().then(function(){d();}).catch(function(n){f(n);});};this.nda.then(l).catch(l);return m;}return this.nda=this.Udb();};c.prototype.Udb=function(){var g,d;g=this;d=this.cw();return new Promise(function(f,m){g.Yra().then(function(l){return l.save(g.FJ,d,!1);}).then(function(){f();}).catch(function(l){m(c.X4b(k.T.vnb,l));});});};c.prototype.zEb=function(){var g;g=this;return this.PAa?new Promise(function(d,f){g.Yra().then(function(m){return m.remove(g.FJ);}).then(function(){d();}).catch(function(m){f(m);});}):Promise.resolve();};c.prototype.Yra=function(){return this.storage?Promise.resolve(this.storage):this.Qp.create();};c.X4b=function(g,d){var f;if(d.wa && d.cause)return new h.od(g,d.wa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Jc){f=d.message?d.message + " ":"";d.code=g;d.message="" === f?void 0:f;return d;}return d instanceof Error?new h.od(g,k.O.km,void 0,void 0,void 0,void 0,d.stack,d):new h.od(g,k.O.zn,void 0,void 0,void 0,void 0,void 0,d);};b.fIa=c;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});b.gab=void 0;c=a(3);k=a(97);h=a(126);g=a(209);b.gab=function(f){g.aO.parent=f.gb;return function(){d || (d=new Promise(function(m,l){try{m(g.aO.get(h.JFa));}catch(n){l(new k.vh(c.T.wlb,c.O.Glb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;a.prototype.i3a=function(){return void 0 !== this.mediaKeys;};a.prototype.eUa=function(c){this.mediaKeys=c;};a.prototype.o_b=function(){this.i3a() && (this.mediaKeys=void 0);};b.iKa=a;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w,v){this.YH=p;this.uc=q;this.yP=w;this.Fp=v;this.log=t.kb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(2);k=a(0);h=a(126);g=a(33);d=a(7);f=a(142);m=a(77);l=a(124);n=a(340);c.prototype.Ura=function(p){var q;q=this;return Promise.all([this.YH(),this.pra()]).then(function(t){var w;w=pa(t);t=w.next().value;w=w.next().value;return t.aJb({type:p,initData:w},q.yP());}).then(function(t){var w;w=pa(t);t=w.next().value;w=w.next().value;w=q.uc.encode(w.data[0]);q.log.trace("Challenge generated",w);return {ec:t,kna:w};});};c.prototype.pra=function(){var p;p=this;return this.Fp.yA().then(function(q){return q.Wu();}).then(function(q){switch(q){case l.jm.ND:return n.HGa;case l.jm.uB:return n.CMa;default:return n.CQa;}}).then(function(q){return q.map(p.uc.decode);});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.i2)),r.__param(1,(0,k.l)(g.vi)),r.__param(2,(0,k.l)(d.yb)),r.__param(3,(0,k.l)(f.NS)),r.__param(4,(0,k.l)(m.vw))],a);b.mEa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){this.ve=w;this.Nh=v;this.uc=u;this.is=x;this.dZ=y;this.xk=z;}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(2);k=a(0);h=a(33);g=a(29);d=a(39);f=a(70);m=a(32);l=a(124);n=a(66);p=a(684);q=a(686);t=a(213);c.prototype.create=function(w){switch(w){case l.jm.uB:return new q.CNa(this.dZ,this.is,this.uc,this.ve,this.xk,this.Nh);case l.jm.ND:return new p.GGa(this.dZ,this.is,this.uc,this.ve,this.xk,this.Nh);default:return new t.Cw(this.dZ,this.is,this.uc,this.ve,this.xk,this.Nh);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(m.Qh)),r.__param(1,(0,k.l)(f.au)),r.__param(2,(0,k.l)(h.vi)),r.__param(3,(0,k.l)(g.Eg)),r.__param(4,(0,k.l)(d.JL)),r.__param(5,(0,k.l)(n.Ut))],a);b.hGa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){w=h.Cw.call(this,w,v,u,x,y,z) || this;w.uc=u;w.ti=x;w.xk=y;w.Nh=z;w.A3a=new g.FGa(w.uc,w.ti,w.Nh);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;r=a(2);k=a(0);h=a(213);g=a(685);d=a(39);f=a(29);m=a(33);l=a(32);n=a(66);p=a(70);q=a(341);t=a(342);la(c,h.Cw);c.prototype.generateRequest=function(w,v){var u,x,y;u=this;try{x=v.map(function(z){return u.A3a.SKb(z);});this.c4a=x.map(function(z){return u.uc.encode(z);});y=this.A3a.BAb(x);return h.Cw.prototype.generateRequest.call(this,w,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(w,v,u){var x,y,z,A,B;x=this;if(u)try{y=this.Nh.encode(w[0]);z=JSON.parse(y).RESPONSES.map(function(D){var C;C=t.T3.beb(D.ID);return {keyID:v === q.uG.aOa?x.c4a[x.c4a.length - 1]:u[C],payload:D.PAYLOAD};});if(v === q.uG.Request){A=z.map(function(D){return D.keyID;});u.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);w=[this.Nh.decode(B)];}catch(D){return Promise.reject(D);}return h.Cw.prototype.update.call(this,w,v);};c.prototype.SJ=function(){return h.Cw.prototype.update.call(this,[this.Nh.decode("renew")],q.uG.Request);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.JL)),r.__param(1,(0,k.l)(f.Eg)),r.__param(2,(0,k.l)(m.vi)),r.__param(3,(0,k.l)(l.Qh)),r.__param(4,(0,k.l)(n.Ut)),r.__param(5,(0,k.l)(p.au))],a);b.GGa=a;},function(r,b){function a(c,k,h){var g;g=this;this.uc=c;this.ti=k;this.Nh=h;this.SKb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=g.uc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.Skb={kw:1667591779,j9b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;a.prototype.BAb=function(c){var k;k=this.Skb.kw;c=c.map(function(h){return {kfc:"",GQb:h,fma:h,a3b:h,h7b:[1]};});return this.kSb(k,c);};a.prototype.jSb=function(c){var k;k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,c);return this.gva("fpsi",[k]);};a.prototype.iSb=function(c,k,h,g){c=[this.gva("fkri",[c])];k.byteLength && c.push(this.FY("fkai",[k]));h.byteLength && c.push(this.FY("fkcx",[h]));g.length && c.push(this.FY("fkvl",[new Uint8Array(new Uint32Array(g).buffer)]));return this.FY("fpsk",c);};a.prototype.kSb=function(c,k){var h,d;h=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.jSb(c)];for(var g in k){d=k[g];c.push(this.iSb(d.GQb,d.fma,d.a3b,d.h7b));}k=this.FY("fpsd",c);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,k.byteLength);return this.gva("pssh",[h,g,k]);};a.prototype.gva=function(c,k){var h,g,d;h=0;for(d in k){h+=k[d].byteLength;}h=new Uint8Array(12 + h);g=new DataView(h.buffer);d=0;g.setUint32(d,h.byteLength);d+=4;h.set(this.Nh.decode(c),d);d+=4;g.setUint32(d,0);d+=4;for(var f in k){c=k[f];h.set(c,d);d+=c.byteLength;}return h;};a.prototype.FY=function(c,k){var h,g;h=0;for(g in k){h+=k[g].byteLength;}h=new Uint8Array(8 + h);g=0;new DataView(h.buffer).setUint32(g,h.byteLength);g+=4;h.set(this.Nh.decode(c),g);g+=4;for(var d in k){c=k[d];h.set(c,g);g+=c.byteLength;}return h;};b.FGa=a;},function(r,b,a){var k,h,g,d;function c(){return h.Cw.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CNa=void 0;r=a(2);k=a(0);h=a(213);g=a(97);d=a(3);la(c,h.Cw);c.prototype.e7=function(f,m,l,n,p){this.Zab(l);this.Xab(n);this.Vab(p);this.jSa=this.wb;this.wb=f.createSession(m);this.fUa(l);this.aUa(n);this.ZTa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var m;function f(l){return l && l.sessionId?l.close():Promise.resolve();}m=this;this.Kna=void 0;return this.wb?Promise.all([f(this.wb),f(this.jSa)]).then(function(){}).finally(function(){m.wb=void 0;m.jSa=void 0;}):Promise.reject(new g.vh(d.T.SFa,d.O.qL,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,m){this.initDataType=f;this.initData=m;return h.Cw.prototype.generateRequest.call(this,f,m);};a=c;a=r.__decorate([(0,k.U)()],a);b.CNa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){this.Nh=w;this.yj=v;this.uc=u;this.config=x;this.xk=y;this.gi=z;}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(2);k=a(0);h=a(76);g=a(33);d=a(70);f=a(11);m=a(78);l=a(124);n=a(66);p=a(688);q=a(689);t=a(690);c.prototype.create=function(w){switch(w){case l.jm.uB:return new q.gGa(this.yj,this.uc);case l.jm.ND:return new t.xOa(this.yj,this.uc,this.Nh,this.gi);default:return new p.wEa(this.yj,this.uc,this.xk,this.config);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.au)),r.__param(1,(0,k.l)(h.Cy)),r.__param(2,(0,k.l)(g.vi)),r.__param(3,(0,k.l)(f.Wc)),r.__param(4,(0,k.l)(n.Ut)),r.__param(5,(0,k.l)(m.Xy))],a);b.KFa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x){this.yj=w;this.uc=v;this.xk=u;this.config=x;}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;r=a(2);k=a(0);h=a(3);g=a(76);d=a(33);f=a(343);m=a(97);l=a(67);n=a(66);p=a(11);q=a(38);t=a(47);c.prototype.T6=function(){return !1;};c.prototype.nma=function(){return !0;};c.prototype.ena=function(){return !0;};c.prototype.sX=function(){return t.kw;};c.prototype.L8=function(){return this.xk.Nza?this.uc.decode(this.xk.Nza):this.uc.decode(t.zQa);};c.prototype.Ora=function(){var w;w=this;return [t.QF,t.oia,t.nia].map(function(v){return {initDataTypes:[w.sX()],persistentState:"required",videoCapabilities:[{contentType:f.l3,robustness:v}]};});};c.prototype.vta=function(){Promise.reject(new q.od(h.T.Nfa));};c.prototype.boa=function(w){var v;return {type:w.type,sessionId:null === (v=w.target) || void 0 === v?void 0:v.sessionId,hJ:[new Uint8Array(w.message)],messageType:w.messageType};};c.prototype.cA=function(w){var v,u,x;v=new m.vh(h.T.Xr);u=null === w || void 0 === w?void 0:w.code;null != u && void 0 !== u?(u=parseInt(u,10),v.Jc=1 <= u && 9 >= u?h.O.Tt + u:h.O.Tt):v.Jc=w instanceof l.Zr?h.O.iS:h.O.km;try{x=w.message.match(/\((\d*)\)/)[1];v.Qd=this.yj.lI(x,4);}catch(y){}v.mW(w);return v;};c.prototype.EO=function(){};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.Cy)),r.__param(1,(0,k.l)(d.vi)),r.__param(2,(0,k.l)(n.Ut)),r.__param(3,(0,k.l)(p.Wc))],a);b.wEa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t){this.yj=q;this.uc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(2);k=a(0);h=a(3);g=a(76);d=a(33);f=a(343);m=a(97);l=a(67);n=a(38);p=a(47);c.prototype.T6=function(){return !0;};c.prototype.nma=function(){return !1;};c.prototype.ena=function(){return !1;};c.prototype.sX=function(){return p.kw;};c.prototype.L8=function(){};c.prototype.Ora=function(){return [{initDataTypes:[this.sX()],audioCapabilities:[{contentType:f.k3}],videoCapabilities:[{contentType:f.l3}],sessionTypes:[p.TEMPORARY]}];};c.prototype.vta=function(){Promise.reject(new n.od(h.T.Nfa));};c.prototype.boa=function(q){var t;t=new Uint8Array(q.message);t=this.Qpa(t,"PlayReadyKeyMessage","Challenge");t=this.uc.decode(t);return {type:q.type,sessionId:q.target.sessionId,hJ:[t],messageType:q.messageType};};c.prototype.cA=function(q){var t,w,v;t=new m.vh(h.T.Xr);w=q.code;null != w && void 0 !== w?(w=parseInt(w,10),t.Jc=1 <= w && 9 >= w?h.O.Tt + w:h.O.Tt):t.Jc=q instanceof l.Zr?h.O.iS:h.O.km;try{v=(/\((\d+)\)/).exec(q.message);t.Qd=this.yj.lI(Number(v && v[1]),4);}catch(u){}t.mW(q);return t;};c.prototype.Qpa=function(q,t){var v,u,x;for(var w=1;w < arguments.length;++w){;}for(w=1;w < arguments.length;w++){;}w="";u=q.length;for(v=0;v < u;v++){x=q[v];0 < x && (w+=String.fromCharCode(x));}u="\\s*(.*)\\s*";for(v=arguments.length - 1;0 < v;v--){x=arguments[v];if(0 > w.search(x))return "";x="(?:[^:].*:|)" + x;u="[\\s\\S]*<" + x + "[^>]*>" + u + "</" + x + ">[\\s\\S]*";}return (w=w.match(new RegExp(u)))?w[1]:"";};c.prototype.EO=function(){};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.Cy)),r.__param(1,(0,k.l)(d.vi))],a);b.gGa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w;function c(v,u,x,y){this.yj=v;this.uc=u;this.Nh=x;this.gi=y;}Object.defineProperty(b,"__esModule",{value:!0});b.xOa=void 0;r=a(2);k=a(0);h=a(3);g=a(76);d=a(70);f=a(97);m=a(67);l=a(33);n=a(47);p=a(344);q=a(38);t=a(78);w=a(342);c.prototype.T6=function(){return !1;};c.prototype.nma=function(){return !1;};c.prototype.ena=function(){return !0;};c.prototype.sX=function(){return n.kw;};c.prototype.L8=function(){return this.uc.decode(n.m2);};c.prototype.Ora=function(){return [{initDataTypes:[n.kw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2"}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:[n.TEMPORARY]}];};c.prototype.vta=function(v){v.SJ();};c.prototype.boa=function(v){var u,x;u=[];if(v.messageType === p.Sga || v.messageType === p.Rga){if(v.messageType === p.Sga){x=this.Nh.encode(new Uint8Array(v.message));u=JSON.parse(x);x=u.map(function(y){return y.keyID;});u=u.map(function(y){return y.payload;});}else u=[this.uc.encode(new Uint8Array(v.message))];if(0 === u.length || !u.every(function(y){return y && y.length;}))throw new q.od(h.T.XFa);u=this.W4b(u);u=this.Nh.decode(JSON.stringify(u));}else u=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,hJ:[u],messageType:v.messageType,Gx:x};};c.prototype.cA=function(v){var u,x,y,z;x=null === (u=v.target) || void 0 === u?void 0:u.error;if(x)(y=x.systemCode,z=x.code);u=new f.vh(h.T.Xr,v instanceof m.Zr?h.O.iS:h.O.Tt,y?this.yj.lI(y,4):z,"",x);u.mW(v);return u;};c.prototype.W4b=function(v){v=v.map(function(u,x){return {ID:w.T3.JOb(x),PAYLOAD:u};});return {VERSION:this.gi.lx?3:1,CHALLENGES:v};};c.prototype.EO=function(v,u){var x,y;x=this;if(u && this.gi.lx)try{y=this.Nh.encode(u[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=w.T3.beb(z.ID);z=x.uc.decode(z.DHB).subarray(4,12);A=x.uc.decode(v[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.vh(h.T.Dnb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.Cy)),r.__param(1,(0,k.l)(l.vi)),r.__param(2,(0,k.l)(d.au)),r.__param(3,(0,k.l)(t.Xy))],a);b.xOa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G3=void 0;b.G3=function(){var a;a=this;this.promise=new Promise(function(c,k){a.resolve=c;a.reject=k;});};},function(r,b,a){var k,h,g,d;function c(f,m){this.AW=f;this.EW=m;}Object.defineProperty(b,"__esModule",{value:!0});b.eKa=void 0;r=a(2);k=a(0);h=a(214);g=a(212);d=a(693);c.prototype.create=function(f,m){return new d.gKa(this.AW,this.EW,f,m);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Jfa)),r.__param(1,(0,k.l)(g.Qfa))],a);b.eKa=a;},function(r,b,a){var k,h;function c(g,d,f,m){this.AW=g;this.EW=d;this.kB=f;this.Wn=m;}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;k=a(95);h=a(47);c.prototype.createMediaKeys=function(){return this.kB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.kB.getConfiguration();};c.prototype.Wu=function(){return k.Bb.oX(this.kB.keySystem);};c.prototype.VXa=function(){return this.EW.create(this.Wn);};c.prototype.UXa=function(){return this.AW.create(this.Wn);};Ya.Object.defineProperties(c.prototype,{keySystem:{configurable:!0,enumerable:!0,get:function(){return this.kB.keySystem;}},G5a:{configurable:!0,enumerable:!0,get:function(){var g,d;g=this.keySystem;d=(0,h.d9)(this.kB);d && (g+="." + d);return g;}}});b.gKa=c;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(11);k=a(695);h=a(34);g=a(40);d=a(696);f=a(348);m=a(698);l=a(171);n=a(699);p=a(66);q=a(700);b.config=new r.zd(function(t){t(c.Wc).xf(function(){return function(){return nb._cad_global.config;};});t(h.rfa).to(k.EEa).ba();t(h.om).to(k.lQa).ba();t(h.BS).to(k.nIa).ba();t(g.Io).to(d.SGa).ba();t(f.NKa).to(m.MKa).ba();t(l.MGa).to(n.LGa).ba();t(p.Ut).to(q.iGa).ba();});},function(r,b,a){var g,d,f,m,l;function c(){this.fA={};this.Jbb=0;}function k(n,p,q,t,w){this.debug=n;this.MA=p;this.mZ=q;this.Vf=t;this.gca=w;}function h(n,p,q){this.MA=n;this.mZ=p;this.gca=q;}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=b.lQa=b.EEa=void 0;r=a(2);g=a(0);d=a(112);f=a(7);m=a(143);l=a(347);a=a(34);h=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.BS)),r.__param(1,(0,g.l)(m.X3)),r.__param(2,(0,g.l)(l.bia))],h);b.EEa=h;k=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.Fy)),r.__param(1,(0,g.l)(a.BS)),r.__param(2,(0,g.l)(m.X3)),r.__param(3,(0,g.l)(f.yb)),r.__param(4,(0,g.l)(l.bia))],k);b.lQa=k;c.prototype.yTb=function(n){this.fA=Object.assign({},this.fA,n);this.Jbb++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.fA;}},Eca:{configurable:!0,enumerable:!0,get:function(){return this.Jbb;}}});a=c;a=r.__decorate([(0,g.U)()],a);b.nIa=a;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t){p=d.ff.call(this,p,void 0 === t?"GeneralConfigImpl":t) || this;p.ih=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=b.kO=void 0;r=a(2);k=a(5);h=a(0);g=a(48);d=a(49);f=a(40);m=a(34);a=a(111);l={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.kO=function(p,q){return p.yab(l[q] || q,f.Ky);};la(c,d.ff);Ya.Object.defineProperties(c.prototype,{kO:{configurable:!0,enumerable:!0,get:function(){return f.Ky.aob;}},Tdb:{configurable:!0,enumerable:!0,get:function(){return (0,k.Kh)(8);}},CI:{configurable:!0,enumerable:!0,get:function(){return "";}},zN:{configurable:!0,enumerable:!0,get:function(){return "";}},R0:{configurable:!0,enumerable:!0,get:function(){return "";}},h6:{configurable:!0,enumerable:!0,get:function(){return !0;}},UX:{configurable:!0,enumerable:!0,get:function(){return this.ih.UX;}},fHb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Je:{configurable:!0,enumerable:!0,get:function(){return {};}},$ta:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mt:{configurable:!0,enumerable:!0,get:function(){return !1;}},IW:{configurable:!0,enumerable:!0,get:function(){return !0;}},hF:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},qA:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Ky.APa,f.Ky.rIa].indexOf(this.kO);}}});n=c;r.__decorate([g.config(b.kO,"environment")],n.prototype,"kO",null);r.__decorate([g.config(g.pl,"storageTimeout")],n.prototype,"Tdb",null);r.__decorate([g.config(g.string,"groupName")],n.prototype,"CI",null);r.__decorate([g.config(g.string,"canaryGroupName",!0)],n.prototype,"zN",null);r.__decorate([g.config(g.string,"uiGroupName")],n.prototype,"R0",null);r.__decorate([g.config(g.Fd,"applyIndexedDbOpenWorkaround")],n.prototype,"h6",null);r.__decorate([g.config(g.Fd,"ignoreIdbOpenError")],n.prototype,"UX",null);r.__decorate([g.config(g.Fd,"executeStorageMigration")],n.prototype,"fHb",null);r.__decorate([g.config(g.object(),"browserInfo")],n.prototype,"Je",null);r.__decorate([g.config(g.Fd,"isTestAccount")],n.prototype,"$ta",null);r.__decorate([g.config(g.Fd,"useRangeHeader")],n.prototype,"Mt",null);r.__decorate([g.config(g.Fd,"enableMilestoneEventList")],n.prototype,"IW",null);r.__decorate([g.config(g.object,"storageRules")],n.prototype,"hF",null);n=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(m.om)),r.__param(1,(0,h.l)(a.jG)),r.__param(2,(0,h.l)(m.P1)),r.__param(2,(0,h.optional)())],n);b.SGa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.lha=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.lha=a;},function(r,b,a){var k,h,g,d;function c(f,m){return g.ff.call(this,f,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(2);k=a(0);h=a(48);g=a(49);a=a(34);la(c,g.ff);Ya.Object.defineProperties(c.prototype,{qgb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([h.config(h.Fd,"useNetworkMonitor")],d.prototype,"qgb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.om)),r.__param(1,(0,k.l)(a.P1)),r.__param(1,(0,k.optional)())],d);b.MKa=d;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w){p=d.ff.call(this,p,"FtlProbeConfigImpl") || this;p.Th=q;p.Da=t;p.ih=w;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;r=a(2);k=a(35);h=a(0);g=a(5);d=a(49);f=a(172);m=a(48);l=a(34);a=a(111);la(c,d.ff);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.ih.B8;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Fqa + (-1 === this.Fqa.indexOf("?")?"?":"&") + "monotonic=" + this.Da.h8a + "&device=web";}},Ddb:{configurable:!0,enumerable:!0,get:function(){return g.hb;}},xqa:{configurable:!0,enumerable:!0,get:function(){return "";}},Fqa:{configurable:!0,enumerable:!0,get:function(){return this.Th.endpoint + "/ftl/probe" + (this.xqa?"?force=" + this.xqa:"");}}});n=c;r.__decorate([m.config(m.Fd,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([m.config(m.pl,"ftlStartDelay")],n.prototype,"Ddb",null);r.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"xqa",null);r.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"Fqa",null);n=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(l.om)),r.__param(1,(0,h.l)(f.B1)),r.__param(2,(0,h.l)(k.wi)),r.__param(3,(0,h.l)(a.jG))],n);b.LGa=n;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){l=h.ff.call(this,l,void 0 === p?"EmeConfigImpl":p) || this;l.Je=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);d=a(5);f=a(48);a=a(168);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{m4a:{configurable:!0,enumerable:!0,get:function(){return this.Je.F4a || this.Je.s$ || this.Je.jY?!0:!1;}},qE:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(5);}},uxa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(10);}},yW:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},aX:{configurable:!0,enumerable:!0,get:function(){return !1;}},$oa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Iv:{configurable:!0,enumerable:!0,get:function(){return !0;}},HUa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(30);}},IUa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(30);}},KUa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(30);}},e6:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(30);}},LUa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Kh)(30);}},Nza:{configurable:!0,enumerable:!0,get:function(){return "";}},E9a:{configurable:!0,enumerable:!0,get:function(){return this.Je.RA?!1:!0;}},F9a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;r.__decorate([f.config(f.Fd,"initializeKeySystemAtStartup")],m.prototype,"m4a",null);r.__decorate([f.config(f.pl,"licenseRenewalRequestDelay")],m.prototype,"qE",null);r.__decorate([f.config(f.pl,"persistedReleaseDelay")],m.prototype,"uxa",null);r.__decorate([f.config(f.string,"drmPersistKey")],m.prototype,"yW",null);r.__decorate([f.config(f.Fd,"forceLimitedDurationLicense")],m.prototype,"aX",null);r.__decorate([f.config(f.Fd,"disableLicenseRenewal")],m.prototype,"$oa",null);r.__decorate([f.config(f.Fd,"prepareCadmium")],m.prototype,"Iv",null);r.__decorate([f.config(f.pl,"apiCloseTimeout")],m.prototype,"HUa",null);r.__decorate([f.config(f.pl,"apiCreateMediaKeysTimeout")],m.prototype,"IUa",null);r.__decorate([f.config(f.pl,"apiSetServerCertificateTimeout")],m.prototype,"KUa",null);r.__decorate([f.config(f.pl,"apiGenerateRequestTimeout")],m.prototype,"e6",null);r.__decorate([f.config(f.pl,"apiUpdateTimeout")],m.prototype,"LUa",null);r.__decorate([f.config(f.string,"serverCertificate")],m.prototype,"Nza",null);r.__decorate([f.config(f.Fd,"outputRestrictedIsFatal")],m.prototype,"E9a",null);r.__decorate([f.config(f.Fd,"outputRestrictedIsFatalForUhd")],m.prototype,"F9a",null);m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om)),r.__param(1,(0,k.l)(a.EF)),r.__param(2,(0,k.l)(g.P1)),r.__param(2,(0,k.optional)())],m);b.iGa=m;},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.IZa=void 0;r=a(0);c=a(126);k=a(702);h=a(77);g=a(703);d=a(350);f=a(704);b.IZa=new r.zd(function(m){m(c.JFa).to(k.IFa).ba();m(h.vw).to(g.hKa).ba();m(d.kGa).to(f.jGa);});},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v;function c(u,x,y,z,A,B,D,C,F){var G;G=this;this.Tc=x;this.xB=y;this.config=z;this.Vu=A;this.VFb=B;this.yN=D;this.yP=C;this.Xm=F;this.O3b=function(E,I){var N;G.Xm.mark(v.Ma.p2,E.Pj.ea,"generate-challenge");N=!1;I.J1b(function(L){N || (N=!0,G.Xm.mark(v.Ma.o2,E.Pj.ea,"generate-challenge"));G.tI(E,I,L).then(function(H){I.bUa(H);G.cyb(I);}).catch(function(H){return I.qvb(H);});});};this.log=u.kb("DrmServices");this.Vu().Nt && this.yN.xab().then(function(){G.b_b();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.m4a && this.AD(C(),m.zi.bq).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;r=a(2);k=a(0);h=a(7);g=a(50);d=a(349);f=a(80);m=a(59);l=a(66);n=a(211);p=a(210);q=a(350);t=a(11);w=a(142);v=a(62);c.prototype.aJb=function(u,x){return this.AD(x,u.type,u.context).then(function(y){return y.dJb(u.initData).then(function(z){return [y,{Wn:y.Wu(),data:z.sk}];});});};c.prototype.mh=function(u,x){var y;y=this;this.log.info("Requesting challenges",this.K1a(u,u.type));return this.AD(x,u.type,u.context).then(function(z){y.f8a(u,z);return z.eJb(u.initData).then(function(){return z;});});};c.prototype.f8a=function(u,x){x.Q1b(u.Pj);this.O3b(u,x);};c.prototype.release=function(u,x){var y;y=this;this.log.info("Releasing server license",this.D2a(u));return this.XLb(u).then(function(){var z;z=Object.assign({active:!1,Ae:[]},u.Pj);y.yN.t_(z);x.o_b();return u;});};c.prototype.K1a=function(u,x){return {movieId:u.Pj.K,xid:u.Pj.ea,type:(0,m.Fua)(x)};};c.prototype.D2a=function(u){return {movieId:u.Pj?u.Pj.K:void 0,xid:u.Pj?u.Pj.ea:void 0,keySessionId:u.xA()};};c.prototype.tI=function(u,x,y){this.log.info("Sending license request",this.K1a(u,y.ig));return this.xB.mh({ea:u.Pj.ea,Mi:u.Pj.Mi,J7:[u.Pj.Sl],sk:[{sessionId:x.xA() || "session",data:y.sk}],ig:y.ig,Wn:x.Wu(),wWa:y.wWa,Gk:u.Pj.Gk});};c.prototype.XLb=function(u){this.log.info("Sending release request",this.D2a(u));return this.xB.release({ea:u.Pj.ea,Ae:u.Ae});};c.prototype.AD=function(u,x,y){return this.VFb.create().then(function(z){return z.createSession(u,x,y).then(function(){return z;});});};c.prototype.a_b=function(u){var x;x=this;return this.xB.release({ea:u.ea,Ae:u.Ae}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.b_b=function(){var u;u=this;this.Tc.Ok(this.config.uxa,function(){u.log.trace("Removing cached sessions",{"count:":u.yN.K7.length});u.yN.K7.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return u.a_b(y);}).then(function(){return u.yN.t_(y);});},Promise.resolve(void 0));});};c.prototype.cyb=function(u){var x;if(u.xA() && u.Pj){x=new p.h2();x.Ae=u.Ae;x.ea=u.Pj.ea;x.K=u.Pj.K;this.yN.YTa(x);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.ek)),r.__param(2,(0,k.l)(d.HFa)),r.__param(3,(0,k.l)(l.Ut)),r.__param(4,(0,k.l)(t.Wc)),r.__param(5,(0,k.l)(q.kGa)),r.__param(6,(0,k.l)(n.qfa)),r.__param(7,(0,k.l)(w.NS)),r.__param(8,(0,k.l)(f.QS))],a);b.IFa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x,y,z,A,B,D){this.Ws=x;this.uc=y;this.config=z;this.eUb=A;this.AW=B;this.EW=D;this.log=this.Ws.kb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;r=a(2);k=a(0);h=a(3);g=a(7);d=a(97);f=a(124);m=a(33);l=a(11);n=a(95);p=a(47);q=a(340);t=a(56);w=a(346);v=a(214);a=a(212);c.prototype.yA=function(){this.promise || (this.promise=this.v0b());return this.promise;};c.prototype.QCb=function(x,y){var z;z=this;return new Promise(function(A,B){var D;D=n.Bb.oX(x);z.EW.create(D).K_b(x,[y]).then(function(C){z.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:C.getConfiguration?JSON.stringify(C.getConfiguration()):void 0});z.keySystem=C.keySystem;A(z.eUb.create(C,D));}).catch(function(C){z.log.warn("Unable to create the media key system access object",{keySystem:x,error:C.message});B(new d.vh(h.T.TFa,h.O.km,void 0,"Unable to create media keys system access. " + C.message,C));});});};c.prototype.mKb=function(){var x;x=this.config().F5a || [this.config().Qm];if(1 < x.length)return (x=x.map(function(y){return n.Bb.hra(n.Bb.oX(y));}),1 === new Set(x).size?Promise.resolve(x[0]):this.yA().then(function(y){return y.Wu();}).then(function(y){return n.Bb.hra(y);}));x=n.Bb.oX(x[0]);return Promise.resolve(n.Bb.hra(x));};c.prototype.gCa=function(x){var y,z,A,B;y=this;z=x.Wu();A=x.VXa();B=x.UXa();return x.createMediaKeys().then(function(D){A.createSession(D,p.TEMPORARY);return A.setServerCertificate(D,B.L8());}).then(function(){return A.generateRequest(p.kw,y.pra(z));}).then(function(){return A.close();}).then(function(){return x;}).catch(function(D){y.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};c.prototype.pra=function(x){switch(x){case f.jm.ND:x=q.HGa;break;case f.jm.uB:x=q.CMa;break;default:x=q.CQa;}return x.map(this.uc.decode);};c.prototype.v0b=function(){var y,z,A,B;function x(D){var C,F,G,E;C=D.config;D=n.Bb.dlb.includes(D.keySystem) || p.FHa.includes(null !== (E=null === (G=null === (F=C.videoCapabilities) || void 0 === F?void 0:F[0]) || void 0 === G?void 0:G.robustness) && void 0 !== E?E:"");return y.config().RZa || !D;}y=this;try{z=(this.config().F5a || [this.config().Qm]).map(function(D){var C;C=n.Bb.oX(D);return y.AW.create(C).Ora().map(function(F){return {keySystem:D,config:F};});});A=(0,t.flatten)(z).filter(x);B=A.map(function(D,C){var F,G;F=D.keySystem;G=D.config;return function(){var E,I;E=C === A.length - 1;I=y.config().gCa && !E;return y.QCb(F,G).then(function(N){return I?y.gCa(N):Promise.resolve(N);});};});return this.w0b(B);}catch(D){return Promise.reject(D);}};c.prototype.w0b=function(x){return x.reduce(function(y,z){return y.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{E5a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});u=c;u=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yb)),r.__param(1,(0,k.l)(m.vi)),r.__param(2,(0,k.l)(l.Wc)),r.__param(3,(0,k.l)(w.fKa)),r.__param(4,(0,k.l)(v.Jfa)),r.__param(5,(0,k.l)(a.Qfa))],u);b.hKa=u;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w,v,u){this.Ws=p;this.Ea=q;this.uc=t;this.config=w;this.ot=v;this.Fp=u;}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;r=a(2);k=a(0);h=a(7);g=a(20);d=a(33);f=a(66);m=a(67);l=a(344);a=a(77);c.prototype.create=function(){var p;p=this;return this.Fp.yA().then(function(q){return new l.lGa(p.Ws,p.Ea,p.uc,p.config,p.ot,q);});};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.vd)),r.__param(2,(0,k.l)(d.vi)),r.__param(3,(0,k.l)(f.Ut)),r.__param(4,(0,k.l)(m.oG)),r.__param(5,(0,k.l)(a.vw))],n);b.jGa=n;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M;Object.defineProperty(b,"__esModule",{value:!0});b.f6a=void 0;c=a(706);k=a(731);h=a(740);g=a(743);d=a(1070);f=a(1103);m=a(1141);l=a(1144);n=a(1156);p=a(1165);q=a(1169);t=a(1171);w=a(1200);v=a(1202);u=a(1206);x=a(1221);y=a(1229);z=a(1235);A=a(1238);B=a(1245);D=a(209);C=a(1251);F=a(1258);G=a(1272);E=a(1278);I=a(1280);N=a(1287);L=a(1317);H=a(1337);Q=a(1341);O=a(1345);J=a(1359);M=a(1362);b.f6a=function(P){P.load(c.Zz,m.KK,k.v6a,l.Vn,h.e8a,g.P,d.Kgb,f.E3a,n.storage,p.qN,q.eWa,t.Q6a,w.CE,v.vk,u.u6a,x.t8a,y.t0a,z.hab,A.IJ,B.CZa,D.HZa,C.ve,F.Ld,G.Ia,E.k8a,I.a$a,N.j,L.fXa,H.transports,Q.Xl,O.qh,J.eVa,M.ia);};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V,K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb,wb,da,ua,wa,Oa,Xa,lb,Bb,ub,Kb,Pb,Zb;Object.defineProperty(b,"__esModule",{value:!0});b.Zz=void 0;r=a(0);c=a(39);k=a(35);h=a(50);g=a(81);d=a(144);f=a(707);m=a(708);l=a(709);n=a(710);p=a(70);q=a(76);t=a(33);w=a(32);v=a(29);u=a(113);x=a(67);y=a(352);z=a(711);A=a(353);B=a(354);D=a(712);C=a(713);F=a(203);G=a(355);E=a(714);I=a(208);N=a(127);L=a(715);H=a(20);Q=a(356);O=a(716);J=a(717);M=a(112);P=a(718);R=a(7);S=a(351);U=a(719);ba=a(80);na=a(720);va=a(357);ya=a(721);ra=a(722);V=a(114);K=a(12);T=a(723);fa=a(359);ia=a(360);Ba=a(724);Sa=a(361);La=a(11);Za=a(46);Wa=a(145);Va=a(362);cb=a(168);wb=a(725);da=a(363);ua=a(364);wa=a(217);Oa=a(726);Xa=a(365);lb=a(727);Bb=a(218);ub=a(728);Kb=a(729);Pb=a(216);Zb=a(730);b.Zz=new r.zd(function(Fb){Fb(c.C3).nF(function(){return {};}).ba();Fb(c.UF).gm(JSON);Fb(c.DQa).gm(nb);Fb(d.tPa).gm(Math);Fb(c.WIa).gm(K.q3);Fb(c.Eha).gm(K.xw);Fb(c.gQa).gm(K.fG);Fb(c.bFa).gm(Date);Fb(c.JL).gm(K.Ee);Fb(c.zmb).gm(K.yC);Fb(S.BEa).to(U.AEa).ba();Fb(H.vd).to(L.RCa).ba();Fb(k.wi).to(n.CEa).ba();Fb(h.ek).to(f.yOa).ba();Fb(g.Oy).to(m.eIa).ba();Fb(x.oG).to(C.QNa).ba();Fb(d.N3).to(l.YNa).ba();Fb(Va.Yga).to(Kb.aKa).ba();Fb(M.Fy).to(J.hFa).ba();Fb(M.fFa).to(P.eFa).ba();Fb(p.au).to(z.hQa).ba();Fb(q.Cy).to(A.afa).ba();Fb(t.vi).to(B.bfa).ba();Fb(w.Qh).to(D.iQa).ba();Fb(v.Eg).gm(F.TF);Fb(da.lS).to(ua.yGa).ba();Fb(u.Vfa).to(G.Tk).$sa();Fb(u.e2).to(G.Tk).ba();Fb(u.sFa).to(G.Tk).ba();Fb(u.Yfa).to(G.Tk).ba();Fb(I.yia).to(N.rG).ba();Fb(Q.QEa).to(O.PEa).ba();Fb(ba.WL).to(na.Dia).ba();Fb(ba.QS).to(na.Dia).ba();Fb("Factory<LoggerFactory>").Zeb(R.yb);Fb(va.Gfa).to(ya.iFa).ba();Fb(V.UL).xf(function(Qb){return function(bc){return new ra.CPa(Qb.gb.get(H.vd),Qb.gb.get(h.ek),bc);};});Fb(Xa.cFa).xf(function(Qb){return function(bc){return new lb.dFa(Qb.gb.get(h.ek),bc);};});Fb(T.$ha).Y4b(fa.Zha);Fb(T.Znb).xf(function(Qb){var bc;bc=Qb.gb.get(T.$ha);return function(){return new bc(!1);};});Fb(T.$nb).xf(function(Qb){var bc;bc=Qb.gb.get(T.$ha);return function(){return new bc(!0);};});Fb(ia.dQa).xf(function(){return function(Qb){return new Ba.eQa(Qb);};});Fb(Wa.dT).xf(function(Qb){return function(bc,ad,Qd){return new Sa.cNa(Qb.gb.get(M.Fy),Qb.gb.get(La.Wc),Qb.gb.get(Za.Mo),Qb.gb.get(Va.Yga),bc,ad,Qd);};});Fb(y.cLa).xf(function(){return function(Qb){return new E.dLa(Qb);};});Fb(cb.EF).to(wb.PDa);Fb(Pb.Hia).to(Zb.fQa).ba();Fb(wa.a4).xf(function(Qb){return function(bc,ad){return new Oa.NPa(Qb.gb.get(h.ek),bc,ad);};});Fb(Bb.rGa).to(ub.qGa).ba();});},function(r,b,a){var h,g,d,f;function c(m){this.iR=m;(0,g.Dp)(this,"timers");}function k(m,l){this.iR=m;this.Kyb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.yOa=void 0;r=a(2);h=a(0);g=a(56);d=a(39);f=a(5);k.prototype.cancel=function(){this.Kyb(this.iR);};c.prototype.cm=function(m){return this.Ok(f.hb,m);};c.prototype.Ok=function(m,l){var n;n=this.iR.setTimeout(l,m.ca(f.la));return new k(this.iR,function(p){p.clearTimeout(n);});};c.prototype.Lca=function(m,l){var n;n=this.iR.setInterval(l,m.ca(f.la));return new k(this.iR,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.DQa))],a);b.yOa=a;},function(r,b,a){var k,h,g,d,f;function c(m,l){this.Da=m;this.random=l;}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(2);h=a(0);g=a(5);d=a(35);a=a(144);c.prototype.dA=function(){return this.Da.qf.ca(g.Oo) * k.hEa + Math.floor(this.random.random() * k.hEa);};f=k=c;f.hEa=1E8;f=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.wi)),r.__param(1,(0,h.l)(a.N3))],f);b.eIa=f;},function(r,b,a){var k,h;function c(g){this.n4b=g;}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;r=a(2);k=a(0);a=a(144);c.prototype.random=function(){return this.n4b.random();};c.prototype.rab=function(g,d){if("number" !== typeof g)(d=g.end,g=g.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(g + this.random() * (d - g));};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.tPa))],h);b.YNa=h;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t){var w;w=this;this.config=n;this.JDb=p;this.Wb=q;this.performance=t;this.ZVb=function(v){w.kcb=v.Ha(w.qf);};(0,k.Dp)(this,"date");(0,k.Dp)(this,"performance");this.fwb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.kcb=h.hb;this.Wb.addListener(l.wga.ncb,this.ZVb);}Object.defineProperty(b,"__esModule",{value:!0});b.CEa=void 0;r=a(2);k=a(56);h=a(5);g=a(0);d=a(39);f=a(351);m=a(113);l=a(18);Ya.Object.defineProperties(c.prototype,{qf:{configurable:!0,enumerable:!0,get:function(){return this.h8a?(0,h.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,h.Sc)(this.JDb.now());}},R_:{configurable:!0,enumerable:!0,get:function(){return this.qf.add(this.kcb);}},h8a:{configurable:!0,enumerable:!0,get:function(){return this.config.tgb && this.fwb;}}});a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.BEa)),r.__param(1,(0,g.l)(d.bFa)),r.__param(2,(0,g.l)(m.Yfa)),r.__param(3,(0,g.l)(d.Eha)),r.__param(3,(0,g.optional)())],a);b.CEa=a;},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hQa=void 0;r=a(2);a=a(0);c.prototype.encode=function(g){return k.upa(g);};c.prototype.decode=function(g){return k.zoa(g);};c.upa=function(g){if(!g)throw new TypeError("Invalid byte array");for(var d=0,f,m=g.length,l="";d < m;){f=g[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (g[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((g[d++] & 63) << 6) + (g[d++] & 63);else throw Error("unsupported utf8 character");l+=String.fromCharCode(f);}return l;};c.zoa=function(g){var d,f,m,l,n;d=g.length;f=0;l=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=g.charCodeAt(m);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(m=0;m < d;m++){n=g.charCodeAt(m);128 > n?f[l++]=n:(2048 > n?f[l++]=192 | n >>> 6:(f[l++]=224 | n >>> 12,f[l++]=128 | n >>> 6 & 63),f[l++]=128 | n & 63);}return f;};h=k=c;h=k=r.__decorate([(0,a.U)()],h);b.hQa=h;},function(r,b,a){var k,h,g,d;function c(f,m){this.is=f;this.yj=m;}Object.defineProperty(b,"__esModule",{value:!0});b.iQa=void 0;r=a(2);k=a(0);a(3);h=a(29);g=a(76);d=a(12);c.prototype.mJ=function(f,m,l){var n,p,q,t;n=this;if(m)if(l){p=l.GY;q=l.prefix;t=l.SP;this.MD(m,function(w,v){if(!t || n.is.Qg(v))f[(q || "") + (p?w.toLowerCase():w)]=v;});}else this.MD(m,function(w,v){f[w]=v;});return f;};c.prototype.MD=function(f,m){for(var l in f){f.hasOwnProperty(l) && m(l,f[l]);}};c.prototype.vD=function(f,m){if(f.length == m.length){for(var l=f.length;l--;){if(f[l] != m[l])return !1;}return !0;}return !1;};c.prototype.BXa=function(f,m){if(f.length != m.length)return !1;f.sort();m.sort();for(var l=f.length;l--;){if(f[l] !== m[l])return !1;}return !0;};c.prototype.Me=function(f){var m,l,n;if(f){m=f.stack;l=f.number;n=f.message;n || (n="" + f);m?(f="" + m,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;l && (f+="\nnumber:" + l);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Xqa=function(f){return this.getFunctionName(f.constructor);};c.prototype.Bwa=function(f){var m,l;m=this;l="";this.is.iD(f) || this.is.FUa(f)?l=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.lu(f)?l=f:this.MD(f,function(n,p){l+=(l?", ":"") + "{" + n + ": " + (m.is.O5(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.Xqa(f) + " " + l + "]";};c.prototype.createElement=function(f,m,l,n){var p;p=d.wh.createElement(f);m && (p.style.cssText=m);l && (p.innerHTML=l);n && this.MD(n,function(q,t){p.setAttribute(q,t);});return p;};c.prototype.NHb=function(f,m){return function(l){return l[f] === m;};};c.prototype.DZ=function(f){var m;m={};(f || "").split("&").forEach(function(l){var n,p;l=l.trim();n=l.indexOf("=");if(0 <= n){p=decodeURIComponent(l.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(l.substr(n + 1));}else m[l.toLowerCase()]=void 0;});return m;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Eg)),r.__param(1,(0,k.l)(g.Cy))],a);b.iQa=a;},function(r,b,a){var k,h,g;function c(d){this.Tc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.QNa=void 0;r=a(2);k=a(0);h=a(50);g=a(67);c.prototype.ut=function(d,f){var m;m=this;return new Promise(function(l,n){var p;p=m.Tc.Ok(d,function(){n(new g.Zr(d));});f.then(function(q){l(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.ek))],a);b.QNa=a;},function(r,b,a){var k;function c(h){this.kJb=h;this.D9=!1;this.S9=this.mg=this.dR=0;this.VX=!1;this.T9=0;}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;k=a(13);c.prototype.Bla=function(h){h < this.dR && (this.mg+=this.dR);this.dR=h;this.D9=!0;};c.prototype.WJb=function(){if(this.D9)return this.VX?this.T9 - this.S9:this.mg + this.dR - this.S9;};c.prototype.refresh=function(){var h;h=this.kJb();(0,k.Ga)(h) && this.Bla(h);};c.prototype.c3b=function(){this.VX || (this.D9 && (this.T9=this.mg + this.dR),this.VX=!0);};c.prototype.s3b=function(){this.VX && (this.D9 && (this.S9+=this.mg + this.dR - this.T9),this.T9=0,this.VX=!1);};b.dLa=c;},function(r,b,a){var k,h,g,d;function c(f,m){this.Da=f;this.C8=this.Da.qf.ca(g.la) - 1;this.XRb=this.Q$=0;this.id="" + m.dA();}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;r=a(2);k=a(0);h=a(35);g=a(5);a=a(81);c.prototype.Xb=function(){var f,m;f=this.Da.qf.ca(g.la) - this.C8;if(f < this.Q$){m=this.Q$ + 1;this.C8-=m - f;f=m;}this.Q$=f;return (0,g.Sc)(this.Q$);};c.prototype.cLb=function(){return this.XRb++;};Ya.Object.defineProperties(c.prototype,{WA:{configurable:!0,enumerable:!0,get:function(){return (0,g.Sc)(this.C8);}}});d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.wi)),r.__param(1,(0,k.l)(a.Oy))],d);b.RCa=d;},function(r,b,a){var k,h,g,d;function c(f,m){this.is=f;this.ve=m;}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;r=a(2);h=a(0);g=a(29);a=a(32);c.prototype.encode=function(f){var m,l;m=this;l="";this.ve.MD(f,function(n,p){n=m.a_a(n) + "=" + m.a_a(p);l=l?l + ("," + n):n;});return l;};c.prototype.a_a=function(f){return this.is.TH(f)?this.is.uj(f)?"" + f:this.is.lu(f)?(f=f.replace(k.Fya,this.mva.bind(this)),!k.lZb.test(f) && k.sUb.test(f) && (f='"' + f + '"'),f):this.is.M5(f)?"" + f:this.is.kla(f)?"NaN":"":"";};c.prototype.mva=function(f){return k.map[f];};d=k=c;d.map={'"':'""',"\r":"","\n":" "};d.Fya=/(?!^.+)["\r\n](?=.+$)/g;d.lZb=/["].*["]/g;d.sUb=/[", ]/;d=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.Eg)),r.__param(1,(0,h.l)(a.Qh))],d);b.PEa=d;},function(r,b,a){var k,h,g,d;function c(f,m,l){this.config=f;this.nb=m;this.Ca=l.kb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.hFa=void 0;r=a(2);k=a(0);h=a(29);g=a(112);a=a(7);c.prototype.assert=function(){};c.prototype.zwb=function(f,m){this.assert(this.nb.TH(f),m);};c.prototype.Awb=function(f,m){this.assert(this.nb.Qg(f),m);};c.prototype.p6=function(f,m){this.assert(this.nb.lu(f),m);};c.prototype.Gwb=function(f,m){this.assert(this.nb.In(f),m);};c.prototype.Ewb=function(f,m){this.assert(this.nb.lu(f) || null === f || void 0 === f,m);};c.prototype.ema=function(f,m){this.assert(this.nb.uj(f),m);};c.prototype.Cwb=function(f,m){this.assert(this.nb.Rla(f),m);};c.prototype.Fwb=function(f,m){this.assert(this.nb.WU(f),m);};c.prototype.Dwb=function(f,m){this.assert(this.nb.MU(f),m);};c.prototype.ywb=function(f,m){this.assert(this.nb.M5(f),m);};c.prototype.Bwb=function(f,m){this.assert(this.nb.O5(f),m);};c.prototype.iPb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.fFa)),r.__param(1,(0,k.l)(h.Eg)),r.__param(2,(0,k.l)(a.yb))],d);b.hFa=d;},function(r,b,a){var k,h,g,d;function c(f){f=h.QR.call(this,f,"DebugConfigImpl") || this;f.Hdc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;r=a(2);k=a(48);h=a(49);g=a(0);a=a(34);la(c,h.QR);Ya.Object.defineProperties(c.prototype,{Nxb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([k.config(k.Fd,"breakOnError")],d.prototype,"Nxb",null);d=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.rfa))],d);b.eFa=d;},function(r,b,a){var k,h,g,d;function c(f){return h.QR.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;r=a(2);k=a(48);h=a(49);g=a(0);a=a(34);la(c,h.QR);Ya.Object.defineProperties(c.prototype,{tgb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([k.config(k.Fd,"usePerformanceApi")],d.prototype,"tgb",null);d=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.rfa))],d);b.AEa=d;},function(r,b,a){var k,h,g,d;function c(f,m){this.Ea=f;this.entries=new Set();this.Ca=m.kb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Dia=void 0;r=a(2);k=a(0);h=a(20);g=a(5);a=a(7);c.prototype.mark=function(f,m,l){f={name:f,Ht:this.Ea.Xb()};m && (f.ea=m);l && (f.Rf=l);this.entries.add(f);return f;};c.prototype.ura=function(){var f;f=[];this.entries.forEach(function(m){return f.push(m);});return f;};c.prototype.Q1a=function(f){return this.ura().filter(function(m){return m.ea === f;});};c.prototype.fLb=function(){var f;f={};try{f=this.ura().filter(function(m){return !m.ea;}).reduce(function(m,l){m[l.name]=l.Ht.ca(g.la);return m;},{});}catch(m){this.Ca.error(" getMapOfCommonMarks exception",m);}return f;};c.prototype.Yab=function(f){var m;m=this;this.ura().forEach(function(l){l.ea === f && m.entries.delete(l);});};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.vd)),r.__param(1,(0,k.l)(a.yb))],d);b.Dia=d;},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t){this.Ea=q;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(2);h=a(0);g=a(20);d=a(38);f=a(3);m=a(18);l=a(5);n=a(12);a=a(358);c.prototype.$Ya=function(q){var t,w,v,u,x,y,z,A,B,D;t=this;u=q.mediaTime.value;x=q.ss.value;y=q.Eb.value;z=q.state.value;A={segmentId:q.Hra(),mediaTime:u,segmentTime:q.UD(),bufferingState:k.Uxb[x],presentingState:k.yYb[y],playbackState:k.wXb[z],mseBuffersBusy:this.nMb(q),intBuffersBusy:this.MKb(q),tabVisible:this.o4b(),decodedFrameCount:this.cEb(q),videoElementInDom:this.q7b(q),lastVideoSync:this.Ea.Xb().Ha((0,l.Sc)(q.v0)).ca(l.la)};B=y === m.jb.cg?q.fb.ci?this.config.y9a:this.config.x9a:this.config.b8a;if(x !== m.Kf.we){if((x=f.O.njb,this.LVa(A.mseBuffersBusy,A.intBuffersBusy)))D=k.xDa;}else (y !== m.jb.Rc?x=f.O.pjb:(x=f.O.ojb,(y=q.Wf) && 0 === y.S8() && (D=k.ipb)),(y=q.Wf) && y.Yb.sourceBuffers.forEach(function(C){var F,G;F=k.Cd[C.mediaType];A[F + "Ranges"]=C.J8();try{G=C.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - u,A[F + "Undecoded"]=C,1 < G.length && (D=k.eib),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?D=k.fib:C < B.ca(l.la)?D=k.gib:t.LVa(A.mseBuffersBusy,A.intBuffersBusy) && (D=k.xDa)):(A[F + "Undecoded"]=0,D=k.dib);}));y=q.ibb.J2a();z=u === (null === (w=y.repositionTrace) || void 0 === w?void 0:w[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (v=q.Ia) || void 0 === v?void 0:v.SK;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(C){q="Cannot stringify details: " + C;}return new d.od(f.T.oLa,x,D,void 0,void 0,void 0,q,void 0);};c.prototype.nMb=function(q){var t;if(q.Yb){t={};q.Yb.sourceBuffers.forEach(function(w){t[0 === w.type?"audio":"video"]={updating:w.updating()};});return t;}};c.prototype.MKb=function(q){var t;if(q.Yb){t={};q.Yb.sourceBuffers.forEach(function(w){t[0 === w.type?"audio":"video"]={updating:w.bi()};});return t;}};c.prototype.o4b=function(){return !n.wh.hidden;};c.prototype.cEb=function(q){return (q=q.Wf) && (q=q.Yb.Y) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.q7b=function(q){if(q=q.Wf)if(q=q.Yb.Y)return n.wh.body.contains(q);return !1;};c.prototype.LVa=function(q,t){var w,v,u,x;return !((null === (w=q.audio) || void 0 === w?void 0:w.updating) === (null === (v=t.audio) || void 0 === v?void 0:v.updating) && (null === (u=q.video) || void 0 === u?void 0:u.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};p=k=c;p.dib="1";p.eib="2";p.fib="3";p.xDa="4";p.gib="5";p.ipb="6";p.Cd=["Audio","Video"];p.Uxb=["","NORMAL","BUFFERING","STALLED"];p.yYb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.wXb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.vd)),r.__param(1,(0,h.l)(a.dha))],p);b.iFa=p;},function(r,b,a){var k,h,g,d;function c(f,m,l){var n;n=this;this.rg=f;this.Tc=m;this.Y6=l;this.RP=function(p){n.Sj=void 0;n.D5b(p || n.Y6);};this.I5a=(0,g.Sc)(-this.Y6.ca(g.la));}Object.defineProperty(b,"__esModule",{value:!0});b.CPa=void 0;r=a(2);k=a(0);h=a(20);g=a(5);a=a(50);c.prototype.cm=function(f){this.uza=f;this.Sj=this.Sj || this.fg(this.RP);};c.prototype.$h=function(){this.Sj && this.Sj.cancel();this.Sj=void 0;};c.prototype.D5b=function(f){var m,l;m=this.rg.Xb();if(this.uza){l=f.Ha(m.Ha(this.I5a));0 >= l.Pl(g.hb)?(f=this.uza,this.uza=void 0,this.I5a=m,f()):this.Sj=this.Sj || this.Tc.Ok(l,this.RP.bind(this,f));}};c.prototype.fg=function(f){return this.Tc.Ok(g.hb,f);};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.vd)),r.__param(1,(0,k.l)(a.ek))],d);b.CPa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ha="PrioritizedSetOfListsSymbol";b.Znb="PrioritizedSetOfListsFactorySymbol";b.$nb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(k){this.Nl=k;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.eQa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Nl + this.searchParams.toString();}}});b.eQa=c;a.prototype.get=function(k){return this.searchParams[k];};a.prototype.set=function(k,h){this.searchParams[k]=h;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(k,h,g){var d;d=pa(h);h=d.next().value;d=d.next().value;return "" + k + (0 == g?"?":"&") + h + "=" + d;},"");};},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){this.userAgentData=p;this.Je=this.qHb(l,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.mQa=b.PDa=void 0;r=a(2);k=a(0);h=a(11);g=a(34);d=a(39);a=a(216);c.prototype.s9=function(l,n){var p;if(n=this.LMb(n))switch(l){case m.bB:p=0 < n.length?Number(n[0]):0;break;case m.DP:p=1 < n.length?Number(n[1]):0;break;case m.VP:p=2 < n.length?Number(n[2]):0;break;case m.Eca:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.LMb=function(l){return null === l || void 0 === l?void 0:l.split(".");};c.prototype.RI=function(l){return this.Je.name === l;};c.prototype.SI=function(l){return this.Je.uba.name === l;};c.prototype.HPb=function(l){return this.Je.oNb === l;};c.prototype.qHb=function(l,n){return Object.assign(Object.assign({oNb:this.sHb(l,n)},this.pHb(l,n)),{uba:this.tHb(l,n)});};c.prototype.sHb=function(l,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(l)?h.c3.phone:(/Android/).test(l)?h.c3.p4b:h.c3.pAb;};c.prototype.pHb=function(l,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(l)?{name:h.tn.opera,version:""}:(/Tesla/).test(l)?{name:h.tn.Beb,version:""}:(n=l.match(/Edge\/(\d*)\./))?{name:h.tn.Hq,version:n[1]}:(n=l.match(/Edg\/(\d*)\./))?{name:h.tn.DZa,version:n[1]}:(n=l.match(/Chrome\/(\d*)\./))?{name:h.tn.xna,version:n[1]}:(n=l.match(/Firefox\/(\d*)\./))?{name:h.tn.Z_a,version:n[1]}:(l=l.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:h.tn.Qbb,version:l[1]}:{name:h.tn.xna,version:""};};c.prototype.tHb=function(l,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(l)?{name:h.Ko.HWa,version:""}:(n=l.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:h.Ko.F6a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(l)?{name:h.Ko.oea,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(l) || (/Android.*Chrome\/[.0-9]* /).test(l)?{name:h.Ko.c6,version:""}:(/Linux/).test(l)?{name:h.Ko.c6a,version:""}:(/iPhone/).test(l)?{name:h.Ko.y4a,version:""}:{name:h.Ko.oea,version:""};};Ya.Object.defineProperties(c.prototype,{F4a:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.xna);}},eY:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.Hq);}},RA:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.DZa);}},s$:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.Z_a);}},Ota:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.opera);}},jY:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.Qbb);}},i5a:{configurable:!0,enumerable:!0,get:function(){return this.RI(h.tn.Beb);}},i$:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.c6);}},fP:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.y4a);}},j$:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.c6) && this.HPb(h.c3.phone);}},dP:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.HWa);}},MPb:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.c6a);}},gP:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.F6a);}},nE:{configurable:!0,enumerable:!0,get:function(){return this.SI(h.Ko.oea);}},yq:{configurable:!0,enumerable:!0,get:function(){return this.s9(m.bB,this.Je.version);}},rWb:{configurable:!0,enumerable:!0,get:function(){return this.s9(m.bB,this.Je.uba.version);}},sWb:{configurable:!0,enumerable:!0,get:function(){return this.s9(m.DP,this.Je.uba.version);}},tWb:{configurable:!0,enumerable:!0,get:function(){return this.s9(m.VP,this.Je.uba.version);}}});f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.gQa)),r.__param(1,(0,k.l)(g.BS)),r.__param(2,(0,k.l)(a.Hia))],f);b.PDa=f;(function(l){l[l.bB=0]="major";l[l.DP=1]="minor";l[l.VP=2]="patch";l[l.Eca=3]="revision";})(m=b.mQa || (b.mQa={}));},function(r,b,a){var k,h,g;function c(d,f,m){this.Tc=d;this.R4b=f;this.EI=m;}Object.defineProperty(b,"__esModule",{value:!0});b.NPa=void 0;r=a(2);k=a(50);h=a(0);g=a(5);c.prototype.cI=function(){this.Sj || (this.Sj=this.Tc.Ok((0,g.Sc)(this.R4b),this.EI));};c.prototype.Ft=function(){this.Sj && this.Sj.cancel();this.Sj=void 0;};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(k.ek))],a);b.NPa=a;},function(r,b,a){var k,h;function c(g,d){this.Tc=g;this.Y6=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(2);k=a(0);a=a(50);c.prototype.cm=function(g){this.$h();this.Sj=this.Tc.Ok(this.Y6,g);};c.prototype.$h=function(){this.Sj && this.Sj.cancel();this.Sj=void 0;};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ek))],h);b.dFa=h;},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qGa=void 0;r=a(2);k=a(0);h=a(218);c.prototype.jO=function(g,d){var f;f=this;g && Object.entries(d).forEach(function(m){var l,n,p;l=pa(m);m=l.next().value;l=l.next().value;if(f.xPb(l)){n=pa(l);l=n.next().value;p=n.next().value;n=g[l];Array.isArray(n)?(f.Ooa(g,m,l),n.forEach(function(q){f.jO(q,p);})):l === h.gk?Object.values(g).forEach(function(q){f.jO(q,p);}):(f.Ooa(g,m,l),"object" === typeof n && f.jO(n,p));}else f.Ooa(g,m,l);});};c.prototype.xPb=function(g){return Array.isArray(g);};c.prototype.Ooa=function(g,d,f){g.hasOwnProperty(d) || d === f || Object.defineProperty(g,d,{get:function(){return g[f];},set:function(m){return g[f]=m;},enumerable:!0});};a=c;a=r.__decorate([(0,k.U)()],a);b.qGa=a;},function(r,b,a){var k,h,g;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(2);k=a(11);h=a(14);a=a(0);c.prototype.Wu=function(){return this.wPb()?h.LFa:(/widevine/i).test(this.config().Qm)?h.Kfa:(/fps/i).test(this.config().Qm)?"fairplay":h.j2;};c.prototype.wPb=function(){return (/clearkey/i).test(this.config().Qm);};g=c;g=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.Wc))],g);b.aKa=g;},function(r,b,a){var k,h,g,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fQa=void 0;r=a(2);g=a(0);a=a(12);null === (h=null === (k=null === a.Ee || void 0 === a.Ee?void 0:a.Ee.userAgentData) || void 0 === k?void 0:k.getHighEntropyValues) || void 0 === h?void 0:h.call(k,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?f:"undefined";}).catch(function(){d="exception";});Ya.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});k=c;k=r.__decorate([(0,g.U)()],k);b.fQa=k;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});b.v6a=void 0;c=a(732);k=a(733);r=a(0);h=a(115);g=a(7);d=a(738);b.v6a=new r.zd(function(f){f(g.yb).to(k.nJa).ba();f(h.AL).to(c.oJa).ba();f(g.Jga).to(d.cJa).ba();});},function(r,b,a){var k;function c(){this.pdb={};this.Bo=[];}Object.defineProperty(b,"__esModule",{value:!0});b.oJa=void 0;r=a(2);a=a(0);c.prototype.oca=function(h,g){g && (this.pdb[h]=g,this.Bo=Object.values(this.pdb));};k=c;k=r.__decorate([(0,a.U)()],k);b.oJa=k;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q){this.Ea=n;this.Bo=p;this.Qua=q;}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;r=a(2);k=a(219);h=a(0);g=a(735);d=a(20);f=a(115);m=a(7);l=a(736);c.prototype.kb=function(n,p,q,t,w){q=void 0 === q?this.Bo:q;return p?new g.SMa(this.Ea,this.Qua,q,p,n):w?new l.$Ca(this.Ea,this.Qua,q,n,t || "",w):new k.zL(this.Ea,this.Qua,q,n);};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.vd)),r.__param(1,(0,h.l)(f.AL)),r.__param(2,(0,h.l)(m.Jga))],a);b.nJa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZVa=void 0;b.ZVa=function(a,c){var h;a=a.aLb();for(var k=0;k < c.length;++k){h=c[k];void 0 != h && null != h && (h.ph && (h=h.ph),h.constructor === Uint8Array?a.Hvb(h):"MediaRequest" === h.constructor.name?a.svb(h):"string" === typeof h?a.Evb(h):"function" === typeof h?a.mvb(h):h instanceof Error?a.jvb(h):h instanceof Object?a.tvb(h):a.Ivb(h));}return a.zj();};},function(r,b,a){var k,h,g;function c(d,f,m,l,n){d=g.zL.call(this,d,f,m,n) || this;d.j=l;(0,k.Dp)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;k=a(56);h=a(366);g=a(219);la(c,g.zL);c.prototype.d7=function(d){return new c(this.Ea,this.H6,this.Bo,this.j,d);};c.prototype.eD=function(d,f,m){d=new h.Iga(d,this.ip,this.Ea.Xb(),f,m,this.j.index);f=pa(this.Bo.Bo);for(m=f.next();!m.done;m=f.next()){m=m.value;m(d,this.j);}};b.SMa=c;},function(r,b,a){var k,h;function c(g,d,f,m,l,n){g=k.zL.call(this,g,d,f,m) || this;g.groups=l;Array.isArray(n)?g.prefix=n:n && "string" === typeof n && (g.prefix=[],g.prefix.push(n));return g;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;k=a(219);h=a(737);la(c,k.zL);c.prototype.eD=function(g,d,f){g=new h.ZCa(g,this.ip,this.Ea.Xb(),d,f,this.prefix);d=pa(this.Bo.Bo);for(f=d.next();!f.done;f=d.next()){f=f.value;f(g);}};c.prototype.d7=function(g){return new c(this.Ea,this.H6,this.Bo,g,this.groups,this.prefix);};b.$Ca=c;},function(r,b,a){var k,h;function c(g,d,f,m,l,n,p){this.level=g;this.ip=d;this.timestamp=f;this.message=m;this.Pb=l;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;k=a(5);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Dda=function(g,d){g=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.L3b(! !g));return (this.timestamp.ca(k.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (h[this.level] || this.level) + "|" + this.ip + "| " + g;};c.prototype.L3b=function(g){var l;for(var d=this.Pb.length,f="",m=0;m < d;++m){l=this.Pb[m].Nv;m && f.length && (f+=" ");if("object" === typeof l){if(null === l)f+="null";else if(l instanceof Error)f+=this.K3b(l,g);else try{f+=JSON.stringify(l);}catch(n){f+=this.J3b(l);}}else f+=l;}return f;};c.prototype.K3b=function(g,d){return g.toString() + (g.stack && !d?"\n" + g.stack:"") + "\n";};c.prototype.J3b=function(g){var d;d=[];return JSON.stringify(g,function(f,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.ZCa=c;},function(r,b,a){var k,h,g,d;function c(f,m){this.uc=f;this.ve=m;}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;r=a(2);k=a(0);h=a(739);g=a(33);a=a(32);c.prototype.aLb=function(){return new h.dJa(this.uc,this.ve);};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.vi)),r.__param(1,(0,k.l)(a.Qh))],d);b.cJa=d;},function(r,b,a){var p,q,t;function c(w,v){this.uc=w;this.ve=v;this.Pb=[];}function k(w){return n.call(this,w,function(v){return {Details:v};}) || this;}function h(w){return n.call(this,w,function(v){return JSON.parse(v.toJSON());}) || this;}function g(w,v){v=n.call(this,v,function(u){return {Base64:w.encode(u)};}) || this;v.uc=w;return v;}function d(w,v){v=n.call(this,v,function(u){return u();}) || this;v.ve=w;return v;}function f(w){return n.call(this,w,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function m(w,v,u){v=n.call(this,v,u) || this;v.ve=w;return v;}function l(w){return n.call(this,w,function(v){return {Details:v};}) || this;}function n(w,v){this.Nv=w;this.value=v?v(w):w;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;r=a(2);p=a(0);q=a(32);a=a(33);n.prototype.LW=function(w){return this.Nv === w;};la(l,n);l.prototype.OK=function(w,v){return v?"":"\r\n" + this.Nv;};la(m,n);m.prototype.OK=function(){var w;w="";this.ve.MD(this.value,function(v,u){try{w+=", " + v + ": " + u;}catch(x){try{w+=", " + v + ": " + JSON.stringify(u);}catch(y){w+=", error stringifying " + v;}}});return w.replace(/[\r\n]+ */g," ");};la(f,n);f.prototype.OK=function(w){var v;v="\r\n" + this.Nv.message;w || (v+="\r\n" + this.Nv.stack);return v;};la(d,n);d.prototype.OK=function(){var w;w="";this.ve.MD(this.value,function(v,u){w+=", " + v + ": " + u;});return w.replace(/[\r\n]+ */g," ");};la(g,n);g.prototype.OK=function(w,v){return this.Nv && !v?"\r\n" + this.uc.encode(this.Nv):"";};la(h,n);h.prototype.OK=function(){return this.Nv?this.Nv.toJSON():"";};la(k,n);k.prototype.OK=function(){return ", " + (this.Nv.toString?"" + this.Nv.toString():"");};c.prototype.Evb=function(w){this.Pb.push(new l(w));};c.prototype.tvb=function(w){this.Pb.push(new m(this.ve,w));};c.prototype.jvb=function(w){this.Pb.push(new f(w));};c.prototype.mvb=function(w){this.Pb.push(new d(this.ve,w));};c.prototype.Hvb=function(w){this.Pb.push(new g(this.uc,w));};c.prototype.svb=function(w){this.Pb.push(new h(w));};c.prototype.Ivb=function(w){this.Pb.push(new k(w));};c.prototype.zj=function(){return this.Pb;};t=c;t=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(a.vi)),r.__param(1,(0,p.l)(q.Qh))],t);b.dJa=t;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.e8a=void 0;r=a(0);c=a(367);k=a(741);b.e8a=new r.zd(function(h){h(c.AKa).to(k.zKa).ba();});},function(r,b,a){var k,h,g;function c(d){this.Tc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(2);k=a(0);h=a(742);a=a(50);c.prototype.YXa=function(d,f){return new h.BKa(this.Tc,d,f);};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ek))],g);b.zKa=g;},function(r,b){function a(c,k,h){this.Tc=c;this.config=k;this.getTime=h;}Object.defineProperty(b,"__esModule",{value:!0});b.BKa=void 0;a.prototype.observe=function(c,k){var h;h=this;this.cancel();this.Sj=this.Tc.Lca(this.config.p2a(),function(){h.getTime() >= c && (h.cancel(),k());});};a.prototype.cancel=function(){this.Sj && (this.Sj.cancel(),this.Sj=void 0);};b.BKa=a;},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.P=void 0;r=a(0);c=a(220);k=a(368);h=a(744);g=a(1068);d=a(450);f=a(1069);b.P=new r.zd(function(m){m(c.qia).to(h.JOa).ba();m(k.HOa).to(g.GOa).ba();m(d.QPa).to(f.PPa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v;function c(u,x,y,z,A,B,D,C,F,G){this.Ea=u;this.Vf=x;this.EP=y;this.lCa=z;this.LZ=A;this.Tc=B;this.jN=D;this.hi=C;this.Kpa=F;this.ti=G;}Object.defineProperty(b,"__esModule",{value:!0});b.JOa=void 0;r=a(2);k=a(0);h=a(20);g=a(7);d=a(367);f=a(145);m=a(369);l=a(370);n=a(745);p=a(746);q=a(103);t=a(50);w=a(364);a=a(32);c.prototype.UCb=function(u,x,y){return new n.KOa(this.Ea,this.Vf,this.EP,this.lCa,x,u,this.hi,this.LZ,this.ti,this.Kpa,y);};c.prototype.tCb=function(u,x){return new p.ODa(this.Vf,u,x,this.EP,this.Tc,this.jN);};v=c;v=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.vd)),r.__param(1,(0,k.l)(g.yb)),r.__param(2,(0,k.l)(d.AKa)),r.__param(3,(0,k.l)(l.qQa)),r.__param(4,(0,k.l)(m.OMa)),r.__param(5,(0,k.l)(t.ek)),r.__param(6,(0,k.l)(q.KR)),r.__param(7,(0,k.l)(f.dT)),r.__param(8,(0,k.l)(w.lS)),r.__param(9,(0,k.l)(a.Qh))],v);b.JOa=v;},function(r,b,a){var d,f,m;function c(l,n,p,q,t,w,v,u,x,y,z){var A;A=this;this.Ea=l;this.EP=p;this.Gxa=q;this.config=t;this.ob=w;this.hi=v;this.LZ=u;this.ti=x;this.Sk=z;this.aHb=Object.values(d.Ja).map(function(B){return {event:B,EI:function(D){return A.Wb.ed(B,D);}};});this.Wb=y.create();this.RE=[];this.log=n.kb("SegmentManager");this.pqa=!0;this.xo=this.ti.createElement("div",m.eia);}function k(l,n,p,q,t,w,v,u,x,y,z){var A;A=this;this.log=l;this.config=n;this.mVb=p;this.Gxa=q;this.hi=t;this.LZ=w;this.Vv=v;this.G=u;this.xo=x;this.ob=y;this.Sk=z;this.AN=function(){A.GE && (A.GE.cancel(),A.GE=void 0);};this.usa=function(B){A.log.trace("Received the transition event",{movieId:B.K});A.sZb();};this.Kua=function(){};this.log.debug("Constructing session data",h(u));this.T4b=new Promise(function(B){A.sZb=B;});}function h(l){return {movieId:l.K};}function g(l){return JSON.stringify({movieId:l.K,startPts:l.$,logicalEnd:l.Fj,params:l.Db?{trackingId:l.Db.Yj,authParams:l.Db.w6,sessionParams:l.Db.en,disableTrackStickiness:l.Db.apa,uiPlayStartTime:l.Db.oR,loadImmediately:l.Db.X$,playbackState:l.Db.playbackState?{currentTime:l.Db.playbackState.currentTime,volume:l.Db.playbackState.volume,muted:l.Db.playbackState.muted,playbackRate:l.Db.playbackState.playbackRate}:void 0,pin:l.Db.h$a,heartbeatCooldown:l.Db.Gsa,uiLabel:l.Db.je,uxLabels:l.Db.cea}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;d=a(18);f=a(5);m=a(14);k.prototype.load=function(l){var n,p;n=this;this.log.trace("Loading new segment",h(this.G));this.S=this.Gxa.goa(this.config,this.LZ,this.hi,this.G,this.ob,this.Sk);this.S.addEventListener(d.Ja.XO,function(q){n.log.trace("Segment is inactive",h(n.G));n.Vv.close(n.hi(q.errorCode));});this.S.addEventListener(d.Ja.closed,this.AN);if(l)(this.log.debug("Pausing background segment",h(this.G)),this.S.addEventListener(d.Ja.Wta,this.usa),this.S.pause());else {this.xo.appendChild(this.S.co());p=function(q){n.usa(q);n.S.removeEventListener(d.Ja.loaded,p);};this.S.addEventListener(d.Ja.loaded,p);}};k.prototype.observe=function(){var l,n,p;l=this;this.log.trace("Observing segment",g(this.G));if(this.GE)this.log.trace("Segment is currently observing",h(this.G));else if(this.G.Db && this.G.Db.X$)this.Kua(this);else {n=this.mVb.YXa(this.config,function(){var q;if(l.S){q=l.S.Yu();if(q)return q;}return 0;});p=this.nyb(this.G);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){l.log.trace("Segment has reached its loading point",h(l.G));l.Kua(l);l.AN();});}};k.prototype.close=function(l){this.log.info("Closing segment",{segment:g(this.G),error:l});return this.S?(this.S.removeEventListener(d.Ja.Wta,this.usa),this.S.close(l)):Promise.resolve();};k.prototype.bWb=function(l){this.Kua=l;};k.prototype.nyb=function(l){var n,p;n=l.Fj;l=l.Db?l.Db.X$:!1;p=0;n && !l && (p=n - this.config.N1a(),p < this.config.P1a() && (l=n - this.config.P1a(),p=n - l / 2));return p;};c.prototype.VLb=function(){return this.Bh && this.Bh.S?this.Bh.S.isReady():!1;};c.prototype.co=function(){return this.xo;};c.prototype.wI=function(){if(!this.Bh || !this.Bh.S)throw Error("Player not ready");return this.Bh.S;};c.prototype.n6b=function(l){var n,p;p=this.cqa(l);p?this.agb(p,l):this.ob.Oe(l.id) || this.log.error("Tried to update a non-existent segment",{segment:g(l),currentMovieId:this.Bh.G.K,queuedMovieIds:this.RE.map(function(q){return q.G.K;}),xid:null === (n=this.Bh.S) || void 0 === n?void 0:n.EA()});};c.prototype.eh=function(l){var n;this.log.info("Adding segment",g(l));if(this.pqa){this.log.trace("First segment, loading",h(l));n=this.i6a(l);this.pqa=!1;}else (this.log.trace("Subsequent segment, caching",h(l)),(n=this.cqa(l))?this.agb(n,l):(n=this.createSession(l),this.RE.push(n),this.Bh.observe()));return n?n.T4b:null;};c.prototype.transition=function(l,n){var p,q,t;q=this.tJ;t=null === q || void 0 === q?void 0:q.S;if(q && t)return (this.tJ=void 0,this.log.info("Transitioning segment",g(q.G)),t.fAa(this.Ea.Xb().ca(f.la)),this.nfb(q,n));n=null === q || void 0 === q?void 0:q.G;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Bh.G.K,xid:null === (p=this.Bh.S) || void 0 === p?void 0:p.EA(),nextSegmentId:l,currentSegment:g(this.Bh.G),nextSegment:n?g(n):void 0,queuedMovieIds:this.RE.map(function(w){return w.G.K;})});return Promise.reject();};c.prototype.close=function(l){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.Bh.G)),nextSession:this.tJ?JSON.stringify(h(this.tJ.G)):void 0});l=[this.Bh.close(l)];this.tJ && l.push(this.tJ.close());return Promise.all(l).then(function(){n.tJ=void 0;n.RE=[];n.pqa=!0;});};c.prototype.addListener=function(l,n,p){this.Wb.addListener(l,n,p);};c.prototype.removeListener=function(l,n){this.Wb.removeListener(l,n);};c.prototype.agb=function(l,n){this.BWb(l.G,n);this.log.trace("Overwrote existing segment data",g(l.G));};c.prototype.i6a=function(l){var n,p;n=this;this.log.info("Loading the next episode",h(l));if(this.Bh){this.config.Qqa()[l.K]=l.$;p=this.cqa(l);}else p=this.createSession(l);if(p)return (this.log.trace("Found the next session",h(l)),p.bWb(function(q){n.Neb(q);}),this.Bh?(this.log.trace("Subsequent playback, caching player and pausing",h(l)),this.tJ=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",h(l)),p.load(!1),this.nfb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",h(l));};c.prototype.nfb=function(l,n){var p,q,t,w,v;n=void 0 === n?{}:n;w=l.S?null === (p=l.S) || void 0 === p?void 0:p.getError():"missing player";if(w)return (null === (q=l.S) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Bh.G.K,mid:l.G.K,error:w,xid:null === (t=l.S) || void 0 === t?void 0:t.EA()}),Promise.reject());this.log.trace("Playing episode",h(l.G));p=this.Bh;this.Bh=l;l=this.Bh.S;l.Qza(!1);this.cL(l,p?p.S:void 0);if(p && p.S){v=p.S.co();q=l.co();v.style.display="none";p=p.close();this.xo.appendChild(q);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});q.style.display="block";l.Uda(n);l.VQ();l.play();}return Promise.resolve();};c.prototype.Neb=function(l){var n,p,q,t,w;if(this.RE.length && l.S){n=l.S.Yu();p=this.RE[0];q=this.Bh.G.Fj;t=this.Bh.G.Db?this.Bh.G.Db.X$:!1;if(q || t){t?w=0:q && (w=q - this.config.N1a());null !== n && n >= w && (this.log.info("Got a time change, loading the next player",h(p.G)),this.i6a(p.G),this.RE.splice(0,1),this.Neb(l));}}};c.prototype.cqa=function(l){return this.Bh.G.K === l.K?this.Bh:this.RE.find(function(n){return n.G.K === l.K;});};c.prototype.BWb=function(l,n){l.$=n.$ || l.$;l.Fj=n.Fj || l.Fj;l.Db=n.Db || l.Db;l.ia=n.ia || l.ia;};c.prototype.createSession=function(l){return new k(this.log,this.config,this.EP,this.Gxa,this.hi,this.LZ,this,l,this.xo,this.ob,this.Sk);};c.prototype.cL=function(l,n){this.aHb.forEach(function(p){n && n.removeEventListener(p.event,p.EI);l.addEventListener(p.event,p.EI);});this.Wb.ed(d.mG.O_);};b.KOa=c;},function(r,b,a){var g,d,f,m,l;function c(n,p,q,t,w,v){var u;u=this;this.S=p;this.j=q;this.EP=t;this.Tc=w;this.jN=v;this.AN=function(){u.GE && (u.GE.cancel(),u.GE=void 0);};this.log=n.kb("SegmentManager",this.j);this.P=new Map();this.j.fb.ci && (this.j.addEventListener(f.ga.jK,function(x){return u.HE(x);}),this.j.addEventListener(f.ga.closed,this.AN));}function k(n,p){this.id=n;this.wna=p;}function h(n,p,q,t){return d.od.call(this,n,q,void 0,void 0,void 0,p,void 0,t) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ODa=void 0;g=a(3);d=a(38);f=a(18);m=a(5);l=a(19);la(h,d.od);h.prototype.toString=function(){return this.code + "-" + this.Jc + " : " + this.message + "\n" + JSON.stringify(this.data);};k.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.sa,contentEndPts:this.va};};Ya.Object.defineProperties(k.prototype,{sa:{configurable:!0,enumerable:!0,get:function(){return this.wna.startTimeMs;}},va:{configurable:!0,enumerable:!0,get:function(){return this.wna.endTimeMs;}},nB:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.wna.next);}}});c.prototype.HE=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.P.size && Object.entries(this.j.iX()).forEach(function(q){var t;t=pa(q);q=t.next().value;t=t.next().value;p.P.set(q,new k(q,t));});this.ka=this.P.get(n);};c.prototype.play=function(n){this.jQ && (this.jQ=void 0);this.AN();this.log.trace("Playing segment",n);return this.T4a(n)?this.sXb(n):this.JZ(n);};c.prototype.pt=function(n){this.log.trace("Queueing segment",n);return this.T4a(n)?this.iZb(n):this.jZb(n);};c.prototype.mj=function(n,p){var q,t;q=this;t=this.j.Ia;if(null === t || void 0 === t || !t.Bi)return Promise.reject(this.getError(g.T.wDa,"ASE session manager is not yet initialized",g.O.$ea,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(w,v){try{t.pR(n,p);q.j.fireEvent(f.ga.SBa,{fa:n,z6b:p});w();}catch(u){v(q.getError(g.T.wDa,"updateNextSegmentWeights threw an exception",g.O.bib,{segmentId:n,updates:p,error:u}));}});};c.prototype.T4a=function(n){return this.ka?void 0 !== this.j.iX()[this.ka.id].next[n]:!1;};c.prototype.Kra=function(){var n;n=this.j.Ia;if(null === n || void 0 === n?0:n.Bi)return n.Om().Pe;};c.prototype.NLb=function(){var n;n=this.j.Ia;if(null === n || void 0 === n?0:n.Bi)return n.Om().id;};c.prototype.PJb=function(n){var p;p=this.j.Ia;if(null === p || void 0 === p?0:p.Bi)return (n=p.M8(n)) && n.He;};c.prototype.sXb=function(n){var p,q;p=this;q=this.j.Ia;return null !== q && void 0 !== q && q.Bi?this.ka && 1 === this.ka.nB.length?this.JZ(n):this.j.Wf?void 0 === this.PJb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.JZ(n)):new Promise(function(t,w){var z,A,B,D,C,F;function v(){!B && A && z && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),q.xs(n,!1,!0)?(t(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.JZ(n).then(t).catch(w)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(f.ga.Lk,u);v();}function x(){p.j.removeEventListener(f.ga.UJ,x);q.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",y);v();}z=!1;A=!1;B=!1;D=p.P.get(n);C=p.Kra();if(void 0 === C)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.JZ(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:C,currentSegment:p.ka,nextSegment:D},null,"  "));p.j.fireEvent(f.ga.$aa,{Ch:p.ka && p.ka.id,KP:n});q.addEventListener("stop",y);p.j.addEventListener(f.ga.UJ,x);p.j.addEventListener(f.ga.Lk,u);F=p.Tc.Ok((0,m.Kh)(10),function(){B=!0;F.cancel();w(p.getError(g.T.OR,"Timed out waiting for the player to be repositioned and ASE to be stopped",g.O.Yhb,{id:n,stopped:A,repositioned:z,completed:B}));});p.S.seek(C,f.Ye.SL);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(g.T.OR,"MediaPresenter is not initialized",g.O.Zhb,{id:n}))):Promise.reject(this.getError(g.T.OR,"ASE session manager is not yet initialized",g.O.$ea,{id:n}));};c.prototype.JZ=function(n){var p;p=this.P.get(n);return p?this.L_(p,g.T.OR):Promise.reject(this.getError(g.T.OR,"Unable to find the separated segment",g.O.vDa,{id:n}));};c.prototype.iZb=function(n){var p;p=this.j.Ia;if(null === p || void 0 === p || !p.Bi)return Promise.reject(this.getError(g.T.PR,"ASE session manager is not yet initialized",g.O.$ea,{id:n}));this.j.fireEvent(f.ga.$aa,{Ch:this.ka && this.ka.id,KP:n});if(p.xs(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.RYa(n);};c.prototype.jZb=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.K,srcsegment:this.NLb()});return this.RYa(n);};c.prototype.RYa=function(n){var p,q;p=this;if(this.jQ)return Promise.reject(this.getError(g.T.PR,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",g.O.aib,{currentSegment:this.ka?this.ka.id:void 0,queuedSegment:this.jQ.id,failedSegment:n}));if(!this.ka)return Promise.reject(this.getError(g.T.PR,"Unable to queue segment for delayed seek because there is no currently playing segment",g.O.Xhb,{nextSegmentid:n}));q=this.P.get(n);if(!q)return Promise.reject(this.getError(g.T.PR,"Unable to find the separated segment",g.O.vDa,{nextSegmentid:n,currentSegmentId:this.ka.id}));this.jQ={id:n,promise:new Promise(function(t,w){var v;p.GE=p.EP.YXa({p2a:function(){return (0,m.Sc)(100);}},function(){return p.S.Yu() || 0;});v=p.Kra() - l.config.c8a;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:v});p.GE.observe(v,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.ka.id,playerEndPts:p.Kra(),pts:v});p.jQ=void 0;p.AN();p.L_(q,g.T.PR).then(t).catch(w);});})};this.jQ.promise.catch(function(t){p.j.Pd(t.code,t);});return Promise.resolve();};c.prototype.L_=function(n,p){var q;q=this;return new Promise(function(t,w){var v;try{v=n.sa;!1;q.S.seek(v,f.Ye.pG);t();}catch(u){w(q.getError(p,"Seek threw an exception",g.O.$hb,{id:n.id,error:u}));}});};c.prototype.getError=function(n,p,q,t){this.log.warn(p,t);return new h(n,p,q,t);};b.ODa=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Qc=b.Bp=void 0;(function(c){c[c.rj=0]="STOPPED";c[c.yd=1]="BUFFERING";c[c.bg=2]="REBUFFERING";c[c.sj=3]="STREAMING";c[c.mT=4]="TRACK_SWITCH";})(a || (a={}));b.Qc=a;b.Bp=function(c){return c === a.yd || c === a.bg || c === a.mT;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(759),b);r.__exportStar(a(760),b);r.__exportStar(a(761),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AC=void 0;r=b.AC || (b.AC={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.rC=1]="HAVE_SOMETHING";r[r.qC=2]="HAVE_MINIMUM";r[r.rS=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ta=b.Pba=void 0;c=a(36);(function(h){h[h.yh=0]="STARTING";h[h.yd=1]="BUFFERING";h[h.bg=2]="REBUFFERING";h[h.Rc=3]="PLAYING";h[h.Yr=4]="STOPPING";h[h.rj=5]="STOPPED";h[h.xh=6]="PAUSED";})(k || (k={}));b.ta=k;b.Pba=function(h){return h === c.Qc.yd?k.yd:h === c.Qc.bg?k.bg:h === c.Qc.mT?k.yd:h === c.Qc.sj?k.Rc:k.yh;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(782),b);r.__exportStar(a(783),b);r.__exportStar(a(784),b);r.__exportStar(a(785),b);r.__exportStar(a(786),b);r.__exportStar(a(787),b);r.__exportStar(a(788),b);r.__exportStar(a(789),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(791),b);r.__exportStar(a(792),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gw=void 0;r=b.Gw || (b.Gw={});r[r.wnb=0]="PLAYGRAPH_CHANGED";r[r.xnb=1]="PLAYGRAPH_UNCHANGED";r[r.Lmb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.pob=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Kkb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Jkb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.qob=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.shb=7]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jDa=void 0;c=a(15);r=(function(){function k(h){this.config=h;}k.prototype.Lm=function(h,g){return this.config.o0 || g !== c.Qc.sj?h.filter(function(d){return d.Ru;}):h;};return k;})();b.jDa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vG=void 0;r=a(1);c=a(16);k=r.__importDefault(a(6));h=a(372);a=(function(){function g(d){this.console=d;this.KYa=[];this.DVa={};this.aZa=!1;}g.prototype.Br=function(d,f){this.KYa=d;void 0 !== f?this.DVa[f]=d:this.aZa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.aZa=!0);};g.prototype.Lm=function(d){var f,m,l,n,p;f=this;if(0 === d.length)return d;n=d[0].N;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=k.default.Au) || void 0 === m?void 0:m.call(k.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (l=this.DVa[n]) && void 0 !== l?l:this.KYa;c.Z && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return h.Xla(q.profile,q.bitrate,p,f.console).inRange;});c.Z && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return g;})();b.vG=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kDa=void 0;r=(function(){function a(c){var k;k=this;c.ZQ && c.ZQ.enabled && c.ZQ.profiles && c.ZQ.profiles.length && "keepLowest" === c.ZQ.action && (this.D5a={},c.ZQ.profiles.forEach(function(h){return k.D5a[h]=!0;}));}a.prototype.Lm=function(c){var k,h;k={};h=this.D5a;return void 0 === h?c:c.filter(function(g){return !h[g.profile] || (k[g.profile]?!1:k[g.profile]=!0);});};return a;})();b.kDa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hDa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Lm=function(c){var k;k=this.config;return c.filter(function(h){return !(void 0 !== h.$a && (h.$a < k.kJ || h.$a > k.b7a) || (void 0 === h.$a || 0 >= k.kJ) && h.bitrate < k.Qva || (void 0 === h.$a || Infinity === k.b7a) && h.bitrate > k.HSb);});};return a;})();b.hDa=r;},function(r,b,a){var k;function c(h,g){g=Math.max(h,g);return isNaN(g)?h || -Infinity:g;}Object.defineProperties(b,{__esModule:{value:!0}});b.VCa=void 0;k=a(15);r=(function(){function h(g){this.config=g;this.kca=0;this.state=k.Qc.rj;this.d8a=c(g.Qva,g.Caa);this.Wva=c(g.kJ,g.UY);}h.prototype.Lm=function(g,d){var f;f=this;if(d !== this.state){this.state=d;if(d === k.Qc.yd || d === k.Qc.mT)return g;d === k.Qc.bg && this.Eab();}return g.filter(function(m){return !(void 0 !== m.$a && m.$a < f.Wva || (void 0 === m.$a || 0 > f.Wva) && m.bitrate < f.d8a);});};h.prototype.Eab=function(){++this.kca;this.Wva=c(this.config.kJ,this.config.UY - this.config.KTb * this.kca);this.d8a=this.config.Qva || -Infinity;};return h;})();b.VCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gDa=void 0;c=a(23);r=(function(){function k(h){this.config=h;}k.prototype.s2b=function(h){return h % 100 + 1 <= this.config.sxa;};k.prototype.Lm=function(h){var g,d,f,m,l,n,p,q,t,w,v;p=Number(null === (g=h[0]) || void 0 === g?void 0:g.K);if(!(this.config.Q7 && this.s2b(p) && 0 < this.config.Cca.length))return h;g=h.length;q=null !== (d=h[g - 1].Bca) && void 0 !== d?d:0;if(d=c.ze(this.config.Cca,function(u){return u.Pgc >= q && u.Ebb <= q;})){for(p=0;p < g;p++){t=h[Math.max(p - 1,0)];w=h[p];if(!((null !== (f=w.Bca) && void 0 !== f?f:0) < d.Ebb || (null !== (m=t.Bca) && void 0 !== m?m:0) < d.Ebb)){v=null !== (l=w.$a) && void 0 !== l?l:Infinity;t=null !== (n=t.$a) && void 0 !== n?n:Infinity;if(!(t < d.Zfc || t < d.Yfc && w.bitrate < d.maxBitrate || !v && w.bitrate < d.zfc))break;}}return h.slice(0,p);}return h;};return k;})();b.gDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mga=b.Wea=void 0;c=a(23);b.Wea={Lm:function(k){return k.filter(function(h){return h.nv && !h.IA;});}};b.Mga={Lm:function(k){return (k=c.ze(k,function(h){return ! !h.nv && !h.IA;}))?[k]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Nga=void 0;b.Nga={Lm:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zD=b.yD=void 0;c=a(374);k=a(98);b.yD=function(h,g){g && (null === h || void 0 === h?0:h.N3a) && (g=new k.$t(g).or(k.gG));return new k.$t(k.Wea).and(null !== g && void 0 !== g?g:k.gG).or(k.Mga,c.TL.hI).or(k.Nga,c.TL.hI);};b.zD=function(h,g){g && h.N3a && (g=new k.$t(g).or(k.gG));return new k.$t(k.Wea).and(new k.jDa(h)).and(new k.hDa(h)).and(new k.VCa(h)).and(new k.kDa(h)).and(h.Q7?new k.gDa(h):k.gG).and(null !== g && void 0 !== g?g:k.gG).or(k.Mga,c.TL.hI).or(k.Nga,c.TL.hI);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1);r.__exportStar(a(813),b);r.__exportStar(a(380),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var k;function c(h,g){var d;void 0 === g && (g=c);d="";h.nO && (d=null === h || void 0 === h?void 0:h.nO.map(g).reduce(function(f,m){return f + "," + m;}));return (null === h || void 0 === h?void 0:h.name) + "::" + (null === h || void 0 === h?void 0:h.message) + "::{" + (null === h || void 0 === h?void 0:h.stack) + "}[" + d + "]";}Object.defineProperties(b,{__esModule:{value:!0}});b.Mea=void 0;k=a(1);r=(function(h){function g(d,f){d=h.call(this,g.bJb(d,f)) || this;d.Dqb=f;d.name="AggregateError";return d;}k.__extends(g,h);g.bJb=function(d,f){return f.reduce(function(m,l){return m + "\n" + l;},d);};g.stringify=function(d){return c(d);};Object.defineProperties(g.prototype,{nO:{get:function(){return this.Dqb;},enumerable:!1,configurable:!0}});return g;})(Error);b.Mea=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;b.lNa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.fe,segments:a.bEb(c.P)},void 0 !== c.ie?{transitionType:c.ie}:{});};a.encode=function(c){return Object.assign({fe:c.initialSegment,P:a.MGb(c.segments)},void 0 !== c.transitionType?{ie:c.transitionType}:{});};a.MGb=function(c){return Object.keys(c).reduce(function(k,h){k[h]=a.LGb(c[h]);return k;},{});};a.LGb=function(c){return Object.assign({N:c.viewableId,sa:c.startTimeMs},c.endTimeMs?{va:c.endTimeMs}:{},c.defaultNext?{vc:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ie:c.transitionType}:{},c.next?{next:a.JGb(c.next)}:{},c.exitZones?{Lq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Zc:c.uxSegment}:{},c.type?{type:c.type}:{});};a.JGb=function(c){return Object.keys(c).reduce(function(k,h){k[h]=a.KGb(c[h]);return k;},{});};a.KGb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ie:c.transitionType}:{});};a.bEb=function(c){return Object.keys(c).reduce(function(k,h){k[h]=a.aEb(c[h]);return k;},{});};a.aEb=function(c){return Object.assign({viewableId:c.N,startTimeMs:c.sa},c.va?{endTimeMs:c.va}:{},c.vc?{defaultNext:c.vc}:{},c.weight?{weight:c.weight}:{},c.ie?{transitionType:c.ie}:{},c.next?{next:a.ZDb(c.next)}:{},c.Lq?{exitZones:c.Lq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Zc?{uxSegment:c.Zc}:{},c.type?{type:c.type}:{});};a.ZDb=function(c){return Object.keys(c).reduce(function(k,h){k[h]=a.$Db(c[h]);return k;},{});};a.$Db=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ie?{transitionType:c.ie}:{});};return a;})();},function(r,b,a){var f;function c(m){return Object.keys(m.segments).some(function(l){return void 0 !== d(m.segments[l]);});}function k(m){return "delayedSeamless" === m?"lazy":m;}function h(m){return Object.keys(m).reduce(function(l,n){var p,q;p=m[n];q=p.weight;p=p.transitionType || p.transitionHint;n=l[n]={};void 0 !== q && (n.weight=q);p && (n.ie=k(p));return l;},{});}function g(m){var l,n;l=Object.keys(m);n=l.length;return n?l.reduce(function(p,q){return p + (m[q].weight || 0);},0) / n:void 0;}function d(m){var l;if(m.ui){l=m.ui.interactionZones;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.Wz=void 0;f=a(146);b.Wz=function(m,l){var n,p,q,t,w,v;n=void 0 === l?{}:l;l=n.Cd;p=n.fe;q=n.P;n=n.config;t=!(!n || -1 === n.wqa.indexOf(m.viewableId));w=c(m)?0:(null === n || void 0 === n?void 0:n.vqa) || 0;n=new f.Aw();v=q || m.segments;n.pK(null !== p && void 0 !== p?p:m.initialSegment).Hcb(null !== l && void 0 !== l?l:m.mediaTypes).gAa(t?"immediate":k(m.transitionType)).aAa(Object.keys(v).reduce(function(u,x){var y,z,A,B,D,C;y=v[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (t || (null === (B=y.exitZones) || void 0 === B?0:B.length))?g(y.next):void 0;}B=z;if(z=y.exitZones)D=void 0;else a:{if(t && y.endTimeMs){D=y.endTimeMs - y.startTimeMs;C=d(y);if(C && C < D){D=[[C,D]];break a;}if(w && D > w){D=[[D - w,D]];break a;}}D=void 0;}C=t?D?void 0:y.transitionHint || "lazy":y.transitionHint;B={N:m.viewableId,sa:y.startTimeMs,va:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,ie:k(C),Lq:z || D,weight:B};y.defaultNext && (B.vc=y.defaultNext);y.next && (B.next=h(y.next));u[x]=B;return u;},{}));return n.zj();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bF=void 0;c=a(146);b.bF=function(k,h,g){var d;d=new c.Aw();d.pK(h).gAa("lazy").Hcb(g).eh(h,{N:k,sa:0,va:Infinity});return d.zj();};},function(r,b,a){var f,m,l,n;function c(p){for(var q=p.fe,t=[];q;){t.push(q);q=p.P[q].next;if(!q)break;q=Object.keys(q);if(q.length)(l.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return t;}function k(p){return n.ZU(Object.keys(p.P).map(function(q){return p.P[q].N;}));}function h(p,q){return Object.keys(q.P).some(function(t){t=q.P[t];return p.N === t.N && p.sa > t.sa && (!t.va || ! !p.va && (Infinity === p.va || p.va < t.va));});}function g(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === g(q.va):p >= q.sa && p <= g(q.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Iva=void 0;f=a(2);m=a(146);l=a(381);n=a(228);b.Iva=function(p,q){var t,w,v,u,x;t=c(q);w=k(p);v=k(q);w=n.VUa(w,v);l.assert(1 === w.length,"Source and content playgraphs should share one viewable");u=w[0];v=Object.keys(p.P).filter(function(y){return p.P[y].N === u;}).map(function(y){var E,I,N,L,H,Q;for(var z,A=p.P[y],B=A.sa,D=g(A.va),C=0 === B,F=[],G=0;G < t.length;++G){E=t[G];I=q.P[E];N=h(p.P[y],q);if(I.N !== u)C && F.push({id:y + ":" + E,G:f.__assign(f.__assign({},I),{Zc:y})});else if(C){H=Math.max(A.sa,I.sa);L=(Q=!Number.isFinite(D) && G == t.length - 1)?D:Math.min(D,g(I.va));L > H && (N=Infinity !== D || !N && !Q?Infinity === L?null:L:A.va,F.push({id:y + ":" + E,G:f.__assign(f.__assign({},I),{sa:H,va:N,Zc:y})}));if(d(D,I)){if(D === g(I.va))for(G+=1;G < t.length;++G){B=t[G];D=q.P[B];if(D.N === u)break;F.push({id:y + ":" + B,G:f.__assign(f.__assign({},D),{Zc:y})});}break;}}else if(d(B,I))if((C=!0,D <= g(I.va)))F.push({id:y,G:A});else {H=A.sa;Q=!Number.isFinite(D) && G == t.length - 1;N=Q && N?A.va:Math.min(D,g(I.va));F.push({id:y + ":" + E,G:f.__assign(f.__assign({},I),{sa:H,va:N,Zc:y})});}}F.length || F.push({id:y,G:f.__assign(f.__assign({},A),{Zc:y})});for(G=0;G < F.length - 1;++G){B=F[G + 1].id;F[G].G=f.__assign(f.__assign({},F[G].G),{vc:B,next:(z={},z[B]={},z)});}z=F[F.length - 1];z.G=f.__assign(f.__assign({},z.G),{vc:A.vc,next:A.next});return {id:y,G:A,geb:F};});x=v.reduce(function(y,z){return (y[z.id]=z.geb[0].id,y);},{});w=new m.Aw();v=v.reduce(function(y,z){z.geb.forEach(function(A){return y[A.id]=A.G;});return y;},{});return w.aAa(v,function(){return !0;},x).lUa(p.P,function(y,z){return !x[z];},x,function(y,z){return f.__assign(f.__assign({},y),{Zc:z});}).pK(x[p.fe] || p.fe).zj();};},function(r,b,a){var q,t,w,v,u;function c(x,y,z,A,B){var D,C,F;D=x.P[y];C=z.P[D.Zc];A=A.Zc;F=f(D.va) - D.sa;F=void 0 === B?B=0:B + F;return D.N === (null === C || void 0 === C?void 0:C.N)?{$0:f(D.va),IV:B}:D.Zc === A && (y=q.__read(k(x,y),1)[0]) && x.P[y].Zc === D.Zc?c(x,y,z,D,F):{$0:C.sa,IV:F};}function k(x,y){return Object.keys(x.P).filter(function(z){return x.P[z].vc === y;});}function h(x,y,z,A,B){var D,C,F;void 0 === B && (B=0);y=x.P[y];D=z.P[y.Zc];A=A.Zc;C=z.P[A];F=f(y.va) - y.sa;return y.N === (null === D || void 0 === D?void 0:D.N)?{$0:y.sa,IV:B}:y.Zc === A && y.vc?h(x,y.vc,z,y,B + F):{$0:f(C.va),IV:B};}function g(x,y,z){var A,B,D,C,F,G,E,I,N,L,H,Q,O;A=n(x,y,z);if(A)return A;A=x.P[z.G];B=z.offset;D=Object.keys(y.P).filter(function(J){return y.P[J].Zc === z.G;});C=[];D.forEach(function(J){var P,R,S;function M(U){U=t.k8(y,U);null === U || void 0 === U?void 0:U.forEach(function(ba){var na,va;if(y.P[ba].Zc !== z.G){na=y.P[ba];va=na.va;S={G:ba,offset:va - na.sa};(na=va?p(x,y,S):void 0) && C.push({Yz:S,Ir:na});na || (S={G:ba,offset:0},(na=p(x,y,{G:ba,offset:0})) && C.push({Yz:S,Ir:na}));M(ba);}});}P=y.P[J];R=P.va;S={G:J,offset:R - P.sa};(P=R?p(x,y,S):void 0) && C.push({Yz:S,Ir:P});S={G:J,offset:0};(R=p(x,y,S)) && C.push({Yz:S,Ir:R});R || P || M(J);});v.assert(0 < C.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");F=A.sa + B;E=Infinity;C.forEach(function(J){var M;M=J.Ir;M=F - (x.P[M.G].sa + M.offset);0 <= M && M < E && (E=M,G=J);});I=[];D.forEach(function(J){var P,R,S,U;function M(ba){Object.keys(y.P[ba].next || ({})).forEach(function(na){var va,ya,ra;if(y.P[na].Zc !== z.G){va=y.P[na];ya=va.sa;va=va.va;U={G:na,offset:0};ra=p(x,y,U);ra && I.push({Yz:U,Ir:ra});ra || (U={G:na,offset:va - ya},(ya=va?p(x,y,U):void 0) && I.push({Yz:U,Ir:ya}));}M(na);});}P=y.P[J];R=P.sa;S=P.va;U={G:J,offset:0};(P=p(x,y,U)) && I.push({Yz:U,Ir:P});U={G:J,offset:S - R};(R=S?p(x,y,U):void 0) && I.push({Yz:U,Ir:R});P || R || M(J);});v.assert(0 < I.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");L=Infinity;I.forEach(function(J){var M;M=J.Ir;M=x.P[M.G].sa + M.offset - F;if(0 <= M && M < L || M > L && 0 > L || Infinity === L)(L=M,N=J);});v.assert(G);v.assert(N);B=G.Yz;v.assert(B,"Segment not found in the combined playgraph");H=y.P[B.G];B.offset === f(H.va) - H.sa && y.P[H.vc].Zc === H.Zc && (B={G:H.vc,offset:0},H=y.P[B.G]);A=N.Yz;v.assert(A,"Segment not found in the combined playgraph");D=y.P[A.G];Q=x.P[G.Ir.G].sa + G.Ir.offset;O=x.P[N.Ir.G].sa + N.Ir.offset - Q;Q=0 === O?0:(F - Q) / O;if(B.G === A.G)return (H=H.sa + B.offset,B=B.G,{G:B,offset:H + Q * (D.sa + A.offset - H) - y.P[B].sa});O=d(y,B,A);H=O.path;O=O.VH;D=0 === A.offset?0:f(D.va) - D.sa;return l(y,H,B.offset + Q * (O - B.offset - (D - A.offset)));}function d(x,y,z){var A,B;if(y.G !== z.G){for(y=[y.G];y[y.length - 1] !== z.G;){A=x.P[y[y.length - 1]];v.assert(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.G])break;B=Object.keys(A.next);1 === B.length?y.push(B[0]):(v.assert(A.vc,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(A.vc));}0 !== z.offset && y.push(z.G);return {path:y,VH:m(x,y)};}return {path:[],VH:z.offset - y.offset};}function f(x){return null === x || void 0 === x?Infinity:x;}function m(x,y){return y.reduce(function(z,A){var B;A=x.P[A];B=A.sa;return z + f(A.va) - B;},0);}function l(x,y,z){var B,D,C;for(var A=0;A < y.length;++A){B=y[A];D=x.P[B];C=D.sa;D=f(D.va) - C;if(D > z)return {G:B,offset:z};z-=D;}v.assert(!1,"Invalid offset given for path");}function n(x,y,z){var A,B,D,C,F,G,E,I,N;B=x.P[z.G];v.assert(B,"Graph position " + z.G + " does not exist in UX playgraph");D=z.offset;v.assert(0 <= D,"Graph position offset " + D + " cannot be negative");v.assert(!B.va || D <= B.va - B.sa,"Graph position " + D + " offset outside segment");if(y.P[z.G])return z;C=Object.keys(y.P).filter(function(L){return y.P[L].Zc === z.G;}).sort(function(L,H){if(L === H)return 0;for(L=y.P[L];L;){if(L.vc === H)return -1;if(!L.vc)break;L=y.P[L.vc];if(L.Zc !== z.G)break;}return 1;});v.assert(0 < C.length,"No segments found in combined playgraph that point back to the ux segment");F=B.sa + D;G=C.filter(function(L){return y.P[L].N === B.N;});E=q.__read(C,1)[0];G=G.map(function(L){return [L,y.P[L]];}).filter(function(L){var H;L=q.__read(L,2);H=L[0];return F >= L[1].sa || H === E;});if(G=w.ze(G,function(L){var H;L=q.__read(L,2)[1];H=L.vc?y.P[L.vc]:void 0;return !L.va || ! !L.va && F <= L.va || (null === H || void 0 === H?void 0:H.Zc) !== z.G && F >= L.sa;})){I=q.__read(G,2);G=I[0];I=I[1];N=(isFinite(F)?F:null !== (A=I.va) && void 0 !== A?A:Infinity) - I.sa;v.assert(0 <= N,"Content playgrah graph position offset cannot be negative");A=!0;0 === N && (A=u.bqa(y,G),A=!A || A.Zc !== I.Zc);if(A)return {G:G,offset:N};}C=C.filter(function(L){return y.P[L].N !== B.N;});if(0 === D && (D=u.bqa(x,z.G),!D || D.Zc !== z.G) && (D=w.ze(C,function(L){return 0 === t.k8(y,L).length;}),void 0 !== D))return {G:D,offset:0};if(B.va && Infinity !== B.va && !(B.va - B.sa !== z.offset || B.vc && x.P[B.vc]) && (D=w.ze(C,function(L){return !y.P[L].next || 0 === Object.keys(y.P[L].next).length;}),void 0 !== D))return (C=y.P[D],x=C.sa,C=C.va,v.assert(C,"Content playgraph segments from other viewables must have end time"),{G:D,offset:C - x});}function p(x,y,z){var A,B;A=y.P[z.G];v.assert(A,"Graph position does not exist in combined playgraph");B=z.offset;v.assert(0 <= B,"Graph position offset cannot be negative");v.assert(!A.va || B <= A.va - A.sa,"Graph position offset outside segment");if(void 0 === A.Zc)return z;x=x.P[A.Zc];v.assert(x,"Referenced ux playgraph segment must exist");if(A.N === x.N)return (B=A.sa + B - x.sa,x=f(x.va) - x.sa,B=Math.max(Math.min(B,x),0),{G:A.Zc,offset:B});if(0 === B && (z=t.k8(y,z.G).filter(function(D){return y.P[D].Zc === A.Zc;}),0 === B && 0 === z.length))return {G:A.Zc,offset:0};B=A.vc?y.P[A.vc]:void 0;if((null === B || void 0 === B?void 0:B.Zc) !== A.Zc)return {G:A.Zc,offset:x.va?x.va - x.sa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.W0a=b.Cgb=b.eXa=void 0;q=a(2);t=a(51);w=a(228);v=a(381);u=a(382);b.eXa=function(x,y,z){var A,B,D,C;A=y.P[z.G];B=p(x,y,z);if(B)return B;v.assert(A.Zc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");D=x.P[A.Zc];v.assert(D,"Referenced ux playgraph segment must exist");v.assert(A.va,"Content playgraph segments from other viewables must have end time");if(!A.vc || !y.P[A.vc])return (v.assert(D.va,"Must have definite end time to add terminal content playgraph segment"),{G:A.Zc,offset:D.va - D.sa});C=c(y,z.G,x,A);B=C.$0;C=C.IV;if(null === B || void 0 === B)return (v.assert(D.va,"Experience playgraph segment must have end time"),{G:A.Zc,offset:D.va - D.sa});y=h(y,z.G,x,A);x=y.$0;y=y.IV;null !== x && void 0 !== x && isFinite(x) || v.assert(x,"Experience playgraph segment must have end time");return {G:A.Zc,offset:B + (C + z.offset) / (C + y) * (x - B)};};b.Cgb=g;b.W0a=function(x,y,z){var A,B,D;return q.__generator(this,function(C){switch(C.label){case 0:(A=g(x,y,z),B=y.P[A.G],D=A.G,C.label=1);case 1:return [4,D];case 2:(C.jc(),D=B.vc,B=y.P[D],C.label=3);case 3:if((null === B || void 0 === B?void 0:B.Zc) === z.G && D !== A.G)return [3,1];C.label=4;case 4:return [2];}});};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.MXa=b.mha=void 0;c=a(146);b.mha=-1;b.MXa=function(k,h,g,d,f){function m(q){var t,w,v,u,x,y,z,A,B,D,C;v=h.P5[q];u=v.PRb;if(u > n){x="padstart-" + q;y="ad-" + q + "-0";z=d?x:y;l.eh(k + "-" + q,{N:k,sa:n,va:u,vc:z,next:(t={},t[z]={},t),type:"content"});d && l.eh(x,{N:b.mha,sa:0,va:f,vc:y,next:(w={},w[y]={},w),type:"padding"});}n=u;if(v.vUa){A=v.vUa.length;B="padend-" + q;D=k + "-" + (q + 1);C=d?B:D;v.vUa.forEach(function(F,G){var E,I,N;N=G === A - 1?C:"ad-" + q + "-" + (G + 1);l.eh("ad-" + q + "-" + G,{N:F.id,sa:F.sa,va:F.va,vc:N,next:(E={},E[N]={},E),type:"ad"});d && l.eh(B,{N:b.mha,sa:0,va:f,vc:D,next:(I={},I[D]={},I),type:"padding"});});}}void 0 === d && (d=!1);void 0 === f && (f=2E3);for(var l=new c.Aw(),n=0,p=0;p < h.P5.length;++p){m(p);}l.eh(k + "-" + h.P5.length,{N:k,sa:n,va:g || null,type:"content"});l.pK(0 === h.P5[0].PRb?"ad-0-0":k + "-0");return l.zj();};},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EJa=void 0;c=a(1);k=a(17);h=a(229);g=a(378);r=c.__importDefault(a(6));d=a(849);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(m){function l(n,p){var q;q=m.call(this) || this;q.J=n;q.di=new d.KIa(n,p);n.gO && q.AXa(p);q.oh=new k.Dg();f.forEach(function(t){q.oh.on(q.di,t,function(w){return q.emit(t,w);});q.dm && q.oh.on(q.dm,t,function(w){return q.emit(t,w);});});return q;}c.__extends(l,m);Object.defineProperties(l.prototype,{$b:{get:function(){return this.di.$b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mo:{get:function(){return this.di.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wv:{get:function(){return this.di.Wv;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{RB:{get:function(){return this.di.RB;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bua:{get:function(){return this.di.bua;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cF:{get:function(){return this.di.cF;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Sf:{get:function(){return this.di.Sf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ei:{get:function(){return this.di.ei;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wsa:{get:function(){return this.di.Wsa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{DY:{get:function(){return this.di.DY.bind(this.di);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{F8:{get:function(){return this.di.F8.bind(this.di);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xma:{get:function(){var n;n=this;return function(){n.Cbb();n.di.Xma();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qD:{get:function(){var n;n=this;return function(){n.Cbb();n.di.qD();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vq:{get:function(){var n;n=this;return function(p,q,t){var w;null === (w=n.Sf) || void 0 === w?void 0:w.vq(p,q,t);};},enumerable:!1,configurable:!0}});l.prototype.AXa=function(n){return this.dm=new (a(986).OOa)(this.J,this.qD,this.vq,n);};l.prototype.zb=function(n,p,q,t,w,v,u,x){void 0 === u && (u=262144);void 0 === x && (x=1048576);this.di.zb(n,p,q,t,w,v);this.dm?this.dm.zb(n,p,q,t,w,v,u,x):this.L5a={Rwb:n,m7b:p,ox:q,RB:t,cF:w,nTb:v,kma:u,kCa:x};};l.prototype.$_=function(n,p,q){this.di.$_(n,p,q);this.dm?this.dm.$_(n,p,q):this.R5a={F3b:n,RB:p,cF:q};};l.prototype.createSession=function(n,p,q,t,w,v,u,x,y,z){var A,B,D,C,F;A=this;x || (x=this.di.config);if(x.gO && !this.dm){B=this.AXa(this.di.mF);f.forEach(function(G){A.oh.on(A.dm,G,function(E){return A.emit(G,E);});});if(this.L5a){D=this.L5a;C=D.RB;F=D.cF;B.zb(D.Rwb,D.m7b,D.ox,C,F,D.nTb,D.kma,D.kCa);}this.R5a && (F=this.R5a,D=F.F3b,C=F.RB,F=F.cF,B.$_(D,C,F));}return this.dm && x && x.X0?(x.qs || x.sJ || this.di.qD(),this.dm.createSession(n,p,q,t,w,v,u,x,y,z)):this.di.createSession(n,p,q,t,w,v,u,x,y,z);};l.prototype.sy=function(n,p,q){if(this.dm)return this.dm.sy(n,p,q);throw Error("Update viewable not supported in legacy.");};l.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};l.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};l.prototype.Hb=function(){var n;this.oh.clear();this.di.Hb();null === (n=this.dm) || void 0 === n?void 0:n.Hb();h.kL.reset();};l.prototype.Cbb=function(){var n,p;this.J.qs || this.J.sJ || (null === (n=this.dm) || void 0 === n?void 0:n.Ia.state) !== g.Go.OPEN || (null === (p=this.dm) || void 0 === p?void 0:p.Ia.Hv.reset());};return l;})(k.EventEmitter);b.EJa=r;},function(r){function b(c,k,h,g){c.trace(":",h,":",g);k(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,k,h,g){h=g?h.bind(g):h;if(c){this.console && (h=b.bind(null,this.console,h,k));if("function" === typeof c.addListener)c.addListener(k,h);else if("function" === typeof c.addEventListener)c.addEventListener(k,h);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,h]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var h,g;h=k[0];g=k[1];k=k[2];"function" === typeof h.removeEventListener?h.removeEventListener(g,k):"function" === typeof h.removeListener && h.removeListener(g,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={eob:a(826),a9b:a(827)};},function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function k(f){this.lf=null;this.Bn=f;this.size=0;}function h(f){return null !== f && f.red;}function g(f,m){var l;l=f.Fh(!m);f.Cr(!m,l.Fh(m));l.Cr(m,f);f.red=!0;l.red=!1;return l;}function d(f,m){f.Cr(!m,g(f.Fh(!m),!m));return g(f,m);}b=a(383);c.prototype.Fh=function(f){return f?this.right:this.left;};c.prototype.Cr=function(f,m){f?this.right=m:this.left=m;};k.prototype=new b();k.prototype.Uq=function(f){var m,l,n,p,q,t,w,v,u;m=!1;if(null === this.lf)(this.lf=new c(f),m=!0,this.size++);else {l=new c(void 0);n=0;p=0;q=null;t=l;w=null;v=this.lf;for(t.right=this.lf;;){null === v?(v=new c(f),w.Cr(n,v),m=!0,this.size++):h(v.left) && h(v.right) && (v.red=!0,v.left.red=!1,v.right.red=!1);if(h(v) && h(w)){u=t.right === q;v === w.Fh(p)?t.Cr(u,g(q,!p)):t.Cr(u,d(q,!p));}u=this.Bn(v.data,f);if(0 === u)break;p=n;n=0 > u;null !== q && (t=q);q=w;w=v;v=v.Fh(n);}this.lf=l.right;}this.lf.red=!1;return m;};k.prototype.remove=function(f){var m,l,w,v,u;if(null === this.lf)return !1;m=new c(void 0);l=m;l.right=this.lf;for(var n=null,p,q=null,t=1;null !== l.Fh(t);){w=t;p=n;n=l;l=l.Fh(t);v=this.Bn(f,l.data);t=0 < v;0 === v && (q=l);if(!h(l) && !h(l.Fh(t)))if(h(l.Fh(!t)))(p=g(l,t),n.Cr(w,p),n=p);else if(!h(l.Fh(!t)) && (v=n.Fh(!w),null !== v))if(h(v.Fh(!w)) || h(v.Fh(w))){u=p.right === n;h(v.Fh(w))?p.Cr(u,d(n,w)):h(v.Fh(!w)) && p.Cr(u,g(n,w));w=p.Fh(u);w.red=!0;l.red=!0;w.left.red=!1;w.right.red=!1;}else (n.red=!1,v.red=!0,l.red=!0);}null !== q && (q.data=l.data,n.Cr(n.right === l,l.Fh(null === l.left)),this.size--);this.lf=m.right;null !== this.lf && (this.lf.red=!1);return null !== q;};r.exports=k;},function(r,b,a){function c(h){this.data=h;this.right=this.left=null;}function k(h){this.lf=null;this.Bn=h;this.size=0;}b=a(383);c.prototype.Fh=function(h){return h?this.right:this.left;};c.prototype.Cr=function(h,g){h?this.right=g:this.left=g;};k.prototype=new b();k.prototype.Uq=function(h){if(null === this.lf)return (this.lf=new c(h),this.size++,!0);for(var g=0,d=null,f=this.lf;;){if(null === f)return (f=new c(h),d.Cr(g,f),ret=!0,this.size++,!0);if(0 === this.Bn(f.data,h))return !1;g=0 > this.Bn(f.data,h);d=f;f=f.Fh(g);}};k.prototype.remove=function(h){var g,d,n;if(null === this.lf)return !1;g=new c(void 0);d=g;d.right=this.lf;for(var f=null,m=null,l=1;null !== d.Fh(l);){f=d;d=d.Fh(l);n=this.Bn(h,d.data);l=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,f.Cr(f.right === d,d.Fh(null === d.left)),this.lf=g.right,this.size--,!0):!1;};r.exports=k;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GKa=void 0;c=a(23);k=a(4);r=(function(){function h(){this.data={};}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){var g;g=this;return Object.keys(this.data).reduce(function(d,f){return d + g.data[f].length;},0);},enumerable:!1,configurable:!0}});h.prototype.get=function(g){var d;return null !== (d=this.data[g]) && void 0 !== d?d:[];};h.prototype.has=function(g,d){return (g=this.data[g])?void 0 === d?!0:-1 !== g.indexOf(d):!1;};h.prototype.count=function(g){return (g=this.data[g])?g.length:0;};h.prototype.keys=function(){return Object.keys(this.data);};h.prototype.values=function(){var g;g=this;return c.flatten(this.keys().map(function(d){return g.data[d];}));};h.prototype.set=function(g,d){(this.data[g] || (this.data[g]=[])).push(d);return this;};h.prototype.clear=function(){this.data={};};h.prototype.delete=function(g,d){var f,m;f=this.data[g];if(void 0 === f)return !1;if(void 0 === d)return (k.assert(1 === arguments.length),delete this.data[g],!0);m=f.indexOf(d);if(-1 === m)return !1;1 === f.length?delete this.data[g]:f.splice(m,1);return !0;};h.prototype.forEach=function(g,d){var f;f=this;g=void 0 !== d?g.bind(d):g;this.keys().forEach(function(m){return f.data[m].forEach(function(l){return g(l,m,f);});});};h.prototype.reduce=function(g,d,f){var m,l;m=this;g=void 0 !== f?g.bind(f):g;l=d;this.forEach(function(n,p){l=g(l,n,p,m);});return l;};h.prototype.map=function(g,d){var f;f=this;g=void 0 !== d?g.bind(d):g;return c.flatten(this.keys().map(function(m){return f.data[m].map(function(l){return g(l,m,f);});}));};h.prototype.filter=function(g,d){var f;f=this;g=void 0 !== d?g.bind(d):g;return c.flatten(this.keys().map(function(m){return f.data[m].filter(function(l){return g(l,m,f);});}));};return h;})();b.GKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U_a=void 0;b.U_a=function(a,c){return a.filter(function(k){var h,g;k=null !== (g=null !== (h=k.he) && void 0 !== h?h:k.Ps) && void 0 !== g?g:k.uf;return ! !k && k.oP(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=b.ROa=void 0;c=a(23);r=(function(){function k(h){this.Na=h;this.listeners=[];this.wZ=[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Na;},enumerable:!1,configurable:!0}});k.prototype.set=function(h){var g;this.Na=h;g=this.wZ;this.wZ=[];this.listeners.forEach(function(d){return d(h);});g.forEach(function(d){return d(h);});};k.prototype.Dbb=function(){this.Na=void 0;};k.prototype.on=function(h){this.listeners=this.listeners.concat([h]);void 0 !== this.Na && h(this.Na);};k.prototype.once=function(h){void 0 !== this.Na?h(this.Na):this.wZ.push(h);};k.prototype.pB=function(h){this.listeners=this.listeners.filter(function(g){return g !== h;});this.wZ=this.wZ.filter(function(g){return g !== h;});};return k;})();b.ROa=r;r=(function(){function k(){this.listeners=[];}k.prototype.on=function(h,g){this.listeners.push({signal:h,listener:g});h.on(g);};k.prototype.once=function(h,g){var d,f;d=this;if(void 0 === h.value){f=function(m){d.remove(h,g);g(m);};this.listeners.push({signal:h,listener:g,bhb:f});h.once(f);}else h.once(g);};k.prototype.pB=function(h,g){var d,f;f=c.ze(this.listeners,function(m){return m.signal === h && m.listener === g;});void 0 !== f && h.pB(null !== (d=f.bhb) && void 0 !== d?d:f.listener);this.remove(h,g);};k.prototype.removeAllListeners=function(){this.listeners.forEach(function(h){var g,d;g=h.listener;d=h.bhb;return h.signal.pB(null !== d && void 0 !== d?d:g);});this.listeners=[];};k.prototype.remove=function(h,g){this.listeners=this.listeners.filter(function(d){return d.signal !== h || d.listener !== g;});};return k;})();b.SOa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lL=b.Vta=void 0;b.Vta=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.kTa=!1;this.promise=new Promise(function(k){c.Rtb=k;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gbb:{get:function(){return this.kTa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.kTa=!0;this.Rtb(c);};return a;})();b.lL=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IYa=void 0;b.IYa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var k;function c(h,g,d){var f,l,n;if(h === g || !d.hn && h == g)return !0;if(typeof h !== typeof g)return !1;if(h && "object" === typeof h){for(var m in h){if(!c(h[m],g[m],d))return !1;}if(!d.hzb){l=Object.keys(h);n=Object.keys(g).filter(function(w){return 0 > l.indexOf(w);});try{for(var p=k.__values(n),q=p.next();!q.done;q=p.next()){if((m=q.value,!c(h[m],g[m],d)))return !1;}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.r7=void 0;k=a(1);b.r7=function(h,g,d){void 0 === d && (d={});d=k.__assign({hn:!1,hzb:!1},d);return c(h,g,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kT=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.qa=NaN;}Object.defineProperties(a.prototype,{qt:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.qa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.qa+=(c - this.qa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.qa};};return a;})();b.kT=r;},function(r,b,a){var k;function c(h){this.BQ=new Uint16Array(h.length);for(var g=0;g < h.length;++g){this.BQ[g]=h.charCodeAt(g);}}k=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(h){var g;g=this.BQ.length;if(void 0 === this.BQ)k.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",f=0;f < h.length;++f){d+=String.fromCharCode(this.BQ[f % g] ^ h.charCodeAt(f));}return encodeURIComponent(d);}};c.prototype.decrypt=function(h){var g,d;g="";d=this.BQ.length;h=decodeURIComponent(h);for(var f=0;f < h.length;f++){g+=String.fromCharCode(this.BQ[f % d] ^ h.charCodeAt(f));}return g;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(384);r=(function(){function k(h,g){this.qa=h;this.Ce=g;}k.prototype.rWa=function(h){return .5 * c.lO(-(h - this.qa) / Math.sqrt(2 * this.Ce));};k.prototype.Wba=function(h){return this.qa - Math.sqrt(2 * this.Ce) * c.M3a(2 * h);};return k;})();b.default=r;},function(r,b,a){r.exports={jec:a(386),phc:a(232),d9b:a(838),lFa:a(387),c9b:a(389),e9b:a(390),Rkb:a(391)};},function(r,b,a){var h,g,d,f;function c(m,l,n){h.call(this,m,l,n);}function k(m,l){g.call(this,new c(m,l,!1));}h=a(839);g=a(840);d=a(99).wJb;f=a(99).KMb;c.prototype=Object.create(h.prototype);c.prototype.qa=function(){return Math.floor(8 * d(this.Td) / this.Nd);};c.prototype.Ce=function(){return Math.floor(64 * f(this.Td) / (this.Nd * this.Nd));};c.prototype.get=function(){return {qa:this.qa(),Ce:this.Ce(),jdc:this.Td.length};};c.prototype.toString=function(){return "bsw(" + this.bN + "," + this.Nd + "," + this.qk + ")";};k.prototype=Object.create(g.prototype);k.prototype.setInterval=function(m){this.pM.setInterval(m);};r.exports=k;},function(r){function b(a,c,k){this.bN=a;this.qk=Math.floor((a + c - 1) / c);this.Nd=c;this.xtb=k;this.reset();}b.prototype.shift=function(){this.Td.shift();this.Di.shift();};b.prototype.update=function(a,c){this.Td[a]+=c;};b.prototype.push=function(a){this.Td.push(0);this.Di.push(a?a:0);this.Gb+=this.Nd;};b.prototype.add=function(a,c,k,h){var g,d;if(null === this.Gb){g=Math.max(Math.floor((k - c + this.Nd - 1) / this.Nd),1);for(this.Gb=c;this.Td.length < g;){this.push(h);}}for(;this.Gb < k;){if((this.push(h),this.xtb))for(;1 < this.Td.length && k + h - (this.Gb - this.Nd * this.Td.length + this.Di[0]) > this.bN;){this.shift();}else this.Td.length > this.qk && this.shift();}if(c > this.Gb - this.Nd)this.update(this.Td.length - 1,a);else if(c == k)(h=this.Td.length - Math.max(Math.ceil((this.Gb - k) / this.Nd),1),0 <= h && this.update(h,a));else for(h=1;h <= this.Td.length;++h){g=this.Gb - h * this.Nd;d=g + this.Nd;if(!(g > k)){if(d < c)break;this.update(this.Td.length - h,Math.round(a * (Math.min(d,k) - Math.max(g,c)) / (k - c)));}}for(;this.Td.length > this.qk;){this.shift();}};b.prototype.reset=function(){this.Td=[];this.Di=[];this.Gb=null;};b.prototype.setInterval=function(a){this.qk=Math.floor((a + this.Nd - 1) / this.Nd);};r.exports=b;},function(r){function b(a){this.pM=a;this.Ze=0;this.WM=null;}b.prototype.add=function(a,c,k){null !== this.WM && c > this.WM && (this.Ze+=c - this.WM,this.WM=null);this.pM.add(a,c - this.Ze,k - this.Ze,this.Ze);};b.prototype.stop=function(a){null === this.WM && (this.WM=a);};b.prototype.Qxa=function(a,c){return this.pM.Qxa(a,c);};b.prototype.get=function(){return this.pM.get();};b.prototype.reset=function(){this.pM.reset();};b.prototype.toString=function(){return this.pM.toString();};r.exports=b;},function(r,b,a){var k;function c(){this.lk=void 0;this.YC=0;}k=a(10);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.YC && this.lk?{p25:this.lk.rl,p50:this.lk.Kj,p75:this.lk.sl,c:this.YC}:null;};c.prototype.Zd=function(h){if(!(!k.xb(h) && k.has(h,"p25") && k.has(h,"p50") && k.has(h,"p75") && k.has(h,"c") && k.isFinite(h.p25) && k.isFinite(h.p50) && k.isFinite(h.p75) && k.isFinite(h.c)))return (this.lk=void 0,this.YC=0,!1);this.lk={rl:h.p25,Kj:h.p50,sl:h.p75};this.YC=h.c;};c.prototype.get=function(){return {Eba:this.lk,Se:this.YC};};c.prototype.set=function(h,g){this.lk=h;this.YC=g;};c.prototype.reset=function(){this.lk=void 0;this.YC=0;};c.prototype.toString=function(){return "IQRHist(" + this.lk + "," + this.YC + ")";};r.exports=c;},function(r,b,a){var k;function c(h){var g,d;g=h.sw;d=h.mw;this.aN=g;this.aja={uhd:h.uhdl,hd:h.hdl};this.qk=Math.max(Math.ceil(1 * g / d),1);this.Wrb=h.mins || 1;k.call(this,g,d);this.reset();}k=a(148);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.flush=function(){this.Td.map(function(h,g){this.nUa(h,this.Hqa(g));},this);};c.prototype.gyb=function(){var h,g,d,f,m,l,n,w;h=this.aja;for(g in h){if(h.hasOwnProperty(g)){d=h[g];f=this.dla[g];m=this.cla[g];if(f.first){l=f.first;n=f.NJ;void 0 !== n && (m[l][n]+=1);f.first=void 0;}f=[];l=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,t=0;t < d;t++){q+=m[t][p];}l+=q;f.push(q);}q=-1;if(l > this.Wrb){for(p=q=0;p < n;p++){if(0 < f[p])for(t=0;t < d;t++){w=m[t][p];0 < w && (q-=w * Math.log(1 * w / f[p]));}}q/=l * Math.log(2);}this.Cja[g]=q;}}return this.Cja;};c.prototype.nUa=function(h,g){var l,n;for(var d=this.qk,f=this.aja;this.J4.length >= d;){this.J4.shift();}for(;this.K4.length >= d;){this.K4.shift();}this.J4.push(h);this.K4.push(g);h=this.J4.reduce(function(p,q){return p + q;},0);g=this.K4.reduce(function(p,q){return p + q;},0);if(0 < g){h=8 * h / g;for(var m in f){if(f.hasOwnProperty(m)){g=this.dla[m];d=this.cla[m];l=this.fZb(h,f[m]);n=g.NJ;void 0 !== n?d[l][n]+=1:g.first=l;g.NJ=l;}}}};c.prototype.fZb=function(h,g){for(var d=0;d < g.length && h > g[d];){d+=1;}return d;};c.prototype.shift=function(){this.nUa(this.Td[0],this.Hqa(0));k.prototype.shift.call(this);};c.prototype.reset=function(){var h,g,d,f,m,l,n;this.dla={};this.J4=[];this.K4=[];this.cla={};this.Cja={};h=this.aja;for(g in h){if(h.hasOwnProperty(g)){d=this.cla;f=g;l=void 0;n=Array(l);l=m=h[g].length + 1;for(var p=0;p < l;p++){n[p]=Array(m);for(var q=0;q < m;q++){n[p][q]=0;}}d[f]=n;this.dla[g]={first:void 0,NJ:void 0};this.Cja[g]=0;}}k.prototype.reset.call(this);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;r=(function(){function a(c,k){this.filter=c;this.Rba=k;}a.prototype.pva=function(c){return 0 < this.Rba.filter(function(k){var h;return k === (null === (h=c.XE) || void 0 === h?void 0:h.Qe);}).length;};a.prototype.add=function(c,k,h,g){this.pva(g) && this.filter.add(c,k,h,g);};a.prototype.start=function(c,k){this.filter.start && this.pva(k) && this.filter.start(c);};a.prototype.stop=function(c,k){this.filter.stop && this.pva(k) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.filter.reset && this.filter.reset();};return a;})();b.fNa=r;},function(r,b,a){var k,h;function c(g){this.J=g;this.dU();}k=a(10);h=a(6).default;new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var g;g=this.getState();h.storage.set("nh",g);};c.prototype.l3b=function(){this.fH || (this.fH=!0,this.vz=h.time.ha());};c.prototype.t3b=function(){var g;if(this.fH){g=h.time.ha();this.Az+=g - this.vz;this.vz=g;this.fH=!1;this.cU=null;}};c.prototype.w4a=function(g,d){this.fH && (d > this.vz && (this.Az+=d - this.vz,this.vz=d),null === this.cU || g > this.cU) && (g=d - g,this.DM.push([this.Az - g,g]),this.yub(),this.cU=d);};c.prototype.yub=function(){var g;g=this.Az - this.J.vUb;this.DM=this.DM.filter(function(d){return d[0] > g;});};c.prototype.dU=function(){var g;g=h.storage.get("nh");this.Vka(g) || (this.vz=h.time.ha(),this.Az=0,this.fH=!1,this.cU=null,this.DM=[]);};c.prototype.Vka=function(g){if(!(g && k.has(g,"t") && k.has(g,"s") && k.has(g,"i") && k.Ga(g.t) && k.Ga(g.s) && k.isArray(g.i)))return !1;this.vz=h.time.wwa(1E3 * g.t);this.Az=1E3 * g.s;this.fH=!1;this.DM=g.i.map(function(d){return [1E3 * d[0],d[1]];});this.cU=null;return !0;};c.prototype.getState=function(){return this.fH?{t:h.time.now() / 1E3 | 0,s:(this.Az + (h.time.ha() - this.vz)) / 1E3 | 0,i:this.DM.map(function(g){return [g[0] / 1E3 | 0,g[1]];})}:{t:h.time.Yva(this.vz) / 1E3 | 0,s:this.Az / 1E3 | 0,i:this.DM.map(function(g){return [g[0] / 1E3 | 0,g[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LKa=void 0;r=a(1).__importDefault(a(6));c=a(15);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function k(h,g){this.config=h;this.Mwa=g;this.reset();}k.prototype.reset=function(){this.confidence=c.AC.HAVE_NOTHING;this.startTime=this.aa=0;};k.prototype.add=function(h,g,d){0 === this.startTime && (this.startTime=g,this.aa=0);this.aa+=h;h=d - this.startTime;this.confidence=Math.max(this.confidence,c.AC.rC);this.confidence < c.AC.qC && (h > this.config.Vrb || this.aa > this.config.Urb) && (this.confidence=c.AC.qC);this.confidence < c.AC.rS && (h > this.config.mtb || this.aa > this.config.ltb) && (this.confidence=c.AC.rS,this.Mwa());};k.prototype.get=function(){return this.confidence;};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;})();b.LKa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rfa=void 0;r=a(1);c=a(847);new (r.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var u10;function k(h){var v10;v10=2;for(;v10 !== 4;){switch(v10){case 2:var J0G="1S";J0G+="IYb";J0G+="Zr";J0G+="N";J0G+="JCp9";this.fta=h;this.oA={};J0G;v10=4;break;}}}u10=2;for(;u10 !== 7;){switch(u10){case 2:k.prototype.reset=function(){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 4:this.lF=new c.pEa();w10=6;break;w10=1;break;case 2:this.lF=new c.pEa();w10=1;break;}}};k.prototype.uQ=function(h,g){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:g.zk && (this.fta?this.lF.start(h,g.zk):1 === g.type && (this.oA[g.zk]?this.oA[g.zk].g1+=1:this.oA[g.zk]={zk:g.zk,g1:1,j8:!1},this.Mfb(h)));x10=1;break;}}};k.prototype.A_=function(h,g){var y10,d;y10=2;for(;y10 !== 9;){switch(y10){case 1:y10=this.fta?5:4;break;case 6:y10=this.fta?3:6;break;y10=this.fta?5:4;break;case 4:d=this.oA[g.zk];1 === g.type && d && (--d.g1,0 === d.g1 && (d.j8 && this.lF.stop(h,g.zk),d.j8=!1,delete this.oA[g.zk]),this.Mfb(h));y10=9;break;case 2:y10=g.zk?1:9;break;case 5:this.lF.stop(h,g.zk);y10=9;break;}}};k.prototype.hD=function(h,g,d,f){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 2:f.zk && (this.fta?this.lF.add(h,g,d,f.zk):this.RU === f.zk && this.lF.add(h,g,d,f.zk));z10=1;break;}}};k.prototype.eo=function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 4:return this.lF.get();break;A10=1;break;case 2:return this.lF.get();break;}}};u10=9;break;case 9:k.prototype.Mfb=function(h){var B10,g,d;B10=2;for(;B10 !== 5;){switch(B10){case 2:(g=Object.keys(this.oA),d=this.oA[g[0]]);1 === g.length && !1 === d.j8?(this.lF.start(h,d.zk),this.RU=d.zk):1 < g.length && this.RU && (g=this.oA[this.RU],this.lF.stop(h,this.RU),g.j8=!1,this.RU=void 0);B10=5;break;}}};return k;break;}}})();b.Rfa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=void 0;c=a(1).__importDefault(a(233));r=(function(){var C10;C10=2;function k(){var D10;D10=2;for(;D10 !== 5;){switch(D10){case 2:var U0G="1SIY";U0G+="bZ";U0G+="rNJ";U0G+="Cp";U0G+="9";this.k5={};U0G;D10=5;break;}}}for(;C10 !== 9;){switch(C10){case 2:k.prototype.add=function(h,g,d,f){var E10,m;E10=2;for(;E10 !== 4;){switch(E10){case 2:m=this.k5;void 0 === m[f] && (m[f]=new c.default());m[f].add(h,g,d);E10=4;break;}}};k.prototype.start=function(h,g){var F10,d;F10=2;for(;F10 !== 4;){switch(F10){case 2:d=this.k5;void 0 === d[g] && (d[g]=new c.default());d[g].start(h);F10=4;break;}}};k.prototype.stop=function(h,g){var G10,d;G10=2;for(;G10 !== 5;){switch(G10){case 2:d=this.k5;void 0 !== d[g] && d[g].stop(h);G10=5;break;}}};C10=4;break;case 4:k.prototype.get=function(){var H10,m,l,h,g,d,f;H10=2;for(;H10 !== 8;){switch(H10){case 1:H10=f < g.length?5:9;break;case 5:(m=g[f],l=h[m].get());l && d.push({cdnid:m,avtp:l.qa,tm:l.G7});H10=3;break;case 9:return d;break;case 3:f++;H10=1;break;case 2:(h=this.k5,g=Object.keys(h),d=[],f=0);H10=1;break;}}};return k;break;}}})();b.pEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xLa=void 0;c=a(1).__importDefault(a(233));r=(function(){var I10;I10=2;function k(h){var J10;J10=2;for(;J10 !== 7;){switch(J10){case 4:var g0G="1SI";g0G+="Y";g0G+="b";g0G+="ZrNJCp9";g0G;this.xba=h.xba;J10=9;break;case 2:this.D_=[0,0];this.We=[0,0];this.CZ=[0,0];J10=4;break;case 9:this.bxa=[new c.default(),new c.default()];this.N9a=new c.default();J10=7;break;}}}for(;I10 !== 3;){switch(I10){case 2:k.prototype.reset=function(){var K10;K10=2;for(;K10 !== 4;){switch(K10){case 2:this.D_=[0,0];this.We=[0,0];this.CZ=[0,0];K10=4;break;}}};k.prototype.hD=function(h,g,d,f){var L10,m,l;L10=2;for(;L10 !== 8;){switch(L10){case 4:(this.D_[f.type]+=h,this.N9a.add(h,g,d),this.bxa[f.type].add(h,g,d));L10=3;break;case 9:this.CZ[f.type]+=h;L10=8;break;case 2:this.We[f.type]+=h;L10=5;break;case 3:L10=(null === (l=f.E_) || void 0 === l?0:l.a7a(h,g,d,this.xba))?9:8;break;case 5:L10=(null === (m=f.E_) || void 0 === m?0:m.x$())?4:3;break;}}};k.prototype.i9=function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return {bytesRequestedPacingVideo:this.D_[1],bytesRequestedPacingAudio:this.D_[0],estimatedBytesPacedVideo:this.CZ[1],estimatedBytesPacedAudio:this.CZ[0],bytestotalVideo:this.We[1],bytestotalAudio:this.We[0],pacedAvtpVideo:this.bxa[1].get().qa,pacedAvtpAudio:this.bxa[0].get().qa,pacedAvtp:this.N9a.get().qa};break;}}};return k;break;}}})();b.xLa=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.KIa=void 0;c=a(1);k=c.__importStar(a(10));r=a(17);h=c.__importDefault(a(30));g=c.__importDefault(a(850));d=c.__importDefault(a(6));f=a(174);m=a(229);c.__importDefault(a(231));l=c.__importDefault(a(851));a(394);n=a(4);p=a(854);q=a(971);t=new d.default.Console("ASEJS","media|asejs");w=t.trace.bind(t);v=t.warn.bind(t);r=(function(u){var N10;N10=2;function x(y,z){var O10,A;O10=2;for(;O10 !== 13;){switch(O10){case 2:var e0G="D";e0G+="E";e0G+="B";e0G+="UG";e0G+=":";var s0G="nf-ase v";s0G+="e";s0G+="rsio";s0G+="n:";A=u.call(this) || this;A.config=y;A.mF=z;y=a(432);w(s0G,y,e0G,!1);O10=9;break;case 6:var j0G="1S";j0G+="IYbZr";j0G+="N";j0G+="JC";j0G+="p9";j0G;return A;break;case 9:A.$ja=!1;A.etb=!1;A.aH=[];O10=6;break;}}}for(;N10 !== 27;){switch(N10){case 7:Object.defineProperties(x.prototype,{Sf:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.mz;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ei:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 4:return this.t4.ei;break;W10=1;break;case 2:return this.t4.ei;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wsa:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.etb;break;}}},enumerable:!1,configurable:!0}});x.prototype.zb=function(y,z,A,B,D,C){var Y10,F,G;Y10=2;for(;Y10 !== 11;){switch(Y10){case 3:this.u5=B;this.tTa=D;g.default(G);Y10=7;break;case 2:(F=this,G=this.config);m.kL.reset();0 < G.sv && (!k.ma(y) && y > G.sv && (y=G.sv),z > G.sv && (z=G.sv));k.ma(y) && (this.wTa=z);Y10=3;break;case 13:var H0G="medi";H0G+="aca";H0G+="che";var G0G="ca";G0G+="c";G0G+="h";G0G+="eEvic";G0G+="t";var m0G="f";m0G+="lushedByt";m0G+="e";m0G+="s";var O0G="d";O0G+="iscarde";O0G+="d";O0G+="Byte";O0G+="s";var L0G="prebuffst";L0G+="a";L0G+="ts";(z=new q.oHa(this,G,A,C),y=function(E){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:F.emit(E.type,E);Z10=1;break;}}},z.addListener(L0G,y),z.addListener(O0G,y),z.addListener(m0G,y),z.addListener(G0G,y),(G.dCa || G.cCa) && z.addListener(H0G,function(E){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:var M0G="m";M0G+="ediac";M0G+="ac";M0G+="h";M0G+="e";F.emit(M0G,E);a20=1;break;}}}),this.mz=z);Y10=12;break;case 12:this.$ja=!0;Y10=11;break;case 7:this.t4=m.kL.f2a(G,this.mF);this.Ska=new l.default(G);Y10=14;break;case 14:Y10=G.ogb || G.$Ba?13:12;break;}}};x.prototype.$_=function(y,z,A){var b20;b20=2;for(;b20 !== 4;){switch(b20){case 2:this.wTa=y;this.u5=z || 0;this.tTa=A || 0;b20=4;break;}}};x.prototype.createSession=function(y,z,A,B,D,C,F,G,E,I){var c20;c20=2;for(;c20 !== 4;){switch(c20){case 1:return (G=G || this.config,this.$b.reset(),this.mo.l3b(),this.Ska.reset(),void 0 === C && (C=this.F8(y,z)),k.ma(this.u5) && (this.u5=d.default.wp()[h.default.Ya.Nb] <= G.TTb?0:G.F_),y=new p.NOa(this,y,I,z,A,B,D,C,F,G,E),this.aH.push(y),y);break;case 2:c20=this.$ja?1:5;break;case 5:var F0G="open: s";F0G+="treamingManager";F0G+=" n";F0G+="ot initt";F0G+="ed";v(F0G);c20=4;break;}}};x.prototype.DY=function(y,z){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.mz && (y=this.mz.DY(y,z))?y:!1;break;}}};N10=20;break;case 2:c.__extends(x,u);Object.defineProperties(x.prototype,{$b:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return this.t4.$b;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mo:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:return this.t4.mo;break;Q10=1;break;case 2:return this.t4.mo;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wv:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.Ska;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{RB:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 4:return this.u5;break;S10=1;break;case 2:return this.u5;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{bua:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return !k.ma(this.wTa);break;case 4:return -k.ma(this.wTa);break;T10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{cF:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.tTa;break;}}},enumerable:!1,configurable:!0}});N10=7;break;case 20:x.prototype.Btb=function(y){var e20,z;e20=2;for(;e20 !== 4;){switch(e20){case 2:var B0G="can't find session in ar";B0G+="ray, movieId";B0G+=":";this.$b.KQ(null);z=this.aH.indexOf(y);k.ma(z)?v(B0G,y.Ke.M.K):(this.aH.splice(z,1),0 === this.aH.length && this.mo.t3b(),this.mo.save(),this.ei.save());e20=4;break;}}};x.prototype.F8=function(y,z,A){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return f.xra(y,z,A);break;case 4:return f.xra(y,z,A);break;f20=1;break;}}};x.prototype.Xma=function(){var g20,y;g20=2;for(;g20 !== 5;){switch(g20){case 2:null === (y=this.mz) || void 0 === y?void 0:y.c0a();g20=5;break;}}};x.prototype.qD=function(){var h20,y;h20=2;for(;h20 !== 5;){switch(h20){case 2:null === (y=this.mz) || void 0 === y?void 0:y.PEb();h20=5;break;}}};x.prototype.Hb=function(){var i20;i20=2;for(;i20 !== 6;){switch(i20){case 5:delete this.t4;delete this.Ska;delete this.mF;this.qD();delete this.mz;m.kL.reset();i20=6;break;case 2:var q0G="Attempted to destruct Manager ";q0G+="before";q0G+=" al";q0G+="l Sessions removed";n.assert(0 === this.aH.length,q0G);this.$ja=!1;i20=5;break;}}};N10=15;break;case 15:return x;break;}}})(r.EventEmitter);b.KIa=r;},function(r,b,a){var k,h,g,d;function c(f){var m;m=nrdp.vk.shc.match(/android-(\d*)/);m?23 < m[1]?f.cBa=!1:(m=nrdp.vk.sbc.ys.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.cBa=m?6 < m[1] || 6 == m[1] && 1 < m[2] || 6 == m[1] && 1 == m[2] && 1 <= m[3]?!0:!1:!1):f.cBa=!1;f.$3b=!1;}k=a(4).assert;a(128);h=a(6).default;g=h.Sr;d=h.ymb;r.exports=function(){var f,m,l,n;f=new h.Console("ASEJSMONKEY","media|asejs");if(!h.Sr.Uc){m=function(p){this.Prb=p;};l=d.prototype.appendBuffer;h.MediaSource.Uc || (h.MediaSource.Uc={});"undefined" !== typeof nrdp && nrdp.c6 && (c(h.MediaSource.Uc,f),h.MediaSource.Uc.XWa=!1,h.MediaSource.Uc.m8a=!1);h.Sr.Uc={H_:{uhb:!0,jT:!0,Jmb:!0}};Object.defineProperty(g.prototype,"_response",{get:function(){return this.oub || this.nqb;},set:function(p){this.nqb=p;}});n=g.prototype.open;g.prototype.open=function(p,q,t,w,v,u,x){1 === t && (this.oub=new m(this));return n.call(this,p,q,t,w,v,u,x);};g.prototype.q_=function(){this.QM=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return l.call(this,p);if(p instanceof m)return this.f6(p.Prb);k(!1);};}};},function(r,b,a){var h,g;function c(){this.qz=this.MT=this.Q4=this.c5=this.M4=null;}function k(d){this.J=d;this.$C=[];this.ds=new c();this.dU();}h=a(10);a(30);a(9);g=a(6).default;new g.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Zd=function(d){var f;f=!1;d && h.has(d,"ens") && h.has(d,"lns") && h.has(d,"fns") && h.has(d,"d") && h.has(d,"t") && (this.M4=d.ens,this.c5=d.lns,this.Q4=d.fns,this.MT=d.d,this.qz=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(h.xb(this.M4) || h.xb(this.c5) || h.xb(this.Q4) || h.xb(this.MT) || h.xb(this.qz))return null;d={d:this.MT,t:this.qz};d.ens=this.M4;d.lns=this.c5;d.fns=this.Q4;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.qz);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};k.prototype.dU=function(){var d;d=g.storage.get("sth");d && this.Zd(d);};k.prototype.Zd=function(d){var f,m;f=null;m=this.J;d.forEach(function(l){var n;n=new c();n.Zd(l)?(f=!0,this.$C.push(n)):h.xb(f) && (f=!1);},this);this.$C=this.$C.filter(function(l){return l.MT >= m.Kaa;});this.$C.sort(function(l,n){return l.qz - n.qz;});return h.xb(f)?!0:f;};k.prototype.Sja=function(){var d;d=[];this.$C.forEach(function(f){d.push(f.getState());},this);return d;};k.prototype.save=function(){var d,f,m;d=this.Sja();f=this.J;m=this.ds.getState();m && m.d >= f.Kaa && (d.push(m),this.$C.push(this.ds));d.length > f.laa && (d=d.slice(d.length - f.laa,d.length));this.ds=new c();d && g.storage.set("sth",d);};k.prototype.reset=function(){this.ds=new c();};k.prototype.XJb=function(){return this.ds.get();};k.prototype.iMb=function(){return this.$C.length + 1;};k.prototype.hvb=function(d){this.ds.M4=d;this.ds.qz=g.time.ha();};k.prototype.rvb=function(d){this.ds.c5=d;this.ds.qz=g.time.ha();};k.prototype.lvb=function(d,f){this.ds.Q4=d;this.ds.qz=g.time.ha();this.ds.MT=f;};r.exports=k;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pJa=void 0;r=(function(){function a(c,k,h){this.tub=k;this.Ipb=h;this.I=c;}a.prototype.Qxa=function(c){c=this.ZOb(c,this.tub) + this.Ipb;return this.Ika=isNaN(c)?NaN:this.lAa(c);};a.prototype.Gzb=function(c){return isNaN(this.Ika)?0:this.Ika > c?1:0;};a.prototype.ZOb=function(c,k){var h;h=0;if(c.length !== k.length)h=NaN;else for(var g=0;g < c.length;g++){h+=c[g] * k[g];}return h;};a.prototype.lAa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.pJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cT=void 0;r=(function(){function a(c){this.lk={};this.oka=c;this.qg=[];this.ms=!1;this.bH=void 0;}a.prototype.T5=function(c){this.qg.length === this.oka && this.qg.shift();Array.isArray(c)?this.qg=this.qg.concat(c):this.qg.push(c);this.ms=!0;};a.prototype.LO=function(){return this.qg.length;};a.prototype.Zma=function(){var c;c=this.qg;return 0 < c.length?c.reduce(function(k,h){return k + h;},0) / this.qg.length:void 0;};a.prototype.M6=function(){var c,k;c=this.qg;k=this.Zma();if(0 < c.length && "undefined" !== typeof k)return (c=c.reduce(function(h,g){return h + g * g;},0) / c.length,Math.sqrt(c - k * k));};a.prototype.xu=function(c){var k,h,g;if(this.ms || void 0 === this.bH)(this.bH=this.qg.slice(0).sort(function(d,f){return d - f;}),this.ms=!1);if(void 0 === this.lk[c]){k=this.bH;h=Math.floor(c / 100 * (k.length - 1) + 1) - 1;g=(c / 100 * (k.length - 1) + 1) % 1;this.lk[c]=h === k.length - 1?k[h]:k[h] + g * (k[h + 1] - k[h]);}return this.lk[c];};return a;})();b.cT=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O;Object.defineProperties(b,{__esModule:{value:!0}});b.NOa=void 0;r=a(1);c=a(17);k=r.__importStar(a(10));h=a(147);g=a(855);d=a(174);f=a(15);m=a(222);l=a(248);n=a(249);p=a(906);q=a(907);t=r.__importDefault(a(6));w=t.default.MediaSource;v=a(9);u=a(4);x=a(175);y=a(412);z=a(909);A=a(910);B=a(245);r=a(41);D=a(911);C=a(912);F=a(413);G=a(952);E=a(424);I=a(961);N=a(428);L=a(967);H=a(968);Q=a(969);O=a(970);a=(function(){var j20;j20=2;for(;j20 !== 91;){switch(j20){case 48:J.prototype.H9=function(){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 2:return this.S.ho(this.Ke.M);break;case 4:return this.S.ho(this.Ke.M);break;I30=1;break;}}};J.prototype.dRa=function(M){var J30,P,R,S;J30=2;for(;J30 !== 11;){switch(J30){case 5:(P=this.Ra.dd.Wd(0),R=this.Ra.dd.Wd(1));P=!P || P.yi;S=!R || R.yi;J30=9;break;case 8:J30=!(M === this.IM + 1 && R.tf.replace || P && S) || !this.S.ho(R)?7:6;break;case 2:J30=M >= this.Od.length?1:5;break;case 1:return !1;break;case 9:R=this.Od[M].M;J30=8;break;case 7:return !1;break;case 6:M=R.Gh[0];P=R.Gh[1];P=!this.pn || P && P.stream.pe;return (!this.rs || M && M.stream.pe) && P?!0:!1;break;}}};J.prototype.J5=function(){var K30;K30=2;for(;K30 !== 1;){switch(K30){case 2:this.I5(this.IM + 1);K30=1;break;case 4:this.I5(this.IM % 0);K30=3;break;K30=1;break;}}};J.prototype.I5=function(M){var L30,P;L30=2;for(;L30 !== 6;){switch(L30){case 2:L30=!this.dRa(M)?1:5;break;case 1:return !1;break;case 5:P=this.Od[M];L30=4;break;case 4:L30=P.xHb || !P.M.tf.replace?3:9;break;case 9:this.rub(M);this.ug.mk();return !0;break;case 3:return !1;break;}}};J.prototype.rub=function(M){var M30,P,R,S,U,ba,na;M30=2;for(;M30 !== 20;){switch(M30){case 2:(P=this.Od[M],R=this.J,S=this.Ra.dd,U=S.lb(0));U=U?U.kc:void 0;ba=S.lb(1);ba=ba?ba.kc:void 0;M30=3;break;case 12:P.pwa();this.yo.Ija();this.ug.mk();M30=20;break;case 7:na=[];[1,0].forEach(function(va){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:P.M.xc(va) && (na[va]=P.Nq(va));N30=1;break;}}});U?this.Ra.y_b(R.M,P.M,na):S.Vcb(P.M,na);this.nSa(M);M30=12;break;case 3:var v0G=",";v0G+=" ";var W0G=",";W0G+=" stream";W0G+="i";W0G+="ngPts: ";var t0G="swi";t0G+="tchManifest man";t0G+="ife";t0G+="stI";t0G+="ndex: ";R.Gi && this.Jb.Um(t0G + M + W0G + U + v0G + ba);R=this.Ke;U=R.M.tf.Ne;M30=7;break;}}};J.prototype.e9a=function(){var O30,M,P,R,S;O30=2;for(;O30 !== 6;){switch(O30){case 2:(M=this.Ra.dd,P=M.lb(0));O30=1;break;case 1:O30=P?5:7;break;case 5:var Y0G="onAudioTr";Y0G+="ackSwitchStarted but current playin";Y0G+="g request not ";Y0G+="found";(R=this.S.af(),S=this.Fb.Zf[P.mediaType]);(M=this.Ra.Qu(R,M,0))?P=M.Va:(this.Ub(Y0G),P=P.Va);this.ntb(P);S.AR=!1;this.ug.mk();O30=6;break;case 7:var z0G="onAudioT";z0G+="rackSw";z0G+="itchStarted ignored, no audio pipeline";this.Ub(z0G);O30=6;break;}}};J.prototype.wda=function(M){var P30,P,ba,R,S,U;P30=2;for(;P30 !== 35;){switch(P30){case 2:P=this.J;P30=1;break;case 16:var o0G="switchTr";o0G+="acks can't find ";o0G+="trackId:";return (this.Ub(o0G,M),!1);break;case 15:ba=this.Ke.Nq(0).trackId;P30=27;break;case 17:P30=!U?16:15;break;case 7:R=this.Fb.Zf[0];P30=6;break;case 10:P30=U < P.Faa?20:19;break;case 8:var P0G="switchTracks rejected, bufferi";P0G+="n";P0G+="g";return (this.Ub(P0G),!1);break;case 3:var l0G="switch";l0G+="T";l0G+="racks rejected, previous switch still in progress: ";return (this.Ub(l0G + JSON.stringify(this.Fb.Lz)),!1);break;case 14:var k0G="sw";k0G+="itchTrack";k0G+="s rejected, previous s";k0G+="witch still waiting to star";k0G+="t";return (this.Ub(k0G),!1);break;case 6:P30=R.AR?14:13;break;case 25:var E0G=" ";E0G+="t";E0G+="o:";E0G+=" ";var Q0G="switc";Q0G+="h";Q0G+="Track";Q0G+="s curr";Q0G+="ent: ";P.Gi && this.Jb.Um(Q0G + ba + E0G + U.trackId);R.Yaa={trackId:M};P=S.lb(0);this.jub(P);return !0;break;case 13:S=this.Ra.dd;P30=12;break;case 9:P30=this.S.wg()?8:7;break;case 26:return !1;break;case 5:var i0G="switchTrac";i0G+="ks ";i0G+="rejected, ";i0G+="audio disabled";return (this.Ub(i0G),!1);break;case 1:P30=!this.rs?5:4;break;case 20:var I0G="switchTra";I0G+="c";I0G+="ks ";I0G+="rejected, bufferLevelMs";return (this.Ub(I0G,U,"<",P.Faa),!1);break;case 19:M=M.Mn;U=this.Ke.M.getTrackById(M);P30=17;break;case 11:U=this.Ra.ix(S,1);P30=10;break;case 4:P30=this.Fb.Lz?3:9;break;case 27:P30=ba === U.trackId?26:25;break;case 12:P30=this.S.getState() === f.ta.Rc?11:19;break;}}};J.prototype.Br=function(M,P){var Q30;Q30=2;for(;Q30 !== 1;){switch(Q30){case 2:this.Fb.Br(M,P);Q30=1;break;}}};J.prototype.Qu=function(M,P,R){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:return this.Ra.Qu(M,this.Ra.ii,P,R);break;}}};J.prototype.bj=function(M){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:return this.yo.bj(M);break;case 4:return this.yo.bj(M);break;S30=1;break;}}};j20=59;break;case 87:J.prototype.Tka=function(M,P){var K40,R,S,U;K40=2;for(;K40 !== 9;){switch(K40){case 7:R=this.Ra.dd;K40=5;break;K40=1;break;case 2:R=this.Ra.dd;K40=1;break;case 1:K40=R.lb(M)?5:9;break;case 6:K40=R.lb(M)?4:6;break;K40=R.lb(M)?5:9;break;case 3:k.ma(U.xV) && (U.xV=P);K40=9;break;case 5:var Z0G="p";Z0G+="tsch";Z0G+="a";Z0G+="nged";(S=this.Fb.Zf[M],U=this.Fb.WB[M]);k.ma(S.fp) && (S.fp=P,1 === M && this.rs && (M=this.Fb.Zf[0],k.ma(M.fp) && (R=R.lb(0),R.qK(P)),this.emit(Z0G,P)));K40=3;break;}}};J.prototype.$2a=function(M){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.Rh && (this.Rh.CSb(M),this.yWa());L40=1;break;}}};J.prototype.B9=function(M){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 2:this.Rh && (this.Rh.BSb(M),this.yWa());M40=1;break;}}};J.prototype.yWa=function(){var N40,M;N40=2;for(;N40 !== 4;){switch(N40){case 8:M=this.J;N40=3;break;N40=5;break;case 5:var a0G="all";a0G+="Co";a0G+="mp";a0G+="le";a0G+="ted";this.Rh.$D() || (this.Rh=void 0,M.qs || this.ez.Iz || this.JU(a0G));N40=4;break;case 1:M=this.J;N40=5;break;case 2:N40=this.Rh?1:4;break;}}};J.prototype.KU=function(){var O40,M,P,R,S,U,ba,na,va;O40=2;for(;O40 !== 7;){switch(O40){case 2:(M=this,P=this.J,R=this.YZ,S=this.Od[R],U=this.Ra.dd,ba=this.S.af() || 0,na=this.zu(R,ba),va=P.Wda);this.zc.Sf && void 0 !== S.uJ && S.uJ - ba <= P.S7a && this.zc.Sf.vq(!0,this.qm.sessionId);this.S.getState() === f.ta.Rc && ([1,0].forEach(function(ya){var P40,V,K,Ba,ra,T,fa,ia;P40=2;for(;P40 !== 35;){switch(P40){case 17:na=M.zu(ia,ba);P40=15;break;case 24:k.ma(K) || K == ra.r$a || (ra.r$a=K);P40=23;break;case 4:V=ra.Va;ra.CN(ba);P40=8;break;case 21:var d0G="Unable to find requ";d0G+="est";d0G+=" presenting at pla";d0G+="yerPts:";ra.Ub(d0G,ba);P40=23;break;case 6:V=K.Pe - ba;P40=14;break;case 16:M.HM && K.Mv != T.VQb && M.Jb.Ksb(K.Mv);P40=15;break;case 20:M.a5=ia;Ba=0 < ia?ia - 1:null;M.Jb.usb(fa,ba,K.Mv,null !== Ba?M.Od[Ba].M.K:null,Ba);P40=17;break;case 11:P40=!M.pn || 1 === ya?10:15;break;case 2:P40=M.xc(ya)?1:35;break;case 1:ra=U.lb(ya);P40=5;break;case 14:V < va && (va=V);(T=M.Fb.Px[ya],fa=K.M,ia=fa.Tb);V=K.Va;P40=11;break;case 7:P40=K?6:21;break;case 8:(K=M.Ra.Qu(ba,U,ya)) && !K.nf && (K=M.Yg[ya].LQb);P40=7;break;case 15:T.VQb=K.Mv;P40=27;break;case 5:P40=ra?4:35;break;case 10:P40=(M.Ra.UUb(K,K.Mv),ia > M.a5)?20:16;break;case 26:fa != T.wua && (T.wua=fa,ya=M.Od[ia].M.zx(ya,fa),ia=M.zu(ia,K.Dd),M.Jb.Fsb(ya,K.Dd,ia,ya.M.Tb));K=K.bitrate;P40=24;break;case 27:fa=K.Qa;P40=26;break;case 23:M.ttb(V,ba);M.Ra.aZb();P40=35;break;}}}),this.Ra.ew(ba,na));this.ug.mk();va=Math.max(va,1);this.cD && clearTimeout(this.cD);O40=8;break;case 8:this.cD=setTimeout(this.KU.bind(this),va);O40=7;break;}}};J.prototype.u4=function(M){var Q40;Q40=2;for(;Q40 !== 1;){switch(Q40){case 2:return this.ug.u4(M);break;}}};J.prototype.mk=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:return this.ug.mk();break;case 4:return this.ug.mk();break;R40=1;break;}}};J.prototype.jH=function(M,P){var S40,S,R;S40=2;for(;S40 !== 13;){switch(S40){case 1:S40=R?5:14;break;case 7:this.Yg[S].uca(M);!0 === P && this.ug.mk();S40=13;break;case 5:S=M.mediaType;M.abort();S40=3;break;case 3:M.gd();M.Yi && M.Yi.clear();R.uca(M);S40=7;break;case 2:R=M.Va;S40=1;break;case 14:var D0G="abortRequest";D0G+=" with no re";D0G+="questManagaer:";this.Ub(D0G,M);S40=13;break;}}};J.prototype.jub=function(M){var T40,P,R;T40=2;for(;T40 !== 5;){switch(T40){case 2:var p0G="no n";p0G+="ewA";p0G+="udioTrack ";p0G+="set";(P=M.mediaType,R=this.Fb.Zf[P]);k.ma(R.Yaa)?M.Ub(p0G):(this.Yg[P].pause(),R.AR=!0,M=this.Ke.Nq(0),R=this.Ke.M.getTrackById(R.Yaa.trackId),this.Jb.jsb(M,R));T40=5;break;}}};J.prototype.ntb=function(M){var U40,ba,na,va,ya,P,R,S,U;U40=2;for(;U40 !== 27;){switch(U40){case 17:++R;U40=19;break;case 16:M.Qab(na,ya);this.xK(0);U40=27;break;case 19:U40=R < this.Od.length?18:16;break;case 7:R=this.zc.F8(ba.M.ia,[va],0);this.Xia[0]=R[0];this.wW.bTa(0,M.M);U.Yaa=void 0;U40=12;break;case 4:this.Fb.Lz=U.Yaa;(ba=this.Ke,na=ba.M.getTrackById(this.Fb.Lz.trackId),va=na.qF,ya=this.S.af() - M.He);U40=9;break;case 2:(P=this,S=this.J);M=M.mb;U=this.Fb.Zf[0];U40=4;break;case 8:var S0G="au";S0G+="di";S0G+="oSwitch";(this.Rh.u_b(function(ra){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:V40=0 === ra.mediaType?1:5;break;case 1:return (P.jH(ra,!1),!0);break;}}}),this.Rh.$D() || (this.Rh=void 0,S.qs || this.ez.Iz || this.JU(S0G)));U40=7;break;case 12:this.Xg.hy(null);this.Pka(0,F.hT.k0a,M);U40=10;break;case 18:this.KYb(R,va,ya);U40=17;break;case 20:R=this.IM;U40=19;break;case 9:U40=(null === (R=this.Rh) || void 0 === R?0:R.$D())?8:7;break;case 10:this.Ra.ycb(M,!0);U40=20;break;}}};j20=104;break;case 72:J.prototype.w5=function(M,P){var g40,R,S,U,ba,na;g40=2;for(;g40 !== 19;){switch(g40){case 2:(R=this,S=this.J,U=this.Fb.Zf[0] || ({}),ba=this.Fb.Zf[1] || ({}),na=this.Fb.WB[1] || ({}));(this.Fb.WB[0] || ({})).xV=void 0;na.xV=void 0;this.S.Zd(2 === M?f.ta.bg:f.ta.yd);g40=3;break;case 7:var A0G="s";A0G+="t";A0G+="artBu";A0G+="fferi";A0G+="ng";this.emit(A0G);m.Lf.forEach(function(va){var h40;h40=2;for(;h40 !== 5;){switch(h40){case 1:(va.Mma=0,va.seeking=0 === M || 1 === M,va.Bna());h40=5;break;case 2:h40=(va=R.Ra.dd.Wd(va))?1:5;break;}}});this.cja=t.default.time.ha();g40=13;break;case 3:this.Jb.msb(P);this.gz.reset();this.Ke.M.Jwa();g40=7;break;case 13:U.Ol=ba.Ol=this.cja;0 === M && (!this.pn || 0 < ba.Fv) && (!this.rs || 0 < U.Fv) && this.Fb.iz();S.JW && (this.Aja=setTimeout(function(){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:R.Ftb();i40=1;break;case 4:R.Ftb();i40=7;break;i40=1;break;}}},S.mpa));this.S.wg() && (this.jM=setTimeout(function(){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 4:R.Fb.iz();j40=9;break;j40=1;break;case 2:R.Fb.iz();j40=1;break;}}},S.vB));this.ug.mk();g40=19;break;}}};J.prototype.JU=function(M){var k40,P;k40=2;for(;k40 !== 3;){switch(k40){case 2:var h0G="AdoptingData still ";h0G+="has lo";h0G+="ck:";var w0G="wip";w0G+="eH";w0G+="ead";w0G+="erC";w0G+="ache:";a000.n9G(3);M=a000.b9G(w0G,M);this.ez.Iz && this.Yk(h0G + M);P=this.J;P.sJ || (P.Gi && this.Jb.Um(M),this.zc.qD(),this.Rh && (this.Rh=void 0));k40=3;break;}}};J.prototype.cRa=function(M){var l40,U,ba,R,S;function P(na,va){var m40,K,T,fa,ia,ya,ra,V;m40=2;for(;m40 !== 10;){switch(m40){case 8:m40=!na.g7b(K)?7:6;break;case 9:ia.ux=va.ux;m40=8;break;case 11:return V;break;case 12:va.S5(ra.header,!va.tf.Ne && !va.dj && 1 === ya,!0) && (void 0 !== na.EJ && na.qK(na.EJ),V=va.vp(ya,K).stream.X.Nm(na.kc,void 0,!0),va=T.jh(V),T=va.$,(va=va.eqa(na.kc)) && 0 < va.Kd && (T=va.Kd),na.kc !== T && (na.LQ(T,V),R.Tka(ya,T)),V=R.spb(na,ra.data).then(function(){var n40;n40=2;for(;n40 !== 1;){switch(n40){case 2:return K;break;}}}),fa.rIb=!0,na=R.Xg,ra=ra.header.bitrate,0 === ya?na.hy(ra):na.rK(ra));m40=11;break;case 1:m40=ra?5:11;break;case 6:m40=!ra.header?14:13;break;case 14:var u0G="adoptP";u0G+="ipe";u0G+="line";u0G+=" ";u0G+="no header for streamId:";return (na.Yk(u0G,K),V);break;case 13:va=R.Ke.M;m40=12;break;case 7:return V;break;case 5:(K=ra.Qa,T=ra.header.stream,fa=R.Fb.Zf[ya],ia=R.Fb.WB[ya]);k.ma(va.cE) || R.Xg.Dcb(va.cE,va.zp,va.Ap);ia.OA=va.OA;m40=9;break;case 2:(ya=na.mediaType,ra=va[ya],V=Promise.resolve(void 0));m40=1;break;}}}l40=2;for(;l40 !== 13;){switch(l40){case 4:U=this.J;l40=3;break;case 9:return (this.zc.Xma(),Promise.resolve());break;case 8:var N0G="checkFor";N0G+="HcdS";N0G+="tar";N0G+="t";this.Jb.um(N0G);this.Od.forEach(function(na){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:na.M.K === M && (ba=na);o40=1;break;}}});return this.zc.Sf.dSb(M,ba?ba.M:void 0).then(function(na){var p40,va,ya;p40=2;for(;p40 !== 8;){switch(p40){case 1:p40=k.ma(na)?5:4;break;case 9:return R.ez.uCa(function(){var q40,ra,V;q40=2;for(;q40 !== 7;){switch(q40){case 2:var K0G="ad";K0G+="o";K0G+="ptHc";K0G+="dEnd";ra=Promise.resolve();R.pn && (ra=P(ya,na));V=Promise.resolve();!R.rs || U.v3a && !ra || (V=U.v3a?ra.then(function(K){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 2:return K?P(va,na):Promise.resolve();break;case 4:return K?P(va,na):Promise.resolve();break;r40=1;break;}}}):P(va,na));R.SRa=na;R.Jb.um(K0G);q40=8;break;case 8:return Promise.all([ra,V]);break;}}});break;case 2:var T4G="checkFor";T4G+="Hc";T4G+="dE";T4G+="nd";R.Jb.um(T4G);p40=1;break;case 5:var X4G="headerCach";X4G+="eD";X4G+="a";X4G+="taNotFo";X4G+="und";return (U.qs || R.ez.Iz || R.JU(X4G),Promise.resolve());break;case 4:var f4G="adop";f4G+="t";f4G+="Hc";f4G+="dSt";f4G+="art";(va=R.Ra.dd.Wd(0),ya=R.Ra.dd.Wd(1));R.Jb.um(f4G);p40=9;break;}}}).then(function(){var s40,na;s40=2;for(;s40 !== 5;){switch(s40){case 2:var r4G="ad";r4G+="o";r4G+="pted";r4G+="CompletedReque";r4G+="sts";U.qs || (null === (na=R.Rh) || void 0 === na?0:na.$D()) || R.ez.Iz || !R.S.ho(R.Ke.M) || R.JU(r4G);s40=5;break;}}}).catch(function(na){var t40;t40=2;for(;t40 !== 1;){switch(t40){case 4:R.Ub("",na);t40=2;break;t40=1;break;case 2:var V4G="heade";V4G+="rCache";V4G+=":looku";V4G+="pDataPromise caugh";V4G+="t error:";R.Ub(V4G,na);t40=1;break;}}});break;case 2:var b4G="Previ";b4G+="ously adopted request list st";b4G+="ill retained was";b4G+=" unexpected";R=this;(null === (S=this.Rh) || void 0 === S?0:S.$D()) && this.Yk(b4G);this.Rh=void 0;l40=4;break;case 3:l40=!this.Gub || !this.zc.Sf?9:8;break;}}};J.prototype.spb=function(M,P){var u40,R,S,U,ba,na,va,ya;u40=2;for(;u40 !== 9;){switch(u40){case 14:return Promise.resolve();break;u40=4;break;case 1:u40=0 === P.length?5:4;break;case 2:R=this;u40=1;break;case 5:return Promise.resolve();break;case 4:(S=M.V$,U=S.G,ba=Math.min(this.Od[0].La || Infinity,S.Vc || Infinity),na=M.mediaType,va=this.Fb.Zf[na]);return this.ez.uCa(function(){var v40,V;function ra(){var w40,K;w40=2;for(;w40 !== 5;){switch(w40){case 2:var C4G="adoptD";C4G+="ata, not adopting failed";C4G+=" mediaRe";C4G+="quest:";var y4G="adoptData, not adopting ";y4G+="aborted";y4G+=" me";y4G+="diaReques";y4G+="t:";K=P.shift();7 === K.readyState?M.Ub(y4G,K.toString()):6 === K.readyState?(M.Ub(C4G,K.toString()),R.jH(K,!1)):M.kc >= K.qd && M.kc < K.Vc && (M.kc < ba || !k.Ga(ba))?(V.push(R.tpb(M,K).then(function(){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 4:K.complete || R.$2a(K);x40=8;break;x40=1;break;case 2:K.complete && R.$2a(K);x40=1;break;}}})),M.M1b(K.Vc),k.Ga(ba) && M.kc >= ba && R.Jb.uka(U,K.Vc),0 === na && R.Xg.hy(K.bitrate),K.complete?(va.Fv+=K.duration,K.LRb && (va.RZ+=K.duration),ya=K):(R.Rh || (R.Rh=new C.LCa(R.I)),R.Rh.push(K))):R.jH(K,!1);w40=5;break;}}}v40=2;for(;v40 !== 3;){switch(v40){case 7:v40=1 >= P.length?0:7;break;v40=0 < P.length?5:4;break;case 1:v40=0 < P.length?5:4;break;case 6:ra();v40=0;break;v40=1;break;case 2:V=[];v40=1;break;case 5:ra();v40=1;break;case 4:return Promise.all(V);break;}}}).then(function(){var y40,V,ra;y40=2;for(;y40 !== 8;){switch(y40){case 4:ra=R.Od[S.M.Tb];V=M.Ypa(M.kc);void 0 !== V?(M.no=V,M.oe=ra.M.Gh[na].stream.jh(M.no)):M.no=M.Gf?M.Gf.index + 1:M.no + 1;y40=8;break;case 5:y40=ya || (null === (ra=R.Rh) || void 0 === ra?0:ra.$D())?4:8;break;case 2:ya && M.a3a(ya);y40=5;break;}}});break;}}};J.prototype.tpb=function(M,P){var z40,R,S;z40=2;for(;z40 !== 3;){switch(z40){case 4:return M.Va.Tvb(P).catch(function(U){var A40;A40=2;for(;A40 !== 1;){switch(A40){case 2:var n4G="Error adopti";n4G+="ng";n4G+=" r";n4G+="equests";R.Yk(n4G,U);A40=1;break;case 4:R.Yk("",U);A40=2;break;A40=1;break;}}});break;case 2:var R4G=",";R4G+=" ";R4G+="p";R4G+="ts";R4G+=": ";var x4G=", ";x4G+="state";x4G+=":";x4G+=" ";var c4G="adopt";c4G+="MediaRequest: ";c4G+="type";c4G+=": ";(R=this,S=M.mediaType);this.J.Gi && this.Jb.Um(c4G + S + x4G + P.readyState + R4G + P.qd);this.Tka(S,P.qd);z40=4;break;}}};J.prototype.Pka=function(M,P,R){var B40,S;B40=2;for(;B40 !== 9;){switch(B40){case 2:S=this;void 0 === P && (P=F.hT.tma);(R || this.Ra.dd).dza(M,P);this.gz.reset();B40=3;break;case 3:(void 0 === M?m.Lf:[M]).forEach(function(U){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:S.xc(U) && (S.Xw[U].reset(),S.Otb(U),S.Xg.JVb(U));C40=1;break;}}});B40=9;break;}}};J.prototype.NAa=function(){var D40,M;D40=2;for(;D40 !== 5;){switch(D40){case 2:M=this;m.Lf.forEach(function(P){var E40,R;E40=2;for(;E40 !== 5;){switch(E40){case 2:null === (R=M.Xw[P]) || void 0 === R?void 0:R.stop();E40=5;break;}}});D40=5;break;}}};J.prototype.xK=function(M){var F40,P;F40=2;for(;F40 !== 4;){switch(F40){case 2:P=this;(void 0 === M?m.Lf:[M]).forEach(function(R){var G40,S;G40=2;for(;G40 !== 5;){switch(G40){case 2:null === (S=P.Xw[R]) || void 0 === S?void 0:S.resume();G40=5;break;}}});return Promise.resolve();break;}}};J.prototype.AU=function(M){var H40,P,R;H40=2;for(;H40 !== 3;){switch(H40){case 2:P=this;M=void 0 === M?m.Lf:[M];null === (R=this.gz) || void 0 === R?void 0:R.reset();H40=4;break;case 4:M.forEach(function(S){var I40,U;I40=2;for(;I40 !== 5;){switch(I40){case 2:null === (U=P.Xw[S]) || void 0 === U?void 0:U.resume();I40=5;break;}}});H40=3;break;}}};J.prototype.Otb=function(M){var J40,P;J40=2;for(;J40 !== 3;){switch(J40){case 2:P=this.Fb.Zf[M];this.Fb.Px[M].wua=void 0;P.Fv=0;P.RZ=0;J40=3;break;}}};j20=87;break;case 59:J.prototype.Y7=function(M,P){var T30,R,U30,S;T30=2;for(;T30 !== 6;){switch(T30){case 2:R=this.Fb;M=R.Vpa(M,P);T30=5;break;case 9:R.cza();T30=6;break;case 3:T30=P?9:8;break;case 8:P=S.IJb();try{U30=2;for(;U30 !== 1;){switch(U30){case 4:this.Jb.rsb(P);U30=4;break;U30=1;break;case 2:this.Jb.rsb(P);U30=1;break;}}}catch(U){var U4G="]";U4G+=" ";U4G+="[";var J4G="exception";J4G+=": ";J4G+="[";this.I.error(J4G + U.message + U4G + U.vhc + "]");}T30=6;break;case 5:S=this.Xg.nya;M && !M.iN && S.Gpa(M);T30=3;break;}}};J.prototype.cna=function(M,P){var V30;V30=2;for(;V30 !== 5;){switch(V30){case 2:a000.C9G(6);u.assert(a000.y9G(P,0));return this.Od[P].yyb(M);break;}}};J.prototype.zu=function(M,P){var W30,R,S;W30=2;for(;W30 !== 7;){switch(W30){case 1:R=this.Ra.WHb(P,M);W30=5;break;case 2:void 0 === M && (M=this.YZ);W30=1;break;case 5:W30=R?4:8;break;case 3:k.Ga(S) || (S=this.Od[M].Jx);a000.C9G(2);return a000.y9G(S,P);break;case 4:S=R.He;W30=3;break;case 8:(R=this.Ra.Wpa(M),0 < R.length && (R=R[0],S=R.He));W30=3;break;}}};J.prototype.IN=function(M,P){var X30,R,S;X30=2;for(;X30 !== 7;){switch(X30){case 5:X30=R?4:8;break;case 2:void 0 === M && (M=this.YZ);R=this.Ra.VHb(P,M);X30=5;break;case 3:k.Ga(S) || (S=this.Od[M].Jx);a000.C9G(3);return a000.b9G(P,S);break;case 4:S=R.He;X30=3;break;case 8:(R=this.Ra.Wpa(M),0 < R.length && (R=R[0],S=R.He));X30=3;break;}}};J.prototype.TM=function(){var Y30,M;Y30=2;for(;Y30 !== 4;){switch(Y30){case 1:Y30=M || this.Fb.Lz?5:4;break;case 5:(M && this.Jb.tka(),this.KU(),this.S.Zd(f.ta.Rc),this.ug.mk());Y30=4;break;case 9:M=this.S.wg();Y30=3;break;Y30=1;break;case 2:M=this.S.wg();Y30=1;break;}}};J.prototype.Wka=function(){var Z30,M,P;Z30=2;for(;Z30 !== 3;){switch(Z30){case 2:(M=this,P=this.S.wg());this.Ra.dd.Xca(P,function(R){var a40;a40=2;for(;a40 !== 1;){switch(a40){case 2:return M.Yg[R]?M.Yg[R].Vca():"";break;}}});this.jM && (clearTimeout(this.jM),this.jM=void 0);this.gz.ESb();Z30=3;break;}}};J.prototype.oTa=function(M){var b40,P,c40;b40=2;for(;b40 !== 7;){switch(b40){case 9:b40=this.Fs && 1 === M.mediaType?8:7;break;case 2:M.yi=!0;M.Pr=!1;P=this.S.af() || 0;M.CN(P);this.Fb.iz();b40=9;break;case 8:try{c40=2;for(;c40 !== 1;){switch(c40){case 2:this.Y7(f.ta.Yr,{La:M.Vc});c40=1;break;}}}catch(R){var g4G="Hindsight: Error evaluating QoE at en";g4G+="dO";g4G+="fStream: ";a000.C9G(3);this.Jb.oo(a000.b9G(g4G,R));}b40=7;break;}}};J.prototype.Ftb=function(){var d40,M;d40=2;for(;d40 !== 5;){switch(d40){case 3:M=this.zc.$b;d40=7;break;d40=1;break;case 2:M=this.zc.$b;d40=1;break;case 1:M && (M=M.get()) && M.avtp && this.Wv.hvb({avtp:M.avtp.qa});d40=5;break;}}};J.prototype.lub=function(){var e40,M,P,R;e40=2;for(;e40 !== 4;){switch(e40){case 2:var j4G="startup, playerState no l";j4G+="onger S";j4G+="TARTING:";var e4G="failed";e4G+=" to star";e4G+="t audio";e4G+=" pipeline";var s4G="failed to star";s4G+="t video p";s4G+="ipeline";this.S.Zd(f.ta.yh);(M=this.Ra.dd,P=M.Wd(0),R=M.Wd(1));this.pn && !this.uTa(R)?this.Ub(s4G):this.rs && !this.uTa(P)?this.Ub(e4G):(this.PSa=!0,this.Od[0].M.QX=!0,P=this.Fb.Zf[1],R=this.Fb.Zf[0],(P && 0 < P.Fv || R && 0 < R.Fv) && this.Jb.psb(String(M.M.K),R?R.Fv:0,P?P.Fv:0,R?R.RZ:0,P?P.RZ:0),this.S.f5a()?(this.w5(0),this.rs && (M=this.Ke.Q8(0),P=this.Ke.Nq(0).trackId,this.Jb.ssb(M,P))):this.Ub(j4G,this.S.getState()));e40=4;break;}}};J.prototype.uTa=function(M){var f40,P,R;f40=2;for(;f40 !== 14;){switch(f40){case 1:f40=k.ma(R)?5:4;break;case 3:f40=M.vp()?9:8;break;case 2:(P=M.mediaType,R=this.Fb.hMb(M));f40=1;break;case 5:var O4G="NF";O4G+="E";O4G+="rr_MC_StreamingInitFailure";var L4G="startPip";L4G+="eli";L4G+="ne";L4G+=" ";L4G+="failed";return (this.Dn() || this.pq(L4G,M.mb.M.Tb,O4G),!1);break;case 8:R=this.Ke.M;M.M.WXa(M,{offset:0,JD:!R.tf.Ne && !R.dj && 1 === P,tx:!this.Fb.Zf[P].rIb});return !0;break;case 4:M=M.track.Rd[R];f40=3;break;case 9:return !0;break;}}};j20=72;break;case 13:Object.defineProperties(J.prototype,{Wv:{get:function(){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:return this.zc.Wv;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{tt:{get:function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:return this.Jtb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{caa:{get:function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:return this.HM;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{PZ:{get:function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 2:return this.i5;break;}}},enumerable:!1,configurable:!0}});J.prototype.xc=function(M){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:return this.qub[M];break;}}};J.prototype.hX=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:return t.default.time.ha() - this.cja;break;}}};J.prototype.R1a=function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:return (this.Od || []).reduce(function(M,P){var G20,R;G20=2;for(;G20 !== 4;){switch(G20){case 1:m.Lf.forEach(function(S){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:R.Ys[S] > M[S] && (M[S]=R.Ys[S]);H20=1;break;}}});return M;break;case 2:R=P.M;G20=1;break;}}},[0,0]);break;}}};J.prototype.uP=function(){var I20,M;I20=2;for(;I20 !== 4;){switch(I20){case 2:M=0;k.forEach(this.Ke.M.ia.audio_tracks,function(P){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:k.forEach(P.streams,function(R){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:M=Math.max(M,R.bitrate);K20=1;break;}}});J20=1;break;}}});return M;break;}}};J.prototype.Eh=function(M){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:return this.Od[M];break;}}};J.prototype.IKb=function(){var M20,M;M20=2;for(;M20 !== 5;){switch(M20){case 2:M=this.Od[0];return M.M.tf.Ne?this.Od[1]:M;break;}}};j20=27;break;case 39:J.prototype.stop=function(){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 2:this.Li.stop();q30=1;break;}}};J.prototype.yt=function(M,P){var r30;r30=2;for(;r30 !== 1;){switch(r30){case 4:return this.yo.yt(M,P);break;r30=1;break;case 2:return this.yo.yt(M,P);break;}}};J.prototype.seek=function(M,P){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 2:return this.yo.seek(M,P);break;}}};J.prototype.Do=function(M){var t30,P,R,S,U,ba,w30;t30=2;for(;t30 !== 18;){switch(t30){case 8:var v4G="und";v4G+="erfl";v4G+="ow";m.Lf.forEach(function(na){var v30,va,ya,ra,V;v30=2;for(;v30 !== 6;){switch(v30){case 5:v30=R.Gi?4:9;break;case 3:var W4G=", toApp";W4G+="en";W4G+="d";W4G+=":";W4G+=" ";var t4G=", fr";t4G+="ag";t4G+="m";t4G+="ents:";t4G+=" ";var q4G=",";q4G+=" co";q4G+="mpleteStr";q4G+="eamingPts: ";var B4G=", str";B4G+="eamingP";B4G+="ts: ";var F4G=", ";F4G+="p";F4G+="art";F4G+="ia";F4G+="ls: ";var M4G=", comp";M4G+="leted";M4G+="Bytes: ";var H4G=", co";H4G+="mpleted";H4G+="M";H4G+="s: ";var G4G=", me";G4G+="d";G4G+="iaTyp";G4G+="e: ";var m4G="u";m4G+="nd";m4G+="erflow";m4G+=":";m4G+=" ";ra=m4G + M + G4G + na + H4G + ya.GN + M4G + V + F4G + ya.Va.IE + B4G + ya.kc + q4G + ya.Aq + t4G + JSON.stringify(ya.Va.X) + W4G + (ra && ra.Vca());v30=9;break;case 2:ya=ba.Wd(na);v30=1;break;case 4:(ra=P.Yg[na],V=P.Ra.zH(ba,na));v30=3;break;case 1:v30=ya?5:6;break;case 9:R.Gi && P.Jb.Um(ra);ya.Bna();null === (va=ya.sh) || void 0 === va?void 0:va.H_b();v30=6;break;}}});this.Ke.M.Jk();this.emit(v4G);t30=14;break;case 14:this.w5(2);this.ug.mk();t30=12;break;case 2:var P4G="branc";P4G+="hOf";P4G+="fs";P4G+="e";P4G+="t:";var o4G="ent";o4G+="ry.";o4G+="manifestOffset";o4G+=":";var z4G="c";z4G+="ontent";z4G+="Pt";z4G+="s:";var Y4G="un";Y4G+="derflow: going to B";Y4G+="U";Y4G+="FFERING at player";Y4G+=" pts:";(P=this,R=this.J,S=this.zu(this.YZ,M));this.Ub(Y4G,M,z4G,S,o4G,this.Ke.Jx,P4G,this.Ra.He);U=R.$s;this.Yg.forEach(function(na){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:U=Math.max(0,Math.min(U,na.tra - M));u30=1;break;}}});this.Kka+=1;ba=this.Ra.dd;t30=8;break;case 12:t30=this.Fs?11:10;break;case 11:try{w30=2;for(;w30 !== 1;){switch(w30){case 2:this.Y7(f.ta.yd);w30=1;break;case 4:this.Y7(f.ta.yd);w30=6;break;w30=1;break;}}}catch(na){var l4G="Hindsig";l4G+="ht: Error when evaluating QoE a";l4G+="t Buffering";l4G+=": ";a000.n9G(3);this.Jb.oo(a000.y9G(l4G,na));}t30=10;break;case 10:S=this.zc.$b.get();S=S.confidence?S.Ua.qa:0;U > R.AHb && S > R.zHb && this.Wka();t30=18;break;}}};J.prototype.Co=function(M){var x30;x30=2;for(;x30 !== 1;){switch(x30){case 2:return this.yo.Co(M);break;}}};J.prototype.xs=function(M,P,R){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:return this.yo.xs(M,P,R);break;}}};J.prototype.nSa=function(M){var z30,P;z30=2;for(;z30 !== 3;){switch(z30){case 2:this.IM=M;P=this.Od[M];this.Jb.xsb(M,P);this.Jb.FSa(P.M.Ys);z30=3;break;}}};J.prototype.gN=function(M,P){var A30,va,ya,ra,na,R,S,U,ba;A30=2;for(;A30 !== 35;){switch(A30){case 10:va=M.M;(P.Cxb || this.XQa) && this.Fb.Br(P.Cxb || this.XQa,va.N);A30=19;break;case 5:var k4G="addManifest: pipelines";k4G+=" ";k4G+="al";k4G+="ready";k4G+=" shutdown";this.Ub(k4G);A30=35;break;case 19:var i4G="bool";i4G+="e";i4G+="an";var E4G="vi";E4G+="deo_";E4G+="t";E4G+="rac";E4G+="ks";var Q4G="a";Q4G+="udi";Q4G+="o_tra";Q4G+="c";Q4G+="ks";(ya=[Q4G,E4G],ra=this.R1a());P.replace && ya.forEach(function(V,K){var B30,T,fa;B30=2;for(;B30 !== 3;){switch(B30){case 8:T=va.VD(K);B30=0;break;B30=1;break;case 5:fa=R.Od[0].M;Object.keys(T).forEach(function(ia){var C30,Ba;C30=2;for(;C30 !== 5;){switch(C30){case 2:Ba=fa.zx(K,ia);Ba && Ba.pe && (T[ia].Z6(Ba),ia=va.Ys,ia[K] > ra[K] && (ra[K]=ia[K]));C30=5;break;}}});B30=3;break;case 2:T=va.VD(K);B30=1;break;case 1:B30=T?5:3;break;}}});ya.forEach(function(V,K){var D30,T;D30=2;for(;D30 !== 5;){switch(D30){case 2:T=va.VD(K);T && Object.keys(T).forEach(function(fa){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:T[fa].Ofb(t.default.wp()[K],va.Fx()?S.i7a:0);E30=1;break;}}});D30=5;break;}}});M.YU=i4G === typeof P.gxb?P.gxb:!0;this.Od[U] && this.Od[U].gd();A30=27;break;case 7:var I4G="addManifest in fastplay but not drm m";I4G+="anifest, leaving sp";I4G+="ace for it";P.PZ && (this.i5=!0);U=this.Od.length;P.replace && 1 !== U?U=1:this.Ke.M.tf.Ne && !P.replace && 1 === U && (this.Ub(I4G),U=this.Od[0].clone(),this.Od.push(U),U=this.Od.length);A30=13;break;case 13:ba=P.$ || 0;na=P.La;M=g.Wga.create({Tb:U,ia:M,Kp:void 0,fcb:P.kR || [this.Ke.Q8(0),this.Ke.Q8(1)],Ne:!1,R4a:! !P.replace,dj:! !P.dj,Cd:m.yaa(! !P.dV,! !P.vF),$:ba,La:na,Jb:this.Jb,Ls:this.PRa.bind(this),ec:this,config:this.J,I:this.I,ug:this.ug,yo:this.yo,Sf:this.KTa?this.zc.Sf:void 0,bE:this.bE});A30=10;break;case 1:A30=this.Dn()?5:4;break;case 2:(R=this,S=this.J);A30=1;break;case 9:A30=!P.Yec && (this.rs && U.Pr || this.pn && ba.Pr)?8:7;break;case 8:var Z4G="add";Z4G+="Manifest ignor";Z4G+="ed, pipelines already";Z4G+=" set EOS:";this.Ub(Z4G,U.Pr,ba.Pr);A30=35;break;case 4:P || (P={});(U=this.Ra.dd.Wd(0),ba=this.Ra.dd.Wd(1));A30=9;break;case 27:this.Od[U]=M;M.hWa();P.replace || this.Ra.Bvb(va,ba,na);P=this.Fb.Px[0].$I;A30=23;break;case 23:var A4G=",";A4G+=" ";var S4G=") ";S4G+="las";S4G+="tStreamAppended";S4G+=": (";var p4G=",";p4G+=" ";var D4G=" s";D4G+="tr";D4G+="ea";D4G+="mC";D4G+="ount: (";var d4G=" play";d4G+="er";d4G+="State";d4G+=": ";var a4G="addManifest,";a4G+=" current";a4G+="Pts: ";U=this.Fb.Px[1].$I;S.Gi && this.Jb.Um(a4G + this.S.af() + d4G + this.S.getState() + D4G + M.Nq(0).Rd.length + p4G + M.Nq(1).Rd.length + S4G + P + A4G + U + ")");this.rs && k.ma(P) || this.pn && k.ma(U) || (M.M.wQ([M.Nq(0),M.Nq(1)]),this.J5());A30=35;break;}}};J.prototype.PU=function(M){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 4:return this.yo.PU(M);break;F30=1;break;case 2:return this.yo.PU(M);break;}}};J.prototype.kA=function(M){var G30,U,ba,P,R,S;G30=2;for(;G30 !== 7;){switch(G30){case 5:var K4G="drmR";K4G+="e";K4G+="a";K4G+="d";K4G+="y";var N4G=" read";N4G+="y";N4G+="Sta";N4G+="te:";N4G+=" ";var u4G=" f";u4G+="or m";u4G+="ovieId: ";var h4G=",";h4G+=" ";var w4G="d";w4G+="rmReady at streamin";w4G+="g pts: ";k.ma(P) && (P=!0);(U=this.Ra.dd.Wd(0),ba=this.Ra.dd.Wd(1));S.Gi && this.Jb.Um(w4G + (U?U.kc:null) + h4G + (ba?ba.kc:null) + u4G + M + N4G + P);a000.n9G(3);this.S.X_(a000.y9G(M,""),P);P && (this.Yg.forEach(function(na){var H30;H30=2;for(;H30 !== 5;){switch(H30){case 2:S.q8 && na.f0a();na.kA();H30=5;break;}}}),S.kea && this.AU(),this.Ke.M.tf.Ne && this.I5(this.yo.TC?this.yo.TC.Tb:this.IM + 1),S.qs || (null === (R=this.Rh) || void 0 === R?0:R.$D()) || this.ez.Iz || this.JU(K4G),this.yo.Ija());G30=7;break;case 1:G30=!this.Dn()?5:7;break;case 2:S=this.J;G30=1;break;}}};j20=48;break;case 2:Object.defineProperties(J.prototype,{addEventListener:{get:function(){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{removeEventListener:{get:function(){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;q20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{rTb:{get:function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:return this.pg.Uc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mediaSourceId:{get:function(){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:return this.pg?this.pg.thc:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{rs:{get:function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:return this.xc(0);break;case 4:return this.xc(8);break;t20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{pn:{get:function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:return this.xc(1);break;case 4:return this.xc(8);break;u20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{attributes:{get:function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:return this.Xia;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{oh:{get:function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:return this.Yi;break;case 4:return this.Yi;break;w20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{YZ:{get:function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 4:return 7 < this.a5?this.a5:3;break;x20=1;break;case 2:return 0 <= this.a5?this.a5:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Ke:{get:function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:return this.Od[this.IM];break;}}},enumerable:!1,configurable:!0}});j20=13;break;case 27:J.prototype.HO=function(){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:return this.Od.length;break;}}};J.prototype.Dta=function(M,P){var O20;O20=2;for(;O20 !== 9;){switch(O20){case 7:O20=M !== P?8:6;break;O20=M === P?1:5;break;case 1:return !0;break;case 2:O20=M === P?1:5;break;case 6:return +7;break;O20=5;break;case 5:M=this.Od[M];P=this.Od[P];return M.M.tf.Ne && P.M.tf.NY || P.M.tf.Ne && M.M.tf.NY;break;}}};J.prototype.M8=function(M){var P20;P20=2;for(;P20 !== 5;){switch(P20){case 2:P20=(M=this.Ra.ii.children[M])?1:5;break;case 1:return {id:M.G.id,He:M.He,Dd:M.Ixa,Pe:M.Pe,qd:M.Pca,Vc:M.Vc};break;}}};J.prototype.Om=function(){var Q20,M;Q20=2;for(;Q20 !== 5;){switch(Q20){case 2:M=this.Ra.ii;return {id:M.G.id,He:M.He,Dd:M.Ixa,Pe:M.Pe,qd:M.Pca,Vc:M.Vc};break;}}};J.prototype.pR=function(M,P){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 2:return this.Ra.pR(M,P);break;case 4:return this.Ra.pR(M,P);break;R20=1;break;}}};J.prototype.open=function(){var S20,P,R,S,U,ba,M,na,ra,va,ya;S20=2;for(;S20 !== 33;){switch(S20){case 4:var T5G="hea";T5G+="d";T5G+="er";T5G+="s";(P=this.J,R=this.Ke.M,S=R.K,U=[],ba=[T5G]);this.pn && (U.push(1),ba.push(1));this.rs && (U.push(0),ba.push(0));this.wW.nrb();S20=7;break;case 2:M=this;S20=1;break;case 5:var f5G="NFEr";f5G+="r_MC_StreamingInitFa";f5G+="ilure";var X5G="startPts must";X5G+=" be a p";X5G+="ositive number, not ";this.pq(X5G + this.aD,void 0,f5G);S20=33;break;case 7:na=P.qs;S20=6;break;case 25:R=this.R1a();this.Jb.FSa(R);ra=function(){var Y20;Y20=2;for(;Y20 !== 5;){switch(Y20){case 2:var r5G="shutdown detected before st";r5G+="a";r5G+="rtRequest";r5G+="s";M.Jb.Asb();M.Dn()?M.Ub(r5G):M.lub();Y20=5;break;}}};P.wEb?setTimeout(function(){var Z20;Z20=2;for(;Z20 !== 1;){switch(Z20){case 2:M.cRa(S).then(ra);Z20=1;break;}}},0):this.cRa(S).then(function(){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 4:setTimeout(ra,8);a30=0;break;a30=1;break;case 2:setTimeout(ra,0);a30=1;break;}}});S20=21;break;case 17:S20=!ya.U5(U)?16:15;break;case 35:this.emit(R.type,R);S20=33;break;case 6:var b5G="c";b5G+="reate";b5G+="M";b5G+="ediaSour";b5G+="ceStart";this.zc.Sf && this.zc.Sf.vq(na,this.qm.sessionId);va=this.wW.fqb(ba,R);ba.forEach(function(V,K){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:var V5G="he";V5G+="ad";V5G+="er";V5G+="s";V5G === V?M.WT=va[K]:M.Fb.Zf[V].Xf=va[K];T20=1;break;}}});this.Jb.um(b5G);ya=new w(this.S.FH);S20=10;break;case 34:var n5G="N";n5G+="FErr_MC_Strea";n5G+="mingInitFailure";var C5G="exce";C5G+="pt";C5G+="ion in ";C5G+="init";var y5G="Er";y5G+="r";y5G+="o";y5G+="r";y5G+=":";(this.Hn(y5G,ya.error),this.pq(C5G,void 0,n5G));S20=33;break;case 15:ya.sourceBuffers.forEach(function(V){var U20,K,T;U20=2;for(;U20 !== 13;){switch(U20){case 2:(K=V.mediaType,T=M.Fb.Zf[K]);V=new n.ffa(T.I,K,ya,V,P,!1,M.S,void 0,M.Eh.bind(M));T=new G.FIa(V,K,M.Ra,M.J,T.I);U20=4;break;case 8:var x5G="m";x5G+="anag";x5G+="er";x5G+="debu";x5G+="gevent";var c5G="l";c5G+="ogda";c5G+="ta";V.addListener(c5G,function(fa){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:v.ab(M,fa.type,fa);W20=1;break;}}});P.Gi && V.addListener(x5G,function(fa){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:v.ab(M,fa.type,fa);X20=1;break;}}});M.Yg[K]=V;M.Xw[K]=T;U20=13;break;case 4:var U5G="e";U5G+="rr";U5G+="or";var J5G="reques";J5G+="tAppen";J5G+="ded";var R5G="hea";R5G+="d";R5G+="erAppen";R5G+="de";R5G+="d";V.addListener(R5G,M.arb.bind(M));V.addListener(J5G,M.drb.bind(M));V.addListener(U5G,function(fa){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 2:var g5G="NFErr";g5G+="_MC_Strea";g5G+="mingFailu";g5G+="r";g5G+="e";M.pq(fa.errorstr,void 0,g5G);V20=1;break;}}});U20=8;break;}}});this.gz=new D.$Ma(this.Xw,this.TM.bind(this),this.S.af.bind(this.S));this.tt && this.Jb.hsb();S20=25;break;case 21:var e5G="start";e5G+="pla";e5G+="y";var s5G="log";s5G+="dat";s5G+="a";R={type:s5G,target:e5G,fields:{audiogapconfig:P.BP,audiogapdpi:this.pg.Uc && this.pg.Uc.BP,aseApiVersion:this.oH}};S20=35;break;case 16:var j5G="E";j5G+="r";j5G+="r";j5G+="or";j5G+=":";throw (this.Hn(j5G,ya.error),ya.error);S20=15;break;case 10:S20=1 === ya.readyState?20:34;break;case 1:S20=!k.Ga(this.aD) || 0 > this.aD?5:4;break;case 20:var L5G="creat";L5G+="eMe";L5G+="diaSour";L5G+="ceEnd";this.Jb.um(L5G);ya.Uc || (ya.Uc=w.Uc);this.pg=ya;S20=17;break;}}};Object.defineProperties(J.prototype,{oH:{get:function(){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:var O5G="1";O5G+=".";O5G+="0";return O5G;break;case 4:return "";break;b30=1;break;}}},enumerable:!1,configurable:!0}});J.prototype.Lra=function(){};J.prototype.flush=function(){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.Li.flush();c30=1;break;}}};J.prototype.paused=function(){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:this.S.paused();d30=1;break;case 4:this.S.paused();d30=6;break;d30=1;break;}}};j20=32;break;case 32:J.prototype.Exa=function(){};J.prototype.close=function(){var e30;e30=2;for(;e30 !== 4;){switch(e30){case 2:this.qcb.Hb();this.Od.forEach(function(M){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:M.close();f30=1;break;case 4:M.close();f30=2;break;f30=1;break;}}});this.Li.close();e30=4;break;}}};J.prototype.abb=function(){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:this.zc.Btb(this);g30=1;break;case 4:this.zc.Btb(this);g30=6;break;g30=1;break;}}};J.prototype.gd=function(){var h30,M;h30=2;for(;h30 !== 20;){switch(h30){case 14:var m5G="Er";m5G+="ror on Medi";m5G+="aSource destroy:";m5G+=" ";this.Od=[];this.Yi.clear();M=this.pg;this.pg=void 0;k.ma(M) || M.Gq() || this.Ub(m5G,M.error);h30=20;break;case 4:this.Ra.Hb();this.wW.rqb();null === (M=this.gz) || void 0 === M?void 0:M.reset();this.Xw.forEach(function(P){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:P.reset();i30=1;break;}}});this.S.Zd(f.ta.rj);this.Od.forEach(function(P){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:P.gd();j30=1;break;}}});h30=14;break;case 2:this.Xg.yVb();this.q4();h30=4;break;}}};J.prototype.suspend=function(){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 2:this.Li.suspend();k30=1;break;}}};J.prototype.resume=function(){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:this.Li.resume();l30=1;break;}}};J.prototype.Dn=function(){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.Li.Dn();break;}}};J.prototype.fub=function(){var n30,M;n30=2;for(;n30 !== 8;){switch(n30){case 2:M=this.J;this.cD && clearTimeout(this.cD);this.cD=setTimeout(this.KU.bind(this),M.Wda);this.fz || (this.fz=setInterval(this.Jb.DSa.bind(this.Jb),M.sN));this.C5 || (this.C5=setInterval(this.Jb.Jsb.bind(this.Jb),M.WAa));this.tt && !this.m4 && (this.m4=setInterval(this.Jb.CSa.bind(this.Jb),M.l6));n30=8;break;}}};J.prototype.q4=function(){var o30;o30=2;for(;o30 !== 7;){switch(o30){case 8:this.ug.q4();o30=7;break;case 3:this.jM && (clearTimeout(this.jM),this.jM=void 0);this.Aja && (clearTimeout(this.Aja),this.Aja=void 0);o30=8;break;case 2:this.cD && (clearTimeout(this.cD),this.cD=void 0);this.fz && (clearInterval(this.fz),this.fz=void 0);this.C5 && (clearInterval(this.C5),this.C5=void 0);this.m4 && (clearInterval(this.m4),this.m4=void 0);o30=3;break;}}};J.prototype.play=function(){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 2:this.Li.play();p30=1;break;}}};j20=39;break;case 104:J.prototype.KYb=function(M,P,R){var W40,S;W40=2;for(;W40 !== 6;){switch(W40){case 4:W40=M.M.QX?3:7;break;case 2:h.rn.Oq(0);M=this.Od[M];M.MBa(P);W40=4;break;case 3:M.Nq(0).Rd.some(function(U){var X40;X40=2;for(;X40 !== 4;){switch(X40){case 5:return ! !S;break;case 9:S=U.vp();X40=9;break;X40=1;break;case 1:X40=!(S && S.stream && S.stream.X && R < S.stream.X.Uj(0))?5:4;break;case 2:S=U.vp();X40=1;break;}}});W40=8;break;case 8:S?(M.M.Gh[0]=S,M.h_=!1,S.stream.pe && M.J6()):(M.M.Gh[0]=void 0,M.h_=!1,M.M.wQ([M.Nq(0)],!0,0));W40=7;break;case 7:this.AU(0);W40=6;break;}}};J.prototype.ttb=function(M,P){var Y40,R;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:R=this.Yg[M.mediaType];M=this.Ra.e_(M.mb,M.mediaType,P,this.zc.RB || 0,function(S){var Z40;Z40=2;for(;Z40 !== 1;){switch(Z40){case 2:R.uca(S);Z40=1;break;}}});k.ma(M) || this.ug.mk();Y40=4;break;}}};J.prototype.arb=function(M){var a50,P,R,S;a50=2;for(;a50 !== 8;){switch(a50){case 2:(P=M.mediaType,R=M.manifestIndex,S=M.streamId);M=this.Ra.dd.lb(P);P=this.Od[R].M.zx(P,S);this.dub(M,P);a50=3;break;case 3:this.J=this.FXa.zpb(P.Pf,this.J);this.Od.forEach(function(U,ba){var b50,na;b50=2;for(;b50 !== 5;){switch(b50){case 2:na=U.M;na.QX || 0 === ba || na.wQ([U.Nq(0),U.Nq(1)]);b50=5;break;}}});a50=8;break;}}};J.prototype.drb=function(M){var c50,P,R;c50=2;for(;c50 !== 8;){switch(c50){case 3:P.iI && this.Jb.osb(P);P.jo && this.Jb.Dsb(M,P.M.Tb,R.G);c50=8;break;case 2:P=M.request;M=M.mediaType;R=P.Va.mb;R.zSb(M);c50=3;break;}}};J.prototype.dub=function(M,P){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:this.Fb.Px[M.mediaType].$I={id:P.Qa,index:P.wf,bitrate:P.bitrate,Ua:P.Ab && P.Ab.confidence && P.Ab.Ua?P.Ab.Ua.qa:0,location:P.location};d50=1;break;}}};J.prototype.g$=function(M){var e50,ya,ra,V,P,R,S,U,ba,na,va;e50=2;for(;e50 !== 11;){switch(e50){case 5:(ya=va.dd,ra=ya.Wd(0),V=ya.Wd(1));ba.vspts=null !== (P=null === V || void 0 === V?void 0:V.kc) && void 0 !== P?P:0;ba.aspts=null !== (R=null === ra || void 0 === ra?void 0:ra.kc) && void 0 !== R?R:0;ba.vbuflbytes=null !== (S=null === V || void 0 === V?void 0:V.Rn.aa) && void 0 !== S?S:0;e50=8;break;case 1:e50=!va.dd.Xh?5:12;break;case 2:(ba={},na=this.Yg,va=this.Ra);e50=1;break;case 6:ba.abuflmsec=va.ix(ya,0);M && (ba.a=null === ra || void 0 === ra?void 0:ra.Va.X.toJSON(),ba.v=null === V || void 0 === V?void 0:V.Va.X.toJSON());e50=13;break;case 8:ba.abuflbytes=null !== (U=null === ra || void 0 === ra?void 0:ra.Rn.aa) && void 0 !== U?U:0;ba.vbuflmsec=va.ix(ya,1);e50=6;break;case 13:M && na && (M=na[1],na=na[0],ba.atoappend=null === M || void 0 === M?void 0:M.Vca(),ba.vtoappend=null === na || void 0 === na?void 0:na.Vca());e50=12;break;case 12:return ba;break;}}};J.prototype.G2a=function(M){var f50,P,R,S,U,ba,na;f50=2;for(;f50 !== 8;){switch(f50){case 2:(P=this.Ra.dd,R=P.lb(M));f50=1;break;case 1:f50=R?5:8;break;case 5:(S=this.Fb.Px[M],U=this.Ra.zH(P,M));S=S.$I?S.$I.bitrate:0;(ba=R.Va.gxa,na=this.Ra.He);return {type:M,availableMediaBuffer:t.default.wp()[M] - U,completeBuffer:P.ai(M),incompleteBuffer:ba,playbackBitrate:R.r$a,streamingBitrate:S,streamingTime:R.kc + na,usedMediaBuffer:U,toappend:R.E7b};break;}}};J.prototype.N_b=function(){var g50,M;g50=2;for(;g50 !== 5;){switch(g50){case 2:var G5G="reque";G5G+="stGarbageColl";G5G+="e";G5G+="c";G5G+="tion";M={type:G5G,time:t.default.time.ha()};v.ab(this,M.type,M);g50=5;break;}}};J.prototype.pq=function(M,P,R,S,U,ba,na){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 2:var H5G="NFEr";H5G+="r_MC";H5G+="_Strea";H5G+="mingFa";H5G+="ilure";void 0 === na && (na=!1);this.B5 || (k.ma(R) && (R=H5G),this.B5=!0,this.Jb.Hsb(R,M,S,U,ba,void 0 !== P?P:this.YZ,na));h50=5;break;}}};J.prototype.PRa=function(){var i50;i50=2;for(;i50 !== 5;){switch(i50){case 2:var M5G="Net";M5G+="work f";M5G+="ailur";M5G+="es rese";M5G+="t!";this.Ub(M5G);this.ug.mk();i50=5;break;}}};j20=94;break;case 94:J.prototype.erb=function(M,P){var j50;j50=2;for(;j50 !== 5;){switch(j50){case 2:P=d.U1a(P);this.Xia[M.mediaType]=P;j50=5;break;}}};Object.defineProperties(J.prototype,{Lz:{set:function(M){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:this.Fb.Lz=M;k50=1;break;}}},enumerable:!1,configurable:!0}});return J;break;}}function J(M,P,R,S,U,ba,na,va,ya,ra,V){var k20,fa,ia,Sa,T,K;k20=2;for(;k20 !== 74;){switch(k20){case 40:k20=ra.Gi && this.zc.Sf?39:38;break;case 12:var F5G="b";F5G+="r";F5G+="anc";F5G+="hi";F5G+="ng";this.FXa=new y.MEa(this.I);(fa=!(!P || !P.choiceMap || F5G !== P.choiceMap.type),ia=fa?{GW:!1,Fs:!1}:q.B1a(ra));this.GW=ia.GW;this.Fs=ia.Fs;this.ey=ra.ey;k20=18;break;case 16:this.xc(0) && this.xc(1);this.zc=M;this.qm=na;this.J=ra=this.FXa.ypb(P,ra);k20=25;break;case 38:k20=(ra.dCa || ra.cCa) && this.zc.Sf?37:36;break;case 41:this.wW=new z.CFa(this,this.I,T);k20=40;break;case 13:this.Jb=T;k20=12;break;case 28:this.Kka=0;this.Yi=new c.Dg();this.yo=new L.EOa(this,this.I,this.xc.bind(this),T);this.ug=new H.DFa(this,this.I,this.xc.bind(this));k20=41;break;case 62:ra=ra.NNb;k20=61;break;case 33:this.IM=0;this.Xia=va;this.B5=!1;k20=30;break;case 61:for(var Ba in ra){R=ra[Ba];ra.hasOwnProperty(Ba) && R && (this.J[Ba]=R);}k20=60;break;case 77:Sa=this;k20=76;break;case 36:fa && ra.dO && !ra.aGb && (ra.set?ra.set({enableAdaptiveParallelStreaming:!1}):ra.dO=!1);0 === Math.floor(1E6 * Math.random()) % ra.lN && (this.Jtb=new p.fOa(ra));k20=53;break;case 75:V && this.Fb.Br(V,Ba.N);k20=74;break;case 37:var B5G="m";B5G+="e";B5G+="diacac";B5G+="he";this.Yi.on(this.zc.Sf,B5G,function(La){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:var q5G="m";q5G+="edi";q5G+="acache";v.ab(K,q5G,La);m20=1;break;case 4:v.ab(K,"",La);m20=2;break;m20=1;break;}}});k20=36;break;case 53:this.Xw=[];this.Yg=[];k20=51;break;case 30:this.WT=void 0;this.a5=-1;k20=28;break;case 51:this.qcb=new l.Gga(P,this.zc.$b,this.zc.ei,this.J,void 0);M=this.qcb.qMb();U=null;ra.JW && (U=this.zc.Wv.$C);k20=47;break;case 23:this.Gub=! !ba.$Ba;this.HM=ba.caa;this.o5=void 0;this.S=new A.YCa(ya);this.aD=U || 0;k20=33;break;case 76:this.S.addListener(function(La){var n20,o20;n20=2;for(;n20 !== 1;){switch(n20){case 2:try{o20=2;for(;o20 !== 1;){switch(o20){case 2:Sa.Fb.k6b.bind(Sa.Fb)(La);o20=1;break;}}}catch(Za){var t5G="Hindsigh";t5G+="t: Error when adding upd";t5G+="ateP";t5G+="laySegment Listener: ";a000.n9G(3);Sa.Jb.oo(a000.y9G(t5G,Za));}n20=1;break;}}});k20=75;break;case 18:this.Li=new Q.TIa(this,this.I,this.xc.bind(this),ia);this.qub=[!ba.vF,!ba.dV];k20=16;break;case 59:Ba=P.M;this.Ra=new E.efa(this,this.Jb,this.I,this.Wka.bind(this),Ba,this.aD,this.J,this.ug,this.S,this.hX.bind(this));ra={caa:this.caa,tt:this.tt,pn:this.pn,PZ:this.PZ};this.Fb=new N.ePa(this.I,this.Xg,this.J,this.xc.bind(this),this.S,ra,this.zc.$b,this.Jb,this.ug,this.Ra,ia);k20=55;break;case 3:var Y5G="med";Y5G+="i";Y5G+="a|as";Y5G+="e";Y5G+="js";var v5G="AS";v5G+="E";v5G+="J";v5G+="S";var W5G="1SI";W5G+="YbZrN";W5G+="JCp9";W5G;this.I=new t.default.Console(v5G,Y5G,"(" + na.sessionId + ")");this.Yk=this.I.error.bind(this.I);this.Ub=this.I.warn.bind(this.I);this.Hn=this.I.trace.bind(this.I);T=new O.VKa(this,this.I);k20=13;break;case 2:K=this;this.ez=new B.gia();this.XQa=[];this.bE={Tw:[Object.create(null),Object.create(null)]};k20=3;break;case 25:this.i5=ba.PZ;this.KTa=! !ba.ogb;k20=23;break;case 60:this.Xg.NBa(this.J);k20=59;break;case 63:k20=ra.spa && this.Xg.u$?62:59;break;case 55:k20=this.Fs?77:75;break;case 39:var z5G="managerdebu";z5G+="geve";z5G+="nt";this.Yi.on(this.zc.Sf,z5G,function(La){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:v.ab(K,La.type,La);l20=1;break;case 4:v.ab(K,La.type,La);l20=0;break;l20=1;break;}}});k20=38;break;case 47:x.Dy.instance().reset();P=g.Wga.create({Tb:0,ia:P,Kp:R,fcb:S,Ne:! !ba.Ne,R4a:!1,dj:! !ba.dj,Cd:m.yaa(! !ba.dV,! !ba.vF),$:0,La:ba.La,Jb:this.Jb,Ls:this.PRa.bind(this),ec:this,config:this.J,I:this.I,ug:this.ug,yo:this.yo,Sf:this.KTa?this.zc.Sf:void 0,bE:this.bE});P.YU=!0;k20=65;break;case 65:this.Od=[P];this.Xg=new I.MCa(this,this.I,M,this.zc.$b,ra,this.uP(),U,this.xc.bind(this),ia);k20=63;break;}}}})();b.NOa=a;r.Jf(c.EventEmitter,a);},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Wga=void 0;c=a(17);k=a(9);h=a(234);r=(function(){function g(d,f,m,l,n,p,q,t,w,v,u,x){void 0 === m && (m=0);this.me=d;this.s5=f;this.$=m;this.La=l;this.H8=n;this.Eh=p;this.HO=q;this.config=t;this.I=w;this.Jb=v;this.xHb=u;this.oh=x;this.Jx=0;}g.create=function(d){var m,l,n,p,q,t,w,v,u,x,y,z,A,B,D;function f(C){k.ab(v,C.type,C);}m=d.Tb;l=d.ia;n=d.fcb;p=d.$;q=d.La;t=d.Ls;w=d.Jb;v=d.ec;u=d.config;x=d.I;y=d.ug;z=d.yo;A=d.Sf;B=d.bE;D=new h.Vea(Number(l.movieId),{Tb:m,ia:l,Kp:d.Kp,A7a:{Fta:d.Ne,c5a:! !d.R4a},dj:d.dj,Cd:d.Cd,config:u,w3a:{cm:y.mk.bind(y),Sf:A,bE:B,po:f,n$:function(C){return C === v.Ra.dd.M;},DX:function(C,F,G,E,I){C=v.Fb.Zf[C];return !F || G || E || I?v.WT:C.Xf;},TD:function(C){return v.Fb.Px[C];},Eh:v.Eh.bind(v)},lZ:function(C){v.emit("requestComplete",{type:"requestComplete",timestamp:C.Ff,mediaRequest:C});},E8:function(){return v.Xg;},$b:v.zc.$b,ei:v.zc.ei,n_a:{Ls:t,rh:function(C,F,G,E,I,N){void 0 === N && (N=!1);return !N || v.S.wg()?(v.pq(C,m,F,G,E,I,N),!0):!1;},io:function(){return v.B5;},po:f},xQ:void 0,vK:{W:v.zc.RB,aa:v.zc.cF}});u.nA && D.YE({vo:v.qm.vo,ea:v.qm.ea,GD:v.qm.GD,oo:w.oo.bind(w)});d=new c.Dg();d.addListener(D.gv,"onHeaderFragments",function(C){var F,G,E,I,N;F=C.mediaType;G=C.Qa;E=C.stream.X;I=v.Eh(m);if(I){if(D.Gh[F] && C !== D.Gh[F])C.tx && (I=D.Gh[F],C=C.stream,N=I && I.stream,x.warn("first header received for non-current track (trackId " + C.trackId + "streamId " + C.Qa + "), expected track " + (N && N.trackId) + ", stream " + (N && N.Qa) + ", " + I));else {D.Gh[F]=C;C=v.Ra.dd;if(0 === m){N=D.xc(1)?C.lb(1).kc:C.lb(0).kc;C.L6(N,D);}I.h_=!1;I.J6();v.J5();}z.Ija();w.Bsb(m,F,G,D.K,E);y.mk();}else x.warn("addFragments for stale manifestIndex:",m);});d.addListener(D.gv,"onHeaderRequestComplete",function(C){var F,G;C.yk?v.J5():C.JD && (x.warn("drm header header:",C.toString(),"but no headers seen, marking pipeline drmReady"),v.kA(C.K));F=C.mediaType;G=Object.getOwnPropertyNames(B.Tw[F]);v.Yg[F].N8a(C.stream,1 === G.length && G[0] === C.Qa);y.rRa();v.N_b();});d.addListener(D.gv,"onHeaderFromCache",function(C){var F;F=C.header;C=C.sIb;F.yk && v.J5();C && w.qsb(F.K,F.Qa);});return new g(D,n,p,q,function(){return v.Ra;},v.Eh.bind(v),v.HO.bind(v),u,x,w,!1,d);};Object.defineProperties(g.prototype,{M:{get:function(){return this.me;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Tb:{get:function(){return this.M.Tb;},enumerable:!1,configurable:!0}});g.prototype.Nq=function(d){return this.me.EMb(d,this.Q8(d));};g.prototype.Q8=function(d){return this.s5[d];};g.prototype.close=function(){this.oh.clear();this.M.close();};g.prototype.gd=function(){this.me.gd();delete this.me;};g.prototype.clone=function(){return new g(this.M,this.s5,this.$,this.La,this.H8,this.Eh,this.HO,this.config,this.I,this.Jb,!0,this.oh);};g.prototype.MBa=function(d){this.I.trace("updateAudioTrack:",this.s5[0],"->",d);this.s5[0]=d;};g.prototype.H1a=function(){return void 0 !== this.uJ?this.uJ:this.La?this.La:this.me.duration;};g.prototype.yyb=function(d){var f,m;f=this.me.Gh[1];if(f && f.stream.pe){if(this.tA && this.tA[1] && this.tA[1].$ <= d && this.tA[1].La > d)return this.tA[1].Dd;f=f.stream.X;d=f.Nm(d,void 0,!0);m=void 0;void 0 === m && (m=f.Uj(d));return m;}};g.prototype.J6=function(){var d,f;if(!this.h_ && this.l3a()){this.pwa();d=[0,0];if(0 !== this.Tb && !this.me.tf.NY && !this.me.tf.replace){f=this.Eh(this.Tb - 1);f=this.me.K === f.me.K;d=this.H8().dd;f=d.L6(this.$,this.M,d,f);d=f.iQ;}this.$=d[1];this.iQ=d;this.tA=f && f.tA;this.hWa();f=this.me.xc(1)?this.me.Gh[1].stream.X.La:this.me.Gh[0].stream.X.La;this.Jb.wsb(this.Tb,this.Jx,this.$,this.uJ,f);this.h_=!0;for(f=this.Tb + 1;f < this.HO();++f){d=this.Eh(f);d.h_=!1;d.J6();}}};g.prototype.hWa=function(){var d;if(0 === this.Tb || this.me.tf.replace)this.Jx=0;else {d=this.Eh(this.Tb - 1);this.Jx=d.Jx + d.H1a() - this.$;}};g.prototype.pwa=function(){var d,f,m,l,n,p,q,t;if(this.l3a()){n=this.H8().dd;p=this.La || Infinity;q=this.me.xc(1);t=n.TW(p,this.M);this.uJ=q?t[1].La:t[0].La;n=q?this.me.Gh[1].stream.X.La:this.me.Gh[0].stream.X.La;q=Math.min(null !== (f=null === (d=t[1]) || void 0 === d?void 0:d.La) && void 0 !== f?f:Infinity,null !== (l=null === (m=t[0]) || void 0 === m?void 0:m.La) && void 0 !== l?l:Infinity);this.Jb.ysb(this.Tb,this.uJ,n,q);d=this.H8().Wpa(this.Tb);0 < d.length && d.forEach(function(w){w.e6b(t,p);});}};g.prototype.l3a=function(){var d,f,m,l;d=this.me.xc(0);f=this.me.xc(1);m=this.me.Gh[0];l=this.me.Gh[1];m=m && m.stream.pe;l=l && l.stream.pe;return (!d || m) && (!f || l);};return g;})();b.Wga=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QOa=void 0;r=a(1);c=a(9);a=r.__importDefault(a(6));k=a.default.Sr;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function h(g,d,f){this.oo=f;this.Pub=new c.HQa(g);this.ea=d.ea;this.Lpb=1E3 * d.hTb / d.Oxb;this.mFb=d.GD;this.UUa=!1;}h.prototype.Bu=function(g){var d,f;d={s_xid:this.ea,dl:this.mFb?1:0};g.tH && (d.bs=c.O6(Math.floor(g.tH / this.Lpb) + 1,1,5));g.bba && (d.limit_rate=g.bba);g.EVa && (d.bb_reason=g.EVa);g.Xeb && (d.tm=g.Xeb);if(g.SV){f=g.SV.x$();if(f || !f && this.UUa)(d.cpr_ss=g.SV.SB,d.cpr_ca=g.SV.aA,d.cpr_rec=g.SV.FB,this.UUa=f);}g.Cma && (d.br="" + g.Cma.start + "+" + g.Cma.size);return this.Lsb(d);};h.prototype.Hza=function(g,d){var f,m;try{f=new k(void 0,"notification");m=this.Bu({EVa:g});d && m && f.open(d,void 0,2,void 0,void 0,void 0,m);}catch(l){this.oo("SideChannel: Error when sending sendBlackBoxNotification. Error: " + l);}};h.prototype.Lsb=function(g){var d;try{d=this.aub(g);return this.Pub.encrypt(d);}catch(f){this.oo("SideChannel: Error when obfuscating msg. Error: " + f);}};h.prototype.aub=function(g){return Object.keys(g).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(g[d]));}).join("&");};return h;})();b.QOa=a;},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Uea=void 0;c=a(1);k=a(395);h=a(4);g=a(9);d=a(396);f=a(858);m=a(859);l=a(397);r=(function(){function n(p,q,t){this.J=q;this.I=t;this.MC=new g.ROa();this.g5=0;this.Sm=p.Sm;this.M=p.M;this.mediaType=p.mediaType;this.qF=p.qF;this.fD=p.fD;1 === this.mediaType?(q=this.Sm,t=c.__read(q.streams,1)[0],this.Qtb=new m.vQa({w:q.maxWidth,DI:q.maxHeight},{w:q.yxa,DI:q.zxa}),void 0 !== t.framerate_value && void 0 !== t.framerate_scale && (this.Oja=f.Kia.from({yv:t.framerate_value,Eq:t.framerate_scale}),this.nka=this.Oja.za())):0 === this.mediaType && (this.Tpb=this.Sm.streams[0].channels,this.Ttb=48E3);this.eb=(this.xM=this.nka) && this.xM.V;this.Tja=this.TSa=!1;this.Ksa=-Infinity;this.C6a=Infinity;p=n.hqb(this,p.Ne);q=p.maxBitrate;t=p.Rd;this.Sq=p.Sq;this.maxBitrate=q;this.Rd=t;this.nub=t.reduce(function(w,v){w[v.Qa]=v;return w;},{});!1;}n.hqb=function(p,q){var t,w,v,u,x,y;t=p.J;w=1 === p.mediaType;v=!1;u=0;x=p.Sm.streams.some(function(z){return z.fj;});y=[];p.Sm.streams.forEach(function(z,A){var B,D,C;B=z.bitrate;D=!0;if(w){C=z.fj;D=t.gO && t.X0?q?!0:C === x:q && !C || !q && (C || !x);v=v || C;}D && B > u && (u=B);z=new l.iDa({Hk:z,wf:A,track:p,nv:D},t,p.I);y.push(z);});return {Sq:v,maxBitrate:u,Rd:y};};Object.defineProperties(n.prototype,{Taa:{get:function(){return !this.pe && 0 === this.g5;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pe:{get:function(){return ! !this.Up && ! !this.MC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Xxa:{get:function(){return this.TSa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{K:{get:function(){return String(this.M.K);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Sm.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{za:{get:function(){return this.xM;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{frameRate:{get:function(){return this.Oja;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ur:{get:function(){return this.Qtb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{channels:{get:function(){return this.Tpb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sampleRate:{get:function(){return this.Ttb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{V:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{FP:{get:function(){return this.Zrb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Up:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$O:{get:function(){return this.MC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{A8:{get:function(){return this.za.V;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{z8:{get:function(){return this.za.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mqa:{get:function(){return this.MC;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{MY:{get:function(){return this.Rd.some(function(p){var q;return 1 < ((null === (q=p.kh) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{SA:{get:function(){return this.M.SA;},enumerable:!1,configurable:!0}});n.prototype.zx=function(p){return this.VD()[p];};n.prototype.VD=function(){return this.nub;};n.prototype.equals=function(p){return ! !p && this.K === p.K && this.mediaType === p.mediaType && this.trackId === p.trackId;};n.prototype.pba=function(){this.g5++;};n.prototype.oba=function(){0 < this.g5 && this.g5--;};n.prototype.nba=function(p,q,t,w,v){if(w && void 0 !== w.Bl && (this.pe || void 0 !== w.rd && w.rd.length)){if(p.fj || !p.track.Sq)this.TSa=!0;if(this.pe)!this.Tja && w.rd && w.rd.length > this.Up.length && (this.cd=new k.Eia(this.mediaType,this.za,w,v),this.MC.Dbb(),this.Ksa=-Infinity,this.Tja=!0);else {this.qTa(q);if(t=t || this.nka)(this.pTa(t || this.nka),void 0 === this.V && this.rTa(t.V));this.cd=new k.Eia(this.mediaType,this.za,w,v);if(p.fj || !p.track.Sq)this.Tja=!0;}}else this.I && this.I.error("AseTrack.onHeaderReceived with missing fragments data");};n.prototype.DVb=function(p){void 0 === this.MC.value && this.MC.set(p);};n.prototype.NAb=function(p){this.pe || (this.rTa(p.V),this.qTa(p.FP),this.pTa(p.za),this.cd=p.Up,p.mqa.value?this.MC.set(p.mqa.value):this.MC.Dbb());};n.prototype.Mm=function(p,q,t,w){h.assert(this.$O);return d.Mm(this.mediaType,p,this.$O,q,t,w);};n.prototype.sA=function(p,q,t){h.assert(this.$O);return d.sA(this.mediaType,p,this.$O,q,t);};n.prototype.SD=function(){return 0 === this.mediaType?this.Mqa():this.psa();};n.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};n.prototype.rTa=function(p){this.eb=p;};n.prototype.qTa=function(p){this.Zrb=p;};n.prototype.pTa=function(p){this.xM=p;1 === this.mediaType && (this.Oja=f.Kia.QIb(p));};n.prototype.psa=function(){h.assert(1 === this.mediaType);h.assert(void 0 !== this.frameRate);h.assert(void 0 !== this.ur);return {N:this.M.N,Sq:this.Sq,profile:this.Sm.profile,A8:this.frameRate.yv,z8:this.frameRate.Eq,zAa:this.Sm.zAa,maxWidth:this.ur.ur.w,maxHeight:this.ur.ur.DI,yxa:this.ur.O9a.w,zxa:this.ur.O9a.DI};};n.prototype.Mqa=function(){h.assert(0 === this.mediaType);h.assert(void 0 !== this.channels);h.assert(void 0 !== this.sampleRate);return {profile:this.Sm.profile,zAa:this.Sm.zAa,channels:this.channels,sampleRate:this.sampleRate};};return n;})();b.Uea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Kia=void 0;c=a(21);r=(function(){function k(h,g){this.QG=h;this.FG=g;this.D0b();}k.from=function(h){return "number" === typeof h?new k(h,1):new k(h.yv,h.Eq);};k.QIb=function(h){return new k(h.V,h.mc);};Object.defineProperties(k.prototype,{yv:{get:function(){return this.QG;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Eq:{get:function(){return this.FG;},enumerable:!1,configurable:!0}});k.prototype.za=function(){return new c.R(this.FG,this.QG);};k.prototype.equal=function(h){return this.QG === h.QG && this.FG === h.FG;};k.prototype.D0b=function(){var h,g,d;h=Math.floor(1E3 * this.QG / this.FG);g=Math.floor(1001 * this.QG / this.FG);d=1E3 * Math.round(h / 1E3);this.QG=d;this.FG=Math.abs(g - d) > Math.abs(h - d)?1E3:1001;};return k;})();b.Kia=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vQa=void 0;c=a(376);b.vQa=(function(){return function(k,h){var g;void 0 === h && (h={w:1,DI:1});this.ur=k;this.O9a=h;g=k.w * h.w;k=k.DI * h.DI;h=c.vx(g,k);this.o6={w:g / h,DI:k / h};};})();},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mPa=b.Kob=void 0;c=a(1);a(117);k=a(4);r=c.__importDefault(a(6));h=a(405);a=a(395);g=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}f=(function(m){function l(n,p){p=m.call(this,n.Up,p) || this;p.eH=n;return p;}c.__extends(l,m);Object.defineProperties(l.prototype,{aa:{get:function(){return this.eH.tAa(this.ye);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{offset:{get:function(){return this.eH.Xd(this.ye);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zva:{get:function(){return this.eH.oJ && this.eH.oJ[this.ye];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ei:{get:function(){return this.eH.mJb(this.ye);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$a:{get:function(){return this.eH.Si && this.eH.Si[this.ye];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ama:{get:function(){return 8 * this.aa / (1E3 * this.Hu / this.V);},enumerable:!1,configurable:!0}});l.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.bb,contentEndTicks:this.rb,durationTicks:this.Hu,timescale:this.V,startPts:this.$,endPts:this.La,duration:this.duration,additionalSAPs:this.Ei};};return l;})(a.OPa);b.Kob=f;r=(function(){function m(l,n,p,q,t,w,v){this.MM=128;this.cd=n;this.Ze=p.offset;this.nk=p.sizes;this.YM=l;this.lM=this.ET=this.Di=this.sq=this.Xka=void 0;this.Yrb=q;this.Wia=t && t.Xd;this.ku=w;this.zf=Math.min(this.cd.length,this.nk.length);l=this.oyb();this.Krb=l.maxBitrate;this.Lrb=l.dt;this.Up.fs.length !== this.nk.length && g.trace("Mis-matched stream duration (" + this.Up.fs.length + "," + this.nk.length + ") for movie id " + v);this.Up.V5 && !this.Wia && g.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.cd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.zf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bl:{get:function(){return this.cd.Bl;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xpa:{get:function(){return this.cd.xpa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$:{get:function(){return this.cd.$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{La:{get:function(){return this.cd.La;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uva:{get:function(){return this.cd.uva;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mx:{get:function(){return this.Krb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dt:{get:function(){return this.Lrb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{za:{get:function(){return this.cd.za;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{V:{get:function(){return this.cd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{We:{get:function(){return this.sq || this.eja();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oJ:{get:function(){return this.Yrb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lla:{get:function(){return this.Wia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Si:{get:function(){return this.ku;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Up:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jy:{get:function(){return this.Xka || this.gqb();},enumerable:!1,configurable:!0}});m.prototype.tAa=function(l){if(this.nk)return this.nk[l];g.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.Uj=function(l){return this.cd.Uj(l);};m.prototype.KW=function(l){return this.cd.Uj(l) + this.cd.rd(l);};m.prototype.Xd=function(l){var n,p,q;if(this.ET !== l || void 0 === this.lM){if(0 === l)return this.Ze;if(this.ET === l - 1 && void 0 !== this.lM)(this.lM+=this.nk[this.ET],++this.ET);else {n=this.Di || this.Qpb();p=Math.floor(l / this.MM);q=p * this.MM;for(n=n[p];q < l;++q){n+=this.nk[q];}this.ET=l;this.lM=n;}}return this.lM;};m.prototype.rd=function(l){return this.cd.rd(l);};m.prototype.get=function(l){return new f(this,l);};m.prototype.mJb=function(l){var n,p,q,t,w;k.assert(0 <= l);n=this.Up.V5;p=this.Up.rUa;q=this.Wia;if(!q || !n || !p || l >= n.length)return [];t=[];w=l === n.length - 1?p.length:n[l + 1];for(n=n[l];n < w;++n){t.push({yl:p[n],Kd:this.Uj(l) + this.za.qJ(p[n]).W,offset:q[n]});}return t;};m.prototype.Nm=function(l,n,p){return this.cd.Nm(l,n,p);};m.prototype.l8=function(l,n,p){return this.cd.l8(l,n,p);};m.prototype.coa=function(l,n){return this.cd.coa(l,n);};m.prototype.lyb=function(l,n,p,q,t){var w,v,u,x,y,z,A,B,D;w=!0;v=0;u=this.cd.fs;x=this.nk;l=Math.floor(l * this.V / 1E3);y=Math.floor(p * this.V / 1E3);z=0;A=0;B=0;if(this.cd.JBa && this.cd.IBa)for(v=this.cd.JBa;v <= this.cd.IBa;++v){z+=u[v];A+=x[v];}if(A > n)w=!1;else for(;v < this.length && (!t || v < t);){D=x[v];p=u[v];if(A + D > n){for(;1 < v - B && A + D > n && (z - u[B] >= y || A - x[B] > q);){z-=u[B];A-=x[B];++B;}if(z < l || A + D > n){w=!1;this.cd.JBa=B;this.cd.IBa=v;break;}}z+=p;A+=D;++v;}return w;};m.prototype.subarray=function(l,n){k.assert(void 0 === l || 0 <= l && l < this.length);k.assert(void 0 === n || n > l && n <= this.length);return new m(this.YM,this.cd.subarray(l,n),{offset:this.Xd(l),sizes:this.nk.subarray(l,n)},this.oJ && this.oJ.subarray(l,n),this.Lla && ({Xd:this.Lla}),this.ku && this.ku.subarray(l,n));};m.prototype.forEach=function(l){for(var n=0;n < this.length;++n){l(this.get(n),n,this);}};m.prototype.map=function(l){for(var n=[],p=0;p < this.length;++p){n.push(l(this.get(p),p,this));}return n;};m.prototype.reduce=function(l,n){for(var p=0;p < this.length;++p){n=l(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;g.trace("StreamFragments: " + this.length);for(var l=0;l < this.length;++l){n=this.get(l);g.trace("StreamFragments: " + l + ": [" + n.$ + "-" + n.La + "] @ " + n.offset + ", " + n.aa + " bytes");}};m.prototype.oyb=function(){var l,n,p,q,t,w,x;l=0;n=0;p=this.cd.g7a;q=this.cd.h7a;t=this.cd.fs;w=this.nk;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var v=0,u=this.length;v < u;++v){x=w[v];x > n && (n=x,q=v);x/=t[v];x > l && (l=x,p=v);}void 0 === this.cd.g7a && (this.cd.g7a=p);void 0 === this.cd.h7a && (this.cd.h7a=q);}else (l=w[p] / t[p],n=w[q]);return {maxBitrate:Math.floor(l * this.V / 125),dt:n};};m.prototype.eja=function(){for(var l=0,n=0;n < this.length;++n){l+=this.nk[n];}return this.sq=l;};m.prototype.gqb=function(){var l;l=new Uint8Array(this.nk.length);k.assert(void 0 !== l,"invalid streamIndices");if(l){k.assert(void 0 !== this.YM,"invalid _streamIndex");for(var n=0;n < l.length;n++){l[n]=this.YM;}}n=this.ku || new Uint8Array(this.nk.length);return this.Xka=new h.ria(this.cd.fs,this.nk,l,n,this.cd.V);};m.prototype.Qpb=function(){if(!this.Di){for(var l=d?new Float64Array(Math.ceil(this.length / this.MM)):Array(Math.ceil(this.length / this.MM)),n=this.Ze,p=0;p < l.length;++p){l[p]=n;for(var q=0;q < this.MM;++q){n+=this.nk[p * this.MM + q];}}this.Di=l;}return this.Di;};return m;})();b.mPa=r;r.prototype.Jdb=a.Ix(r.prototype.Uj);a.Ix(r.prototype.KW);a.Ix(r.prototype.rd);a.Ix(r.prototype.Xd);a.Ix(r.prototype.tAa);a.Ix(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Gc();this.Pb=1 === this.version?this.ij([{creationTime:"int64"},{modificationTime:"int64"},{V:"int32"},{duration:"int64"}]):this.ij([{creationTime:"int32"},{modificationTime:"int32"},{V:"int32"},{duration:"int32"}]);return !0;};h.Vb="mvhd";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="trak";h.Ta=!0;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){var d;this.Gc();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{bRb:"int16"},{dwb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Pb=this.ij(d);this.Pb.h5b=! !(this.flags & 1);this.Pb.i5b=! !(this.flags & 2);this.Pb.j5b=! !(this.flags & 4);this.Pb.k5b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");if(null === g || void 0 === g?0:g.Zb)(g.Zb.width=this.Pb.width,g.Zb.height=this.Pb.height);return !0;};h.Vb="tkhd";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Gc();this.Pb=this.ij(1 === this.version?[{x8:"int64"}]:[{x8:"int32"}]);return !0;};h.Vb="mehd";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){this.Pb=this.ij([{Psa:"int32"},{hCa:"int32"}]);if(null === g || void 0 === g?0:g.Zb)(g.Zb.XMb=this.Pb.Psa,g.Zb.$6b=this.Pb.hCa);return !0;};h.Vb="pasp";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Pb=this.ij([{Rxb:"int32"},{maxBitrate:"int32"},{Mz:"int32"}]);return !0;};h.Vb="btrt";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.u.am();this.u.am();for(this.HH=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.HH.push(this.u.am());}return !0;};h.Vb="ftyp";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(83);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){this.Gc();this.Pb=this.ij([{WXb:"int32"},{NX:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Pb.NX=k.Ro(this.Pb.NX);return !0;};g.Vb="hdlr";g.Ta=!1;return g;})(a(26).Kc);b.default=r;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(100);h=a(236);g=a(176);r=a(26);d=a(84);a=(function(f){function m(){return null !== f && f.apply(this,arguments) || this;}c.__extends(m,f);m.prototype.parse=function(){this.Gc();this.pA=this.u.xa();return !0;};m.prototype.Pu=function(l){var n,p,q;p=Object.keys(this.Za);if(p.length && (p=p[0],this.Za[p].length)){p=this.Za[p][0];if(p instanceof g.default){q=null !== (n=p.yr) && void 0 !== n?n:p.samplerate;this.za=new h.R(p.$n,q);}else p instanceof d.default && (n=p.Za[k.cG]) && n.length && (n=n[0].Pb,1E3 !== n.Eq && 1001 !== n.Eq || 0 !== n.yv % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.yv + "/" + n.Eq):this.za=new h.R(n.Eq,n.yv));l && this.za && (l.za=this.za);}return !0;};m.prototype.u_=function(l){void 0 !== this.Za[l] && 0 !== this.Za[l].length && (this.oa.th(this.pA - 1,this.byteOffset + 12),l=this.Za[l][0],this.Re(l.byteLength,l.byteOffset));};m.Vb="stsd";m.Ta=!0;return m;})(r.Kc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Eqa=this.u.Fc(2);this.Ema=this.u.Fc(5);this.Fma=this.u.Fc(3);this.nla=this.u.Fc(3);this.u.Fc(1);this.u.Fc(5);this.u.Fc(5);return !0;};h.Vb="dac3";return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){var d;this.Awa=this.u.yc() & 7;this.ZAa=[];for(var g=0;g < this.Awa;g++){d={Eqa:this.u.Fc(2),Ema:this.u.Fc(5),Fma:this.u.Fc(5),nla:this.u.Fc(3),eRb:this.u.Fc(1),zwa:this.u.Fc(4)};0 < d.zwa?d.Wyb=this.u.Fc(9):this.u.Fc(1);this.ZAa.push(d);}return !0;};h.Vb="dec3";return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(26);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){this.Gc();this.hK=this.u.am();k.Z && this.u.console.trace("SchemeTypeBoxTranslator: " + this.hK);if("cenc" === this.hK){if((this.u.offset-=4,k.Z && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.oa.n1("piff"),null === d || void 0 === d?0:d.Zb))d.Zb.encryptionScheme="piff";}else if(null === d || void 0 === d?0:d.Zb)d.Zb.encryptionScheme=this.hK;this.u.xa();return !0;};g.Vb="schm";g.Ta=!1;return g;})(k.Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){var d;this.u.Xa();this.Lea=this.u.Xa();this.u.Xa();this.u.Xa();this.u.Xa();this.TB=this.VG(this.u.Xa() & 31);this.QZ=this.VG(this.u.Xa());this.jr=this.TB.length?this.TB[0][0]:this.Lea;this.rU=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.jr || 110 === this.jr || 122 === this.jr || 144 === this.jr) && (this.u.Xa(),this.u.Xa(),this.VG(this.u.Xa()));d=this.startOffset + this.length - this.rU;0 < d && this.Re(d,this.rU);if(null === g || void 0 === g?0:g.config)(g.config.TB=this.TB,g.config.QZ=this.QZ,g.config.jr=this.jr);return !0;};h.prototype.VG=function(g){var m;for(var d=[],f=0;f < g;++f){m=this.u.yc();d.push(this.u.AB(m));}return d;};h.Vb="avcC";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.Pu=function(){var g;g=this.Tl("esds");if(g=g && g.jS.Tl(5))(this.$n=g.$n,this.yr=g.yr);return !0;};h.Vb="mp4a";h.Ta=!0;return h;})(a(176).default);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(238);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){this.Gc();this.jS=k.kS.j_(this.u,d);this.u.console.trace("-------------- ESDBox start ---------------");this.u.console.trace(this.jS);this.u.console.trace("-------------- ESDBox end ---------------");return !0;};g.Vb="esds";g.Ta=!1;return g;})(a(26).Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=a(100);a=a(26);k=r.cG;a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){this.Gc();this.Pb=this.ij([{yv:"int32"},{Eq:"int16"}]);return !0;};g.Vb=k;g.Ta=!1;return g;})(a.Kc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){var g,d,f,m,l;this.Gc();g=this.ij([{dw:"int32"},{kW:"int32"},{Sn:"int32"},{Un:"int32"},{Tn:"int32"}]);d=g.dw;f=g.kW;m=g.Sn;l=g.Tn;g=g.Un;this.Pb={trackId:d,pEb:f,gA:m,qEb:l,rEb:g};this.dw=d;this.kW=f;this.Sn=m;this.Un=g;this.Tn=l;return !0;};h.Vb="trex";h.Ta=!1;return h;})(a(26).Kc);b.default=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(879);h=a(242);g=a(150);d=a(236);f=a(26);r=a(400);m=a(401);l=a(403);n=a(151);p=a(235);q=a(100);t=a(404);w=a(882);a=(function(){function v(u,x,y,z,A,B){this.console=u;this.stream=x;this.ki=z;this.Hla=A;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=B || ({});this.k3a=n.dra();}v.path=function(u,x){return x.reduce(function(y,z){return y && y.Za[z] && y.Za[z][0];},u);};v.wra=function(u){return u && u.HH && -1 !== u.HH.indexOf("mcl0")?"mcl0":void 0;};v.$pa=function(u,x){var y,z;g.assert("mcl0" === u,"Unsupported McClearen brand");y=x.X;u=y.rd;x=new d.R(120,1).df(y.V).mc;z=0;for(y=y.Bl;z < u.length && y < x;){y+=u[z++];}return z;};v.prototype.parse=function(u){var x;x=this.rza();if(!x.done){if(x.fZ)return {Wm:!1,qUa:x.fZ};this.console.error("Scan error: " + x.error);return {Wm:!1,parseError:x.error || "unknown mp4 scan error"};}this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);u=this.dxa(u);return u.done?this.$na():(this.console.error("Parse error: " + u.error),{Wm:!1,parseError:u.error || "unknown mp4 parse error"});};v.prototype.Zn=function(u){return f.Kc.Zn(this,u);};v.prototype.Tl=function(u){return f.Kc.Tl(this,u);};v.prototype.rza=function(){var u,x;u=new t.pga(this.ki,this.Hla?[q.Uy,q.Ty]:[],this.config && this.config.z4b || ["moof",q.SS],this.config && this.config.EZ);x=c.__assign(c.__assign({},this.config),{CJ:!1});return new l.DF(v.gK,u,this.view,this.console,x).parse();};v.prototype.dxa=function(u){var x,y,z;x=new t.fS(this.view.byteLength);y=Object.create(p.Zq.Za);this.config && ((this.config.Aba || this.config.Lda || this.config.dF) && k(p.Zq.cK,y),this.config.Mda && k(p.Zq.xBa,y),this.config.Lda && k(p.Zq.M0,y));z=c.__assign(c.__assign({},this.config),{CJ:!0});this.Dc=new l.DF(y,x,this.view,this.console,z);u=this.Dc.parse(u);u.done && (this.Za=this.Dc.Za);return u;};v.prototype.$na=function(){var u,x,y,z,A,B,D,C;u={Wm:!0};x=v.path(this,["moov"]);y=v.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.Aba)if(y)(u.za=y.za,u.y0b=y.Za);else return {Wm:!1,parseError:"Missing sample descriptions"};z=v.path(y,["encv","sinf","schi"]);z && (z=v.path(z,["tenc"]) || v.path(z,[q.YS])) && (u.b_a={DAb:z.Ek,WI:z.WI,CQb:!1});if(z=v.path(x,["trak","mdia","mdhd"]))u.V=z.V;if(z=v.path(x,["mvex","trex"]))u.gA=z && z.Pb.gA;u.gA && u.V && (u.za=new d.R(u.gA,u.V));if(z=v.path(this,["sidx"])){A=v.path(this,[q.Uy]);A=A && A.Ava;B=v.path(this,[q.Ty]);B=B && B.Ei;u.X=z.X;u.oJ=A;u.Ei=B;}if(A=this.Za.vmaf && this.Za.vmaf[0])u.Si=A.Si;if(this.config.sca && (A=v.path(x,["mvex"]),B=x.Za.trak,A && B && B.length)){D=B.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});if(D.byteOffset > A.byteOffset){B=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength);C=w.yfb(B,A.byteOffset,A.byteOffset + A.byteLength);D=w.yfb(B,A.byteOffset + A.byteLength,D.byteOffset + D.byteLength);B.set(D,A.byteOffset);B.set(C,A.byteOffset + D.byteLength);}}if(this.config.Ibb)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.dF && y && 1 < y.pA && z && (u.kh=this.dF(y,z)),void 0 === u.kh && (x=this.Dc.lA?h.concat(this.Dc.Ba()):this.view.buffer,u.kh=[{Vd:0,data:x}]));else return {Wm:!1,parseError:"Missing movie box"};u.Wm=!0;u.FZ=this.Dc.offset;return u;};v.prototype.trim=function(u){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.Dc.trim(u);this.view=new DataView(x);};v.prototype.dF=function(u,x){var y,z,A;y=Object.keys(u.Za);z=y.filter(function(B){return "encv" !== B;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=v.path(this,["ftyp"]);A=v.wra(y);if(A)return (y=[],this.Dc.lya(),u.u_("encv"),y.push({Vd:0,yk:!1,data:h.concat(this.Dc.Ba())}),this.Dc.Oxa(),u.u_(z[0]),u=v.$pa(A,x),y.push({Vd:u,yk:!0,data:h.concat(this.Dc.Ba())}),y);}};v.gK={};return v;})();b.Vr=a;a.gK[q.dG]=r.default;a.gK[q.eG]=m.default;},function(r){r.exports=function k(a,c){var h;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(g){h=Object.getOwnPropertyDescriptor(a,g);void 0 !== h && Object.defineProperty(c,g,h);});};},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(150);h=a(242);g=a(83);r=a(881);d=(function(){function f(m){m?(this.Yf=m.Yf.slice(),this.uh=m.uh.slice(),this.Xd=m.Xd.slice(),this.trim=m.trim):(this.Yf=[],this.uh=[],this.Xd=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Yf.length && 0 === this.uh.length && 0 === this.Xd.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function m(l,n,p){l=f.call(this,l,n,p) || this;l.DW=[];l.tb=new d();return l;}c.__extends(m,f);m.$la=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.Xv?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.Xv?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:k.assert(!n.Xv);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(m.prototype,{lA:{get:function(){return !this.tb.empty;},enumerable:!0,configurable:!0}});m.prototype.gC=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};m.prototype.wCa=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:2,Xv:!1});void 0 === n && (this.offset+=2);};m.prototype.th=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:4,Xv:!1});void 0 === n && (this.offset+=4);};m.prototype.xCa=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:8,Xv:!1});void 0 === n && (this.offset+=8);};m.prototype.n1=function(l){this.th(g.IT(l));};m.prototype.dL=function(l,n){this.tb.Xd.push({offset:this.offset,Nl:l,value:n});this.offset+=4;};m.prototype.Re=function(l,n,p){this.tb.Yf.push({offset:n,remove:l,gb:p});};m.prototype.Pv=function(l,n,p,q){this.tb.Yf.push({offset:p,remove:l,replace:n,gb:q});};m.prototype.trim=function(l){this.tb.trim=l;};m.prototype.lya=function(){this.DW.push(new d(this.tb));};m.prototype.Oxa=function(){this.tb=this.DW.pop() || new d();};m.prototype.Ba=function(){var l,n,p,q,t,w,v;l=this;if(0 === this.tb.Yf.length && 0 === this.tb.uh.length && 0 === this.tb.Xd.length)return [void 0 === this.tb.trim?this.view.buffer:this.view.buffer.slice(0,this.tb.trim)];this.tb.Yf.sort(function(u,x){return u.offset - x.offset;});this.tb.uh.sort(function(u,x){return u.offset - x.offset;});this.fza();n=this.Xpa();p=this.view.buffer.slice(0,n);q=new DataView(p);this.tb.uh.forEach(m.$la.bind(void 0,q));this.QBa(q);this.OBa(q);t=[];w=void 0 !== this.tb.trim?Math.min(this.tb.trim,this.view.byteLength):this.view.byteLength;v=0;this.tb.Yf.filter(function(u){return u.offset <= w;}).forEach(function(u){u.offset > v && (t.push(q.buffer.slice(v,u.offset)),u.offset > q.byteLength && q !== l.view && (q=l.view,t.push(q.buffer.slice(n,u.offset))));u.replace && t.push(u.replace);v=u.offset + u.remove;});v < n && t.push(p.slice(v));v < w && t.push(this.view.buffer.slice(Math.max(p.byteLength,v),w));return t;};m.prototype.Xpa=function(){var l,n,p;l=[];n=this.tb.uh[this.tb.uh.length - 1];p=this.tb.Xd[this.tb.Xd.length - 1];n && l.push(n.offset + n.size);p && l.push(p.offset + 4);this.tb.Yf.filter(function(q){return q.gb;}).forEach(function(q){return l.push(q.gb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.tb.trim?Math.min(n,this.tb.trim):n;};m.prototype.fza=function(){this.tb.Yf=this.tb.Yf.reduce(function(l,n){var p,q;if(0 === l.length)return (l.push(n),l);p=l[l.length - 1];q=p.offset + p.remove;n.offset >= q?l.push(n):n.offset + n.remove > q && (k.assert(p.gb === n.gb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?h.concat(p.replace,n.replace):n.replace));return l;},[]);};m.prototype.QBa=function(l){var n;n=this;this.tb.Xd.forEach(function(p){var q,t,w,v;q=l;t=p.offset;n.tb.Yf.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),t=p.offset - u.offset,!0):!1;});w=p.Nl + (void 0 !== p.value?p.value:q.getInt32(t));v=n.tb.Yf.reduce(function(u,x){return x.offset > p.Nl && x.offset < w?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);q.setInt32(t,w - p.Nl - v);});};m.prototype.OBa=function(l){this.tb.Yf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.gb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.Mia);b.Lia=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(151);a(151);k=a(83);r=(function(){function h(g,d,f){this.view=g;this.console=d;this.config=f;this.view=g;this.console=d;this.lo=this.Oz=this.offset=0;}h.prototype.ara=function(g){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,g);};h.prototype.Fc=function(g){for(;this.lo < g;){this.Oz=(this.Oz << 8) + this.Xa();this.lo+=8;}this.lo-=g;return this.Oz >>> this.lo & (1 << g) - 1;};h.prototype.Xa=function(){var g;g=this.view.getUint8(this.offset);this.offset+=1;return g;};h.prototype.yc=function(g){g=this.view.getUint16(this.offset,g);this.offset+=2;return g;};h.prototype.xa=function(g){g=this.view.getUint32(this.offset,g);this.offset+=4;return g;};h.prototype.DB=function(){var g;g=this.view.getInt32(this.offset,void 0);this.offset+=4;return g;};h.prototype.nxa=function(g,d){var f;f=this.view.getUint32(this.offset + (g?4:0),g);g=this.view.getUint32(this.offset + (g?0:4),g);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + g;};h.prototype.Yd=function(g,d){g=this.nxa(g,d);this.offset+=8;return g;};h.prototype.oxa=function(g,d){var f;f=this.view.getInt32(this.offset + (g?4:0),g);g=this.view.getUint32(this.offset + (g?0:4),g);d || 0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + g;};h.prototype.wya=function(){var g;g=this.oxa(void 0,void 0);this.offset+=8;return g;};h.prototype.am=function(){return k.Ro(this.xa());};h.prototype.EB=function(){var d,f,m,l,n,p;function g(q,t){return ("000000" + q.toString(16)).slice(2 * -t);}d=this.xa(!0);f=this.yc(!0);m=this.yc(!0);l=this.yc();n=this.yc();p=this.xa();return [g(d,4),g(f,2),g(m,2),g(l,2),g(n,2) + g(p,4)].join("-");};h.prototype.CB=function(g){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + g);this.offset+=g;return d;};h.prototype.sya=function(g){var d;d=[];if(0 === g)return "";g=g || Number.MAX_SAFE_INTEGER;for(var f=this.Xa();0 !== f && 0 <= --g;){d.push(f);f=this.Xa();}return String.fromCharCode.apply(null,d);};h.prototype.AB=function(g){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.ji(this.config.dC && c.nsa || c.Rq,1,g,d,f);};h.prototype.qya=function(g,d,f){var m;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === m && (m=!1);return this.ji(this.config.dC && c.lsa || c.DA,2,g,d,f,m);};h.prototype.zB=function(g,d,f){var m;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === m && (m=!1);return this.ji(this.config.dC && c.msa || c.$u,4,g,d,f,m);};h.prototype.uya=function(){for(var g=this.Xa(),d=g & 127;g & 128;){g=this.Xa();d=d << 7 | g & 127;}return d;};h.prototype.ji=function(g,d,f,m,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);g=g(this.view,this.offset,f,m,n);this.offset=l || !m || m === d?this.offset + f * (m || d):this.offset + d;return g;};return h;})();b.Mia=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yfb=function(a,c,k){var h,g,d;h=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,k);g=Math.min(a.length,k);d=Math.min(a.length,c);for(k=new h(Math.max(k - c,0));d < g;d++){k[d - c]=a[d];}return k;};},function(r,b,a){var h,g,d,f;function c(m,l,n,p){g.call(this,m,l,n,p);}function k(m,l,n){g.call(this,m,l,n,void 0);}h=a(100);g=a(243).Tr;d=a(402);f=a(83).IT;c.prototype=Object.create(g.prototype);k.prototype=Object.create(c.prototype);k.prototype.Rja=function(m,l){return "string" === typeof l?d[l]:l?d.reset[m] || d.AAa[m]:d.AAa[m];};k.prototype.Kya=function(m,l,n){return this.Ba(m,l,!1,n,void 0);};k.prototype.Oya=function(m,l,n){return this.Ba(m,l,!0,n,void 0);};k.prototype.Ba=function(m,l,n,p,q){var w,v,u,x,y,z,A,B,D,C,F,G,E,I;function t(N){v=w[N];u=v.si("traf");if(void 0 === u || void 0 === u.Wh)return !1;A=u.si("tfdt");if(void 0 === A)return !1;x=u.si("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;w=this.Za.moof;if(!w || 0 === w.length)return !1;if(void 0 !== m){y=m;for(m=0;m < w.length;++m){if(!t(m,this.Dc.console.trace))return !1;if(x.ub > y || n && x.ub === y)break;y-=x.ub;}}else if((m=n?w.length - 1:0,!t(m,this.Dc.console.trace)))return !1;if(n && m < w.length - 1){z=w[m + 1];this.Dc.Re(this.IDb - z.startOffset,z.startOffset);}else !n && 0 < m && this.Dc.Re(v.startOffset,0);z=u.si("tfhd");if(void 0 === z)return !1;A=u.si("tfdt");B=x.ub;D=u.si("saiz");C=u.si("saio");F=u.si(h.XS);G=u.si("sbgp");if(!(!D && !C || D && C))return !1;E=u.si("sdtp");if(this.Za.mdat && m < this.Za.mdat.length)I=this.Za.mdat[m];else if(m !== w.length - 1)return !1;void 0 === y && (y=n?x.ub:0);if(x.Ba(u,z,I || this.Dc,l,y,u.Wh,n))x.lA && (!n && A && A.Ba(x.xAa),D && C && (D.Ba(x.Dr,n),C.Ba(F?0:D.bK,u.Wh,n)),F && F.Ba(x.Dr,n),E && E.Ba(x.Dr,B,n),G && G.Ba(x.Dr,n));else if(!n){if(m === w.length - 1)return !1;this.Dc.Re(w[m + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Dr)return !1;p && (l=this.Rja(this.stream.profile,q)) && x.Sya(u,z,I,n,p,l);n=this.Dc.Ba();p=n.reduce(function(N,L){return N + L.byteLength;},0);n={pa:n,length:p,uo:this.Dc.view.byteLength};x.lA && !I && (n.pr=u.Wh + x.pr,n.jj=x.jj);return n;};r.exports={Ur:k,cB:function(m){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,m + 8);n.setUint32(4,f("mdat"));return l;}};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);r=a(243);k=a(242);a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.Ba=function(d){var f,m,l,n;f=this;if(!this.parse().done)return !1;m=this.Za.moov;if(!m || 0 === m.length)return !1;l=m[0].Tl("tenc");if(!l)return !1;n=new Uint8Array(l.Ek);d.forEach(function(p){for(var q=p.from,t=!0,w=0;w < q.length;w++){if(n[w] !== q[w]){t=!1;break;}}t && f.Dc.Pv(p.from.length,p.to,l.WI);});return k.concat(this.Dc.Ba());};return g;})(r.Tr);b.xL=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.dk || (b.dk={});r[r.cc=0]="AUDIO";r[r.Nb=1]="VIDEO";},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.sGa=void 0;r=a(1);c=a(17);k=r.__importStar(a(10));h=r.__importDefault(a(6));g=new h.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(30));f=r.__importDefault(a(887));m=a(245);l=h.default.Sr;n=l.l2;p={};q={};a=[d.default.Oh.Vy,!1];r=[d.default.Oh.Vy,!0];t=[d.default.Oh.qG,!1];w=[d.default.Oh.qG,!0];v=[d.default.Oh.URL,!0];u=[-1,!1];x=[d.default.Oh.qG,!1];p[n.w8b]=t;p[n.UNKNOWN_ERROR]=t;p[n.yac]=t;p[n.Qjb]=t;p[n.XEa]=t;p[n.bkb]=t;p[n.Ujb]=w;p[n.Tib]=w;p[n.gEa]=x;p[n.eEa]=x;p[n.Uib]=u;p[n.Vib]=x;p[n.Wib]=x;p[n.Qib]=t;p[n.Sib]=t;p[n.fEa]=a;p[n.Rib]=t;p[n.Pib]=x;p[n.m9b]=w;p[n.$kb]=x;p[n.kHa]=x;p[n.jHa]=x;p[n.gHa]=x;p[n.hHa]=x;p[n.Zkb]=v;p[n.kga]=w;p[n.mga]=v;p[n.lga]=r;p[n.nHa]=w;p[n.blb]=v;p[n.b3]=x;p[n.lHa]=w;p[n.alb]=w;p[n.Xjb]=w;p[n.Rjb]=t;p[n.xob]=t;p[n.Hjb]=t;p[n.Ijb]=t;p[n.Jjb]=t;p[n.Kjb]=t;p[n.Ljb]=t;p[n.Mjb]=t;p[n.Njb]=t;p[n.Ojb]=t;p[n.Pjb]=t;p[n.Sjb]=t;p[n.Tjb]=t;p[n.Vjb]=t;p[n.Wjb]=t;p[n.Yjb]=t;p[n.Zjb]=t;p[n.$jb]=t;p[n.akb]=t;p[n.ckb]=t;p[n.dkb]=t;p[n.wob]=x;p[n.TIMEOUT]=a;q[n.gEa]=!0;q[n.kHa]=!0;q[n.jHa]=!0;q[n.hHa]=!0;q[n.XEa]=!0;a=(function(){var l50;function y(z,A,B,D){var m50;m50=2;for(;m50 !== 20;){switch(m50){case 4:this.Ls=D;m50=3;break;case 2:this.Rm=z;this.config=A;this.mNb=B;m50=4;break;case 14:var o5G="n";o5G+="etwo";o5G+="r";o5G+="k";o5G+="Failed";this.oh.addListener(this.Rm,o5G,this.eNb.bind(this));this.nP=h.default.time.ha();this.Du=0;m50=11;break;case 3:var P5G="1";P5G+="S";P5G+="IYb";P5G+="ZrNJCp9";this.events=new c.EventEmitter();this.oh=new c.Dg();P5G;this.IWa=new m.gia();p[n.gHa]=A.dOb?w:x;m50=14;break;case 11:this.mBa={};this.Zxa=new f.default(z,D,A);m50=20;break;}}}l50=2;for(;l50 !== 12;){switch(l50){case 14:y.prototype.QWa=function(){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:var l5G="C";l5G+="leared underflow time";l5G+="out";this.S0 && (clearTimeout(this.S0),this.S0=void 0,g.info(l5G));E50=1;break;}}};return y;break;case 2:y.prototype.Hb=function(){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:this.oh.clear();n50=1;break;}}};y.prototype.YE=function(z){var o50;o50=2;for(;o50 !== 1;){switch(o50){case 2:this.fda=z;o50=1;break;case 4:this.fda=z;o50=2;break;o50=1;break;}}};l50=5;break;case 9:y.prototype.zca=function(){var y50,z;y50=2;for(;y50 !== 5;){switch(y50){case 2:z=this;this.IWa.Iz || this.IWa.uCa(function(){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 2:z.yQ || (z.Rm.zca(),z.mBa={},z.Ls());z50=1;break;}}});y50=5;break;}}};y.prototype.Sda=function(z){var A50,A;A50=2;for(;A50 !== 9;){switch(A50){case 1:this.nP=Math.max(z.timestamp || h.default.time.ha(),this.nP);this.QWa();A50=4;break;case 2:A=this.config;A50=1;break;case 4:var Q5G="updat";Q5G+="i";Q5G+="ngL";Q5G+="astSuccessE";Q5G+="vent";var k5G="updatingLast";k5G+="Succ";k5G+="essEve";k5G+="nt";A.Kv && this.Zxa.Sda(z);this.events.emit(k5G,{type:Q5G});A50=9;break;}}};y.prototype.Jwa=function(){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:this.Du=0;B50=1;break;}}};y.prototype.Jk=function(){var C50,z,A,B;C50=2;for(;C50 !== 4;){switch(C50){case 2:var i5G="m";i5G+="s";var E5G="S";E5G+="etting ";E5G+="underflow tim";E5G+="eout in ";(z=this,A=this.config,B=A.haa);this.nP=Math.max(h.default.time.ha(),this.nP);!A.lgb || this.S0 || A.X0 && A.gO && A.DUb || (g.info(E5G + B + i5G),this.S0=setTimeout(function(){var D50;D50=2;for(;D50 !== 4;){switch(D50){case 2:var Z5G="F";Z5G+="orcing permanent net";Z5G+="w";Z5G+="ork failu";Z5G+="re after ";var I5G="ms, since underflow with ";I5G+="no";I5G+=" success";a000.n9G(7);g.info(a000.y9G(B,I5G,Z5G));z.S0=void 0;z.Rm.st(d.default.Oh.Vy,!0);D50=4;break;}}},B));C50=4;break;}}};l50=14;break;case 5:y.prototype.st=function(z,A,B,D){var q50,N,L,H,Q,C,F,G,E,I;q50=2;for(;q50 !== 15;){switch(q50){case 9:var d5G="crit";d5G+="ic";d5G+="alNetw";d5G+="ork";d5G+="Error";var a5G="c";a5G+="riticalNe";a5G+="t";a5G+="work";a5G+="Error";N=p[B];this.VA={II:A,Dh:B,B_a:G,Jj:D};q[B] && (++this.Du,this.events.emit(a5G,{type:d5G,Dh:B}));q50=6;break;case 18:var D5G="Invalid affected";D5G+=" ";D5G+="for network";D5G+=" fai";D5G+="lure";g.error(D5G);q50=17;break;case 12:L && (F[L]=[z.url]);q50=11;break;case 13:L=I.lcb(z.url);q50=12;break;case 6:q50=N !== u?14:15;break;case 20:q50=void 0 !== z.host && void 0 !== z.port?19:18;break;case 4:var A5G=" : critical err";A5G+="or count";A5G+=" = ";var S5G=" ";S5G+="o";S5G+="n";S5G+=" ";var p5G="Fa";p5G+="il";p5G+="u";p5G+="re";p5G+=" ";g.warn(p5G + G + S5G + JSON.stringify(z) + A5G + this.Du);q50=3;break;case 14:q50=void 0 !== z.url?13:20;break;case 16:var w5G="Unmapped ";w5G+="failure code in JSASE er";w5G+="ror director : ";a000.n9G(3);g.error(a000.b9G(w5G,B));q50=15;break;case 11:(H=N[0],Q=N[1]);E.Kv?k.forEach(F,function(O,J){var r50;r50=2;for(;r50 !== 5;){switch(r50){case 2:var h5G="err";h5G+="o";h5G+="r";N === x || N === t?C.Zxa.FYb({url:void 0 !== z.url?z.url:O[0],ue:J},{wUa:J,Q0:N,II:A,Dh:B,B_a:G,Jj:D}):O.some(function(M){var s50;s50=2;for(;s50 !== 5;){switch(s50){case 2:I.st(H,Q,M);return H === d.default.Oh.qG;break;}}});!C.fda || 0 !== A && void 0 !== A || (O=void 0 !== z.url?z.url:O[0]) && C.fda.Hza(h5G,O);r50=5;break;}}}):k.forEach(F,function(O,J){var t50;t50=2;for(;t50 !== 5;){switch(t50){case 1:var u5G="e";u5G+="r";u5G+="r";u5G+="o";u5G+="r";(O.some(function(M){var u50;u50=2;for(;u50 !== 5;){switch(u50){case 2:I.st(H,Q,M);return H === d.default.Oh.qG;break;}}}),!C.fda || 0 !== A && void 0 !== A || (O=void 0 !== z.url?z.url:O[0]) && C.fda.Hza(u5G,O));t50=5;break;case 2:t50=N !== x || C.E_b(J)?1:5;break;}}});q50=15;break;case 3:q50=B && k.isArray(p[B])?9:16;break;case 19:F=I.o1b(z.host,z.port);q50=11;break;case 2:(C=this,F=l.l2.name,G=B?F[B]:void 0);F={};(E=this.config,I=this.Rm);q50=4;break;case 17:return;break;}}};y.prototype.E_b=function(z){var v50,A,B,D;v50=2;for(;v50 !== 7;){switch(v50){case 1:v50=D?5:8;break;case 5:v50=D.Fk < this.nP?4:3;break;case 4:(D.Fk=A,D.count=1);v50=7;break;case 2:(A=h.default.time.ha(),B=this.config,D=this.mBa[z]);v50=1;break;case 3:v50=!(D.Fk >= A - B.yda || D.IB || (D.Fk=A,++D.count,D.count < B.naa))?9:7;break;case 9:return D.IB=!0;break;case 8:this.mBa[z]={Fk:A,count:1};v50=7;break;}}};y.prototype.eNb=function(z){var w50,A,B,D,C,F,G,E;w50=2;for(;w50 !== 7;){switch(w50){case 2:var f1G="te";f1G+="m";f1G+="por";f1G+="arily";var X1G="p";X1G+="e";X1G+="rmanent";X1G+="ly";var T1G="N";T1G+="etwo";T1G+="rk has fai";T1G+="le";T1G+="d ";var K5G=" m";K5G+="s";K5G+=" a";K5G+="g";K5G+="o";var N5G=" last";N5G+=" su";N5G+="ccess was ";(A=this,B=h.default.time.ha() - this.nP,D=z,C=this.config);a000.n9G(8);g.warn(a000.b9G(N5G,K5G,T1G,z?X1G:f1G,B));!z && B > C.ewa && (D=!0);w50=4;break;case 3:(F=this.VA.Dh,G=this.VA.II,E=this.VA.Jj);w50=9;break;case 9:var V1G="t";V1G+="empo";V1G+="ra";V1G+="ryN";V1G+="etworkError";var r1G="te";r1G+="mporar";r1G+="y";r1G+="Networ";r1G+="kError";z || this.events.emit(r1G,{type:V1G,errorCode:F,httpCode:G,nativeCode:E});D?(this.yQ && (clearTimeout(this.yQ),this.yQ=void 0),this.QWa(),this.Zxa.reset(),this.mNb({VPb:z,nWb:F,oWb:G,pWb:E})):this.yQ || (this.yQ=setTimeout(function(){var x50;x50=2;for(;x50 !== 5;){switch(x50){case 2:A.yQ=void 0;A.zca();x50=5;break;}}},C.fwa));w50=7;break;case 4:w50=this.VA?3:9;break;}}};l50=9;break;}}})();b.sGa=a;},function(r,b,a){var k,h,g;function c(d,f,m){this.eU=d;this.LG=0 === Math.floor(1E6 * Math.random()) % m.OJ;this.groupId=1;this.config=m;this.rA={};this.PE={};this.Ls=f;}k=a(10);h=a(6).default;new h.Console("ASEJS_PROBE_MANAGER","asejs");g=a(888).eDa;c.prototype.constructor=c;c.prototype.FYb=function(d,f){var m,l,n,p,q,t,w,v,u,x,y;m=this.eU;l=d.ue;n=m.Wdb(d.url);p=m.Y$(d.url);q=this.config;t=h.time.ha();w=f;v=[];u=n.Dj[0];x=!1;y=this.rA[l];if(!y)y=this.rA[l]={count:0,Fk:t,IB:!1,error:f,Pza:[],aya:{}};else if(y.Fk >= t - q.yda)return;y.IB || (u && p.id === u.id && (d.isPrimary=!0),y.Fk=t,y.IB=!1,y.error=f,++y.count,n && n.urls && 0 !== n.urls.length && (k.forEach(n.urls,function(z){var A,B,D;A=z.Pc.id;B=A + "-" + l;D=this.PE[B];if(void 0 === D || void 0 === D.bca)(D && D.Sp && clearTimeout(D.Sp),z=this.bYa(z.url,d,A),this.PE[B]={da:!1,count:0,bca:z.Ji()},v.push(z.Ji()),x=!0);-1 === y.Pza.indexOf(A) && y.Pza.push(A);},this),this.LG && 0 < v.length && (n={type:"logdata",target:"endplay",fields:{}},f=w,w={ts:h.time.ha(),es:f.wUa,fc:f.Dh,fn:f.B_a,nc:f.Jj,pb:v,gid:this.groupId},f.II && (w.hc=f.II),n.fields.errpb={type:"array",value:w,adjust:["ts"]},m.po(n)),x && this.groupId++));};c.prototype.bYa=function(d,f,m){var l,n,p;l=this.eU.Y$(f.url);l && l.Ab && l.Ab.Cx && l.Ab.Cx.qa || Math.random(0,1);l=new g(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);l.iWb(1 < n.length?d + "&" + p:d + "?" + p,f,m);return l;};c.prototype.GYb=function(d,f){var m,l,n,p,q,t,w,v;m=this.eU;l=this.config;n=f.ue;p=this.rA[n];q=d.url;t=this.PE[d.ue + "-" + n];if(p){w=p.error;if(t){t && t.Sp && clearTimeout(t.Sp);t.da=!0;t.count=0;t.bca=void 0;p.aya[d.ue]=!0;(t=this.rA[d.ue]) && !0 === t.IB && l.Hz && (m.Bbb(d.ue,t.error.Q0[1]),this.LG && (t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:h.time.ha(),id:d.requestId,servid:f.ue,gid:d.groupId?d.groupId:-1},adjust:["ts"]},m.po(t)),this.rA[d.ue]=void 0,this.Ls());if(q !== f.url){v=this.PE[n + "-" + n];v && v.da || (n=(n=m.Y$(q)) && n.Ab && n.Ab.Cx && n.Ab.Cx.qa || Math.random(0,1) * l.iaa,n=Math.min(n,l.iaa),setTimeout((function(){var u;if(!(!1 !== p.IB || v && v.da) && (p.IB=!0,m.st(w.Q0[0],w.Q0[1],f.url,w),this.LG)){u={type:"logdata",target:"endplay",fields:{}};u.fields.erep={type:"array",value:{ts:h.time.ha(),id:d.requestId,servid:f.ue,gid:d.groupId?d.groupId:-1},adjust:["ts"]};m.po(u);}}).bind(this),n));}this.LG && (t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:h.time.ha(),id:d.requestId,result:1,servid:d.ue,gid:d.groupId?d.groupId:-1},adjust:["ts"]},m.po(t));}}};c.prototype.DYb=function(d,f){var m,l,n,p,q,t,w,v,u,x;m=this.eU;l=parseInt(f.ue,10);n=this.rA[l];p=parseInt(d.ue,10);q=this.PE[p + "-" + l];t=0;w=this.config;if(q && n){q.da=!1;q.bca=void 0;n.aya[p]=!1;v=n.Pza;if(w.Hz && p === l && f.isPrimary){u=m.Y$(f.url);u=u && u.Ab && u.Ab.Cx && u.Ab.Cx.qa || 300 * Math.random(0,1);u*=Math.pow(2,q.count);u=Math.min(u,12E4);u+=Math.random(0,1) * (1E4 > u?100:1E4);q.Sp=setTimeout((function(){var y;q.Sp=void 0;y=this.bYa(d.url,f,p);y.G1b(d.groupId);q.bca=y.Ji();}).bind(this),u);}++q.count;if(p === l && (t=0,v.forEach(function(y){!1 === n.aya[y] && t++;}),v.length === t && n.count >= w.naa)){x=n.error;n.IB=!0;k.forEach(m.Wdb(f.url).urls,function(y){var z;m.st(x.Q0[0],x.Q0[1],y.url,x);if(this.LG){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:h.time.ha(),id:-1,servid:y.Pc.id},adjust:["ts"]};m.po(z);}},this);}this.LG && (l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.ha(),id:d.requestId,result:0,servid:d.ue,gid:d.groupId?d.groupId:-1},adjust:["ts"]},m.po(l));}};c.prototype.Sda=function(d){var f,m,l;f=d.url || d.mediaRequest.url;if(f){d=this.eU;f=d.lcb(f);m=this.rA[f];l=this.PE[f + "-" + f];m && m.IB && this.config.Hz && (d.Bbb(m.error.wUa,!1),this.LG && (m={type:"logdata",target:"endplay",fields:{}},m.fields.errst={type:"array",value:{ts:h.time.ha(),id:-1,servid:f},adjust:["ts"]},d.po(m)),this.rA[f]=void 0,l && l.Sp && clearTimeout(l.Sp));}};c.prototype.reset=function(){var d,f,m;d=this.PE;for(m in d){d.hasOwnProperty(m) && (f=d[m + "-" + m]) && f.Sp && clearTimeout(f.Sp);}this.PE={};this.rA={};};r.exports=c;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eDa=void 0;c=a(1);k=a(17);h=c.__importDefault(a(6)).default.Bw;r=(function(g){function d(f){var m;m=g.call(this) || this;m.VSa=f;m.S4=f.groupId;m.Yi=new k.Dg();m.Yi.on(m,h.Xe.WS,m.xka);m.Yi.on(m,h.Xe.hG,m.iU);return m;}c.__extends(d,g);d.prototype.iWb=function(f,m,l){h.prototype.open.call(this,f,m,l);};d.prototype.G1b=function(f){this.S4=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.S4;},enumerable:!1,configurable:!0}});d.prototype.gd=function(){this.Yi && this.Yi.clear();h.prototype.gd.call(this);};d.prototype.xka=function(f){this.VSa.GYb(f.probed,f.affected);this.gd();};d.prototype.iU=function(f){this.VSa.DYb(f.probed,f.affected);this.gd();};return d;})(h);b.eDa=r;},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rHa=void 0;c=a(1);k=a(147);h=a(406);g=a(15);d=c.__importDefault(a(6));r=a(82);f=a(409);m=a(4);l=a(129);a=(function(n){function p(q,t,w,v,u,x,y,z,A,B,D){var C;C=n.call(this,q) || this;C.me=q;C.I=t;C.J=w;C.po=v;C.TD=x;C.n$=y;C.mz=z;C.mTa=A;C.Eh=B;C.dSa=[void 0,void 0];C.VT=null !== D && void 0 !== D?D:{Tw:[Object.create(null),Object.create(null)]};u?C.DX=u:(C.Ge=l.Yp.instance.Cu("headers","" + C.me.N,!0,!1,{},C.J),C.Ge.zb());return C;}c.__extends(p,n);Object.defineProperties(p.prototype,{Tw:{get:function(){return this.VT.Tw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{KC:{get:function(){return this.VT.KC;},set:function(q){this.VT.KC=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rM:{get:function(){return this.VT.rM;},set:function(q){this.VT.rM=q;},enumerable:!1,configurable:!0}});p.prototype.gd=function(){var q;q=this;this.Tw.forEach(function(t,w){for(var v in t){t[v].gd();q.Qoa(w,v);}});this.Ge && l.Yp.instance.TN(this.Ge);this.Ge=void 0;};p.prototype.vp=function(q,t){return this.Tw[q][t];};p.prototype.E9=function(){return !(!this.KC || !this.KC.length);};p.prototype.Dna=function(){this.KC=void 0;};p.prototype.JQ=function(q){this.KC=q;};p.prototype.CBa=function(){var q,t;if(!this.E9() || this.rM)return !1;for(k.rn.Oq(1);0 < this.KC.length;){q=this.KC.shift();t=this.me.zx(1,q);if(t && !this.wNb(q) && t.pv)return (this.rM=q,this.Oda(t,{offset:0,SQ:!0}));}return !1;};p.prototype.VBa=function(q,t){var w;w=this;t.forEach(function(v){var u;u=w.vp(q,v.Qa);u && !v.pe && (u.stream.pe?v.Z6(u.stream):(u.zZ || (u.zZ=[]),u.zZ.push(w.me)));});};p.prototype.wQ=function(q,t,w){var v,u,x;v=this;x=this.me;g.Lf.forEach(function(y){var z,A,B,D,C;if(x.xc(y) && (void 0 === w || y === w)){D=q[y];m.assert(D && x.getTrackById(D.trackId) === D);D=D.Rd;if(x.Ck)v.I.warn("requestHeadersFromManifest, shutdown detected");else if(x.Rm.U0(x.N,D)){C=null !== (B=null === (A=null === (z=v.TD(y)) || void 0 === z?void 0:z.$I) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=f.aqa(D,C);void 0 === z && v.I.warn("Unable to find stream for bitrate " + C);z=D[z];(A=x.vp(y,z.Qa)) && A.stream.X?x.a6b(y,A):(y={offset:0,SQ:!1,JD:1 === y,tx:!0,HP:!v.n$(x)},x.WXa(z,y,t));}else v.I.warn("requestHeadersFromManifest, unable to update urls");}});x.QX=!0;null === (u=this.Eh) || void 0 === u?void 0:u.call(this,x.Tb).J6();};p.prototype.sF=function(q,t){var w,v,u,x;w=this.J;v=this.vp(q.mediaType,q.Qa);if(v)return (v.stream.X || v.SQ && this.NWa(v),!1);v=this.yrb;u=this.zrb;if(void 0 !== w.Tva && void 0 !== v && void 0 !== u){x=d.default.time.ha();if(x - v < w.Tva || x - u < w.Tva)return !1;}q=this.Oda(q,{offset:0},void 0,void 0,t);this.zrb=d.default.time.ha();return q;};p.prototype.Oda=function(q,t,w,v,u){var x,y,z,A,B;A=q.mediaType;k.rn.Oq(A);B=q.Qa;if(this.Upb(B,! !t.tx))return (null === (x=this.mTa) || void 0 === x?void 0:x.call(this),!1);if(x=this.vp(A,B))q=!1;else {x=c.__assign(c.__assign({},t),{aa:null !== (y=t.aa) && void 0 !== y?y:this.Eqb(q)});y=! !x.JD;B=! !x.HP;this.DX?u=this.DX(A,! !x.tx,y,B,! !w):u || (u=this.Ge);m.assert(u);q.url && (this.TD(A).Bua=q.url);x=q=this.eRa(q,u,x);if(!q.TP())return (this.me.rh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}t.tx && v && (this.me.Gh[A]=x);null === (z=this.mTa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.nn=function(){var q,t;q=this;t=[];this.Tw.forEach(function(w,v){var x;k.rn.Oq(v);for(var u in w){v=w[u];x=v.WBa();1 === x?t.push(v):2 === x && q.me.rh("swapUrl failure");}});return t;};p.prototype.Kk=function(q){var t,w;t=q.mediaType;w=k.rn.Oq(t);this.me.Ck?w.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.po({type:"logdata",target:"startplay",Pb:{usedNativeDataView:q.T6b}}),q.FZ > q.lWb && (this.dSa[t]=q.FZ),q.SQ && this.NWa(q),this.crb(q),this.yrb=d.default.time.ha(),this.me.gv.emit("onHeaderRequestComplete",q));this.Tu(q);};p.prototype.S5=function(q,t,w){var v;v=q.mediaType;k.rn.Oq(v);v=this.me.zx(v,q.Qa);if(t !== ! !q.yk)return !1;this.$Ta(q);q.Svb(v);this.NQa(q);this.me.gv.emit("onHeaderFromCache",{header:q,sIb:w});return !0;};p.prototype.dN=function(q,t){var w,v,u,x;w=[];v=this.Tw[q];for(u in v){x=v[u];x && !x.stream.X && x.pt === t && (this.Qoa(q,u),w.push({stream:x.stream,offset:x.offset,aa:x.aa,JD:x.JD,tx:x.tx,HP:x.HP,hxa:x.hxa}),x.gd());}return w;};p.prototype.iza=function(q){var t;t=this;q.forEach(function(w){t.Oda(w.stream,w);});};p.prototype.$Ta=function(q){this.Tw[q.mediaType][q.Qa]=q;};p.prototype.wNb=function(q){return ! !this.vp(1,q);};p.prototype.crb=function(q){var t,w,v,x;t=this.J;w=k.rn.Oq(q.mediaType);v=q.stream.X;if(t.voa){t=v.length;w.trace("fragment count:",t);for(var u=0;u < t;++u){x=v.get(u);w.trace("fragment: " + u + ", startPts: " + x.$ + ", duration: " + x.duration + ", offset: " + x.offset);}}this.NQa(q);};p.prototype.NQa=function(q){var t,w;t=q.mediaType;w=q.Qa;k.rn.Oq(t);q.zZ && (q.zZ.forEach(function(v){(v=v.zx(t,w)) && v !== q.stream && !v.pe && v.Z6(q.stream);}),q.zZ=void 0);this.me.bNb(q);};p.prototype.eRa=function(q,t,w){var v,u;v=this;u=k.rn.Oq(q.mediaType);q=new h.Rea(q,this.J,t,w,this,!1,u);q.addListener("headerRequestCancelled",function(x){v.brb(x.request);});q.zb(void 0);this.$Ta(q);return q;};p.prototype.Upb=function(q,t){return this.mz && (q=this.mz.DY(this.me.K,q)) && this.S5(q,!1,t)?!0:!1;};p.prototype.Eqb=function(q){var t,w,v,u;t=q.Dt;w=q.M;v=w.duration;u=this.J;return w.tf.Ne?u.D_a?u.D_a:u.K9:u.Q6b && t?t.offset + t.size:(q=this.dSa[q.mediaType])?q + 128:u.Fpa?2292 + 12 * Math.ceil(v / 2E3):u.K9;};p.prototype.brb=function(q){this.Qoa(q.mediaType,q.Qa);};p.prototype.Qoa=function(q,t){delete this.Tw[q][t];};p.prototype.NWa=function(q){this.rM === q.Qa && (this.rM=void 0);};return p;})(r.gw);b.rHa=a;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mOa=void 0;c=a(1);k=a(17);r=(function(h){function g(d,f,m,l){var n;n=h.call(this) || this;n.I=d;n.track=f;n.kp=!1;n.Zja=!1;n.oh=new k.Dg();n.oh.on(f,"networkfailing",function(){n.emit("networkfailing");});n.oh.on(f,"error",function(){n.I.warn("requestQueue got error");n.emit("error");});if(m)(n.kp=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.oh.on(f,"created",function(){n.kp=!0;n.emit("created");});n.Zja=l;return n;}c.__extends(g,h);Object.defineProperties(g.prototype,{g8:{get:function(){return this.track.g8;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Dh:{get:function(){return this.track.Dh;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jj:{get:function(){return this.track.Jj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{PW:{get:function(){return this.track.PW;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});g.prototype.zb=function(){var d,f;this.Zja || (null === (f=(d=this.track).zb) || void 0 === f?void 0:f.call(d),this.Zja=!0);};g.prototype.ov=function(){return this.track.ov();};g.prototype.toString=function(){return this.track.toString();};g.prototype.toJSON=function(){return this.track;};g.prototype.Gq=function(){this.oh.clear();};return g;})(k.EventEmitter);b.mOa=r;},function(r,b,a){var f,m,l,n,p,q,t;function c(w){var v,u,x;w=w.parent;v=!1;if(w && w.children){u={};u[q.lm]=[];u[q.Fl]=[];u[q.TEMPORARY]=[];x=w.children;x.forEach(function(y){y && u[y.rf].push(y);});0 < u[q.lm].length || (u[q.Fl].length === x.length?w.rf !== q.Fl && (w.rf=q.Fl,p.error("PERM failing :",l.default.Oh.name[w.Yn] + " " + w.id),v=!0):(w.rf === q.lm && (w.rf=q.TEMPORARY,p.error("TEMP failing :",l.default.Oh.name[w.Yn] + " " + w.id),v=!0),u[q.TEMPORARY].forEach(function(y){y.rf=q.lm;})),v && c(w));}}function k(w){var v;if((w=w.parent) && 0 < w.children.length && w.rf !== q.lm){v={};v[q.lm]=[];v[q.Fl]=[];v[q.TEMPORARY]=[];w.children.forEach(function(u){u && v[u.rf].push(u);});0 < v[q.lm].length && (w.rf=q.lm,k(w));}}function h(w){return w.rf !== q.lm;}function g(w){switch(w.rf){case q.lm:return "OK";case q.Fl:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(w,v){if(w.rf === q.TEMPORARY || w.rf === q.Fl && v)w.rf=q.lm;w.children && w.children.forEach(function(u){u && d(u,v);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Gga=void 0;f=a(1);m=f.__importStar(a(10));r=a(17);l=f.__importDefault(a(30));n=f.__importDefault(a(6));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(w){w[w.lm=0]="OK";w[w.TEMPORARY=1]="TEMPORARY";w[w.Fl=2]="PERMANENT";})(q || (q={}));(function(w){w[w.Dw=0]="STARTUP";w[w.gob=1]="REBUFFER";})(t || (t={}));a=(function(w){var F50;F50=2;function v(u,x,y,z,A){var G50,B;G50=2;for(;G50 !== 15;){switch(G50){case 4:B.config=z;B.tsb=A;G50=9;break;case 2:B=w.call(this) || this;B.$b=x;B.ei=y;G50=4;break;case 9:B.JYb=t.Dw;B.Dj={};B.Al={};B.urls={};B.streams={};G50=13;break;case 13:var b1G="n";b1G+="etwo";b1G+="rk";B.mB=[];B.Vaa=!1;B.Hp={id:b1G,Yn:l.default.Oh.Vy,rf:q.lm,Yx:void 0,parent:void 0,children:B.mB};B.d5=null;G50=20;break;case 20:var y1G="1SIYb";y1G+="ZrNJCp";y1G+="9";B.mK=null;B.FQ=l.default.$y.Dw;B.gN(u,l.default.$y.Dw);y1G;G50=16;break;case 16:return B;break;}}}for(;F50 !== 26;){switch(F50){case 3:v.prototype.Y$=function(u){var K50;K50=2;for(;K50 !== 5;){switch(K50){case 1:return u.Pc.location;break;case 2:K50=(u=this.urls[u]) && u.Pc?1:5;break;}}};v.prototype.Wdb=function(u){var L50;L50=2;for(;L50 !== 5;){switch(L50){case 2:L50=(u=this.urls[u])?1:5;break;case 9:return u.stream;break;L50=5;break;case 1:return u.stream;break;}}};v.prototype.gN=function(u,x){var M50,y;M50=2;for(;M50 !== 19;){switch(M50){case 3:this.mB.sort(function(z,A){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:return z.level - A.level || z.bc - A.bc;break;}}});u.servers.forEach(function(z){var P50,B,A,D;P50=2;for(;P50 !== 14;){switch(P50){case 4:B=y.Dj[z.key];P50=3;break;case 1:P50=y.Al[A]?5:4;break;case 2:A=z.id;P50=1;break;case 3:P50=B?9:14;break;case 5:y.Al[A].bc=z.rank;P50=14;break;case 9:D=[];z={id:A,Yn:l.default.Oh.qG,rf:q.lm,Yx:void 0,parent:B,children:D,urls:D,name:z.name,type:z.type,bc:z.rank,location:B};y.Al[z.id]=z;B.children.push(z);P50=14;break;}}});M50=8;break;case 13:this.mB=u;this.Hp.children=u;this.mK=null;this.FQ=x;this.dump();M50=19;break;case 2:y=this;void 0 === x && (x=l.default.$y.amb);u.locations.forEach(function(z){var N50,A,B,D,C;N50=2;for(;N50 !== 7;){switch(N50){case 2:A=z.key;N50=1;break;case 4:(B=[],D=y.ei.get(A),C=y.Hp);z={id:A,Yn:l.default.Oh.LOCATION,rf:q.lm,bc:z.rank,level:z.level,weight:z.weight,Yx:void 0,parent:C,children:B,Al:B,streams:{},Ab:D};y.Dj[z.id]=z;C.children.push(z);N50=7;break;case 1:N50=y.Dj[A]?5:4;break;case 5:(y.Dj[A].bc=z.rank,y.Dj[A].level=z.level,y.Dj[A].weight=z.weight);N50=7;break;}}});this.d5=n.default.time.ha();M50=3;break;case 8:u.audio_tracks.forEach(function(z){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:y.Z$a(z);Q50=1;break;}}});u.video_tracks.forEach(function(z){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 4:y.Z$a(z);R50=3;break;R50=1;break;case 2:y.Z$a(z);R50=1;break;}}});u=this.mB.filter(function(z){var S50,A;S50=2;for(;S50 !== 4;){switch(S50){case 2:A=z.Al.every(function(B){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 4:a000.n9G(9);var M31=a000.b9G(2,8,22,15);return M31 != B.urls.length;break;T50=1;break;case 2:return 0 === B.urls.length;break;}}});A && (z.Al.forEach(function(B){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:y.Al[B.id]=void 0;U50=1;break;}}}),y.Dj[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});u.forEach(function(z){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:z.Al.sort(function(A,B){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 4:return A.bc / B.bc;break;W50=1;break;case 2:return A.bc - B.bc;break;}}});V50=1;break;}}});M50=13;break;}}};v.prototype.U0=function(u,x){var X50,y,z,A,B,D,C;X50=2;for(;X50 !== 19;){switch(X50){case 2:(y=this,z=this.config,A=this.$b.get(),B=0);n.default.Au && n.default.Au(u);X50=5;break;case 5:X50=h(this.Hp)?4:3;break;case 6:X50=!this.mK?14:13;break;case 4:return !1;break;case 3:D=l.default.pj.rC;z.eZ && (D=l.default.pj.qC);this.$b.location && A.confidence >= D && (u=this.Dj[this.$b.location]) && (u.Ab=A);m.xb(this.mK) && (this.mK=this.f6b());X50=6;break;case 12:X50=!C.length?11:10;break;case 14:return (this.st(l.default.Oh.Vy,!1),!1);break;case 13:C=this.mK;X50=12;break;case 11:return (this.st(l.default.Oh.Vy,!1),!1);break;case 10:var L1G="(";L1G+="empty st";L1G+="ream";L1G+=" list";L1G+=")";var j1G="Did no";j1G+="t find a URL for ANY ";j1G+="stream...";var e1G="networkFai";e1G+="le";e1G+="d";var s1G="Ne";s1G+="twork has failed, no";s1G+="t";s1G+=" up";s1G+="dating stream selection";x.forEach(function(F,G){var Y50,E;Y50=2;for(;Y50 !== 5;){switch(Y50){case 2:var g1G=" K";g1G+="b";g1G+="p";g1G+="s";g1G+=")";var U1G=" ";U1G+="(";var J1G="]";J1G+=" ";var R1G="F";R1G+="ai";R1G+="ling stream ";R1G+="[";E=F.id;C.some(function(I){var Z50,N,L;Z50=2;for(;Z50 !== 8;){switch(Z50){case 2:N=I.streams[E];Z50=1;break;case 1:Z50=!N?5:4;break;case 5:return !1;break;case 4:L=N.Dj[0];void 0 === F.aca && (F.aca=L.id,F.Yxa=N.W0[L.id][0].Pc.id);return N.W0[I.id].some(function(H){var a60,Q;a60=2;for(;a60 !== 11;){switch(a60){case 5:a60=h(H)?4:3;break;case 3:var C1G="un";C1G+="k";C1G+="n";C1G+="ow";C1G+="n";Q=C1G;a60=9;break;case 4:return !1;break;case 2:a60=h(H.Pc)?1:5;break;case 12:return !0;break;case 1:return (H.Pc.rf === q.TEMPORARY && (F.rf=q.TEMPORARY),z.Kv && F.Pc === H.Pc.id && H.Pc.Yx && (F.Yx=H.Pc.Yx),!1);break;case 9:var x1G="locati";x1G+="onfa";x1G+="ilove";x1G+="r";var c1G="s";c1G+="erver";c1G+="fai";c1G+="lover";var n1G="p";n1G+="er";n1G+="forman";n1G+="ce";F.location !== I.id && (z.Kv?F.dua=I.id === L.id:Q=I !== C[0]?"" + l.default.$y.Zea:void 0 === F.location?"" + l.default.$y.Dw:m.ma(F.N5a) || F.N5a === I.id?m.ma(F.Q5a) || F.Q5a === H.Pc.id?n1G:c1G:x1G,F.location=I.id,F.Nua=I.level,F.At=Q);F.url=H.url;F.Pc=H.Pc.id;F.nK=H.Pc.name;F.Bt=H.Pc.type;F.Ab=z.zma?I.Ab.confidence >= l.default.pj.qC || A.confidence < D?I.Ab:A:A.confidence === l.default.pj.HAVE_NOTHING || I.Ab.confidence >= l.default.pj.qC?I.Ab:A;a60=12;break;}}});break;}}})?(F.IA=!1,F.rf=void 0,F.nv && ++B):F.rf && F.rf === q.TEMPORARY?y.Hp.rf=q.TEMPORARY:F.IA || (p.warn(R1G + G + J1G + E + U1G + F.bitrate + g1G),F.Pzb(),F.IA=!0);Y50=5;break;}}});return h(this.Hp)?(p.warn(s1G),this.Vaa=!0,this.emit(e1G,this.Hp.rf === q.Fl),!1):B?!0:(p.warn(j1G + (x.length?"":L1G)),this.st(l.default.Oh.Vy,!0),!1);break;}}};F50=6;break;case 20:v.prototype.Hb=function(){var k60;k60=2;for(;k60 !== 1;){switch(k60){case 2:this.config.QRb && this.gXb();k60=1;break;}}};v.prototype.Z$a=function(u){var l60,x;l60=2;for(;l60 !== 5;){switch(l60){case 2:x=this;u.streams.forEach(function(y){var m60,B,z,A;m60=2;for(;m60 !== 6;){switch(m60){case 1:m60=m.ma(A)?5:9;break;case 5:B=y.content_profile;m60=4;break;case 3:x.streams[A.id]=A;m60=9;break;case 2:(z=y.downloadable_id,A=x.streams[z]);m60=1;break;case 4:var O1G="n";O1G+="o";O1G+="n";O1G+="e";O1G+="-";A={id:z,bitrate:y.bitrate,$a:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(O1G),nv:!0,urls:[],W0:{},Dj:[]};m60=3;break;case 9:y.urls.forEach(function(D){var n60,G,C,F;n60=2;for(;n60 !== 13;){switch(n60){case 8:A.urls.push(F);0 === A.Dj.filter(function(E){var o60;o60=2;for(;o60 !== 1;){switch(o60){case 2:return E.id === G.id;break;}}}).length && A.Dj.push(G);G.streams[A.id]=A;(C=A.W0[G.id])?C.push(F):A.W0[G.id]=[F];n60=13;break;case 5:G=D.location;F={id:C,Yn:l.default.Oh.URL,rf:q.lm,Yx:void 0,parent:D,children:[],url:C,Pc:D,stream:A};x.urls[C]=F;D.children.push(F);n60=8;break;case 1:n60=m.ma(F) && (D=x.Al[D.cdn_id])?5:13;break;case 2:(C=D.url,F=x.urls[C]);n60=1;break;}}});m60=8;break;case 8:m.Cf(A.W0,function(D){var p60;p60=2;for(;p60 !== 1;){switch(p60){case 2:D.sort(function(C,F){var q60;q60=2;for(;q60 !== 1;){switch(q60){case 2:return C.Pc.bc - F.Pc.bc;break;}}});p60=1;break;}}});A.Dj=A.Dj.sort(function(D,C){var r60;r60=2;for(;r60 !== 1;){switch(r60){case 2:return D.level - C.level || D.bc - C.bc;break;}}});m60=6;break;}}});l60=5;break;}}};F50=18;break;case 13:v.prototype.Bbb=function(u,x){var g60;g60=2;for(;g60 !== 3;){switch(g60){case 1:(d(u,x),k(u));g60=5;break;case 2:g60=(u=this.Al[u])?1:5;break;case 5:this.mK=null;this.FQ=l.default.$y.uha;g60=3;break;}}};v.prototype.zca=function(){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:d(this.Hp,!1);h60=1;break;case 4:d(this.Hp,~6);h60=6;break;h60=1;break;}}};v.prototype.po=function(u){var i60,x;i60=2;for(;i60 !== 5;){switch(i60){case 2:null === (x=this.tsb) || void 0 === x?void 0:x.call(this,u);i60=5;break;}}};v.prototype.Jk=function(){var j60;j60=2;for(;j60 !== 1;){switch(j60){case 2:this.J_b(t.gob);j60=1;break;}}};F50=20;break;case 6:v.prototype.o1b=function(u,x){var b60,y,z;b60=2;for(;b60 !== 4;){switch(b60){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);m.forEach(this.urls,function(A,B){var c60,F,G,D,C;c60=2;for(;c60 !== 7;){switch(c60){case 4:var G1G="8";G1G+="0";var m1G="4";m1G+="4";m1G+="3";(F="s" === C[1],G=C[2]);C=C[3];C.length || (C=F?m1G:G1G);c60=8;break;case 8:m.Uf(G) && m.Uf(C) && G === u && C == x && (D?D.push(B):y[A]=[B]);c60=7;break;case 5:c60=C && 4 === C.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(D=y[A],C=B.match(z));c60=5;break;}}});return y;break;}}};v.prototype.st=function(u,x,y,z){var d60,e60,C,F,f60,G,A,B,D;d60=2;for(;d60 !== 42;){switch(d60){case 19:F=F.parent;d60=12;break;case 11:e60=F.Yn;d60=e60 === l.default.Oh.qG?10:18;break;case 32:z && (this.FQ=l.default.$y.Qnb,A.Yx=z);this.dump();d60=42;break;case 27:var H1G=" :";H1G+=" wa";H1G+="s ";C.call(y,u + (x.length?"/" + x.join("/"):"") + H1G + g(A));d60=26;break;case 43:var M1G="Unable to find fail";M1G+="ur";M1G+="e entity f";M1G+="or URL ";a000.C9G(3);p.warn(a000.y9G(M1G,y));d60=42;break;case 24:A.rf=D;c(A);this.Vaa=this.Vaa || h(this.Hp);d60=21;break;case 12:d60=F?11:27;break;case 9:var t1G=" ";t1G+="a";t1G+="t";t1G+=" ";var q1G=" fa";q1G+="i";q1G+="lure r";q1G+="eported for ";var B1G="T";B1G+="E";B1G+="M";B1G+="P";var F1G="P";F1G+="E";F1G+="R";F1G+="M";y=p;C=y.warn;u=(x?F1G:B1G) + q1G + l.default.Oh.name[u] + t1G;x=[];d60=13;break;case 30:d60=f60 === q.TEMPORARY?24:29;break;case 18:d60=e60 === l.default.Oh.LOCATION?17:16;break;case 15:var W1G="<u";W1G+="rl ";W1G+="f";W1G+="or";W1G+=" ";x.unshift(W1G + F.stream.bitrate + ">");d60=19;break;case 1:d60=A && A.parent && A.Yn !== u?5:4;break;case 44:var v1G="Invalid ";v1G+="failure s";v1G+="ta";v1G+="te";throw Error(v1G);d60=24;break;case 26:f60=A.rf;d60=f60 === q.Fl?25:30;break;case 17:x.unshift(F.id);d60=19;break;case 3:d60=D !== A.rf?9:42;break;case 10:G=F;d60=20;break;case 5:A=A.parent;d60=1;break;case 20:x.unshift(G.id + "(" + G.name + ")");d60=19;break;case 21:var z1G="netw";z1G+="ork";z1G+="F";z1G+="aile";z1G+="d";var Y1G="Emittin";Y1G+="g networkFai";Y1G+="led, permanent =";D=this.Hp.rf;D > B && (p.warn(Y1G,D === q.Fl),this.emit(z1G,D === q.Fl));this.mK=null;this.FQ=l.default.$y.ag;d60=32;break;case 28:d60=44;break;case 16:d60=e60 === l.default.Oh.URL?15:19;break;case 29:d60=f60 === q.lm?24:28;break;case 4:d60=A?3:43;break;case 13:F=A;d60=12;break;case 25:return;break;case 2:(A=u !== l.default.Oh.Vy && y?this.urls[y]:this.Hp,B=this.Hp.rf,D=x?q.Fl:q.TEMPORARY);d60=1;break;}}};F50=13;break;case 18:v.prototype.f6b=function(){var s60,u,x,y,z;s60=2;for(;s60 !== 6;){switch(s60){case 1:s60=0 === y.length?5:4;break;case 2:(u=this,x=this.config,y=this.mB.filter(function(A){var t60;t60=2;for(;t60 !== 1;){switch(t60){case 2:return !h(A) && 0 !== A.level;break;case 4:return ~h(A) || 6 == A.level;break;t60=1;break;}}}));s60=1;break;case 5:return null;break;case 9:(y.forEach(function(A){var u60;u60=2;for(;u60 !== 1;){switch(u60){case 2:A.id !== u.$b.location && (A.Ab=u.ei.get(A.id));u60=1;break;}}}),this.d5=z);s60=8;break;case 4:z=n.default.time.ha();s60=3;break;case 8:y.sort(function(A,B){var v60;v60=2;for(;v60 !== 1;){switch(v60){case 2:return A.level - B.level || A.bc - B.bc;break;}}});return y;break;case 3:s60=null === this.d5 || this.d5 + x.Mua < z?9:8;break;}}};F50=17;break;case 2:f.__extends(v,w);v.prototype.qMb=function(){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:return this.mB[0].Ab;break;}}};v.prototype.Ou=function(){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return h(this.Hp);break;}}};v.prototype.lcb=function(u){var J50;J50=2;for(;J50 !== 5;){switch(J50){case 1:return u.parent.id;break;case 2:J50=(u=this.urls[u]) && u.parent?1:5;break;}}};F50=3;break;case 17:v.prototype.J_b=function(u){var w60,x;w60=2;for(;w60 !== 4;){switch(w60){case 2:x=this.$b.location;this.JYb=u;this.mB.forEach(function(y){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:y.id !== x && y.Ab && y.Ab.confidence > l.default.pj.rC && (y.Ab.confidence=l.default.pj.rC);x60=1;break;}}});w60=4;break;}}};v.prototype.gXb=function(){var y60,u;y60=2;for(;y60 !== 5;){switch(y60){case 2:u=this;this.Vaa || this.mB.forEach(function(x){var z60;z60=2;for(;z60 !== 1;){switch(z60){case 2:x.rf === q.TEMPORARY && u.ei.fail(x.id,n.default.time.ha());z60=1;break;}}});y60=5;break;}}};v.prototype.dump=function(){};return v;break;}}})(r.EventEmitter);b.Gga=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lDa=void 0;c=a(23);r=(function(){function k(h){this.config=h;}k.prototype.RYb=function(h){var g,d,f;g=this.config;d=[];f=[];h.forEach(function(q,t){void 0 === q.$a?f.push(t):d.push(t);});if(0 !== f.length)for(var m=-1,l=-1,n=function(q){var t,w,v,u,x,y;t=f[q];w=h[t];if(0 === q || t !== f[q - 1] + 1)(m=d[c.i6(d,function(z){return z < t;})] || -1,l=d[c.Ln(d,function(z){return z > t;})] || -1);v=0;u=g.bTb;q=0;x=g.cTb;-1 < l && (u=h[l].bitrate,x=h[l].$a);-1 < m && (q=h[m].$a,v=h[m].bitrate);u=Math.log(u);v=0 === v?0:Math.log(v);y=Math.log(w.bitrate);w.X7=Math.max(0,Math.min(110,Math.round((q * (u - y) + x * (y - v)) / (u - v) * 100) / 100));},p=0;p < f.length;p++){n(p);}};return k;})();b.lDa=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.pKa=void 0;c=a(21);k=a(4);h=a(894);g=a(895);d=a(896);f=a(897);m=a(898);l=a(899);n=a(900);p=a(901);r=(function(){function q(t,w,v,u){this.config=t;this.mediaType=w;this.Uc=v;this.console=u;}q.prototype.append=function(t,w){var v,u,x,y,z;u=w.endOfStream;x=w.xE;y=w.hZ;void 0 === this.track?this.bP(t.stream):this.track !== t.stream.track && (k.assert(this.track.za),k.assert(t.stream.track.za),k.assert(1 === this.mediaType || this.track.za.equal(t.stream.track.za)),this.track=t.stream.track);k.assert(void 0 !== this.ys);w={pa:t,offset:null !== (v=t.iya) && void 0 !== v?v:c.R.hb,te:this.config.Mca,wk:!1};z=this.ys.reduce(function(A,B){return B.append(A,{endOfStream:u,xE:x,hZ:y});},w);v=z.pa;w=z.offset;z=z.wk;v.Ba && t.Tj(v.Ba);return {offset:w,wk:z};};q.prototype.reset=function(){this.ys=this.track=void 0;};q.prototype.bP=function(t){var w,v;this.track=t.track;this.ys=[];if(0 === this.mediaType){this.config.Mca && this.ys.push(new d.zOa(this.config,t.track,this.console));v=this.ana(t);v.equal(c.R.hb)?this.config.Jn && t.kg && this.wta(t.M.N) && this.ys.push(new l.qIa(this.config)):this.ys.push(new h.aia(v));this.config.QY || (this.console.log("MediaSplicer: NegativePtsGuard: " + v.Ic() + ", " + (null === (w=t.kg) || void 0 === w?void 0:w.Ic())),this.ys.push(new f.KKa(this.config,t,this.console)));this.TPb()?(this.config.sh || this.ys.push(new n.pDa(t,this.config,this.Uc,this.console)),this.ys.push(new g.WKa(this.config,t,this.console)),this.D2b(t) && (k.assert(t.za),this.ys.push(this.CAb(t.kg || c.R.hb,t.za,v)))):this.ys.push(new p.qDa(this.console));}};q.prototype.wta=function(t){return this.config.wta || this.config.s4a && -1 !== this.config.s4a.indexOf(t);};q.prototype.ana=function(t){return h.aia.ana(this.config,t.kg,this.Uc,this.console);};q.prototype.TPb=function(){return !this.config.WJ;};q.prototype.D2b=function(t){return this.config.A5b && this.config.Jn && ! !t.kg;};q.prototype.CAb=function(t,w,v){return new m.aQa(t.Ha(v),w,this.console);};return q;})();b.pKa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aia=void 0;c=a(21);k=a(16);r=(function(){function h(g){this.kg=g;}h.ana=function(g,d,f,m){var l;l=c.R.hb;d && (f=null === f || void 0 === f?void 0:f.Ldc,g.J6b && void 0 !== f && 0 <= f?(g=new c.R(f,48E3),l=d.add(g),k.Z && m.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + g) + (" for ASE applied offset of " + l + "."))):g.qH && (l=d));return l;};h.prototype.append=function(g){var d,f;d=g.te;f=g.wk;return {pa:g.pa,offset:g.offset.add(this.kg),te:d,wk:f};};return h;})();b.aia=r;},function(r,b,a){var k,h,g,d;function c(f){return f.toString() + " (nrdp: " + f.$J + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.WKa=void 0;k=a(21);h=a(249);g=a(16);d=a(4);r=(function(){function f(m,l,n){this.console=n;this.offset=k.R.hb;this.kg=m.Jn?l.kg:void 0;d.assert(l.za);this.za=l.za;}f.prototype.append=function(m){var l,n,p;if(m.wk)return m;l=m.pa;n=m.offset;p=m.te;void 0 !== this.J5a && (d.assert(void 0 !== this.nua),l.Mc.add(m.offset).equal(this.J5a)?(m=this.syb(l,n.add(this.offset)).W - this.nua,0 > m?this.offset=this.offset.add(k.R.Tx):0 === m?this.offset.lessThan(k.R.hb) && (this.offset=this.offset.add(k.R.Tx)):1 === m?this.offset.greaterThan(k.R.hb) && (this.offset=this.offset.Ha(k.R.Tx)):this.offset=this.offset.Ha(k.R.Tx)):this.offset=k.R.hb);this.nua=this.ryb(l,n.add(this.offset)).W;this.J5a=l.ee.add(n);return {pa:l,offset:n.add(this.offset),te:p,wk:!1};};f.prototype.syb=function(m,l){var n,p;m=this.tUa(m.Mc);n=h.xv(m).add(h.xv(l));p=m.add(l).Ha(n);g.Z && this.console.trace("NrdpRounding: content start " + c(m) + ", timestamp offset: " + c(l) + ", start rounding error: " + h.xv(m).toString() + ", offset rounding error: " + h.xv(l).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Ic() + ", (" + m.$J + l.$J + "ms), last fragment end nrdp: " + this.nua);return p;};f.prototype.ryb=function(m,l){var n,p,q;n=this.za;m=this.tUa(m.ee);p=h.xv(m.Ha(n)).add(h.xv(n)).add(h.xv(l));q=m.add(l).Ha(p);g.Z && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.Ha(n)) + ", frame duration: " + c(n) + ", offset: " + c(l) + ", timestamp rounding error: " + h.xv(m.Ha(n)).toString() + ", frame duration rouding error: " + h.xv(n).toString() + ", offset rounding error: " + h.xv(l).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Ic() + ", (" + m.Ha(n).$J + n.$J + l.$J + "ms)");return q;};f.prototype.tUa=function(m){return this.kg?m.Ha(this.kg):m;};return f;})();b.WKa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zOa=void 0;c=a(21);k=a(4);h=a(16);r=(function(){function g(d,f,m){this.config=d;this.console=m;this.fx=c.R.hb;k.assert(f.za);this.za=f.za;d=f.Rd[0].profile;this.Maa=this.jLb(d,this.za);this.oaa=this.hLb(d,this.za);}g.prototype.append=function(d,f){var m,l,n,p;if(d.wk)return d;m=d.pa;l=d.offset;d=d.te;n=f.xE;f=f.hZ;if(this.rxa){p=this.fUb(m,this.rxa);m.Ba && this.rma(p)?(h.Z && this.console.trace("SeamlessAudio: dropping one first frame"),m.ipa(1),this.fx=p):(this.fx=p.add(this.za),this.tVa(this.fx) || (h.Z && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.he.Ic() + " error would be " + this.fx.Ic() + " (editing " + (m.Ba?"":"not ") + "allowed)"),this.fx=c.R.hb,d=!1));this.rxa=void 0;}if(m.jo || m.Ts)(k.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.Ba || !f && m.Ts || (p=this.gUb(m,n,f),p.Ks(c.R.hb) && m.jpa(1)),this.rxa=n);k.assert(this.tVa(this.fx));this.rua=m.md;return {pa:m,offset:l.add(this.fx),te:d,wk:!1};};g.prototype.gUb=function(d,f,m){var l;if(m)l=this.fx.add(d.md.Ha(m)).Ha(this.za);else (l=d.md.Ha(f),l=this.fx.add(l).Ha(this.za));h.Z && this.console.trace("SeamlessAudio: fragment end: " + d.md.Ic() + ", splice " + f.Ic() + ", next start " + (null === m || void 0 === m?void 0:m.Ic()) + ", error " + l.add(this.za).Ic() + ", error with frame drop " + l.Ic() + ", is" + (this.rma(l)?"":" not") + " within bounds of [" + this.Maa.Ic() + " and " + this.oaa.Ic() + ")");return l;};g.prototype.fUb=function(d,f){var m;k.assert(this.rua);m=this.fx.add(this.rua.Ha(d.he)).Ha(this.za);h.Z && this.console.trace("SeamlessAudio: fragment start: " + d.he.Ic() + ", splice " + f.Ic() + ", last fragment end: " + this.rua.Ic() + ", error " + m.add(this.za).Ic() + ", error with frame drop " + m.Ic() + ", is" + (this.rma(m)?"":" not") + " within bounds of [" + this.Maa.Ic() + " and " + this.oaa.Ic() + ")");return m;};g.prototype.rma=function(d){return d.lessThan(this.oaa) && d.Ks(this.Maa);};g.prototype.tVa=function(d){return d.lessThan(this.oaa.add(c.R.Tx)) && d.Ks(this.Maa.Ha(c.R.Tx));};g.prototype.hLb=function(d,f){return "object" === typeof this.config.wza && void 0 !== this.config.wza[d]?(d=new c.R(this.config.wza[d],1E3).df(f.V).add(new c.R(1,f.V)),c.R.min(f,d)):f;};g.prototype.jLb=function(d,f){var m;if("object" === typeof this.config.xza && void 0 !== this.config.xza[d]){m=f.Rl(-2);d=new c.R(this.config.xza[d],1E3).df(f.V).Ha(new c.R(1,f.V));return c.R.max(m,d);}return new c.R(-12,1E3);};return g;})();b.zOa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=void 0;c=a(21);k=a(4);h=a(16);r=(function(){function g(d,f,m){var l;this.console=m;this.C_=!1;k.assert(f.za,"NegativePtsGuard: stream.frameDuration must exist.");this.za=f.za;this.Jn=d.Jn;this.kg=null !== (l=f.kg) && void 0 !== l?l:c.R.hb;}g.prototype.append=function(d){var f,m,l,n;if(this.C_ || d.wk)return d;f=d.pa;m=d.offset;d=d.te;if(f.Ba){l=f.Mc.Ha(this.Jn?this.kg:c.R.hb).add(m);if(l.lessThan(c.R.hb)){n=Math.ceil(l.qJ(-1).Rl(this.za));h.Z && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.kg.Ic() + ", request content start ") + (f.Mc.Ic() + ", current timestamp offset ") + (m.Ic() + " => firstPlatformTimestamp ") + (l.Ic() + "."));f.ipa(n);}}this.C_=!0;return {pa:f,offset:m,te:d,wk:!1};};return g;})();b.KKa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aQa=void 0;c=a(21);k=a(16);r=(function(){function h(g,d,f){this.kg=g;this.za=d;this.console=f;}h.prototype.append=function(g,d){var f,m,l,n,p;f=g.pa;m=g.offset;l=g.te;g=g.wk;if(!g){n=d.endOfStream;d=d.xE;if(n && d){n=f.Mc.Ha(this.kg).add(m);p=f.ee.Ha(this.kg).add(m);d=d.Ha(c.R.Tx);k.Z && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + n.Ic() + "-" + p.Ic() + " vs media splice point at " + d.Ic());n.add(this.za).Ks(d)?(k.Z && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g=!0):p.Ks(d) && (d=Math.ceil(p.Ha(d).Rl(this.za)),f.Ba?(k.Z && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),f.jpa(d)):(k.Z && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g=!0));}else n && k.Z && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {pa:f,offset:m,te:l,wk:g};};return h;})();b.aQa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;r=(function(){function a(c){this.C_=!1;this.M2b=c.$Ob;}a.prototype.append=function(c){c.pa.Ba && (c.pa.W1b(this.C_?0:this.M2b),this.C_=!0);return c;};return a;})();b.qIa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pDa=void 0;c=a(410);k=a(9);r=(function(){function h(g,d,f,m){this.config=d;this.Uc=f;this.console=m;this.za=g.za;}h.prototype.append=function(g,d){var f,m,l,n,p,q,t,w,v,u,x,y;if(g.wk)return g;m=!1;l=c.Ara(this.config,this.Uc);n=g.pa;p=g.offset;q=g.te;t=n.md;w=n.he;v=n.Ts;v=n.jo || v;if(!g.pa.Ba || !v || q)return g;u=n.ee.Ha(n.Mc);v=Math.floor(u.Rl(this.za));x=null !== (f=d.hZ) && void 0 !== f?f:t.Ha(this.za.qJ(2));t=x.Ha(w);f=v;y=!1;d.hZ && (d=this.kWa(u,t,t),f=d.Se,y=d.C8a);l=x.Ha(k.R.Oa(l));w=k.R.max(l.Ha(w),k.R.hb);y || (w=this.kWa(u,w,t),f=w.Se,w.C8a && (--f,this.za.qJ(f)));f < (this.config.$Tb || 1)?m=!0:0 < v - f && g.pa.jpa(v - f);return {pa:n,offset:p,te:q,wk:m};};h.prototype.kWa=function(g,d,f){var m;g=k.R.min(g,d);g=Math.floor(g.Rl(this.za));d=this.za.qJ(g);f=f.Ha(d);m=0 < g && f.lessThan(k.R.Tx);return {Se:g,Xgc:d,vec:f,C8a:m};};return h;})();b.pDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qDa=void 0;c=a(16);r=(function(){function k(h){this.console=h;}k.prototype.append=function(h,g){var d,f,m,l,n,p;if(h.wk)return h;d=!1;f=h.pa;m=h.offset;h=h.te;g=g.xE;l=f.md;if(this.Lp && l.lessThan(this.Lp.md)){n=this.Lp.xE.Ha(f.he);p=f.md.Ha(this.Lp.xE);p.lessThan(n) && (c.Z && this.console.trace("AudioOverlapGuard: skipping append of " + f + (", current error: " + n.Ic()) + (", discard error: " + p.Ic())),d=!0);}this.Lp=(f.jo || f.Ts) && g?{xE:g,md:l}:void 0;return {pa:f,offset:m,te:h,wk:d};};return k;})();b.qDa=r;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x,y,z,A){var B,D;f.assert(x.Dk,"Current time: " + n.default.time.ha() + " cr: " + x.currentTime);f.assert(x.currentTime.isFinite());B=z.Ha(x.currentTime);B=Math.max(Math.ceil(B.JJ / x.speed),0);D=null !== A && void 0 !== A?A:{id:void 0,TYa:B,W8a:0,mWb:B};D.id=setTimeout(function(){z.Ha(x.currentTime).oP(g.R.hb)?y():(D.W8a++,c(x,y,z,D));},B);D.TYa=B;return D;}Object.defineProperties(b,{__esModule:{value:!0}});b.mea=b.nT=void 0;k=a(1);h=a(17);g=a(21);d=a(250);f=a(4);m=a(16);l=a(903);n=k.__importDefault(a(6));p=a(178);q=a(904);t=a(905);w=a(153);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{NK:{get:function(){return this.bla;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{y8a:{get:function(){return this.esb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{zDb:{get:function(){return this.kqb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{sza:{get:function(){return this.Utb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.kqb=z === u.MP?0:n.default.time.ha();this.esb=y;this.Utb=z;m.Z && f.assert(!this.bla,"Invalid replacement of timeout value");this.bla=A;};x.prototype.complete=function(){this.bla=void 0;this.set(g.R.fE,u.MP);};return x;})();(function(x){x[x.MP=0]="none";x[x.M7a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(u || (u={}));r=(function(x){function y(z,A,B){var D;void 0 === B && (B="unknown");D=x.call(this) || this;D.Da=z;D.console=A;D.name=B;D.csb=0;D.aka=!1;D.cl=new v();D.a8=new h.Dg();D.Il=new d.n3([],l.oXa(function(C,F){return C.YJ.Pl(F.YJ);},function(C,F){return F.jn.priority - C.jn.priority;},function(C,F){return C.jn.id > F.jn.id?1:C.jn.id < F.jn.id?-1:0;}));D.aVa(z);return D;}k.__extends(y,x);Object.defineProperties(y.prototype,{u2b:{get:function(){return this.Da.Dk;},enumerable:!1,configurable:!0}});y.prototype.lYa=function(z,A){z=new (z.bind.apply(z,k.__spread([void 0],A)))();z.id=this.csb++;z.Hwb(this);this.Gla(z);return z;};y.prototype.PH=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.lYa(q.xIa,z);};y.prototype.tJb=function(){var z;z={hasSchedule:! !this.cl.NK,schedule:this.cl.NK && ({sleepTime:this.cl.NK.TYa,originalSleepTime:this.cl.NK.mWb,clockSkewAdjustments:this.cl.NK.W8a}),nextWakeup:this.cl.y8a.W,timeScheduled:this.cl.zDb,scheduleType:u[this.cl.sza],numTasks:this.Il.length,clock:{ir:this.Da.Dk,ct:this.Da.currentTime.W,sp:this.Da.speed}};m.Z && this.trace("audit",z);return z;};y.prototype.WV=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.lYa(t.UOa,z);};y.prototype.XXa=function(z,A,B){return this.PH(function(){return k.__generator(this,function(D){switch(D.label){case 0:return [4,w.Wk.bL(A)];case 1:return (D.jc(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.aVa=function(z){var A;A=this;this.uD();this.a8.clear();this.Da=z;this.a8.on(z,"stopStart",function(){return A.mQ();});this.a8.on(z,"clockAdjusted",function(){return A.pZ();});this.a8.on(z,"speedChanged",function(){return A.aWb();});this.pZ();this.emit("clockChanged");};y.prototype.aWb=function(){this.uD();this.mQ();};y.prototype.Hb=function(){this.reset();};y.prototype.reset=function(){this.uD();this.Il.clear();};y.prototype.pZ=function(){var z,A;z=this;A=this.Il.map(function(B){return B.jn;});this.uD();this.Il.clear();A.forEach(function(B){return z.Gla(B,!1);});this.mQ();};y.prototype.Gla=function(z,A){var B,D;void 0 === A && (A=!0);B=z.aba();D=this.Yeb(B);B={jn:z,YJ:D,vca:B};m.Z && this.trace("Adding task " + z.name + " for " + D.W);f.assert(!this.Il.contains(B));this.Il.push(B);A && this.mQ();};y.prototype.mQ=function(){var z,A,B,D,C;z=this;m.Z && this.trace("recheck schedule task count:" + this.Il.length);if(this.u2b){if(this.aka)m.Z && this.trace("already executing, bailing");else {B=this.cl.y8a;D=this.Il.Vx();C=null !== (A=null === D || void 0 === D?void 0:D.YJ) && void 0 !== A?A:g.R.fE;C.isFinite() && C.gba(B)?(this.uD(!1),this.Da.currentTime.Ks(C)?(this.cl.set(C,u.M7a),Promise.resolve().then(function(){z.cl.sza === u.M7a && (z.cl.complete(),z.Pbb());})):(m.Z && this.trace("scheduling next wake up for",{bic:C.W,jn:null === D || void 0 === D?void 0:D.jn.name}),A=c(this.Da,function(){z.cl.complete();z.Pbb();},C),this.cl.set(C,u.setTimeout,A))):C.isFinite() || this.cl.sza !== u.setTimeout || this.uD(!1);}}else (m.Z && this.trace("should check schedule is false, stopping"),this.uD());};y.prototype.Pbb=function(){var z,A,B;A=0;B=null === (z=this.Il.Vx()) || void 0 === z?void 0:z.vca;try{for(this.aka=!0;1E4 > A++ && this.E5b();){;}}finally{this.aka=!1;this.uD();1E4 < A && !this.DNb(B)?this.error("Task scheduler executed more than 10000 iterations in same tick"):(this.trace("Next tasks",this.Il.map(function(D){return {name:D.jn.name,cic:D.YJ.W};})),this.mQ());}};y.prototype.DNb=function(z){var A,B;B=null === (A=this.Il.Vx()) || void 0 === A?void 0:A.vca;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.E5b=function(){var z,A,B;B=null !== (A=null === (z=this.Il.Vx()) || void 0 === z?void 0:z.YJ) && void 0 !== A?A:g.R.fE;m.Z && this.trace("tryExecuteNextTask @" + this.Da.currentTime.W + ", next wakeup at " + B);if(this.Da.currentTime.Ks(B) && (z=this.Il.pop())){A=z.jn;m.Z && this.trace("Running a task @" + this.Da.currentTime.W + ", scheduled for time:" + B.W + ("Name:" + A.name));try{A.fy();z.vca=A.aba();z.YJ=this.Yeb(z.vca);}catch(D){throw (this.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + D,{stack:D.stack}),A.Hb(),D);}finally{z.YJ !== g.R.fE && A.state === p.yn.Ica && (f.assert(!this.Il.contains(z)),this.Il.push(z));}return !0;}};y.prototype.k0b=function(z){f.assert(z.Ve === this);this.Nya(z,!1);this.Gla(z);};y.prototype.Nya=function(z,A){var B;void 0 === A && (A=!0);B=this.Il.find(function(D){return D.jn === z;});B && this.t_b(B,A);};y.prototype.t_b=function(z,A){this.Il.remove(z);A && this.mQ();};y.prototype.uD=function(z){void 0 === z && (z=!0);this.cl.NK && (z && this.emit("stopping"),clearTimeout(this.cl.NK.id),this.cl.complete());};y.prototype.Yeb=function(z){return z.type === w.pia.absolute?z.timestamp:z.timestamp.add(this.Da.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,k.__spread(["TaskScheduler(" + this.name + "):"],A));};y.prototype.error=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,k.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(h.EventEmitter);b.nT=r;b.mea=function(x,y,z){var A;A=void 0;return (z || x.Da.Dk) && x.Da.currentTime.Ks(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.WV(w.Wk.zR(y),B);}),jn:A};};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.oXa=void 0;c=a(1);k=a(16);h=a(4);b.oXa=function(){for(var g=[],d=0;d < arguments.length;d++){g[d]=arguments[d];}k.Z && h.assert(g.length);return function(f,m){var l,q,t;try{for(var n=c.__values(g),p=n.next();!p.done;p=n.next()){q=p.value;t=q(f,m);if(0 !== t)return t;}}catch(v){var w;w={error:v};}finally{try{p && !p.done && (l=n.return) && l.call(n);}finally{if(w)throw w.error;}}return 0;};};},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.xIa=void 0;c=a(1);k=a(21);h=a(4);g=a(178);d=a(153);r=(function(f){function m(l,n,p){n=f.call(this,n,p) || this;n.K0b=l;n.reset();return n;}c.__extends(m,f);m.prototype.reset=function(){var l,n;if(this.Xc === g.yn.Ica || this.Xc === g.yn.pending)null === (n=null === (l=this.D4) || void 0 === l?void 0:l.return) || void 0 === n?void 0:n.call(l);this.Xc=g.yn.pending;this.D4=this.K0b();this.ska=d.Wk.bL(k.R.hb);};m.prototype.wl=function(){this.reset();h.assert(this.ax);this.ax.k0b(this);};m.prototype.aba=function(){return this.ska;};m.prototype.Sg=function(){var l,n,p;p=this.D4.next();p.done?(this.ska=d.Wk.qCa,null === (n=(l=this.D4).return) || void 0 === n?void 0:n.call(l)):this.ska=p.value;};m.prototype.Hb=function(){var l,n;null === (n=(l=this.D4).return) || void 0 === n?void 0:n.call(l);f.prototype.Hb.call(this);};return m;})(g.Cia);b.xIa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.UOa=void 0;c=a(1);k=a(178);h=a(153);r=(function(g){function d(f,m,l){l=g.call(this,l) || this;l.vza=f;l.zV=m;return l;}c.__extends(d,g);d.prototype.aba=function(){return this.Xc === k.yn.pending?this.vza:h.Wk.qCa;};d.prototype.Sg=function(){this.zV();};return d;})(k.Cia);b.UOa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fOa=void 0;r=a(1);c=r.__importDefault(a(30));k=r.__importDefault(a(411));a=(function(){function h(g){this.D5=[];this.D5[c.default.Ya.Nb]=new k.default(g,c.default.Ya.Nb);this.D5[c.default.Ya.cc]=new k.default(g,c.default.Ya.cc);}h.prototype.Dvb=function(g,d,f){this.D5[g].add(d,f);};h.prototype.$ra=function(){var g;g=[];this.D5.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(m){g.push(m);});d.reset(!0);}});return g;};h.prototype.JHb=function(g){var d;d=this.$ra();g.strmsel=d;return 0 < d.length;};return h;})();b.fOa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.B1a=void 0;b.B1a=function(a){var c,k,h;c=Math.floor(1E6 * Math.random());k=a.Lsa;h=a.N9;a=0 === c % a.Msa && 0 < h.length;return {Fs:a,GW:a && 0 === c % k};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EXa=void 0;b.EXa=function(a,c){var k;if(!Array.isArray(a.CXa))return a;k=a.Bq?a.Bq():Object.create(a);a.CXa.forEach(function(h){if(void 0 !== h.YTb && c.duration >= h.YTb && h.config)for(var g in h.config){k[g]=h.config[g];}});return k;};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;c=a(1).__importStar(a(10));k=a(129);h=a(4);r=(function(){function g(d,f,m){var B60;B60=2;for(;B60 !== 3;){switch(B60){case 2:this.Km=d;this.I=f;this.Ci=m;B60=4;break;case 4:var o1G="1S";o1G+="IY";o1G+="bZ";o1G+="rNJC";o1G+="p9";o1G;B60=3;break;case 14:"";B60=0;break;B60=3;break;}}}var A60;A60=2;for(;A60 !== 7;){switch(A60){case 9:g.prototype.qqb=function(d){var P60,f;P60=2;for(;P60 !== 9;){switch(P60){case 4:k.Yp.instance.TN(f);d.Xf=void 0;P60=9;break;case 2:d=this.Km.Fb.Zf[d];P60=1;break;case 1:f=d.Xf;f.kp || --this.YG;P60=4;break;}}};return g;break;case 2:g.prototype.fqb=function(d,f){var C60,m,l;C60=2;for(;C60 !== 8;){switch(C60){case 2:var P1G="create";P1G+="DlT";P1G+="rack";P1G+="s";P1G+="Start";(m=this,l=this.Km.J);0 === this.YG && this.Km.Jb.um(P1G);this.YG+=d.length;d=d.map(function(n){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:return m.fRa(n,f.K,f.Fx(),m.Km.qm,l);break;}}});C60=3;break;case 3:k.Yp.instance.Sg();return d;break;}}};g.prototype.rqb=function(){var E60,d,f;E60=2;for(;E60 !== 3;){switch(E60){case 2:(d=this,f=[]);this.Km.Fb.Zf.forEach(function(m){var F60;F60=2;for(;F60 !== 5;){switch(F60){case 2:c.ma(m.Xf) || f.push(m.Xf);m.Xf=void 0;F60=5;break;}}});this.Km.WT && (f.push(this.Km.WT),this.Km.WT=void 0);f.forEach(function(m){var G60;G60=2;for(;G60 !== 5;){switch(G60){case 2:m.kp || --d.YG;k.Yp.instance.TN(m);G60=5;break;}}});E60=3;break;}}};g.prototype.nrb=function(){var H60;H60=2;for(;H60 !== 1;){switch(H60){case 2:this.YG=0;H60=1;break;}}};g.prototype.bTa=function(d,f){var I60,m,l;I60=2;for(;I60 !== 5;){switch(I60){case 2:(m=this.Km.Fb.Zf[d],l=m.Xf);l && (l=f.dN(d,l),this.qqb(d),m.Xf=this.fRa(d,f.K,f.Fx(),this.Km.qm,this.Km.J),f.iza(l));I60=5;break;}}};g.prototype.fRa=function(d,f,m,l,n){var J60,p,q;J60=2;for(;J60 !== 6;){switch(J60){case 2:var Q1G="netwo";Q1G+="rkf";Q1G+="ailing";var l1G="c";l1G+="re";l1G+="a";l1G+="t";l1G+="ed";(p=this,q=k.Yp.instance.Cu(d,f,!0,m,l,n));q.oh.on(q,l1G,function(){var K60;K60=2;for(;K60 !== 5;){switch(K60){case 2:var k1G="cr";k1G+="eateDlTrack";k1G+="sE";k1G+="nd";--p.YG;0 === p.YG && p.Km.Jb.um(k1G);K60=5;break;}}});q.oh.on(q,Q1G,function(){var L60,t;L60=2;for(;L60 !== 8;){switch(L60){case 1:L60=q.g8?5:8;break;case 3:t.Iq.st(q.PW,void 0,q.Dh,q.Jj);t.nn();L60=8;break;case 5:h.assert(q.PW);t=p.Km.Ke.M;L60=3;break;case 2:var E1G="re";E1G+="portNetworkFailin";E1G+="g:";E1G+=" ";n.Gi && p.Ci.Um(E1G + q);L60=1;break;}}});J60=4;break;case 7:return q;break;case 4:var p1G="med";p1G+="i";p1G+="aReques";p1G+="tComplet";p1G+="e";var d1G="t";d1G+="ranspo";d1G+="rtrepor";d1G+="t";var i1G="e";i1G+="r";i1G+="r";i1G+="o";i1G+="r";q.oh.on(q,i1G,function(){var M60;M60=2;for(;M60 !== 5;){switch(M60){case 2:var a1G="N";a1G+="FErr_MC_Stream";a1G+="ingFailure";var Z1G="DownloadTr";Z1G+="ac";Z1G+="k fa";Z1G+="tal error";var I1G="Do";I1G+="w";I1G+="nloadTrack";I1G+=" fatal er";I1G+="ror";n.Gi && p.Ci.Um(I1G);p.Km.pq(Z1G,void 0,a1G,q.Dh,0,q.Jj);M60=5;break;}}});q.on(d1G,function(t){var N60;N60=2;for(;N60 !== 1;){switch(N60){case 2:var D1G="tran";D1G+="sport";D1G+="re";D1G+="por";D1G+="t";p.Km.emit(D1G,t);N60=1;break;}}});q.on(p1G,function(t){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:var S1G="me";S1G+="diaR";S1G+="equ";S1G+="estComplete";p.Km.emit(S1G,t);O60=1;break;case 4:p.Km.emit("",t);O60=4;break;O60=1;break;}}});q.zb();J60=7;break;}}};A60=9;break;}}})();b.CFa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YCa=void 0;c=a(15);k=a(9);r=(function(){function h(g){this.FH=g;this.state=new k.Wr(c.ta.yh);this.Cj={};}h.prototype.getState=function(){return this.state.value;};h.prototype.Zd=function(g){this.state.set(g);};h.prototype.addListener=function(g){this.state.addListener(g);};h.prototype.paused=function(){this.state.value === c.ta.Rc && this.state.set(c.ta.xh);};h.prototype.f5a=function(){return this.state.value === c.ta.yh;};h.prototype.Wq=function(){return "function" === typeof this.FH.Wq?this.FH.Wq():this.state.value === c.ta.Rc;};h.prototype.wg=function(){return this.state.value === c.ta.yd || this.state.value === c.ta.bg;};h.prototype.g5a=function(){return this.state.value === c.ta.rj;};h.prototype.h5a=function(){return this.state.value === c.ta.Yr;};h.prototype.af=function(){return this.FH.af();};h.prototype.xp=function(){return "function" === typeof this.FH.xp?this.FH.xp():1;};h.prototype.wX=function(){return this.FH.wX();};h.prototype.X_=function(g,d){this.Cj[g]=d;};h.prototype.ho=function(g){return ! !this.Cj[g.K] || g.dj;};return h;})();b.YCa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Ma=void 0;r=(function(){function a(c,k,h){var g;this.vwb=c;this.tka=k;this.lqb=h;this.Gja=(g={},g[0]=!1,g[1]=!1,g);this.reset();}a.prototype.Vz=function(){var c,k;c=this;k=this.vwb.filter(function(h){return !h.E4a(c.lqb());});0 === k.length && this.eka?this.lsb():k.forEach(function(h){c.Gja[h.mediaType] || (h.once("requestAppended",function(){c.Gja[h.mediaType]=!1;c.Vz();}),c.Gja[h.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.eka=!1;new Promise(function(k){c.lsb=k;}).then(function(){return c.tka();});};a.prototype.ESb=function(){this.eka || (this.eka=!0,this.Vz());};return a;})();b.$Ma=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LCa=void 0;c=a(16);r=(function(){function k(h){this.console=h;this.SG=[];this.RC=[];c.Z && this.console.trace("Received pending adoption " + this.bm.length);}Object.defineProperties(k.prototype,{length:{get:function(){return this.SG.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bm:{get:function(){return this.RC;},enumerable:!1,configurable:!0}});k.prototype.BSb=function(h){h=this.RC.indexOf(h);-1 !== h && (c.Z && this.console.trace("Marking request attached"),this.SG[h].z4a=!0,this.vfb(h));};k.prototype.CSb=function(h){h=this.RC.indexOf(h);-1 !== h && (c.Z && this.console.trace("Marking request completed"),this.SG[h].QA=!0,this.vfb(h));};k.prototype.u_b=function(h){var g,d;g=this;d=[];this.RC.forEach(function(f,m){h(f) && d.unshift(m);});d.forEach(function(f){g.RC.splice(f,1);g.SG.splice(f,1);});};k.prototype.push=function(h){this.RC.push(h);this.SG.push({z4a:!1,QA:!1});c.Z && this.console.trace("Pushing pending request, " + this.length + " total");};k.prototype.$D=function(){return 0 < this.length;};k.prototype.vfb=function(h){var g;g=this.SG[h];g.z4a && g.QA && (g=this.RC[h],this.RC.splice(h,1),this.SG.splice(h,1),c.Z && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.Z && this.console.trace("Removing last request, contentEndPts: " + g.Vc));};return k;})();b.LCa=r;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w){return (1 === t.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.LIa=b.Gha=b.Unb=void 0;k=a(1);h=a(82);g=a(154);d=a(15);f=a(9);m=a(4);l=a(21);n=k.__importDefault(a(6));r=a(102);p=a(41);q=(function(t){function w(){return null !== t && t.apply(this,arguments) || this;}k.__extends(w,t);return w;})(a(252).GL);b.Unb=q;b.Gha={uF:c};a=(function(t){function w(v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H){var Q;z=t.call(this) || this;z.Ahc=v;z.J=u;z.M=y;z.Gn=A;z.Z8=B;z.$r=F;z.TT=G;z.Xk=I;z.hz=N;z.events=L;z.Yw=H;z.ke=new q([]);z.pm=!1;z.aU=0;z.CT=z.Kwa.bind(z);z.I=f.ko(n.default,x,A.id && A.id.length?"{" + A.id + "}":"");z.Yk=z.I.error.bind(z.I);z.Ub=z.I.warn.bind(z.I);z.Hn=z.I.trace.bind(z.I);z.Os=null !== C && void 0 !== C?C:l.R.Oa(z.G.$);z.Cka=null === E || void 0 === E?void 0:E.md;null === (Q=z.hz) || void 0 === Q?void 0:Q.addListener(z.CT);y && D && z.QOb(y,D);return z;}k.__extends(w,t);Object.defineProperties(w.prototype,{Xh:{get:function(){return this.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{G:{get:function(){return this.Gn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hx:{get:function(){return this.ke.every(function(v){return v.Hx;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ml:{get:function(){return this.ke.every(function(v){return v.Ml;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qu:{get:function(){return this.Pq().reduce(function(v,u){return v + u.qu;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hh:{get:function(){return this.Pq().every(function(v){return v.Hh();});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{yf:{get:function(){return this.Pq().map(function(v){return v.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{V:{get:function(){return this.hu.V;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{bb:{get:function(){return this.hu.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rb:{get:function(){return this.hu.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Rj:{get:function(){return this.Ie.df(this.V).mc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ps:{get:function(){return this.Os.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fr:{get:function(){return this.G.uf.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{LE:{get:function(){return this.G.ej.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tO:{get:function(){var v,u;u=null === (v=this.G.G.Lq) || void 0 === v?void 0:v[0];return u && this.Mc?l.R.Oa(Math.max(0,u[0] - this.Mc.W - this.G.uf.W)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{S$:{get:function(){return this.ke.reduce(function(v,u){return v && u.md?l.R.max(v,u.md):u.md?u.md:v;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sta:{get:function(){return this.Ps.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{He:{get:function(){return this.Ie.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hr:{get:function(){return this.hu.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ie:{get:function(){return this.$r;},enumerable:!1,configurable:!0}});w.prototype.Lt=function(v){this.Ie.equal(v) || (this.$r=v);};w.prototype.CA=function(v){return (v=this.lb(v))?Promise.resolve(v.CA()):Promise.resolve(g.AsyncIterator.m1a());};w.prototype.aI=function(){this.Pq().forEach(function(v){return v.aI();});};w.prototype.reset=function(){this.ke.forEach(function(v){v.reset();});};w.prototype.Bf=function(){var v,u;this.pm || (this.pm=!0,null === (v=this.UC) || void 0 === v?void 0:v.gd(),this.UC=void 0,this.ke.forEach(function(x){x.Bf();}),null === (u=this.hz) || void 0 === u?void 0:u.removeListener(this.CT),this.events.removeAllListeners());};w.prototype.dY=function(){return !0;};w.prototype.lb=function(v){return this.ke.get(v);};w.prototype.Pq=function(v){void 0 === v && (v=c);return this.ke.items.slice().sort(v);};w.prototype.e9=function(){return this.ke.items;};w.prototype.IO=function(v){return this.lb(v);};w.prototype.ai=function(v,u){v=this.lb(v);if(!v)return 0;if(u)return v.cn;u=v.Aq;if(void 0 === u)return 0;v=this.TT();return u - v;};w.prototype.RD=function(){var v,u,x,y,z,A,B;B=null === (v=this.lb(0)) || void 0 === v?void 0:v.Rn;v=null === (u=this.lb(1)) || void 0 === u?void 0:u.Rn;return {Fo:null !== (x=null === v || void 0 === v?void 0:v.W) && void 0 !== x?x:0,ns:null !== (y=null === B || void 0 === B?void 0:B.W) && void 0 !== y?y:0,Ot:null !== (z=null === v || void 0 === v?void 0:v.aa) && void 0 !== z?z:0,gD:null !== (A=null === B || void 0 === B?void 0:B.aa) && void 0 !== A?A:0};};w.prototype.FX=function(v){var u;return (v=this.lb(v))?null !== (u=v.Aq) && void 0 !== u?u:0:0;};w.prototype.nn=function(v){v=this.lb(v);m.assert(v);return v.nn();};w.prototype.Kwa=function(v){d.Bp(v.newValue) && this.ks();};w.prototype.LH=function(v){return this.ke.every(function(u){return u.LH(v);});};w.prototype.P8=function(v){var u,x;return null !== (x=null === (u=this.ke.get(v)) || void 0 === u?void 0:u.qYa) && void 0 !== x?x:l.R.hb;};w.prototype.Kk=function(v){this.pm || (v.X5 || m.assert(!v.Hc),this.ks(),this.Ml && this.zka());this.Tu(v);};w.prototype.xJ=function(v){this.J.P7 && this.ks(!0);this.kI(v);};w.prototype.wJ=function(v){this.J.P7 && this.ks(!0);this.PD(v);};w.prototype.hAa=function(v){var u;return d.Bp((null === (u=this.hz) || void 0 === u?void 0:u.value) || d.Qc.sj) && (!v || this.aU + this.J.Gaa < n.default.time.ha());};w.prototype.ks=function(v){void 0 === v && (v=!1);this.hAa(v) && (this.aU=n.default.time.ha(),v={type:"checkBufferingProgress"},this.events.emit(v.type,v));};w.prototype.zka=function(){var v;v={type:"branchStreamingComplete"};this.events.emit(v.type,v);};w.prototype.QOb=function(v,u){var x;this.Zza(v);m.assert(v.N === this.G.N || isNaN(v.N) && isNaN(this.G.N));v=null !== u && void 0 !== u?u:null === (x=this.Z8) || void 0 === x?void 0:x.call(this,v);m.assert(v,"tracks need to exist upon initialization");};w.prototype.toJSON=function(){var v,u;return {segment:this.G.id,branchOffset:this.He,viewableId:this.Gn.N,contentStartPts:null === (v=this.Mc) || void 0 === v?void 0:v.W,contentEndPts:null === (u=this.ee) || void 0 === u?void 0:u.W};};return w;})(h.gw);b.LIa=a;p.Jf(r.By,a);p.Jf(r.nC,a);},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.uMa=void 0;r=a(1);c=r.__importDefault(a(30));k=c.default.Ya;h=c.default.$y;g=a(9);d=a(21);f=r.__importDefault(a(149));m=r.__importDefault(a(6));a=(function(){function l(n,p,q,t,w){this.et=n;this.Es=p;this.J=q;this.I=t;this.bh=w;}l.prototype.TUb=function(n){n={type:"requestCreated",request:n};g.ab(this.Es,n.type,n);};l.prototype.SUb=function(n){var p;p=n.Va.mb.G;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{fa:p.id,offset:d.R.Oa(this.et.Qna - p.$)},completePlayerStreamingTimestamp:d.R.Oa(this.et.Aq),trackIndex:n.stream.track.fD};g.ab(this.Es,n.type,n);};l.prototype.S8a=function(n,p,q){var t,w;t=this.bh;w=this.et.Wj.$f;w.Pcb(n);1 === t && this.J.Kca && (void 0 === w.vua?w.Rcb(m.default.time.ha()):m.default.time.ha() - w.vua > this.J.Kca && (n.bitrate !== w.S5a && (m.default.storage.set("vb",n.bitrate),w.Y1b(n.bitrate)),w.Rcb(m.default.time.ha())));w.pY && w.pY === n || (this.et.Wj.A3b(p,w.pY,n),w.N1b(n),p=0,n.Ab && n.Ab.confidence && n.Ab.Ua && (p=n.Ab.Ua.qa),w={fa:this.et.mb.G.id,offset:d.R.Oa(q - this.et.mb.G.$)},n={type:"streamSelected",nativetime:m.default.time.ha(),mediaType:t,streamId:n.id,manifestIndex:n.M.Tb,trackIndex:n.track.fD,streamIndex:n.wf,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:w,stream:n},g.ab(this.Es,n.type,n));};l.prototype.OUb=function(n,p,q){var t,w,v,u,x;t=p.M;w=t.Rm;v=this.et.Wj.$f;u=t.lQb(p);x=u.dua;u=u.mQb;q && p.Pc && !v.qY?(u=h.Dw,p.At=h.name[u],this.R8a(n,p.Pc,p.At,p.location,p.bitrate),v.qY=p.Pc):!q && p.Pc && p.Pc !== v.qY && (u=u?void 0 === v.qY?h.Dw:w.FQ === h.uha?h.sob:h.Zea:h.rob,p.At=h.name[u],this.R8a(n,p.Pc,p.At,p.location,p.bitrate),v.qY=p.Pc);v.mP || (u={type:"logdata",target:"startplay",fields:{}},this.bh === k.cc?u.fields.alocid=p.location:this.bh === k.Nb && (u.fields.locid=p.location),g.ab(this.Es,u.type,u));q && p.location && !v.mP?(u=h.Dw,p.At=h.name[u],this.P8a(t.Tb,n,p.location,p.Nua,p.Pc,p.nK,p.At,p.Yx),v.mP=p.location):!q && p.location && p.location !== v.mP && (u=x?void 0 === v.mP?h.Dw:w.FQ === h.uha?h.Ylb:h.Zea:h.Xlb,p.At=h.name[u],this.P8a(t.Tb,n,p.location,p.Nua,p.Pc,p.nK,p.At,p.Yx),p.Yx=void 0,v.mP=p.location);this.J.Kv || (p.N5a=p.location,p.Q5a=p.Pc);};l.prototype.jba=function(n){n={type:"requestsPruned",requests:n};g.ab(this.Es,n.type,n);};l.prototype.R8a=function(n,p,q,t,w){var v,u;v=this.bh === k.Nb?"video":"audio";u=f.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:v,server:p,reason:q,location:t,bitrate:w,confidence:u.confidence};u.confidence && (n.throughput=u.Ua.qa);this.et.Wj.$f.qY && (n.oldserver=p);g.ab(this.Es,n.type,n);};l.prototype.P8a=function(n,p,q,t,w,v,u,x){g.ab(this.Es,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.bh === k.Nb?"video":"audio",location:q,locationlv:t,serverid:w,servername:v,selreason:u,seldetail:x});};l.prototype.uka=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.OE || g.ab(this.Es,p.type,p);};l.prototype.Um=function(n){n={type:"managerdebugevent",message:"@" + m.default.time.ha() + ", " + n};g.ab(this.Es,n.type,n);};l.prototype.IIb=function(n){g.ab(this.Es,"transportReport",n);};l.prototype.HIb=function(n){g.ab(this.Es,"mediaRequestComplete",n);};return l;})();b.uMa=a;},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.TKa=b.Tkb=void 0;c=a(1);k=c.__importDefault(a(6));h=a(16);g=a(916);d=a(9);r=(function(){return function(f,m,l,n){this.J=m;this.et=n;l=d.ko(k.default,l,"[" + f + "]");this.Y7a=1 === f?m.Laa:m.Daa;n=k.default.wp()[f];this.KY=1 === f?m.eTb:m.JSb;this.KY=Math.min(m.SSb * n,this.KY);h.Z && l.trace("This pipeline's buffer size ",n,this.KY);this.$Y=(1 === f?m.jB:m.Qx) || m.$Y;this.kaa=(1 === f?m.dTb:m.ISb) || m.kaa;this.Ola=m.Ola;};})();b.Tkb=r;r=(function(f){function m(l,n,p,q){return f.call(this,l,n,p,q) || this;}c.__extends(m,f);m.prototype.u1a=function(l,n){var p,q,t,w,v,u,x;t=this.et;w=l.M.Fx();v=n === t.oe.index;u=n === t.Gf.index;if(!u || v && t.oe.Ba){if(v){x=l.p1a(t.oe);x.MQ(t.oe.kF);u && (t.oe.Ba || t.Gf.Ba) && x.Tj({start:null === (p=x.Ba) || void 0 === p?void 0:p.start,end:null === (q=t.Gf.Ba) || void 0 === q?void 0:q.end});}else x=l.jh(n);}else (x=l.p1a(t.Gf),x.MQ(t.Gf.kF));x.IP=n + 1;if(p=g.s2a(t,t.kc))(h.Z && t.Hn("getFragmentForRequest pts:",t.kc,"in region:",p,"previous region:",t.oua),g.EZa(t.I,x,p,{EPb:v,KPb:u,SPb:void 0 === t.oua || t.oua !== p.region}));u && (x.Y6a(),x.V1b(t.mb.G));v=l.X.jy;if(!(x.IP === n || null !== v && void 0 !== v && v.K4a(n) || w || !this.Ola && x.Ba))for(++n;n < l.X.length && n < t.Gf.index && (x.aa < this.Y7a || x.duration < this.$Y) && (1 === x.stream.kh.length || this.Dyb(l,n));++n){w=l.jh(n);if(null === v || void 0 === v?0:v.K4a(n))break;if(g.J4a(t,w))break;if(x.duration + w.duration > this.kaa)break;if(x.aa + w.aa > this.KY)break;x.Y5(w);x.IP=n + 1;h.Z && t.Hn("getFragmentForRequest: extended fragment startPts:",x.$,"to duration:",x.duration,"size:",x.aa,"min request size:",this.Y7a,"max request size:",this.KY,"min request duration:",this.$Y,"max request duration:",this.kaa,"edit:",x.Ba);}h.Z && t.Hn("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.oqa,"lastRequestInRegion:",x.Ts,"nextIndex:",x.IP);return x;};m.prototype.Dyb=function(l,n){return !l.kh.some(function(p){return n === p.Vd;});};return m;})(r);b.TKa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EZa=b.GPb=b.J4a=b.s2a=void 0;c=a(23);b.s2a=function(k,h){if((k=k.mb.G.dy) && 0 !== k.length)return c.ze(k,function(g){return g.Mc.W <= h && h < g.ee.W;});};b.J4a=function(k,h){return h.index === k.oe.index?!0:(k=k.mb.G.dy) && 0 !== k.length?k.some(function(g){g=g.Mc;return h.Mc.oP(g) && g.lessThan(h.ee);}):!1;};b.GPb=function(k,h){return h.index === k.Gf.index?!0:(k=k.mb.G.dy) && 0 !== k.length?k.some(function(g){g=g.ee;return h.Mc.lessThan(g) && g.oP(h.ee);}):!1;};b.EZa=function(k,h,g,d){var f,m,l,n,p,q,t,w;k=null === (f=h.Ba) || void 0 === f?void 0:f.start;f=null === (m=h.Ba) || void 0 === m?void 0:m.end;w=m=!1;if((null === d || void 0 === d?0:d.SPb) || (null === d || void 0 === d || !d.EPb) && h.Mc.lessThan(g.Mc)){if(t=h.dqa(g.Mc.W))(t=(null !== (n=null === (l=h.Ba) || void 0 === l?void 0:l.start) && void 0 !== n?n:0) + t.yl,k=Math.max(null !== k && void 0 !== k?k:0,t));t=g.Mc.W;m=!0;}if((null === d || void 0 === d || !d.KPb) && h.ee.greaterThan(g.ee)){if(t=h.dqa(g.ee.W))(t=(null !== (q=null === (p=h.Ba) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + t.yl,f=Math.min(null !== f && void 0 !== f?f:Infinity,t),h.IP=h.index);t=g.ee.W;w=!0;}if(void 0 !== k || void 0 !== f)(h.Tj({start:k,end:f}),void 0 !== t && (!h.kF || t > h.kF) && h.MQ(t));h.S1b(g.region,m,w);};},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.kOa=void 0;c=a(1);k=c.__importStar(a(10));h=a(253);g=a(920);d=a(923);r=a(82);f=a(4);m=a(255);l=a(9);n=a(68);a=(function(p){function q(t,w,v,u,x,y,z,A){var B;B=p.call(this,t) || this;B.J=w;B.I=v;B.Jl=u;B.de=x;B.bh=y;B.Era=A;B.kgb=!0;B.Ge=new m.I1(B.I);B.Yk=B.I.error.bind(B.I);B.Ub=B.I.warn.bind(B.I);B.Hn=B.I.trace.bind(B.I);B.iTa();B.nq=null === z || void 0 === z?void 0:z.PH(function(){return B.O_b();},"pruner");return B;}c.__extends(q,p);Object.defineProperties(q.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.bh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mb:{get:function(){return this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ly:{get:function(){return 0 < this.JB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{FAa:{get:function(){return !this.uM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JB:{get:function(){return this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kt:{get:function(){return this.Ka.Kt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hZb:{get:function(){return this.Ge.count;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KV:{get:function(){return this.Ka.complete.md;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Aq:{get:function(){return this.Ka.kXa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qna:{get:function(){return this.Ka.jXa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iF:{get:function(){return this.Ka.md;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cn:{get:function(){return void 0 === this.Ka.Dd?0:this.Ka.Pe - this.Ka.Dd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rn:{get:function(){return {aa:this.Ka.wD,W:Math.max(this.Ka.kXa - this.Ka.Dd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GN:{get:function(){return this.Ka.gAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wD:{get:function(){return this.Ka.wD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qu:{get:function(){return this.Ka.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{IE:{get:function(){return this.Wqb();},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gxa:{get:function(){return this.Ka.FOb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{F9:{get:function(){return this.Ka.length > this.Ka.Kt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tq:{get:function(){return this.Ka.tq;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{NQb:{get:function(){return this.bSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{c$a:{get:function(){return this.Ka.length - this.sm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{X:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});q.prototype.Bf=function(){var t,w;w=this.Ka;setTimeout(function(){w.forEach(function(v){v.abort();v.gd();});},1);this.iTa();this.Ge.T7();null === (t=this.nq) || void 0 === t?void 0:t.Hb();};q.prototype.reset=function(){this.Bf();this.Ge.zbb();};q.prototype.close=function(){this.Ge.T7();};q.prototype.tcb=function(){this.RQa=!0;};q.prototype.Lra=function(){return {endMarked:void 0 !== this.Ge.count,queueCount:this.Ge.count,isComplete:this.Ge.QA,itemCount:this.Ge.lXa,continuousEndPts:this.Ge.Tp().reduce(function(t,w){return w && !w.done && (w=w.value,100 > Math.abs(w.Aqa - t) || -1 === t)?w.JIb:t;},-1),sentinelItemCount:this.Ge.Tp().filter(function(t){return t && t.done;}).length,processedCount:this.Ge.FEb,rc:this.JB};};q.prototype.lDb=function(t,w,v){var u;u=this.J;f.assert(!t.header);t=u.tGb && 1 === this.mediaType?new d.aDa(v,u,w.track,t,this.Ka,this.I):h.E1.create(v,u,w.track,t,this.Ka,!1,this.I,this.Era);t.zb(this);this.pu(t);return t;};q.prototype.Tvb=function(t){var w;t.zb(this);t.X5=!0;this.pu(t);w=Promise.resolve();t.complete?(this.ija(t),this.Jl.S8a(t.stream,t.Dd,t.qd),w=this.Pda(),this.Tu(t)):(t.active && this.wO(t),t.Bya && this.PD(t));return w;};q.prototype.pu=function(t){var w,v;this.Ka.Uq(t);(null === (w=this.nq) || void 0 === w?void 0:w.state) === n.yn.complete && (null === (v=this.nq) || void 0 === v?void 0:v.wl());this.ija(t);t.jo && (this.uM=!1);};q.prototype.CA=function(){return this.Ge.vJb();};q.prototype.lna=function(){this.sm === this.Ka.length && this.RQa && this.Ge.T7();};q.prototype.Pda=function(){var t,w,v,u,A;t=this;v=Promise.resolve();u=this.de;if(!u.dY(this.bh) || this.sm === this.Ka.length)return v;for(var x=this.J.WSb,y=0,z=[];this.sm < this.Ka.length;){if(w=this.Ka.get(this.sm)){if(this.Ka.a0a && this.Ka.a0a.bb < w.bb)break;if(!w.mv())break;z.push(w);++y;k.Ga(this.Dd) || (this.Dd=w.Dd);}++this.sm;if(!k.ma(x) && y >= x)break;}if(z.length){void 0 !== this.Ge.count && (this.Yk("tryToAtach() but requestQueue has sentinel:",this.Ge.count),this.Ge.zbb());if(this.kgb)v=Promise.all(z.map(function(B){return t.Ge.enqueue(B).then(function(){return t.B9(B);});}));else for(w=0;w < z.length;w++){try{A=z[w];u.KLb(this.mediaType).$Eb(A);this.B9(A);}catch(B){return (this.sm-=z.length - w,Promise.reject(B));}}this.lna();}return v;};q.prototype.B9=function(t){this.bSa=t;this.j0a(t);};q.prototype.NU=function(t,w){var v,u,x;v=this;u=[];if(0 !== this.Ka.Kt){x=this.Ka.W9a;this.Ka.R5b.yAa(function(y){if(!k.ma(t) && y.M.Tb !== t || y.jo || x > y.Dd)return !0;y.iI && (v.uM=!1);if(!v.j4(y))return (v.Ub("request abort failed:",y.toString()),!0);u.unshift(y);});this.Jka();u.length && "function" === typeof w && w(u);}};q.prototype.uca=function(){this.Jka();};q.prototype.O_b=function(){var t,w,v,u,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ka.length)return [3,3];t=this.Ka.get(0);w=l.R.Oa(null !== (y=null === (x=this.J.PQ) || void 0 === x?void 0:x.W) && void 0 !== y?y:0);v=w.add(t.md);return [4,n.Wk.zR(v)];case 2:z.jc();if(1 >= this.Ka.complete.length && !t.jo)return [3,3];f.assert(t === this.Ka.get(0));t.nf || this.j4(t);u=this.Ka.splice(0,1);0 < this.sm && this.sm--;this.Jl.jba(u);return [3,1];case 3:return [2];}});};q.prototype.e_=function(t,w){var v,u,x,y,z,A;v=this;u=this.J;x=!1;y=0;z=this.Ka.some(function(B){if(t < B.Pe)return (x && v.ija(B),!0);++y;B.nf || (v.Ub("pruning unappended request:",B && B.toString()),u.Gi && v.Jl.Um("prune pts:" + t + " unappended request:" + (B && B.toString())),B.iI && (v.uM=!1,x=!0),v.j4(B,w) || v.Yk("MediaRequest.abort error:",B.Dh));});if(0 < y){A=this.Ka.splice(0,y);this.sm-=Math.min(y,this.sm);this.Jl.jba(A);}return z;};q.prototype.n9=function(t){var w,v,u;void 0 === t && (t={LV:null,dQ:null,Dd:null,Nj:0,bn:0,We:0,X:[]});w=this.J;v=this.Ka;k.Ga(v.Dd) && (null === t.Dd || v.Dd < t.Dd) && (t.Dd=v.Dd);u=this.Aq;void 0 !== u && null === t.LV && (t.LV=u);u=v.Pe;void 0 !== u && (null === t.dQ || u > t.dQ) && (t.dQ=u);t.Nj+=v.Nj;t.bn+=v.bn;t.We=w.qAa?t.We + v.Iab:t.We + v.wD;Array.prototype.unshift.apply(t.X,v.jc.X);return t;};q.prototype.Qu=function(t){if(this.Ka.length && (t=this.Ka.O_a(t)))return t;};q.prototype.Tub=function(t){var w,v,u;v=t.ee;t=t.qd;f.assert(v,"expected contentEndTimestamp to be defined");f.assert(void 0 !== t,"expected contentStartPts to be defined");t=this.Ka.Zpa(t);u=this.Ka.get(t);f.assert(u && void 0 !== u.qd && void 0 !== u.Vc && void 0 !== u.index,"expected existing request to be defined with properties");if(null === (w=u.ee) || void 0 === w?0:w.equal(v))return (this.RTa(t),[u.Vc,u.index + 1]);this.RTa(t - 1);return [u.qd,u.index];};q.prototype.nn=function(){var t,w;t=this;w=[];this.Ka.forEach(function(v){var u;u=v.WBa();1 === u?w.push(v):2 === u && t.mb.M.rh("swapUrl failure");});return w;};q.prototype.wJ=function(t){t.jE && t.mv() && this.Pda();this.PD(t);};q.prototype.Kk=function(t){var w,v;t.jE && !t.nf && this.Pda();(null === (w=this.nq) || void 0 === w?void 0:w.state) === n.yn.complete && (null === (v=this.nq) || void 0 === v?void 0:v.wl());this.Tu(t);};q.prototype.Sla=function(t){var w,v,u;w=1 === this.bh?"v_":"a_";v=this.Ka;u=v.sO(t);t=0 <= u?v.get(u):void 0;return (v=0 <= u && u + 1 < v.length?v.get(u + 1):void 0) && t?t.Pe !== v.Dd?w + "rg":t.complete && v.complete?w + "uk":w + "fd":w + "rm";};q.prototype.Wqb=function(){return this.Ka.tq + this.Ka.Kt;};q.prototype.iTa=function(){var t,w,v;w=void 0 !== this.Ka && 0 < this.Ka.length;v=this.Ka;this.Ka=new g.WCa(this.I,this);this.sm=0;this.Ge.clear();this.bSa=void 0;this.Dd=null;null === (t=this.nq) || void 0 === t?void 0:t.wl();this.RQa=this.uM=!1;w && (t=v.map(function(u){return u;}),this.Jl.jba(t));};q.prototype.ija=function(t){this.uM?t.iI=!1:this.uM=t.iI=!0;};q.prototype.RTa=function(t){var w;for(t+=1;t < this.JB;t++){w=this.Ka.get(t);f.assert(w,"expected request to exist");this.Ge.remove(w);w.aborted || (this.j4(w),w.gd());}this.Jka();};q.prototype.j4=function(t,w){if(!t.abort())return !1;"function" === typeof w && w(t);return !0;};q.prototype.Jka=function(){var t,w,v,u;t=this;if(0 !== this.Ka.length){v=[];u=0;this.Ka.$Yb(function(x,y){y < t.sm && ++u;v.push(x);});this.sm-=u;null === (w=this.nq) || void 0 === w?void 0:w.wl();this.Jl.jba(v);}};return q;})(r.gw);b.kOa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.TCa=void 0;c=a(1);k=a(117);h=c.__importDefault(a(30));r=c.__importDefault(a(6));g=a(9);d=a(4);f=a(254);m=a(101);l=a(246);n=a(118);p=r.default.Sr;a=(function(q){function t(w,v,u,x,y,z,A,B){var D;x=q.call(this,w,u,x,z,A,B) || this;y=m.sn.prototype.toString.call(x) + (y?"(cache)":"");B={offset:u.offset,aa:u.Zva + 8,responseType:0};x.push(new l.MR(w,v,y + "(moof)",B,x,z,A));B={offset:u.offset + B.aa,aa:u.aa - B.aa,responseType:p.Uc && !p.Uc.H_.jT?0:1};if(x.mediaType === h.default.Ya.Nb && x.Ba){if(0 < x.Ba.start){D=x.S_a(x.Ba.start);D && (B.offset=u.offset + D,B.aa=u.aa - D);}x.Ba.end < x.QD && (D=x.S_a(x.Ba.end)) && (B.aa-=u.aa - D);}x.push(new l.MR(w,v,y + "(mdat)",B,x,z,A));return x;}c.__extends(t,q);t.prototype.mv=function(){return !this.nf && ! !this.Ka.length && this.Ka.every(function(w){return w.mv();});};t.prototype.pH=function(w){var v,u,x,y,z,A,B,D;if(this.nf)return {status:n.oj.lw};if(!this.mv())return {status:n.oj.ag};v=!1;u=this.Ka[0].response;x=u.slice(0,u.byteLength - 8);y=new DataView(u);u=y.getUint32(x.byteLength);d.assert("mdat" === k.Ro(y.getUint32(x.byteLength + 4)));z=this.Ba && 0 < this.Ba.start;y=this.Ba && this.Ba.end < this.QD;if(this.Ba && (z || y)){if(z)(A=new k.Ur(this.I,this.stream,x),B=A.Kya(this.Ba.start,this.V));if(y && !1 !== B){A=new k.Ur(this.I,this.stream,B?g.xD(B.pa):x);D=A.Oya(this.Ba.end - this.Ba.start,this.V);}if(x=y?D:B)(v=w.appendBuffer(g.xD(x.pa),g.Yq(this)),B && (u-=B.jj),D && (u-=D.jj));A=this.Mka();}else v=w.appendBuffer(x,g.Yq(this));v && (v=w.appendBuffer(k.cB(u - 8),g.Yq(this))) && (v=w.appendBuffer(this.Ka[1].response,g.Yq(this)));this.nf=v;this.d_b();return {status:v?n.oj.lw:n.oj.ag,Ej:A};};t.prototype.toString=function(){return "ID: " + this.Ji() + ":" + q.prototype.toString.call(this);};return t;})(f.zF);b.TCa=a;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Qhb=void 0;r=a(1);c=a(117);k=a(9);a(4);h=r.__importDefault(a(6));g=a(118);a=(function(){var Q60;Q60=2;for(;Q60 !== 3;){switch(Q60){case 2:d.prototype.pH=function(f){var S60,m;S60=2;for(;S60 !== 11;){switch(S60){case 2:S60=this.nf?1:5;break;case 7:this.nf=!0;this.q_();return {status:f?g.oj.lw:g.oj.ag,Ej:m};break;case 5:S60=!this.Ba || this.jo || this.Ts?4:12;break;case 3:m=this.yqb(f);f=m.da;S60=8;break;case 1:return {status:g.oj.ag};break;case 4:S60=this.Ba && (this.jo || this.Ts)?3:13;break;case 8:m=m.Ej;S60=7;break;case 12:(m=this.xqb(f),f=m.da,m=m.Ej);S60=7;break;case 13:f=f.appendBuffer(this.response,k.Yq(this));S60=7;break;}}};d.prototype.xqb=function(f){var T60,m,l,n,p;T60=2;for(;T60 !== 12;){switch(T60){case 2:(m={aF:0},l=!1,n=!0);this.Ba && (m.aF=this.Ba.nAa);T60=5;break;case 5:0 >= this.duration && (n=!1,l=!0);T60=4;break;case 4:T60=n?3:13;break;case 3:T60=this.Ba && (0 < this.Ba.start || m.aF)?9:14;break;case 9:var w1G="media";w1G+="|";w1G+="a";w1G+="sejs";var A1G="M";A1G+="P";A1G+="4";T60=(l=new c.Ur(new h.default.Console(A1G,w1G),this.stream,this.response),l=l.Kya(this.Ba.start,this.FP,m.aF))?8:6;break;case 13:return {da:l,Ej:p};break;case 6:var u1G=" f";u1G+="rom ";u1G+="[ ";var h1G="A";h1G+="seFragmentMediaReq";h1G+="u";h1G+="est: Fragment edit failed for ";(this.I.error(h1G + this.toString() + u1G + this.xO + "-" + this.y8 + "]"),l=!0);T60=13;break;case 14:l=f.appendBuffer(this.response,k.Yq(this));T60=13;break;case 8:l=f.appendBuffer(k.xD(l.pa),k.Yq(this));T60=7;break;case 7:p=this.Mka(m);T60=13;break;}}};Q60=5;break;case 5:d.prototype.yqb=function(f){var U60,m,l,n;U60=2;for(;U60 !== 12;){switch(U60){case 5:U60=m?4:13;break;case 7:return {da:f,Ej:n};break;case 4:U60=this.Ba && this.Ba.end < this.QD || l.aF?3:14;break;case 9:f=f.appendBuffer(k.xD(m.pa),k.Yq(this));U60=8;break;case 2:l={aF:0};(m=!0,0 === this.duration) && (m=!1);U60=5;break;case 6:var K1G=" ";K1G+="f";K1G+="ro";K1G+="m ";K1G+="[ ";var N1G="AseFragmentMediaRe";N1G+="quest: Fragment edit failed fo";N1G+="r ";(this.I.error(N1G + this.toString() + K1G + this.xO + "-" + this.y8 + "]"),f=!0);U60=7;break;case 3:U60=(m=new c.Ur(this.I,this.stream,this.response),m=m.Oya(this.Ba && this.Ba.end,this.V,l.aF))?9:6;break;case 8:n=this.Mka(l);U60=7;break;case 13:f=!0;U60=7;break;case 14:f=f.appendBuffer(this.response,k.Yq(this));U60=7;break;}}};return d;break;}}function d(){var R60;R60=2;for(;R60 !== 1;){switch(R60){case 2:var T3G="1SIYb";T3G+="Z";T3G+="r";T3G+="NJCp";T3G+="9";T3G;R60=1;break;}}}})();b.Qhb=a;b.default=new a();},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=void 0;c=a(1);a(4);k=a(921);r=a(41);h=a(922);g=a(102);d=a(82);f=a(244);a=(function(m){function l(n,p){var q,t;q=this;t=[new h.D1(n),new h.D1(n),new h.D1(n)];q=m.call(this,t,function(w){return w.complete?q.empty || w.bb <= q.hAb?0:1:w.active?1:2;}) || this;t=c.__read(t,3);q.Wi=t[0];q.hf=t[1];q.ju=t[2];q.oq=0;q.Via=0;q.I=n;q.jf=p;return q;}c.__extends(l,m);Object.defineProperties(l.prototype,{aa:{get:function(){return this.Wi.aa + this.hf.aa + this.ju.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{R5b:{get:function(){return this.ju;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.hf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Wi;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Iab:{get:function(){return this.oq;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wD:{get:function(){return this.Wi.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Nj:{get:function(){return this.Wi.aa + this.hf.aa - this.oq;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S5b:{get:function(){return this.ju.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bn:{get:function(){return this.aa - this.oq;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{first:{get:function(){return this.WIb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fk:{get:function(){return this.mxb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{lpa:{get:function(){return !this.Wi.empty || this.ju.empty || this.hf.empty?this.first:this.hf.bb < this.ju.bb?this.hf.first:this.ju.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{V5a:{get:function(){return this.ju.empty || this.hf.empty?this.Fk:this.hf.rb < this.ju.rb?this.ju.Fk:this.hf.Fk;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{a0a:{get:function(){return this.ju.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{V:{get:function(){return this.first && this.first.V;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bb:{get:function(){return this.lpa && this.lpa.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rb:{get:function(){return this.V5a && this.V5a.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rj:{get:function(){return this.first && this.first.Rj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gAb:{get:function(){return this.Wi.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{FOb:{get:function(){return this.Vc - this.jXa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hAb:{get:function(){return this.Wi.empty?this.bb:this.Wi.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jXa:{get:function(){return this.Wi.empty?this.qd:this.Wi.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kXa:{get:function(){return this.Wi.empty?this.Dd:this.Wi.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W9a:{get:function(){return this.hf.Pe || this.Wi.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Kt:{get:function(){return this.ju.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tq:{get:function(){return this.hf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mXa:{get:function(){return this.Wi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jc:{get:function(){return this.Wi.concat(this.hf);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zs:{get:function(){return this.Jg;},enumerable:!1,configurable:!0}});l.prototype.bM=function(n){var p;n.aborted?++this.Via:this.oq+=n.bytesReceived || 0;if(this.empty)this.Jg=new f.oC(this,{});else if(n.bb !== this.rb)if(n.bb > this.Jg.rb)this.Jg.W_(this.Jg.rb);else if(n.bb < this.bb || n.bb === this.Jg.rb){p=n.rb;this.xIb(function(q,t){return q.bb - t.bb;},function(q){p=q.bb === p?q.rb:p;});p === Math.max(this.rb,n.rb)?this.Jg.Cna():this.Jg.W_(p);}n.Zza(this);};l.prototype.wz=function(n){n.aborted?--this.Via:this.oq-=n.bytesReceived;this.empty?this.Jg=void 0:n.bb !== this.rb && n.rb <= this.Jg.rb && n.bb > this.Jg.bb && this.Jg.W_(n.bb);n.MWa();};l.prototype.push=function(n){this.bM(n);return m.prototype.push.call(this,n);};l.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.wz(n);return n;};l.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.wz(n);return n;};l.prototype.unshift=function(n){this.bM(n);return m.prototype.unshift.call(this,n);};l.prototype.Uq=function(n){this.bM(n);m.prototype.Uq.call(this,n);};l.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.wz(n);return !0;};l.prototype.splice=function(n,p){for(var q=[],t=2;t < arguments.length;t++){q[t - 2]=arguments[t];}t=m.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.bM.bind(this));t.forEach(this.wz.bind(this));return t;};l.prototype.$Yb=function(n){var p;p=this;this.reduce(function(q,t,w){t.aborted && (n && n(t,w,p),0 === q.length || q[0].end !== w?q.unshift({start:w,end:w + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};l.prototype.Zpa=function(n){return this.P_a(function(p){return p.Zpa(n);});};l.prototype.sO=function(n){return this.P_a(function(p){return p.sO(n);});};l.prototype.O_a=function(n){n=this.sO(n);return -1 !== n?this.get(n):void 0;};l.prototype.$0b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};l.prototype.qB=function(n){this.move(n);this.wO(n);};l.prototype.xJ=function(n){this.oq+=n.bytesReceived - n.kt;this.kI(n);};l.prototype.Kk=function(n){for(this.oq+=n.bytesReceived - n.kt;this.hf.first && this.hf.first.complete && (this.Wi.empty?this.hf.first === this.lpa:this.hf.first.bb === this.Wi.rb);){this.p2b();}this.Tu(n);};l.prototype.xZ=function(n,p,q){this.oq-=n.bytesReceived;++this.Via;this.vO(n,p,q);};return l;})(k.DEa);b.WCa=a;r.Jf(d.gw,a,!1);r.Jf(g.By,a);r.Jf(g.nC,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;c=a(1);a(4);r=(function(){function k(h,g){this.wd=h;this.nM=g;this.pz();}Object.defineProperties(k.prototype,{length:{get:function(){return this.zf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.zf;},enumerable:!1,configurable:!0}});k.prototype.WIb=function(){return this.$g && this.$g.get(0);};k.prototype.mxb=function(){return this.hM && this.hM.get(this.hM.length - 1);};k.prototype.get=function(h){0 > h && (h+=this.length);for(var g=0;g < this.wd.length;++g){if(this.Di[g + 1] > h)return this.wd[g].get(h - this.Di[g]);}};k.prototype.push=function(h){this.wd[this.nM(h)].push(h);this.pz();return this.zf;};k.prototype.shift=function(){var h;if(this.$g){h=this.$g.shift();this.pz();return h;}};k.prototype.pop=function(){var h;if(this.hM){h=this.hM.pop();this.pz();return h;}};k.prototype.unshift=function(h){this.wd[this.nM(h)].unshift(h);this.pz();return this.zf;};k.prototype.Uq=function(h){var g;g=this.nM(h);this.wd[g].Uq(h);this.pz();};k.prototype.remove=function(h){var g;g=this.wd.some(function(d){return d.remove(h);});g && this.pz();return g;};k.prototype.splice=function(h,g){var q,t,w,v;for(var d,f=[],m=2;m < arguments.length;m++){f[m - 2]=arguments[m];}m=[];for(var l,n=h + Math.max(0,g),p=0;p < this.wd.length;++p){q=this.wd[p];t=this.Di[p];w=this.Di[p + 1];if(h < w){v=h - t;t=Math.min(n - t,q.length);void 0 === l && 0 < v && t < q.length?Array.prototype.push.apply(m,q.splice.apply(q,c.__spread([v,t - v],f))):(Array.prototype.push.apply(m,q.splice(v,t - v)),void 0 === l && (l=0 < p && 0 === v?p - 1:p));h=w;if(h >= n)break;}}if(f.length && void 0 !== l){for(n=this.nM(f[0]);0 < l && n < l && this.wd[l].empty;){--l;}for(;f.length && n === l;){this.wd[l].push(f.shift());if(!f.length)break;n=this.nM(f[0]);}for(;f.length && ++l < this.wd.length && this.wd[l].empty;){for(;f.length && n === l;){this.wd[l].push(f.shift());if(!f.length)break;n=this.nM(f[0]);}}f.length && (d=this.wd[l]).splice.apply(d,c.__spread([0,0],f));}this.pz();return m;};k.prototype.find=function(h){var g,d;g=this;return this.wd.some(function(f,m){d=f.find(g.dD(h,m));return void 0 !== d;})?d:void 0;};k.prototype.findIndex=function(h){var d;for(var g=0;g < this.wd.length;++g){d=this.wd[g].findIndex(this.dD(h,g));if(-1 !== d)return d + this.Di[g];}return -1;};k.prototype.indexOf=function(h){var d;for(var g=0;g < this.wd.length;++g){d=this.wd[g].indexOf(h);if(-1 !== d)return d + this.Di[g];}return -1;};k.prototype.map=function(h){var g,d;g=this;d=this.wd.map(function(f,m){return f.map(g.dD(h,m));});return Array.prototype.concat.apply([],d);};k.prototype.reduce=function(h,g){var d;d=this;return this.wd.reduce(function(f,m,l){return m.reduce(d.Oub(h,l),f);},g);};k.prototype.forEach=function(h){var g;g=this;this.wd.forEach(function(d,f){d.forEach(g.dD(h,f));});};k.prototype.p8=function(h){for(var g=this.wd.length - 1;0 <= g;--g){this.wd[g].p8(this.dD(h,g));}};k.prototype.some=function(h){var g;g=this;return this.wd.some(function(d,f){return d.some(g.dD(h,f));});};k.prototype.yAa=function(h){for(var g=this.wd.length - 1;0 <= g;--g){if(this.wd[g].yAa(this.dD(h,g)))return !0;}return !1;};k.prototype.every=function(h){var g;g=this;return this.wd.every(function(d,f){return d.every(g.dD(h,f));});};k.prototype.xIb=function(h,g){var n,p;function d(q){return q.reduce(function(t,w,v,u){return void 0 === w?t:void 0 === t?v:0 > h(w,u[t])?v:t;},void 0);}for(var f=this,m=this.wd.map(function(){return 0;}),l=this.wd.filter(function(q){return q.empty;}).length;l < this.wd.length;){n=m.map(function(q,t){return q < f.wd[t].length?f.wd[t].get(q):void 0;});p=d(n);g(n[p],this.Di[p] + m[p],this);++m[p];m[p] === this.wd[p].length && ++l;}};k.prototype.move=function(h){return this.remove(h)?(this.Uq(h),!0):!1;};k.prototype.p2b=function(){var h;if(this.wd[1].length){h=this.wd[1].shift();this.wd[0].push(h);this.pz();}};k.prototype.P_a=function(h){for(var g=-1,d=0;d < this.wd.length;++d){if((g=h(this.wd[d]),-1 !== g)){g+=this.Di[d];break;}}return g;};k.prototype.toJSON=function(){return this.map(function(h){return h.toJSON();});};k.prototype.pz=function(){var g;this.zf=0;this.Di=[0];this.hM=this.$g=void 0;for(var h=0;h < this.wd.length;++h){g=this.wd[h];this.zf+=g.length;this.Di.push(this.Di[this.Di.length - 1] + g.length);!this.$g && g.length && (this.$g=g);g.length && (this.hM=g);}};k.prototype.dD=function(h,g){var d,f;d=this;f=this.Di[g];return function(m,l){return h(m,f + l,d);};};k.prototype.Oub=function(h,g){var d,f;d=this;f=this.Di[g];return function(m,l,n){return h(m,l,f + n,d);};};return k;})();b.DEa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.D1=void 0;c=a(1);k=a(4);r=a(41);h=a(244);a=a(102);g=(function(){function d(f,m){this.Sa=[];this.Jg=void 0;this.Ad=0;this.I=f;m && m.length && (Array.isArray(m)?(this.Sa=m.slice(),this.xT(0,this.Sa.length)):m instanceof d && (this.Sa=m.Sa.slice(),this.xT(0,this.Sa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Sa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fk:{get:function(){return this.Sa[this.Sa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bb:{get:function(){return this.first && this.first.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rb:{get:function(){return this.Fk && this.Fk.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zs:{get:function(){return this.Jg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aa:{get:function(){return this.Ad;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{V:{get:function(){return this.first && this.first.V;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rj:{get:function(){return this.first && this.first.Rj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{X:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});d.prototype.cxb=function(){var f;if(0 === this.Sa.length)(k.assert(void 0 === this.Jg),k.assert(0 === this.Ad));else {k.assert(this.Jg instanceof h.oC);k.assert("number" === typeof this.Ad);k.assert(void 0 !== this.zs && this.zs.bb === this.bb);f=this.Sa.reduce(function(m,l,n){return 0 === n || l.bb === m?l.rb:m;},0);k.assert(this.zs.rb === f);k.assert(this.Sa.reduce(function(m,l,n){return 0 === n || l.bb === m?l.rb:m;},0) === this.zs.rb);k.assert(this.Sa.reduce(function(m,l){return m + l.aa;},0) === this.Ad);}};d.prototype.get=function(f){0 > f && (f+=this.Sa.length);return this.Sa[f];};d.prototype.push=function(f){this.Sa.push(f);this.xT(this.Sa.length - 1);return this.length;};d.prototype.unshift=function(f){this.Sa.unshift(f);this.xT(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Sa.length)return (this.Lka(this.Sa.length - 1),this.Sa.pop());};d.prototype.shift=function(){if(0 !== this.Sa.length)return (this.Lka(0),this.Sa.shift());};d.prototype.splice=function(f,m){for(var l,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Sa.length);0 > f && (f=0);f > this.Sa.length && (f=this.Sa.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.Sa.length - f);0 < m && this.Lka(f,f + m);p=(l=this.Sa).splice.apply(l,c.__spread([f,m],n));0 < n.length && this.xT(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,m){void 0 === f && (f=0);void 0 === m && (m=this.Sa.length);0 > f && (f+=this.Sa.length);if(f >= this.Sa.length)return new d(this.I);m > this.Sa.length && (m=this.Sa.length);0 > m && (m+=this.Sa.length);return new d(this.I,this.Sa.slice(f,m));};d.prototype.Uq=function(f){if(0 === this.Sa.length || f.bb >= this.rb)this.push(f);else if(f.rb <= this.bb)this.unshift(f);else {for(var m=0,l=this.Sa.length - 1,n;m < l - 1;){n=Math.floor((l + m) / 2);k.assert(n !== l && n !== m);f.bb >= this.Sa[n].rb?m=n:l=n;}k.assert(m !== l);k.assert(this.Sa[m].rb <= f.bb && this.Sa[l].bb >= f.rb);this.splice(l,0,f);}};d.prototype.remove=function(f){f=this.Sa.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],m=0;m < arguments.length;m++){f[m]=arguments[m];}f=f.map(function(l){return l.Sa;});return new d(this.I,Array.prototype.concat.apply(this.Sa,f));};d.prototype.forEach=function(f){var m;m=this;this.Sa.forEach(function(l,n){return f(l,n,m);});};d.prototype.some=function(f){var m;m=this;return this.Sa.some(function(l,n){return f(l,n,m);});};d.prototype.every=function(f){var m;m=this;return this.Sa.every(function(l,n){return f(l,n,m);});};d.prototype.map=function(f){var m;m=this;return this.Sa.map(function(l,n){return f(l,n,m);});};d.prototype.reduce=function(f,m){var l;l=this;return this.Sa.reduce(function(n,p,q){return f(n,p,q,l);},m);};d.prototype.indexOf=function(f){return this.Sa.indexOf(f);};d.prototype.find=function(f){var m,l;m=this;return this.Sa.some(function(n,p){l=p;return f(n,p,m);})?this.Sa[l]:void 0;};d.prototype.findIndex=function(f){var m,l;m=this;return this.Sa.some(function(n,p){l=p;return f(n,p,m);})?l:-1;};d.prototype.filter=function(f){var m;m=this;return new d(this.I,this.Sa.filter(function(l,n){return f(l,n,m);}));};d.prototype.p8=function(f){for(var m=this.Sa.length - 1;0 <= m;--m){f(this.Sa[m],m,this);}};d.prototype.yAa=function(f){for(var m=this.Sa.length - 1;0 <= m;--m){if(f(this.Sa[m],m,this))return !0;}return !1;};d.prototype.Zpa=function(f){if(this.empty || f < this.qd || f >= this.Vc)return -1;for(var m=0,l=this.Sa.length - 1,n;l > m;){n=Math.floor((l + m) / 2);if(f >= this.Sa[n].qd && f < this.Sa[n].Vc){l=n;break;}f < this.Sa[n].Vc?l=n - 1:m=n + 1;}return l;};d.prototype.sO=function(f){if(this.empty || f < this.Dd || f >= this.Pe)return -1;for(var m=0,l=this.Sa.length - 1,n;l > m;){n=Math.floor((l + m) / 2);if(f >= this.Sa[n].Dd && f < this.Sa[n].Pe){l=n;break;}f < this.Sa[n].Pe?l=n - 1:m=n + 1;}return l;};d.prototype.O_a=function(f){f=this.sO(f);return 0 <= f?this.Sa[f]:void 0;};d.prototype.K5=function(f){var m;m=this.Sa[f].rb;for(f+=1;f < this.Sa.length && m === this.Sa[f].bb;++f){m=this.Sa[f].rb;}f < this.Sa.length?void 0 === this.Jg?this.Jg=new h.oC(this,{rb:m}):this.Jg.W_(m):void 0 === this.Jg?this.Jg=new h.oC(this,{}):this.Jg.Cna();};d.prototype.bM=function(f,m){for(var l=f;l < m;++l){this.Ad+=this.Sa[l].aa;}void 0 === this.Jg || 0 === f?this.K5(0):this.Jg.rb === this.rb?this.K5(f - 1):this.Sa[f].bb === this.Jg.rb && this.K5(f);};d.prototype.wz=function(f,m){var l;if(0 === f)(this.Jg=void 0,m < this.length && this.K5(m));else {l=this.Jg;l.rb > this.Sa[f - 1].rb && (m < this.length?l.W_(this.Sa[f - 1].rb):l.Cna());}for(;f < m;++f){this.Ad-=this.Sa[f].aa;}};d.prototype.xT=function(f,m){void 0 === m && (m=f + 1);this.bM(f,m);};d.prototype.Lka=function(f,m){void 0 === m && (m=f + 1);this.wz(f,m);};return d;})();b.D1=g;r.Jf(a.By,g);r.Jf(a.nC,g);},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aDa=void 0;c=a(1);k=a(117);h=a(4);c.__importDefault(a(6));g=a(9);d=a(254);f=a(101);m=a(246);l=a(118);r=(function(n){function p(q,t,w,v,u,x){q=n.call(this,q,v,u,t,x) || this;q.vqb=w;q.O4=p.KF.INIT;q.Ccc=v.offset;q.gka=f.sn.prototype.toString.call(q) + " multiple";q.Wsb=v.aa;q.VM(v.offset,8,0);return q;}c.__extends(p,n);Object.defineProperties(p.prototype,{data:{get:function(){return this.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{aa:{get:function(){return this.Wsb;},enumerable:!1,configurable:!0}});p.prototype.Kk=function(q){var t,w;this.Cn=this.O4 === p.KF.INIT?q.response:g.xD(this.Cn,q.response);q.q_();switch(this.O4){case p.KF.INIT:(t=new DataView(this.Cn),w=t.getUint32(0));t=t.getUint32(4);k.Ro(t);this.VM(q.offset + q.aa,w,0);d.zF.prototype.Kk.call(this,q);this.O4=p.KF.zJa;break;case p.KF.zJa:t=new DataView(this.Cn);w=t.getUint32(this.bRa - 8);t=t.getUint32(this.bRa - 4);k.Ro(t);this.VM(q.offset + q.aa,w - 8,0);this.O4=p.KF.uJa;d.zF.prototype.Kk.call(this,q);break;case p.KF.uJa:d.zF.prototype.Kk.call(this,q);break;default:h.assert(!1);}};p.prototype.pH=function(q){if(this.nf)return {status:l.oj.lw};if(!this.mv())return {status:l.oj.ag};this.nf=q.appendBuffer(this.Cn,g.Yq(this));return {status:this.nf?l.oj.lw:l.oj.ag};};p.prototype.VM=function(q,t,w){q=new m.MR(this.stream,this.vqb,this.gka + " (" + this.Ka.length + ")",{K:this.K,mediaType:this.mediaType,Qa:this.Qa,bitrate:this.bitrate,offset:q,aa:t,location:this.location,ue:this.ue,responseType:w},this,this.pf,this.I);this.push(q);this.bRa=this.Ka.reduce(function(v,u){return v + u.aa;},0);};p.KF={INIT:0,zJa:1,uJa:2,name:["INIT","MOOF","MDAT"]};return p;})(d.zF);b.aDa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aPa=void 0;c=a(410);k=a(21);r=(function(){function h(g,d){this.sh=g;this.console=d;this.OG=Infinity;this.HT=this.n5=0;this.FTa=!1;}h.prototype.H_b=function(){this.FTa=!0;};h.prototype.ZHb=function(g,d,f,m,l){var n;if(this.sh){n=g.X;if(n){if(1 === f)(f=n.Nm(Math.ceil(this.sh * g.za.JJ),void 0,!0),n=g.jh(f),g=n.ZH.Rl(g.za),n.Tj({start:0,end:this.sh - f * g}),this.OG=this.sh);else {void 0 !== m.Bdb?(d=m.Bdb,f=d * g.za.W):(f=c.Ara(m,l) + Math.ceil(m.Wwb * g.za.JJ),k.R.Oa(f).Rl(g.za),f=d + f,d=Math.ceil(f / g.za.JJ));f=n.Nm(f,void 0,!0);for(l=m=0;l < f;++l){n=g.jh(l);m+=n.ZH.Rl(g.za);}m=d - m;n=g.jh(f);n.Tj({end:m});this.OG=d;}n.Y6a();return n;}}};h.prototype.GOb=function(g){this.HT+=g.rbb;this.console.warn("StallAtFrameCount, adding frames: " + g.rbb,"total frames: " + this.HT,"needed frames: " + this.OG);};h.prototype.vNb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.n5,"needed: " + this.OG);return this.n5 >= this.OG;};h.prototype.uNb=function(){return this.HT >= this.OG;};h.prototype.IOb=function(g,d){this.n5+=this.wA(g,d);};h.prototype.QGb=function(g,d,f){g.rbb=this.wA(d,f);};h.prototype.wA=function(g,d){return g.ZH.Rl(d.za);};h.prototype.Vz=function(){if(!this.uNb())return !1;if(this.FTa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.HT + " >= " + this.OG);return !0;};return h;})();b.aPa=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.xia=void 0;r=a(1);c=r.__importStar(a(10));k=r.__importDefault(a(30));h=r.__importDefault(a(6));g=a(23);d=a(15);f=a(251);m=a(926);l=new h.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ta[d.ta.yh],d.ta[d.ta.yd],d.ta[d.ta.bg],d.ta[d.ta.Rc],d.ta[d.ta.xh],"checkBuffering"];p={first:a(928),random:a(929),optimized:a(180).default,generic:a(931).default,roundrobin:a(939),selectaudio:a(420),selectaudioadaptive:a(940),"default":a(180).default,lowest:a(941),highest:a(942),throughputthreshold:a(943),replay:a(944).default,checkdefault:a(946),testscript:a(947)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var V60;function t(w,v,u,x){var W60,y;W60=2;for(;W60 !== 6;){switch(W60){case 2:var X3G="1S";X3G+="IY";X3G+="bZrNJCp9";y=this;this.GQ=w;this.J=v;this.$f=u;X3G;w=w || this.J.SAa;W60=8;break;case 8:this.Xg=n.reduce(function(z,A){var X60;X60=2;for(;X60 !== 5;){switch(X60){case 1:return z;break;case 2:z[A]=((p[w] || p[q[A]])[A] || p[q[A]][A]).bind(y);X60=1;break;case 9:return z;break;X60=5;break;}}},{});x && (this.M9a=new m.yLa(v));W60=6;break;}}}V60=2;for(;V60 !== 6;){switch(V60){case 2:t.prototype.Gza=function(w,v,u,x,y,z,A){var F9v=a000;var Y60,O,M,L,Z60,H,Q,R,B,D,C,F,G,E,I,N,J,P;Y60=2;for(;Y60 !== 67;){switch(Y60){case 44:F9v.C9G(10);var N31=F9v.y9G(5,228,19,17);x=M.Te - N31;Y60=43;break;case 49:Y60=w.bO?48:75;break;case 29:y.X && y.X.length || (u=!0,M.iA.push(y.Qa));Y60=28;break;case 74:Y60=Z60 === d.ta.yd?73:72;break;case 37:void 0 === M.V7a?this.$f.Z_(M.Te):this.$f.Z_(M.V7a);u=v[M.Te];M.VZ=u.Ua || 0;Y60=53;break;case 13:O=H[Q - 1].Qa;I=g.Ln(v,function(S){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return S.Qa === O;break;}}});Y60=11;break;case 50:var f3G="p";f3G+="la";f3G+="yin";f3G+="g";w.state !== d.ta.Rc && w.state !== d.ta.xh?(v=f.Qba(w.state),z=this.Vz(w.buffer,v,w.playbackRate,u,z),(M.$e=z.complete)?M.D6=z.reason:(M.$e=!1,M.XJ=z.XJ,M.sE=z.sE,M.progress=z.progress)):(M.$e=!0,M.D6=f3G);Y60=49;break;case 21:x=F.tk - F.qc;y=void 0;u=!1;Y60=33;break;case 56:M.EXb=null !== (C=null === (D=null === (B=h.default.Bec) || void 0 === B?void 0:B.call(h.default)) || void 0 === D?void 0:D[1 === w.mediaType?1:0]) && void 0 !== C?C:-1;M.tq=w && w.tq;M.oy=G;Y60=76;break;case 24:M=this.Xg[d.ta[w.state]].call(this,E,w,v,I,x,! !y,N,u);M.Qe=w.state;Y60=22;break;case 4:Y60=c.ma(I) && w.state === d.ta.Rc && (N=!0,void 0 !== this.$f.qv)?3:6;break;case 42:y=v[x];Y60=41;break;case 31:Y60=x < v.length?30:28;break;case 33:Y60=E.rdb && x > E.VY?32:40;break;case 25:this.$f.Ccb(k.default.J2.yh);Y60=24;break;case 3:L=this.$f.qv.bitrate;I=g.Ln(v,function(S){var a70;a70=2;for(;a70 !== 1;){switch(a70){case 4:return S.bitrate >= L;break;a70=1;break;case 2:return S.bitrate > L;break;}}});I=0 < I?I - 1:0 === I?0:v.length - 1;Y60=7;break;case 14:Y60=0 < Q?13:18;break;case 73:this.$f.Ccb(k.default.J2.yh);Y60=24;break;case 27:Z60=w.state;Y60=Z60 === d.ta.yh?26:74;break;case 22:Y60=M.If && (M.iA=[],v.forEach(function(S,U){var d70;d70=2;for(;d70 !== 4;){switch(d70){case 2:S === M.If && (M.Te=U);(!E.dGb || S.X && S.X.length) && !S.n0 || M.iA.push(S.Qa);S.n0=!1;d70=4;break;}}}),!M.iA.length)?21:39;break;case 64:M.$Xb=R;Y60=63;break;case 63:M.kc=F.kc;z=w && w.Vd;v=u.X;M.uk=v && void 0 !== z && !isNaN(z) && 0 <= z && z < v.length?v.Uj(z):F.kc;Y60=59;break;case 19:I=0 < I?I - 1:0 === I?0:v.length - 1;Y60=18;break;case 70:Y60=Z60 === d.ta.xh?24:69;break;case 18:c.ma(I) && (I=this.$f.P5a);void 0 !== x && this.Rxa(v,! !w.Ss,w.state,w.buffer,x);w.state === d.ta.yh && c.Ga(I) && (w.state=d.ta.yd);w.state !== d.ta.yh && void 0 === I && (w.state=d.ta.yh);Y60=27;break;case 6:(H=F.X,Q=H.length);Y60=14;break;case 69:Y60=68;break;case 71:Y60=Z60 === d.ta.Rc?24:70;break;case 68:var r3G="St";r3G+="ream selector c";r3G+="alled with invalid ";r3G+="player state ";return (l.error(r3G + d.ta[w.state]),null);break;case 40:u || (M.iA=void 0);Y60=39;break;case 72:Y60=Z60 === d.ta.bg?73:71;break;case 59:M.kVb=P && P.Ua && P.Ua.qa || 0;M.Pma=F.tk - F.qc;M.XVa=F.We;Y60=56;break;case 41:y.X && y.X.length || (u=!0,M.iA.push(y.Qa));Y60=40;break;case 26:this.lka=this.hka=void 0;Y60=25;break;case 46:Y60=P && z && 0 < z.length?45:63;break;case 75:return M;break;case 30:y=v[x];Y60=29;break;case 45:R=[];z.forEach(function(S){var e70,U;e70=2;for(;e70 !== 4;){switch(e70){case 2:U=S.stat;U=(S=P[S.filter]) && S[U];R.push(isNaN(U)?-1:U);e70=4;break;}}});Y60=64;break;case 2:(F=null === w || void 0 === w?void 0:w.buffer,G=h.default.time.ha(),E=this.J,I=this.$f.P5a,N=!1);c.Ga(I) && w.state === d.ta.yh && (this.$f.Z_(void 0),I=void 0);c.Ga(I) && I >= v.length && (this.$f.Z_(void 0),I=void 0);Y60=4;break;case 39:Y60=!M || null === M.Te?38:37;break;case 10:J=H[Q - 1].bitrate;I=g.Ln(v,function(S){var c70;c70=2;for(;c70 !== 1;){switch(c70){case 4:return S.bitrate <= J;break;c70=1;break;case 2:return S.bitrate > J;break;}}});Y60=19;break;case 7:this.$f.Z_(I);Y60=6;break;case 32:F9v.C9G(11);var O31=F9v.y9G(15,3,13);x=M.Te + O31;Y60=31;break;case 28:Y60=!u?44:40;break;case 53:var V3G="m";V3G+="in";V3G+="_fragment_v";V3G+="ma";V3G+="f";M.reason && (u.At=M.reason,V3G !== M.reason && (u.Eza=M.hv,u.NA=M.NA,u.zp=M.zp,u.Ap=M.Ap));this.M9a && (M.Ux=this.M9a.ALb({tH:F.tk - F.qc,qc:F.qc,fSb:v[0],If:u,E6b:v[M.Te + 1] || u,b5b:v[v.length - 1],Qe:w.state,playbackRate:w.playbackRate,Vd:w.Vd,w8:A}));c.Ga(I) && u.bitrate < v[I].bitrate && (this.hka=F.kc);Y60=50;break;case 38:return null;break;case 43:Y60=0 <= x?42:40;break;case 48:P=u.Ab;z=E.gTa;Y60=46;break;case 11:Y60=!(0 <= I)?10:18;break;case 76:M.cR=h.default.time.ha();Y60=75;break;}}};t.prototype.Vz=function(w,v,u,x,y){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:return this.Xg.checkBuffering.call(this,w,v,u,x,y,this.J);break;}}};V60=5;break;case 5:t.prototype.A3b=function(w,v,u){var g70;g70=2;for(;g70 !== 1;){switch(g70){case 2:c.ma(v)?this.hka=this.lka=void 0:v.bitrate < u.bitrate && (this.lka=w);g70=1;break;}}};t.prototype.Rxa=function(w,v,u,x,y){var h70,z,A;h70=2;for(;h70 !== 5;){switch(h70){case 2:this.p8(w,function(B){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:B.pv && B.Ab && B.Ab.confidence?(z !== B.Ab && (z=B.Ab,v && B.Ab && (B.Ab.Ss=!0),A=Math.floor(y(B.Ab,x,u,B.track.M.Ys[0])),A=0 === A?1:A),B.Ua=A):B.Ua=void 0;i70=1;break;}}});h70=5;break;}}};t.prototype.p8=function(w,v){var E9v=a000;var j70,u;j70=2;for(;j70 !== 3;){switch(j70){case 8:E9v.C9G(12);var P31=E9v.b9G(310,35,9);u=w.length / P31;j70=6;break;j70=1;break;case 2:E9v.C9G(13);var Q31=E9v.b9G(2,12,9,6,9);u=w.length - Q31;j70=1;break;case 1:j70=0 <= u?5:3;break;case 5:v(w[u],u,w);j70=4;break;case 7:j70=6 < u?4:8;break;j70=0 <= u?5:3;break;case 4:--u;j70=1;break;}}};Object.defineProperties(t.prototype,{P$:{get:function(){var k70;k70=2;for(;k70 !== 1;){switch(k70){case 4:return this.hka;break;k70=1;break;case 2:return this.hka;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Aua:{get:function(){var l70;l70=2;for(;l70 !== 1;){switch(l70){case 2:return this.lka;break;case 4:return this.lka;break;l70=1;break;}}},enumerable:!1,configurable:!0}});return t;break;}}})();b.xia=a;},function(r,b,a){var t,w;function c(v){return m(v.If);}function k(v,u){var x,y;x=v.r4b;x=p(u) + x * q(u);u=u.Ua || 0;y=0;0 < u && (y=x / u - 1);return v.STb + v.q4b * Math.max(0,y);}function h(v,u){var x,y,z,A;if(!u || "object" !== typeof u)return 0;x=v.If;y=v.E6b;z=v.b5b;A={selectedFragmentBitrate:f(v.w8,x,v.Vd) * v.playbackRate,selectedPeakBitrate:(x.Mx || l(x) || 0) * v.playbackRate,upswitchPeakBitrate:(y.Mx || l(y) || 0) * v.playbackRate,maxPeakBitrate:(z.Mx || l(z) || 0) * v.playbackRate,selectedAverageBitrate:l(x) * v.playbackRate,upswitchAverageBitrate:l(y) * v.playbackRate,maxAverageBitrate:m(x) * v.playbackRate,bufferLevelMs:v.tH,observedThroughput:n(v.If) || 0,averagetp:p(v.If) || 0,stddevtp:q(v.If) || 0};v=u.offset || 0;return Object.keys(A).reduce(function(B,D){return B + (u[D] || 0) * A[D];},v);}function g(v,u,x){var z;function y(A,B){return void 0 !== A && 0 < A.filter(function(D){return D === B;}).length;}z=v.filter(function(A){return y(A.Rba,u);});0 === z.length && (z=v.filter(function(A){return !A.Rba || 0 === A.Rba.length;}));v=z.filter(function(A){return y(A.r8a,x);});0 === v.length && (v=z.filter(function(A){return !A.r8a || 0 === A.r8a.length;}));return v.sort(function(A,B){return A.E6 - B.E6;});}function d(v,u){var x,A,B;x=g(u.$Zb,v.Qe,v.If.Ab.confidence);if(0 === x.length)return 0;u=k(u,v.If);u=v.tH / u;for(var y=-1,z=0;z < x.length;z++){if(x[z].E6 >= u){y=z;break;}}if(-1 === y)return h(v,x[x.length - 1].Lna);if(0 === y)return h(v,x[0].Lna);A=x[y - 1].E6;z=h(v,x[y - 1].Lna);B=x[y].E6;v=h(v,x[y].Lna);x=Math.min((u - A) / (B - A),1);return (1 - x) * z + x * v;}function f(v,u,x){var y;return void 0 !== x && u.X?(void 0 === v?null === (y=u.X) || void 0 === y?void 0:y.get(x).Ama:v.u1a(u,x).Ama) || u.Mx || 0:u.Mx || 0;}function m(v){var u,x;x=null === (u=null === v || void 0 === v?void 0:v.M) || void 0 === u?void 0:u.Ys;return x?x[v.mediaType] || 0:0;}function l(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function n(v){var u;v=v.Ab;return (null === (u=null === v || void 0 === v?void 0:v.Ua) || void 0 === u?void 0:u.qa) || 0;}function p(v){var u;v=v.Ab;return (null === (u=null === v || void 0 === v?void 0:v.mp) || void 0 === u?void 0:u.pN) || 0;}function q(v){var u;v=v.Ab;return Math.sqrt(null === (u=null === v || void 0 === v?void 0:v.mp) || void 0 === u?void 0:u.tR) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.wLb=b.RJb=b.wMb=b.yLa=void 0;r=a(1).__importDefault(a(6));t=a(927);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,u){return u.o3b;},none:function(){return 0;},regression:d,epsGreedy:function(v,u){return Math.min(d(v,u) || 0,n(v.If));},"default":c};a=(function(){var m70;function v(u){var n70;n70=2;for(;n70 !== 4;){switch(n70){case 2:var y3G="de";y3G+="fa";y3G+="u";y3G+="l";y3G+="t";var b3G="1SI";b3G+="YbZ";b3G+="rNJCp";b3G+="9";this.J=u;b3G;this.algorithm=(w[this.J.CWb] || w[y3G]).bind(this);n70=4;break;}}}m70=2;for(;m70 !== 4;){switch(m70){case 2:v.prototype.fra=function(u,x,y){var o70,z;o70=2;for(;o70 !== 8;){switch(o70){case 1:o70=!y?5:4;break;case 2:o70=1;break;case 5:return 0;break;case 4:a000.C9G(14);x=Math.ceil(a000.b9G(x,y));u=(this.J.SWa.qfc || 0) * ((null === (z=u.fSb) || void 0 === z?void 0:z.Mx) || 0);return x < u?0:x;break;}}};v.prototype.ALb=function(u){var p70,x,y,z;p70=2;for(;p70 !== 6;){switch(p70){case 1:p70=!y?5:4;break;case 5:return x;break;case 3:p70=z && u.Vd && 0 === u.Vd % z || u.tH < y.lJ?9:8;break;case 2:(x=new t.xha({SB:0,aA:0,FB:0}),y=this.J.SWa);p70=1;break;case 4:z=this.J.Q5b;p70=3;break;case 8:x=this.algorithm(u,this.J);return new t.xha({SB:this.fra(u,x,y.sab[0]),FB:this.fra(u,x,y.sab[2]),aA:this.fra(u,x,y.sab[1])});break;case 9:return x;break;}}};return v;break;}}})();b.yLa=a;b.wMb=k;b.RJb=g;b.wLb=n;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xha=void 0;c=a(1);r=(function(){function k(h){this.SB=h.SB;this.aA=h.aA;this.FB=h.FB;}Object.defineProperties(k.prototype,{tab:{get:function(){return [this.SB,this.aA,this.FB];},enumerable:!1,configurable:!0}});k.prototype.Z7a=function(){return Math.min(this.SB,this.aA,this.FB);};k.prototype.x$=function(){return this.tab.some(function(h){return 0 < h;});};k.prototype.Vbb=function(h){return new k({SB:h * this.SB,aA:h * this.aA,FB:h * this.FB});};k.prototype.a7a=function(h,g,d,f){var m;m=8 * h / Math.max(d - g,1);if(!this.x$())return !1;h=this.tab.map(function(l){return Math.abs(m - l) / l;});return Math.min.apply(Math,c.__spread(h)) < f;};return k;})();b.xha=r;},function(r,b,a){var k,h,g,d;function c(f,m,l,n){if(k.ma(n))f=h(l);else if(g(l[n]))f=n;else if((f=h(l,n),0 > f))return null;return new d(f);}k=a(10);b=a(31);h=b.hqa;g=b.TI;d=b.Po;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var k;function c(h,g,d){h=d.map(function(f,m){return f.pv?m:null;}).filter(function(f){return null !== f;});return h.length?new k(h[Math.floor(Math.random() * h.length)]):null;}k=a(31).Po;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(1);c.__importStar(a(10));k=a(31);b.default=function(h){var L9v=a000;var q70,I,G,E,N,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F;q70=2;for(;q70 !== 54;){switch(q70){case 12:var n3G=" >= fragmentsL";n3G+="engt";n3G+="h: ";var C3G="Str";C3G+="eamingI";C3G+="ndex:";C3G+=" ";L9v.n9G(15);u=L9v.b9G(0,u,8);L9v.n9G(0);I=L9v.b9G(A,1E3);q >= d && k.console.error(C3G + q + n3G + d);f+=F;q70=19;break;case 36:return c.__assign({result:!0,EY:m / (A / 1E3),Ru:!0},h && ({F6:n}));break;case 31:L9v.C9G(16);f+=L9v.y9G(I,F,0,u);p+=N;q70=29;break;case 37:return (h && n.push(g / (A / 1E3)),c.__assign({result:!1,EY:Math.min(g,m) / (A / 1E3),Ru:!0},h && ({F6:n})));break;case 38:q70=(g=Math.max(p - f,0),g < x && g < G)?37:31;break;case 42:q70=q >= t && g > C?36:41;break;case 29:v-=F;q70=28;break;case 27:L9v.C9G(0);C*=L9v.b9G(A,1E3);q70=26;break;case 35:(f=l,v+=D[E],++E,g=B[E],l+=g);q70=21;break;case 8:n=[];m=Infinity;(G=0,E=0);g=g.rd[0];L9v.C9G(17);l=L9v.y9G(l,g,A,1E3);q70=12;break;case 33:return (h && n.push(g / (A / 1E3)),c.__assign({result:!1,EY:g / (A / 1E3),Ru:!1},h && ({F6:n})));break;case 43:++q;q70=42;break;case 19:0 === p && (f=0);L9v.n9G(0);f*=L9v.b9G(A,1E3);L9v.C9G(0);p*=L9v.b9G(A,1E3);L9v.n9G(0);y*=L9v.y9G(A,1E3);L9v.n9G(0);x*=L9v.b9G(A,1E3);q70=27;break;case 25:F=D[q];N=B[q];q70=23;break;case 21:q70=v < G?35:34;break;case 2:var c3G="1SI";c3G+="YbZ";c3G+="rN";c3G+="JCp";c3G+="9";(g=h.X,d=h.blocks,f=h.qc,m=h.tk,l=h.T2b,n=h.Nj,p=h.kc,q=h.Vd,t=h.pIb,w=h.xW,v=h.s0a,u=h.Ua,x=h.Eaa,y=h.lJ,z=h.nQb);h=h.eGb;c3G;A=g.V;d=Math.min(g.length,d);(B=g.rd,D=g.sizes,C=m - f,F=8 * n / u | 0);q70=8;break;case 44:(v+=D[E],++E,l+=B[E]);q70=28;break;case 28:q70=l < f && E < q?44:43;break;case 23:q70=v < F?22:38;break;case 26:q70=q < d?25:36;break;case 39:m=Math.min(g,m);q70=26;break;case 22:G=Math.max(F,w);q70=21;break;case 34:q70=!z && (g=p - f,g < y)?33:32;break;case 32:L9v.n9G(2);g=L9v.b9G(f,p);q70=31;break;case 41:h && n.push(g / (A / 1E3));G=g;q70=39;break;}}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(419);c=a(416);a=a(932);b.default={STARTING:r.Fza,BUFFERING:c.CQ,REBUFFERING:c.CQ,PLAYING:a.zo,PAUSED:a.zo};},function(r,b,a){var h,g,d,f,m,l,n,p;function c(q,t,w){var v,u;v=t.length - 1;q=Math.min(v,q);u=t[q].$a;q=Math.min(q + 1,v);if(u)for((w=u + w,u=q);u <= v;u++){t[u].$a <= w && (q=u);}return q;}function k(q){var w;for(var t=q.length - 1;0 <= t;t--){w=q[t];if(w.X)return w;}return null;}Object.defineProperties(b,{__esModule:{value:!0}});b.zo=void 0;h=a(1);h.__importDefault(a(31));g=a(31);d=a(933);f=a(934);m=a(935);l=a(936);n=a(937);p=a(938);b.zo=function(q,t,w,v,u,x,y,z){var B,D,C,F,G,E,O,J,M,P,R,S,U,ba,na;function A(va,ya){var ra,V,K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb,ua;ra=va.vna;if(!ra[ya]){V=w[ya];K=va.UVa;T=va.OVa;fa=R[va.Tca.length];ia=0;Ba=0;Sa=0;La=0;Za=V && V.X;Wa=1;!Za && C && (Za=C && C.X,Wa=V.bitrate / C.bitrate);if(Za){Va=Za.Nm(va.kc);cb=Za.length - 1;for(K=K.Bq();Va <= cb && La < fa;){for(var wb=0,da=0;Va <= cb && da <= F;){wb+=Math.round(Wa * Za.tAa(Va));da+=Za.rd(Va);Va++;}ua=d.Tqa(G,K,wb,da);T=n.rAa(T,ua[1],H,S,U,O,wb,da,E);Ba+=T[1];T=T[0];Sa+=T.length;ia++;La+=da;(ua=ua[0]) && K.bHb(ua);K.iwb(wb,da);}}ia=h.__read([K,T,ia,Sa,Ba,La],6);K=ia[0];fa=ia[1];ia=ia[5];V=va.leb + V.$a * ia;Ba=va.keb + ia;Sa=m.rXa(fa,M,P || Infinity);La=m.qXa(V / Ba,Sa,J);ra[ya]={UVa:K,OVa:fa,kc:va.kc + ia,leb:V,keb:Ba,Np:La,Gab:Sa,low:Math.max(0,ya - 1),Fk:ya,high:Math.min(ba,ya + 1),Tca:va.Tca.concat(ya),vna:[]};na++;}return ra[ya].Np;}u=new g.Po();D=w[v || 0];C=k(w);if(null === C)return (u.If=D,u);F=q.$Y;x=q.a1b;y=t.buffer;G={Pxb:y.yu,$s:q.$s,eJ:q.eJ,aTb:8388608};E=Math.max(1,t.playbackRate);q=x.kdc;t=q.min;for(var I=q.max,N=q.step,L=q.scale,H=[0],Q=q=0;Q < I - t;(Q=Q * L + N,q++)){H.push(Q + t);}O=x.accuracy;J=x.Kgc;M=x.Lgc;P=x.fgc;R=x.oea;q=x.search;z=l.g1a(D || C,x.Zhc,x.Kdc,z);S=z[0];U=z[1];D=new p.QDa(y.X,[]);t=y.kc;I=[[t - y.qc,1]];z="bitonic" === q;if(y=y.bn)(q=d.Tqa(G,D,y,0)[1],I=n.rAa(I,q,H,S,U,O,y,0,E)[0]);ba=c(v || 0,w,x.Hfc);na=0;v=[{UVa:D,OVa:I,kc:t,leb:0,keb:0,Np:0,Gab:0,Fk:v,low:0,high:ba,Tca:[],vna:[]}];for(y=0;y < R.length;y++){D=[];for(q=0;q < v.length;q++){t=v[q];if(z)f.k7a(A,t,t.low,t.Fk,t.high);else for(I=t.low;I <= t.high;I++){A(t,I);}D=D.concat(t.vna.filter(function(va){return null !== va;}));}D.sort(function(va,ya){var ra;ra=ya.Np - va.Np;if(ra)return ra;ya=ya.Fk - va.Fk;return 0 === va.Np?-ya:ya;});v=D.slice(0,x.cgc);}x=v[0];D=w[x.Tca[0]];null !== (B=D.X) && void 0 !== B && B.length || (D.n0=!0);u.If=D;u.gVb=x.Gab;return u;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tqa=void 0;b.Tqa=function(a,c,k,h){var g,d,f,m,l,n,p;h=a.$s - h;g=a.Pxb;d=c.GP;f=0;if(k < g && 0 < h){m=c.We;l=c.QK;n=0;if(m + k > g){for(;f < d && m + k > g;){p=c.jh(f);m-=p[0];l-=p[1];f++;}k=a.eJ;if(0 < k)for((a=a.aTb,g=Math.min(f,d - 1),n=c.jh(g)[1],m=0,g++,p=c.jh(g));g < d && n < k && m + p[0] < a;){m+=p[0];n+=p[1];p=c.jh(++g);}}h=Math.min(h,l - n);}else (f=d,h=-1);return [f,h];};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.k7a=void 0;b.k7a=function(a,c,k,h,g){var d;for(h=Math.min(Math.max(k,h),g);k < g;){if(g === k + 1)return a(c,k) >= a(c,g)?k:g;if(g === k + 2)if((h=a(c,k + 1),a(c,k) > h))break;else return a(c,g) >= h?g:k + 1;h === g?h--:h === k && h++;d=a(c,h);if(d >= a(c,h + 1)){if(d > a(c,h - 1))return h;g=h - 1;}else k=h + 1;h=Math.round(k + (g - k) / 2);}return k;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qXa=b.rXa=void 0;b.rXa=function(a,c,k){var f;for(var h=0,g=0,d=a.length;g < d;g++){f=a[g][0] - c;h+=a[g][1] * (0 >= f?1:Math.exp(-k * f));}return h;};b.qXa=function(a,c,k){return Math.pow(1 - c,k) * a;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.g1a=void 0;c=a(388);b.g1a=function(k,h,g,d){var f,m,l,n;f=k.Ab;if((f=f && f.mp) && 0 < f.qa){m=g * f.qa + 8 * (1 - g) / Math.max(1,f.pN);k=f.Ce;}else (m=8 / (k.Ua || 1),k=1E-6);l=d / 8;n=new c.xga(m,k / h);return [function(p,q){p+=l * q;return m * p;},function(p,q,t){p+=l * q;return 0 < p?(q=n.sWa(t / p),q[1]*=p,q):[1,0];}];};},function(r,b){function a(c,k,h,g){var d;for(;h < g;){d=h + g >> 1;c[d] > k?g=d - 1:h=d + 1;}return c[h] > k?h - 1:h;}Object.defineProperties(b,{__esModule:{value:!0}});b.rAa=void 0;b.rAa=function(c,k,h,g,d,f,m,l,n){var x,y,E,I;for(var p=[],q=0,t=0,w=0,v=0,u=c.length;v < u;v++){x=c[v];y=Math.min(x[0],k);x=x[1];q+=x;for(var z=1 - f,A=0,B=0,D=0,C,F=a(h,y + l,0,h.length - 1),G=F;0 <= F && B < z;){B=h[F];B <= l && (B=l,F=0);E=d(m,l,y + l - B);w++;B=E[0];C=B - A;if(C > f){A=E[1];D=(A - D) / C;I=y + l - n * D;E=a(h,I,F,G) + 1;D=p[E] || [0,0];C*=x;I*=C;t+=I;D[0]+=I;D[1]+=C;p[E]=D;D=A;A=B;}F--;}C=1 - A;0 < C && (D=(g(m,l) - D) / C,I=y - n * D,0 <= I && (I+=l),E=a(h,I,0,G) + 1,D=p[E] || [0,0],C*=x,I*=C,t+=I,D[0]+=I,D[1]+=C,p[E]=D);}k=c=0;f*=q;h=[];g=p.length;for(v=0;v < g;v++){if(D=p[v])(d=D[1],d >= f?h.push(D):(c+=d,k+=D[0]));}if(g=h.length)for(v=0;v < g;v++){D=h[v];c && (D[0]+=k / g,D[1]+=c / g);D[0]/=D[1];D[1]/=q;}else h=[[t / q,1]];return [h,w];};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QDa=void 0;r=(function(){function a(c,k){var h,g,d;h=0;g=0;this.NW=0;this.bma=c;this.gda=k;if(c=c.length + k.length)for(k=0;k < c;k++){d=this.jh(k);h+=d[0];g+=d[1];}this.GP=c;this.We=h;this.QK=g;}a.prototype.jh=function(c){var k,h;c+=this.NW;k=this.bma;h=k.length;return c < h?(c=k[c],[c.aa,1E3 * (c.rb - c.bb) / c.V]):this.gda[c - h];};a.prototype.bHb=function(c){var d;for(var k=this.We,h=this.QK,g=0;g < c;g++){d=this.jh(g);k-=d[0];h-=d[1];}this.NW+=c;this.GP-=c;this.We=k;this.QK=h;};a.prototype.Bq=function(){var c;c=new a([],[]);c.bma=this.bma;c.gda=this.gda.slice(0);c.NW=this.NW;c.We=this.We;c.QK=this.QK;c.GP=this.GP;return c;};a.prototype.iwb=function(c,k){this.gda.push([c,k]);this.We+=c;this.QK+=k;this.GP++;};return a;})();b.QDa=r;},function(r,b,a){var k,h,g,d;function c(f,m,l){var n,p;n=this.jka;m=m.buffer.kc;p="forward" === f.r0b;if(k.ma(n))return (n=p?h(l):h(l,l.length),this.kka=m,this.jka=n,new d(n));g(l[n]) || (n=h(l,n),this.kka=m,this.jka=n);if(0 > n)return null;if(m > this.kka + f.L4b){f=l.map(function(q,t){return q.pv?t:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?n=(f.indexOf(n) + 1) % f.length:(n=f.indexOf(n) - 1,0 > n && (n=f.length - 1));this.jka=f[n];this.kka=m;return new d(f[n]);}return new d(n);}k=a(10);b=a(31);h=b.hqa;g=b.TI;d=b.Po;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function k(w,v,u,x){var u70,I,N,E,B,D,C,F,G,z,A,y;u70=2;for(;u70 !== 32;){switch(u70){case 5:u70=!(w && w.bR && 0 <= w.bR.indexOf(y))?4:3;break;case 25:u70=++C < A.length?24:21;break;case 18:z=D;u70=21;break;case 27:u70=v.Wq && E > G.ZA && (void 0 === N || Number(I) > N || D.kc - N > G.Z$)?26:22;break;case 15:(I=this.Aua,N=this.P$);u70=27;break;case 17:C--;u70=11;break;case 19:u70=n(E) && (0 == C || E.bitrate * v.playbackRate * G.oZa < F)?18:17;break;case 13:u70=C && F < G.oZa * D * v.playbackRate?12:16;break;case 12:var J3G=" ";J3G+="k";J3G+="bp";J3G+="s, try ";J3G+="to downswitch";var R3G=" kb";R3G+="ps ";R3G+="<";R3G+=" ";var x3G="thr";x3G+="oughput fo";x3G+="r a";x3G+="udio";x3G+=" ";(f && d.log(x3G + F + R3G + G.oZa + "*" + D + J3G),--C);u70=11;break;case 23:z=D;u70=21;break;case 4:return new p(x);break;case 6:u70=0 > C?14:13;break;case 14:z=0;u70=21;break;case 21:var G3G="kbps, streamin";G3G+="g";G3G+="Pts";G3G+=" :";var m3G=",";m3G+=" audio";m3G+=" thro";m3G+="ughpu";m3G+="t:";var O3G=" kbps, ";O3G+="prof";O3G+="il";O3G+="e ";O3G+=":";var L3G="se";L3G+="lectA";L3G+="udioStream: sele";L3G+="cted stream :";var j3G=" k";j3G+="b";j3G+="p";j3G+="s";var e3G=" k";e3G+="bp";e3G+="s,";e3G+=" to ";var s3G="switchi";s3G+="ng audio f";s3G+="r";s3G+="om";s3G+=" ";var g3G="d";g3G+="o";g3G+="wn";var U3G="u";U3G+="p";F=u[z];z !== x && f && d.log((z > x?U3G:g3G) + s3G + B.bitrate + e3G + F.bitrate + j3G);f && d.log(L3G + F.bitrate + O3G + y + m3G + F.Ua + G3G + v.buffer.kc);return new p(z);break;case 24:u70=(D=A[C],E=u[D],n(E) && F > G.Kfb * E.bitrate * v.playbackRate)?23:25;break;case 26:var F3G=", str";F3G+="eamin";F3G+="g";F3G+="Pt";F3G+="s = ";var M3G=", lastU";M3G+="pswitchP";M3G+="t";M3G+="s = ";var H3G="  Upswitch allowed. ";H3G+="la";H3G+="stD";H3G+="ownswitchPt";H3G+="s = ";f && d.log(H3G + N + M3G + I + F3G + D.kc);u70=25;break;case 10:D=A[C];E=u[D];u70=19;break;case 8:u70=A && 1 < A.length?7:21;break;case 7:(B=u[x],D=B.bitrate,C=A.indexOf(x),F=B.Ua,G=w.axb);u70=6;break;case 16:var t3G=" ";t3G+="k";t3G+="b";t3G+="ps";var q3G=" k";q3G+="b";q3G+="ps";q3G+=" >";q3G+=" ";var B3G="throughput ";B3G+="for a";B3G+="udi";B3G+="o";B3G+=" ";u70=C < A.length - 1 && F > G.Kfb * D * v.playbackRate && (f && d.log(B3G + F + q3G + G.Kfb + "*" + D + t3G),D=v.buffer,E=D.tk - D.qc,B.X && B.X.length)?15:21;break;case 22:var z3G="m";z3G+="s";var Y3G=", ";Y3G+="bu";Y3G+="ffer le";Y3G+="ve";Y3G+="l = ";var v3G=", las";v3G+="tUp";v3G+="s";v3G+="witch";v3G+="Pts = ";var W3G="  Upswitch no";W3G+="t allowed. ";W3G+="lastDownswitchPts = ";f && d.log(W3G + N + v3G + I + Y3G + E + z3G);u70=21;break;case 11:u70=0 <= C?10:21;break;case 3:z=x;w.web.some(function(L){var v70,H,Q,O,J,M,P;v70=2;for(;v70 !== 9;){switch(v70){case 6:v70=Q?6:5;break;v70=Q?5:3;break;case 2:(H=L.profiles,Q=H && 0 <= H.indexOf(y));v70=1;break;case 1:v70=Q?5:3;break;case 12:return Q;break;v70=9;break;case 4:A=u.filter(function(R){var w70,S;w70=2;for(;w70 !== 5;){switch(w70){case 2:S=R.bitrate;return S >= J && S <= M && 0 <= H.indexOf(R.Pf) && S * O / 8 < P;break;}}}).map(function(R){var x70;x70=2;for(;x70 !== 1;){switch(x70){case 2:return R.wf;break;}}});v70=3;break;case 5:(O=(L=L.AZ) && L.Jaa || w.Jaa,J=L && L.Sfc || -Infinity,M=L && L.uP || Infinity,P=v.buffer.yu);v70=4;break;case 3:return Q;break;}}});u70=8;break;case 2:var o3G="Mu";o3G+="st have";o3G+=" at least one sele";o3G+="cted stream";m(!h.ma(x),o3G);y=u[x].Pf;u70=5;break;}}}function c(w,v){var s70,u;s70=2;for(;s70 !== 4;){switch(s70){case 2:u=void 0;v.some(function(x){var t70,y;t70=2;for(;t70 !== 4;){switch(t70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(w)) && (u=x.override);t70=5;break;case 5:return y;break;case 7:return y;break;t70=4;break;}}});return u;break;}}}var r70,h,g,d,f,m,l,n,p,q,t;r70=2;for(;r70 !== 4;){switch(r70){case 2:var Q3G="1S";Q3G+="I";Q3G+="Y";Q3G+="bZrNJCp";Q3G+="9";(h=a(10),g=a(31),d=g.console,f=g.debug,m=g.assert,l=a(85),n=g.TI,p=g.Po,q=a(420),t=a(15).ta);r.exports={STARTING:function(w,v,u,x){var y70,y,z;y70=2;for(;y70 !== 7;){switch(y70){case 2:(y=w,z=u[x || 0].Pf);y70=1;break;case 1:y70=(z=w && w.bR && 0 <= w.bR.indexOf(z)?c(z,w.web):c(z,w.Zwb))?5:4;break;case 4:w=q[t[t.yh]](y,v,u,x);y70=3;break;case 5:var P3G="selectAudioStr";P3G+="eam";P3G+="Starting: overriding con";P3G+="fig ";P3G+="with ";(y={minInitAudioBitrate:w.ZY,minHCInitAudioBitrate:w.XY,maxInitAudioBitrate:w.JY,minRequiredAudioBuffer:w.Jaa},f && d.log(P3G + JSON.stringify(z)),l(z,y));y70=4;break;case 3:var k3G=" kbps, p";k3G+="r";k3G+="ofil";k3G+="e :";var l3G="selectAudioSt";l3G+="reamStarting: selected strea";l3G+="m :";u=u[w.Te];f && d.log(l3G + u.bitrate + k3G + u.Pf);return w;break;}}},BUFFERING:k,REBUFFERING:k,PLAYING:k,PAUSED:k};Q3G;r70=4;break;}}})();},function(r,b,a){var k;function c(){return new k(0);}a(10);k=a(31).Po;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var k;function c(h,g,d){return new k(d.length - 1);}a(10);k=a(31).Po;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var z70,k,h,g,d;z70=2;for(;z70 !== 6;){switch(z70){case 2:k=a(10);a(30);h=a(31);a(6);z70=3;break;case 3:var E3G="1";E3G+="SIY";E3G+="b";E3G+="ZrNJ";E3G+="Cp9";(g=h.assert,d=h.Po);h=a(180).default;r.exports={STARTING:h.STARTING,BUFFERING:h.BUFFERING,REBUFFERING:h.REBUFFERING,PLAYING:c,PAUSED:c};E3G;z70=6;break;}}function c(f,m,l,n){var A70,p;A70=2;for(;A70 !== 12;){switch(A70){case 2:var I3G="pla";I3G+="yer m";I3G+="issing fragm";I3G+="entIndex";var i3G="Must ";i3G+="have at l";i3G+="east one selected ";i3G+="stream";g(!k.ma(n),i3G);g(k.Ga(m.Vd),I3G);m=d(n);A70=4;break;case 3:A70=-1 < n?9:14;break;case 9:p=l[n];A70=8;break;case 8:A70=p.Ab && p.Ab.Ua && p.bitrate < p.Ab.Ua.qa - f.H4b?7:6;break;case 4:a000.C9G(12);var R31=a000.b9G(79,10,8);n=l.length - R31;A70=3;break;case 7:return (m.Te=n,m);break;case 14:m.Te=0;return m;break;case 6:--n;A70=3;break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(945);b.default={PLAYING:r.zo,PAUSED:r.zo};},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zo=void 0;r=a(1);c=r.__importStar(a(10));k=r.__importDefault(a(31));h=r.__importDefault(a(180));g=a(101);d=r.__importDefault(a(6));f=k.default.assert;m=k.default.Po;b.zo=l;(function(){var B70;B70=2;for(;B70 !== 5;){switch(B70){case 2:var d3G="1SIYb";d3G+="Zr";d3G+="NJCp9";b.zo=l=function(n,p,q,t,w,v,u){var C70,O,E,I,J,C,F,G,L,H,Q,B,N,x,D,y,z,A;C70=2;for(;C70 !== 66;){switch(C70){case 53:O=p.Vd;C70=52;break;case 17:C70=n.BGb?16:60;break;case 45:O++;C70=47;break;case 19:z.Te=y[A].x0b;C70=18;break;case 34:D=q[B];x=B <= t?!0:!1;(E=void 0,I=[]);D.Ab && D.Ab.throughput && (E=D.Ab.throughput.qa);C70=30;break;case 71:C70=0 <= B?70:73;break;case 61:z.kVa=w;C70=60;break;case 75:C70=y[B].f > A?73:74;break;case 74:B++;C70=55;break;case 47:C70=O < H.length?46:65;break;case 56:B+=1;C70=55;break;case 67:B--;C70=71;break;case 77:C70=y[B].f === A?76:75;break;case 73:A=x;C70=20;break;case 57:C70=D < A?56:72;break;case 59:return h.default.PLAYING.call(this,n,p,q,t,w,v,u);break;case 10:A=B;C70=20;break;case 69:x=B;C70=73;break;case 18:z.If=q[z.Te];C70=17;break;case 30:C70=D.Ab && D.Ab.tdigest?29:38;break;case 8:C70=A < x || A > B?7:6;break;case 21:B=0;C70=35;break;case 49:O++;C70=52;break;case 52:C70=O < Math.min(O + n.dxb,H.length)?51:48;break;case 35:C70=B < q.length?34:61;break;case 51:J=H.get(O);L.push({d:J.duration,b:J.aa});C70=49;break;case 16:w=[];v=p.buffer;v=v.tk - v.qc;C70=25;break;case 37:D.Ab && D.Ab.tputTrace && (N=D.Ab.tputTrace);(L=[],H=D.X,Q=0);C70=54;break;case 42:I.push(N.Kj);I.push(N.sl);I.push(N.wba);C70=39;break;case 60:return z;break;case 72:--B;C70=71;break;case 65:H=void 0;p.vV && (H=d.default.time.ha() - p.vV);w.push({Vd:p.Vd,Khc:H,Gfc:Q,$cc:E,Hhc:I,Jhc:N,Pma:v,s0a:u,vdc:L,lfc:y.bitrate,mfc:null !== (C=y.$a) && void 0 !== C?C:0,Cdc:D.bitrate,Ddc:null !== (F=D.$a) && void 0 !== F?F:0,fhc:A.bitrate,ghc:null !== (G=A.$a) && void 0 !== G?G:0,Rs:x});C70=62;break;case 11:C70=D === A?10:58;break;case 9:B=y[y.length - 1].f;C70=8;break;case 38:N=void 0;C70=37;break;case 46:Q+=H.get(O).duration;C70=45;break;case 20:C70=void 0 !== A?19:59;break;case 25:u=g.sn.gYa(p.buffer.X);u=p.buffer.yu - u.aa;y=q[t];A=q[t];C70=21;break;case 29:N=D.Ab.tdigest;I.push(N.min);I.push(N.vba);I.push(N.rl);C70=42;break;case 2:var a3G="pl";a3G+="aye";a3G+="r ";a3G+="missing fragmentInde";a3G+="x";var Z3G="Must ha";Z3G+="ve at least one selected ";Z3G+="stream";f(!c.ma(t),Z3G);f(c.Ga(p.Vd),a3G);C70=4;break;case 39:I.push(N.max);C70=38;break;case 54:C70=void 0 !== H?53:65;break;case 76:x=B;C70=73;break;case 62:B++;C70=35;break;case 58:x=void 0;C70=57;break;case 7:return h.default.PLAYING.call(this,n,p,q,t,w,v,u);break;case 70:C70=y[B].f === A?69:68;break;case 55:C70=B < y.length?77:73;break;case 48:O=p.Vd;C70=47;break;case 6:a000.n9G(2);B=a000.b9G(x,A);0 > B && (B=0);B >= y.length && (B=y.length - 1);D=y[B].f;C70=11;break;case 68:C70=y[B].f < A?73:67;break;case 4:(y=n.B3b,z=new m(t),A=null !== (x=p.Vd) && void 0 !== x?x:-1);x=y[0].f;C70=9;break;}}};d3G;B70=5;break;}}})();},function(r,b,a){(function(){var D70,c;D70=2;for(;D70 !== 8;){switch(D70){case 2:a(10);a(30);a(31);D70=4;break;case 4:var w3G="1S";w3G+="IY";w3G+="bZr";w3G+="NJC";w3G+="p9";c=a(15).Qc;r.exports={checkBuffering:function(k,h,g,d,f,m){var o9v=a000;function l(x){var F70;F70=2;for(;F70 !== 5;){switch(F70){case 2:x=d.X.l8(k.qc + x,void 0,!0);return (w - k.Nj) / (w + (x.offset + x.aa) - v);break;}}}var E70,v,n,p,q,t,w,u;E70=2;for(;E70 !== 37;){switch(E70){case 23:E70=n >= q?22:39;break;case 16:E70=!d.X || !d.X.length?15:27;break;case 42:u=p.offset;E70=41;break;case 29:p=d.X.get(m);o9v.C9G(2);var S31=o9v.b9G(152,160);u=S31 * u * g / h - p.$ - q;E70=44;break;case 10:return {complete:!1,XJ:q};break;case 3:E70=n >= t?9:8;break;case 25:var D3G="out";D3G+="ofran";D3G+="ge";return {complete:!0,reason:D3G};break;case 40:var p3G="n";p3G+="or";p3G+="ebuff";return {complete:!0,reason:p3G};break;case 31:--m;E70=30;break;case 27:f=d.X.Nm(k.kc);E70=26;break;case 39:0 < h && h < p && (q=Math.min(t,Math.max(m.m_ * (p / h - 1),q)));return {complete:!1,XJ:q,progress:l(q)};break;case 44:E70=0 < u?43:42;break;case 32:o9v.n9G(2);var T31=o9v.y9G(120,128);q=T31 * v * g / h - k.qc;E70=31;break;case 15:return (h < p && (q=Math.min(t,Math.max(m.m_ * (p / h - 1),q))),{complete:!1,XJ:q,progress:0});break;case 26:E70=-1 === f?25:24;break;case 30:E70=m > f?29:40;break;case 21:var S3G="h";S3G+="i";S3G+="g";S3G+="ht";S3G+="p";return {complete:!0,reason:S3G};break;case 24:v=d.X.Xd(f);E70=23;break;case 41:--m;E70=30;break;case 7:return {complete:!1,sE:!0};break;case 11:E70=!h?10:20;break;case 6:o9v.C9G(0);var U31=o9v.y9G(10,10);q=m.Ij * (p?m.Aya:U31);m.wGb && d.Ab && d.Ab.Mk && d.Ab.Mk.qa > m.Yua && (q+=m.Ila + d.Ab.Mk.qa * m.pxa);f && (q+=f.Du * m.Jla);q=t?Math.min(t,q):q;E70=11;break;case 2:(n=k.tk - k.qc,p=h === c.bg);h=d.Ua || 0;(q=0,t=m.bCa && !p?m.vE:m.yva);t=Math.min(m.$s,t);E70=3;break;case 43:return (q=Math.min(t,n + u),{complete:!1,XJ:q,progress:l(q)});break;case 20:w=0;k.X.forEach(function(x){var G70;G70=2;for(;G70 !== 1;){switch(G70){case 2:w+=x.$ + x.duration > k.qc?x.aa:0;G70=1;break;}}});g=Math.max(g,1);p=g * d.bitrate;E70=16;break;case 8:E70=h <= m.cva && (0 < h || !m.Lpa)?7:6;break;case 35:q=d.X.rd(f);m=Math.min(f + Math.floor(m.m_ / q),d.X.length - 1);u=d.X.Xd(m);E70=32;break;case 22:E70=h > p * m.h8?21:35;break;case 9:var A3G="m";A3G+="ax";A3G+="size";return {complete:!0,reason:A3G};break;}}}};w3G;D70=8;break;}}})();},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){f=p;m=p.map(function(q,t){return t;});if(null === d)return (l=h(p),d=p[l].bitrate,new g(l));if(!p.length)return null;l=m.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === l?(k.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new g(m[0])):new g(l);}b=a(31);a=a(6).default;k=b.console;h=b.hqa;g=b.Po;d=null;f=null;m=null;a.Vyb && (a.Vyb.Wj={zb:function(){m=f=d=null;},Gza:function(l){d=l;},Eec:function(){return {all:f,jgb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.QJa=void 0;c=a(1);r=c.__importDefault(a(99));k=c.__importDefault(a(6));a=a(182);h=r.default.O6;g=r.default.Ezb;d=r.default.Hpa;f=r.default.$Gb;m=r.default.J0b;new k.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var H70;H70=2;for(;H70 !== 5;){switch(H70){case 2:c.__extends(n,l);return n;break;}}function n(p,q){var I70,t;I70=2;for(;I70 !== 13;){switch(I70){case 8:var h3G="1SIYbZ";h3G+="r";h3G+="NJCp9";t.O2b=! !p.uu.simpleScaling;p.uu.niqrfilter && p.uu.niqrcurve && (t.A8a=p.uu.niqrfilter,t.CUb=g(p.uu.niqrcurve,1,0,4));h3G;I70=14;break;case 3:t.oxb=h(p.uu.gamma || 1,.1,10);t.filter=p.uu.filter;I70=8;break;case 2:t=l.call(this,p,q) || this;t.UZ=function(w,v,u,x){var J70,y,z,A;J70=2;for(;J70 !== 13;){switch(J70){case 2:J70=1;break;case 9:u=v.tk - v.qc;t.O2b?(v=d(t.tYa,u,1),u=d(t.sYa,u,1),v=v * y + u * (1 - y)):v=d(m(t.tYa,t.sYa,y),u,1);w=t.A8a && (null === (z=w[t.A8a]) || void 0 === z?void 0:z.kwa);J70=6;break;case 1:x=null !== x && void 0 !== x?x:t.uP;A=t.eo(w,u);u=t.jdb(u)?A:(null === (y=w[t.filter]) || void 0 === y?void 0:y.qa) || A;J70=3;break;case 3:y=Math.pow(Math.max(1 - u / t.rxb,0),t.oxb);J70=9;break;case 6:void 0 !== w && (z=f(t.CUb,w),v=Math.min(v * z,1));a000.C9G(18);return t.dZa(a000.b9G(v,A,1),x);break;}}};Array.isArray(p.uu.curves) && (t.tYa=g(p.uu.curves[0],0,0,1),t.sYa=g(p.uu.curves[1],0,0,1));t.rxb=h(p.uu.threshold || 6E3,1,1E5);I70=3;break;case 14:return t;break;}}}})(a.AF);b.QJa=a;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.TOa=void 0;c=a(1);r=c.__importDefault(a(6));k=a(182);h=a(422);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(g){var K70;K70=2;for(;K70 !== 3;){switch(K70){case 2:c.__extends(d,g);d.prototype.xJb=function(f,m){var N70,l,n;N70=2;for(;N70 !== 3;){switch(N70){case 2:(l=this.config,n=m?l.Wna:l.uma);m=m?l.Xna:l.wma;Array.isArray(m) && (n=h.q_a(m,f.tk - f.qc,l.vma));return n;break;}}};K70=5;break;case 5:d.prototype.E2b=function(f,m){var O70;O70=2;for(;O70 !== 3;){switch(O70){case 2:m=this.eo(f,m);f=! !f.Ss;this.config.fBa && m < this.config.NV && (f=!0);return f;break;}}};return d;break;}}function d(f,m){var L70,l;L70=2;for(;L70 !== 3;){switch(L70){case 4:return l;break;case 2:var u3G="1SI";u3G+="Y";u3G+="bZr";u3G+="NJC";u3G+="p9";l=g.call(this,f,m) || this;l.UZ=function(n,p,q,t){var M70,w;M70=2;for(;M70 !== 9;){switch(M70){case 2:t=null !== t && void 0 !== t?t:l.uP;w=l.eo(n,q);n=l.E2b(n,q);M70=4;break;case 4:p=w?w * (100 - l.xJb(p,n)) / 100 | 0:0;return l.dZa(p,t);break;}}};u3G;L70=4;break;case 14:return l;break;L70=3;break;}}}})(k.AF);b.TOa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hPa=void 0;c=a(1);r=a(182);r=(function(k){var P70;P70=2;function h(g,d){var Q70,f;Q70=2;for(;Q70 !== 3;){switch(Q70){case 2:var X8v="1";X8v+="SI";X8v+="YbZrNJCp9";f=k.call(this,g,d) || this;f.UZ=function(m){var R70,l,S70;R70=2;for(;R70 !== 13;){switch(R70){case 7:return m.mp.pN + f.config.MAa * l;break;case 8:l=Math.sqrt(m.mp.tR || 0);R70=7;break;case 12:var N3G="a";N3G+="v";N3G+="era";N3G+="ge";N3G+="tp";R70=S70 === N3G?9:11;break;case 1:R70=!m.mp || !m.mp.qa?5:4;break;case 4:l=Math.sqrt(m.mp.Ce || 0);R70=3;break;case 11:var K3G="e";K3G+="w";K3G+="m";K3G+="a";R70=S70 === K3G?6:5;break;case 3:a000.n9G(19);var V31=a000.b9G(24,416,17);return V31 / (m.mp.qa + f.config.MAa * l);break;case 9:R70=!m.mp || !m.mp.pN?5:8;break;case 6:R70=m.mp && m.mp.tR?14:5;break;case 14:return (l=Math.sqrt(m.mp.tR || 0),m.Ua.qa + f.config.MAa * l);break;case 5:return m.Ua.qa;break;case 2:var T8v="d";T8v+="eliverytim";T8v+="e";S70=f.config.q3b;R70=S70 === T8v?1:12;break;}}};X8v;return f;break;}}}for(;P70 !== 5;){switch(P70){case 2:c.__extends(h,k);return h;break;case 3:c.__extends(h,k);return h;break;P70=5;break;}}})(r.AF);b.hPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HIa=void 0;r=(function(){function a(c,k,h,g,d,f,m,l){this.mb=c;this.PVa=k;this.config=h;this.console=g;this.mediaType=d;this.Jb=f;this.Va=m;this.ec=l;this.Pr=this.yi=!1;}a.prototype.CN=function(c,k){!this.mb.G.Yv || this.ec.HM || this.ec.i5 || (c-=this.mb.He,this.yi && !this.Pr && c + this.config.Meb >= k && 0 === this.Va.IE && 0 === this.Va.Kt && 0 === this.Va.hZb && (k=this.ec.Ke.M.Tb,c=this.ec.HO(),k + 1 < c || (this.PVa[this.mediaType].oeb || this.Jb.nsb(this.mediaType),this.Pr=!0,this.PVa[this.mediaType].kZ())));};return a;})();b.HIa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.FIa=void 0;c=a(1);k=a(16);r=a(423);h=a(414);a=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);d.prototype.$Eb=function(f){g.prototype.G$.call(this,{value:f});};d.prototype.E4a=function(){return !0;};d.prototype.CAa=function(){};d.prototype.G$=function(f){g.prototype.G$.call(this,f);f.done && (f=this.$w.j7,k.Z && this.I.trace("Requests drained",{adc:f && f.G.id}),(f=f && f.lb(this.bh)) && f instanceof h.h3 && f.CN(this.Hg.tra() || 0));};return d;})(r.Tea);b.FIa=a;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MDa=void 0;c=a(1);k=a(154);h=a(16);r=(function(){function g(d,f,m){this.I=d;this.Kpb=f;this.bh=m;this.C4=0;this.Z4=!1;this.yT=[];this.EG=void 0;h.Z && d.trace("BranchRequestIterator [" + this.bh + "]: created");}Object.defineProperties(g.prototype,{EDb:{get:function(){return this.C4;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{j7:{get:function(){return this.hRa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Dk:{get:function(){return this.Z4;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rYa:{get:function(){return this.Hl?this.Hl.QA?"Complete":this.Hl.fya?"WaitingForBranch":void 0 !== this.EG && 0 !== this.EG?"In Policy " + this.yT[this.EG].name:"WaitingForRequest":"Uninitialized;Prior:" + this.gSa;},enumerable:!1,configurable:!0}});g.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,m,l;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Hl;if(!d)return [3,6];this.EG=void 0;return [4,d.next()];case 1:(f=n.jc(),m=0,n.label=2);case 2:if(!(m < this.yT.length))return [3,5];this.EG=m;l=this.yT[m];return [4,l.process(f)];case 3:(f=n.jc(),n.label=4);case 4:return (m++,[3,2]);case 5:this.EG=void 0;if(f.done || this.Hl !== d)return [2,{done:!0}];this.C4++;f.value.STa();return [2,{done:!1,value:f.value.value}];case 6:return [2,k.AsyncIterator.esa()];}});});};g.prototype.i0b=function(){this.Odb();this.AZb();};g.prototype.Odb=function(){var d;if(this.Hl){this.gSa=this.rYa;d=this.Hl;d && d.$h();this.yT.forEach(function(f){return f.reset();});d && h.Z && this.I.trace("BranchRequestIterator [" + this.bh + "]: Disposing iterator that was on branch ",this.j7 && this.j7.G.id);this.Z4=!1;this.EG=this.Hl=void 0;}};g.prototype.Ela=function(d){this.yT.push(d);};g.prototype.AZb=function(){var d,f,m,l;d=this;if(!this.Z4){f=this.I;m=this.Kpb;l=this.bh;this.C4=0;this.gSa=this.hRa=void 0;this.Hl=k.flatten(k.map(m.C2a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.hRa=n,this.C4=0,h.Z && f.trace("BranchRequestIterator [" + this.bh + "]: new branch " + n.G.id),[4,n.CA(l)]);case 1:if(p=q.jc())return [2,{value:p}];h.Z && f.error("BranchRequestIterator [" + this.bh + "]: skipping branch " + n.G.id);return [2,{value:[]}];}});});},f),f);this.Z4=!0;}};return g;})();b.MDa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.NNa=void 0;c=a(1);k=a(955);h=a(956);r=(function(){function g(d,f,m,l,n,p,q,t){this.mediaType=d;this.Fa=m;this.events=n;this.mR=[];1 === this.mediaType && this.mR.push(new h.LOa(d,f,m,l,n,p,q,t,2));this.mR.push(new k.nPa(d,f,m,l,n,p,q,"stream",1));}g.prototype.Gvb=function(d){this.mR.push(d);};g.prototype.reset=function(){this.mR.forEach(function(d){return d.reset();});};g.prototype.close=function(){this.mR.forEach(function(d){return d.close();});};g.prototype.bj=function(d){return c.__read(this.mR,1)[0].bj(d);};return g;})();b.NNa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nPa=void 0;c=a(1);k=a(4);h=a(16);r=(function(g){function d(){return null !== g && g.apply(this,arguments) || this;}c.__extends(d,g);d.prototype.Ox=function(f){var m,l;m=f.stream;l=f.he;f=f.md;k.assert(void 0 !== l);this.yla(m,l,f) && h.Z && this.trace("stream " + m.id + ", " + m.bitrate + "kbit/s @ " + l.W + "ms");};d.prototype.opa=function(f,m){var l,n,p;n=f.rF;p=this.Fa.Jp(m);k.assert(void 0 !== p);h.Z && this.trace("emitStreamPresentingEvent @ " + f.timestamp.W + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:n.mediaType,playerTimestamp:m,position:p,trackIndex:null === (l=null === n || void 0 === n?void 0:n.track) || void 0 === l?void 0:l.fD,streamIndex:null === n || void 0 === n?void 0:n.wf,stream:n});};return d;})(a(257).E3);b.nPa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.LOa=void 0;c=a(1);k=a(16);h=a(4);g=a(9);r=(function(d){function f(m,l,n,p,q,t,w,v,u){m=d.call(this,m,l,n,p,q,t,w,"segment",u) || this;m.my=v;return m;}c.__extends(f,d);f.prototype.Ox=function(m){var l,n,p,q;n=m.he;p=m.md;m=m.Mc;h.assert(void 0 !== n);q=null === (l=this.Fa.Jp(n)) || void 0 === l?void 0:l.fa;h.assert(void 0 !== q);this.yla({fa:q,Mc:m},n,p) && k.Z && this.trace("segment " + q + " @ " + n.W + "ms");};f.prototype.t5a=function(m,l){return m.Mc.lessThan(l.Mc) && m.fa === l.fa;};f.prototype.opa=function(m,l){var n,p;n=m.rF.fa;p=this.Fa.Jp(l);h.assert(void 0 !== p);k.Z && this.trace("emitSegmentPresentingEvent @ " + m.timestamp.W + "ms for segment " + n);p.fa !== n && (k.Z && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={fa:n,offset:g.R.hb});m={type:"segmentPresenting",playerTimestamp:l,position:p};this.my && (m.metrics=this.my.zra(n));k.Z && this.trace("segmentPresenting: " + JSON.stringify(m));this.events.emit(m.type,m);};return f;})(a(257).E3);b.LOa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.AGa=void 0;c=a(1);k=a(16);h=a(68);r=(function(){function g(d,f,m){this.Ve=d;this.LTb=f;this.I=m;}Object.defineProperties(g.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});g.prototype.waitUntil=function(d){var f;d=h.mea(this.Ve,d,!0);f=d.promise;this.Nub=d.jn;return f;};g.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,m;return c.__generator(this,function(l){switch(l.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.oqa)return [3,2];m=f.he.Ha(this.LTb);k.Z && this.I.trace("[" + f.mediaType + "] JIT: waiting until playertime >= " + m.W,"to append next request " + f.toString());return [4,this.waitUntil(m)];case 1:(l.jc(),k.Z && this.I.trace("[" + f.mediaType + "] JIT: now appending request " + f.toString()),l.label=2);case 2:return [2,d];}});});};g.prototype.reset=function(){var d;null === (d=this.Nub) || void 0 === d?void 0:d.Hb();};return g;})();b.AGa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zLa=void 0;c=a(1);k=a(16);h=a(4);g=a(68);r=(function(){function d(f,m,l,n){var p;p=this;this.Ve=f;this.DWb=m;this.cxa=l;this.I=n;f.Da.on("stopStart",function(){return p.Wzb();});k.Z && this.I.trace("PacingThrottler: pacingFactory=" + m + ", pacingThreshold=" + l.Ic());}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Wzb=function(){var f,m;m=this.Ve.Da;this.FN=m.Dk?m.currentTime:void 0;this.XU=this.XW=void 0;k.Z && this.I.trace("PacingThrottler: clock reset " + (null === (f=this.FN) || void 0 === f?void 0:f.W));};d.prototype.waitUntil=function(f){var m;f=g.mea(this.Ve,f,!0);m=f.promise;this.B7b=f.jn;return m;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var m,l,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];m=f.value.value;h.assert(m.he);l=this.Ve.Da;if(!this.XW || !this.XU)return [3,10];if(!this.XU.greaterThan(this.cxa))return [3,8];if(!this.FN)return [3,5];n=m.he.Ha(this.FN).Ha(this.cxa);p=this.FN.add(n.Rl(this.DWb));if(!p.lessThan(m.he))return [3,3];if(!p.greaterThan(l.currentTime))return [3,2];k.Z && this.I.trace("PacingThrottler: waiting until " + p.Ic() + " for mediaRequest @" + (m.he.Ic() + ", current time ") + (l.currentTime.Ic() + ", clock start time ") + (this.FN.Ic() + ", distance ") + n.Ic());return [4,this.waitUntil(p)];case 1:(q.jc(),q.label=2);case 2:return [3,4];case 3:(k.Z && this.I.warn("PacingThrottler: invalid schedule time " + (p.Ic() + " for mediaRequest @") + (m.he.Ic() + ", current time ") + (l.currentTime.Ic() + ", clock start time ") + (this.FN.Ic() + ", distance ") + n.Ic()),q.label=4);case 4:return [3,7];case 5:n=m.he.Ha(this.XW);if(!n.greaterThan(this.cxa))return [3,7];k.Z && this.I.trace("PacingThrottler: (buffering) waiting until " + this.XW.W + "ms for mediaRequest @" + (m.he.W + "ms, current time ") + l.currentTime.W);return [4,this.waitUntil(this.XW)];case 6:(q.jc(),q.label=7);case 7:return [3,9];case 8:(this.XU=this.XU.add(m.ZH),q.label=9);case 9:return [3,11];case 10:(this.XW=m.he,this.XU=m.ZH,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.B7b) || void 0 === f?void 0:f.Hb();};return d;})();b.zLa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BOa=void 0;c=a(1);r=(function(){function k(h){this.iK=h;}Object.defineProperties(k.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});k.prototype.process=function(h){return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(d){switch(d.label){case 0:if(h.done)return [3,3];g=h.value.value;return this.j5 && g.iI?[4,this.iK.C7b({mediaType:g.mediaType,to:g.stream,from:this.j5,timestamp:g.he})]:[3,2];case 1:(d.jc(),d.label=2);case 2:return (this.j5=g.stream,[3,4]);case 3:(this.j5=void 0,d.label=4);case 4:return [2,h];}});});};k.prototype.reset=function(){this.j5=void 0;};return k;})();b.BOa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FOa=void 0;r=(function(){function a(c,k,h,g,d,f,m,l,n,p){var q;q=this;this.id=c;this.M=k;this.$=h;this.fW=d;this.Ql=f;this.Yv=m;this.Lq=l;this.Kp=n;this.ie=p;this.PO=function(t){var w,v;return (null === (v=null === (w=q.Ql) || void 0 === w?void 0:w[t]) || void 0 === v?void 0:v.q5b) || q.ie;};this.La=g || Infinity;}Object.defineProperties(a.prototype,{N:{get:function(){return this.M.N;},enumerable:!1,configurable:!0}});a.prototype.b1a=function(){var c,k,h;c=this;h=Object.keys(this.Ql || ({})).filter(function(g){var d,f;return !(null === (f=null === (d=c.Ql) || void 0 === d?void 0:d[g]) || void 0 === f || !f.weight);});return h.length?null !== (k=h.map(this.PO).reduce(function(g,d){return g === d?d:void 0;})) && void 0 !== k?k:this.ie:this.ie;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Kp + " viewableId: " + this.M.N + " pts: " + this.$ + "-" + this.La + " defaultKey: " + this.fW + " dests: " + JSON.stringify(this.Ql) + " terminal: " + ! !this.Yv;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.M.N,"startPts:":this.$,endPts:this.La,defaultKey:this.fW,"dests:":this.Ql,terminal:! !this.Yv,playlistSegmentId:this.Kp};};return a;})();b.FOa=r;},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=void 0;r=a(1);c=r.__importStar(a(10));k=a(181);h=r.__importDefault(a(962));g=a(394);d=r.__importDefault(a(30));f=r.__importDefault(a(6));a=(function(){var T70;T70=2;for(;T70 !== 24;){switch(T70){case 2:Object.defineProperties(m.prototype,{u$:{get:function(){var X70;X70=2;for(;X70 !== 1;){switch(X70){case 2:return this.bka;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nya:{get:function(){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:return this.YSa;break;}}},enumerable:!1,configurable:!0}});m.prototype.Dcb=function(l,n,p){var Z70;Z70=2;for(;Z70 !== 4;){switch(Z70){case 2:this.cE=l;c.ma(n) || (this.D3a=n);c.ma(p) || (this.C3a=p);Z70=4;break;}}};m.prototype.NBa=function(l){var a80;a80=2;for(;a80 !== 5;){switch(a80){case 2:this.J=l;this.oU.NBa(l);a80=5;break;}}};m.prototype.cka=function(l,n,p,q){var b80,t;b80=2;for(;b80 !== 7;){switch(b80){case 1:var f8v="i";f8v+="q";f8v+="r";b80=l === f8v?5:9;break;case 5:b80=void 0 !== q?4:3;break;case 9:var r8v="a";r8v+="v";r8v+="g";b80=l === r8v?8:3;break;case 3:return !1;break;case 2:t=this.J;b80=1;break;case 8:return n.Ua?n.Ua.qa < t.NV:!0;break;case 4:return ! !(n.Ua && p && c.Ga(q) && n.Ua.qa < t.NV && q > t.uga);break;}}};T70=9;break;case 9:m.prototype.KO=function(l){var c80;c80=2;for(;c80 !== 1;){switch(c80){case 2:return 1 === l?this.oU.UZ:this.oU.TZ;break;}}};m.prototype.hy=function(l){var d80;d80=2;for(;d80 !== 5;){switch(d80){case 2:this.oU.hy(l);this.TQa=l;d80=5;break;}}};m.prototype.gX=function(){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 4:return this.TQa;break;e80=1;break;case 2:return this.TQa;break;}}};m.prototype.rK=function(l){var f80;f80=2;for(;f80 !== 5;){switch(f80){case 2:this.oU.rK(l);this.MTa=l;f80=5;break;}}};T70=14;break;case 12:m.prototype.evb=function(l,n){var i80,p,q,t;i80=2;for(;i80 !== 6;){switch(i80){case 1:i80=this.lSa?5:6;break;case 9:i80=void 0 === q || p > q?8:7;break;case 2:p=this.J;i80=1;break;case 5:void 0 === this.An && (this.An={startTime:f.default.time.ha(),cV:[],e1:[],xua:void 0,qua:void 0});i80=4;break;case 4:p=Math.floor((f.default.time.ha() - this.An.startTime) / p.sN);(q=this.An.qua,t=this.An.xua?p - this.An.xua - 1:p);i80=9;break;case 7:this.An.qua=p;i80=6;break;case 8:(this.An.cV[t]=l,this.An.e1[t]=n);i80=7;break;}}};m.prototype.yVb=function(){var j80,l,k80;j80=2;for(;j80 !== 4;){switch(j80){case 2:l=this.wb;j80=1;break;case 8:j80=this.WG.Fs?3:5;break;j80=this.WG.Fs?5:4;break;case 1:j80=this.WG.Fs?5:4;break;case 5:try{k80=2;for(;k80 !== 1;){switch(k80){case 2:(this.Wo.m_b(),this.YSa.gd());k80=1;break;}}}catch(n){var V8v="Hinds";V8v+="ight: E";V8v+="rror dur";V8v+="in";V8v+="g clean up: ";a000.n9G(3);l.Jb.oo(a000.b9G(V8v,n));}j80=4;break;}}};m.prototype.JVb=function(l){var l80;l80=2;for(;l80 !== 1;){switch(l80){case 2:this.J.dO && l === d.default.Ya.Nb && (this.hBa=this.gBa=this.ndb=this.odb=this.P9a=this.Q9a=0);l80=1;break;}}};T70=20;break;case 14:m.prototype.IX=function(){var g80;g80=2;for(;g80 !== 1;){switch(g80){case 2:return this.MTa;break;case 4:return this.MTa;break;g80=1;break;}}};m.prototype.bvb=function(l,n,p,q,t,w){var h80,v;h80=2;for(;h80 !== 5;){switch(h80){case 2:v=this.J;v.lea && this.dtb(n) || !p || !q || !(p=w?Math.min(p,q,w):Math.min(p,q)) || (this.Wo.get(),q=this.wb.Ra,l=q.ix(q.dd,l),n.track.ov() && l > v.Hma && p === t?(v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:1}),v.set({maxActiveRequestsPerSession:2}),v.set({maxPendingBufferLen:500})):(v.dr=!0,v.vP=1,v.Lx=2,v.maa=500),n.track.lca({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:v.wR,minRequestSize:v.CP}),this.gBa++,v.lea && (this.q5=!0)):v.dr && !n.ov() && (l < v.Gma || p !== t) && (v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:3}),v.set({maxActiveRequestsPerSession:3}),v.set({maxPendingBufferLen:12E3})):(v.dr=!0,v.vP=3,v.Lx=3,v.maa=12E3),n.track.lca({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:v.wR,minRequestSize:v.CP}),this.hBa++,v.lea && (this.r5=!0)));h80=5;break;}}};T70=12;break;case 20:m.prototype.HVb=function(l,n){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:l === d.default.Ya.Nb && (this.r7b=n);m80=1;break;}}};m.prototype.jzb=function(l){var n80,q,n,p,t,w;n80=2;for(;n80 !== 6;){switch(n80){case 5:q=this.Wo.get();n80=4;break;case 2:n=this.J;n80=1;break;case 1:var b8v="n";b8v+="o";b8v+="n";b8v+="e";n80=b8v !== n.jF && !0 !== this.Ss && l.state <= n.xva?5:6;break;case 4:var y8v="i";y8v+="q";y8v+="r";n80=y8v === n.jF?3:8;break;case 3:t=this.JRa(q);n80=9;break;case 9:void 0 !== t && void 0 !== t.rl && void 0 !== t.Kj && void 0 !== t.sl && (p=(t.sl - t.rl) / t.Kj);n80=8;break;case 8:w=n.eZ?d.default.pj.qC:d.default.pj.rC;q && q.confidence >= w && this.cka(n.jF,q,t,p) && (this.Ss=!0,this.V6=l.state);n80=6;break;}}};m.prototype.Avb=function(l){var o80;o80=2;for(;o80 !== 1;){switch(o80){case 4:l.Ss=this.Ss;o80=5;break;o80=1;break;case 2:l.Ss=this.Ss;o80=1;break;}}};T70=17;break;case 25:return m;break;case 17:m.prototype.KHb=function(l){var p80,v,n,p,q,t,w,u,x;p80=2;for(;p80 !== 25;){switch(p80){case 14:n.histdiscbw=this.cE;v=this.C3a;p80=12;break;case 2:var n8v="start";n8v+="pl";n8v+="ay";var C8v="lo";C8v+="g";C8v+="data";(n={},p=this.J,q=this.wb,t={type:C8v,target:n8v,fields:{}});t.fields=n;Object.keys(l).forEach(function(y){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 2:n[y]=l[y];q80=1;break;}}});w=this.Wo.get();p80=3;break;case 3:w && w.Ua && (w=w.Ua.qa);n.actualbw=w;n.isConserv=this.Ss;p80=7;break;case 6:n.isLowEnd=this.NPb;p80=14;break;case 11:u=function(y){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:return c.Ga(y)?Number(y).toFixed(2):-1;break;}}};w=[u(v.min || void 0),u(v.vba || void 0),u(v.rl || void 0),u(v.Kj || void 0),u(v.sl || void 0),u(v.wba || void 0),u(v.max || void 0)];x=[];v=c.isArray(v.cj) && v.cj.reduce(function(y,z){var s80,A;s80=2;for(;s80 !== 3;){switch(s80){case 2:A=u(z.xg || void 0);z=u(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);n.histtdc=v;p80=17;break;case 16:n.histage=this.D3a;p80=15;break;case 7:n.ccs=this.V6;p80=6;break;case 12:p80=v?11:16;break;case 17:n.histtd=w;p80=16;break;case 15:p.spa && this.AM && (n.ishighstable=this.bka,n.avg_avtp=this.AM.ixb,n.avg_ne=Number(this.AM.kxb).toFixed(4));q.zc && (p=f.default.wp(),n.maxAudioBufferAllowedBytes=p[d.default.Ya.cc],n.maxVideoBufferAllowedBytes=p[d.default.Ya.Nb]);q.emit(t.type,t);p80=25;break;}}};m.prototype.LHb=function(l){var t80,n,p,q,t,w,v,u;t80=2;for(;t80 !== 6;){switch(t80){case 3:var c8v="n";c8v+="o";c8v+="n";c8v+="e";q.confidence && (w=q.Ua?q.Ua.qa:0,v=q.Mk?q.Mk.qa:0,u=q.Cx?q.Cx.qa:0);l.location={responseTime:v,httpResponseTime:u,bandwidth:w,confidence:q.confidence,name:this.r7b};this.lSa && (l.bt={startTime:this.An.startTime,audioMs:this.An.cV,videoMs:this.An.e1},this.An.cV=[],this.An.e1=[],this.An.xua=this.An.qua);c8v !== p.jF && (l.isConserv=this.Ss,l.ccs=this.V6);t80=6;break;case 2:(n=this,p=this.J,q=this.Wo.get(),t=[]);t80=1;break;case 1:[d.default.Ya.Nb,d.default.Ya.cc].forEach(function(x){var u80,y;u80=2;for(;u80 !== 4;){switch(u80){case 2:u80=n.xc(x)?1:4;break;case 1:y=n.wb.G2a(x);void 0 !== y && (x === d.default.Ya.Nb && (p.dO && (y.parallelDownloadMs=n.Q9a,y.parallelDownloadBytes=n.P9a,y.singleDownloadMs=n.odb,y.singleDownloadBytes=n.ndb,y.switchFromParallelToSingle=n.gBa,y.switchFromSingleToParallel=n.hBa),q && q.confidence && q.Ua && (y.asetput=q.Ua,y.aseiqr=q.kv,y.tdigest=q.Rk && q.Rk.zA() || void 0),q && q.avtp && (y.avtp=q.avtp.qa)),t.push(y));u80=4;break;}}});l.stat=t;(w=0,v=0,u=0);t80=3;break;}}};m.prototype.dtb=function(l){var v80,n;v80=2;for(;v80 !== 6;){switch(v80){case 5:return !0;break;case 2:n=this.J;v80=1;break;case 3:v80=this.r5 && n.dr && !l.ov()?9:8;break;case 9:return !0;break;case 1:v80=this.q5 && l.ov()?5:4;break;case 8:this.r5 && (this.r5=!1);return !1;break;case 4:this.q5 && (this.q5=!1);v80=3;break;}}};m.prototype.JRa=function(l){var w80,x80;w80=2;for(;w80 !== 4;){switch(w80){case 12:w80=3;break;w80=9;break;case 14:return l;break;w80=4;break;case 2:var x8v="td";x8v+="ig";x8v+="e";x8v+="st";x80=this.J.Nsa;w80=x80 === x8v?1:3;break;case 1:l=l.Rk;w80=5;break;case 3:w80=9;break;case 5:return l;break;case 9:l=l.kv && l.kv.Eba;w80=5;break;}}};m.prototype.orb=function(l,n,p){var y80,q;y80=2;for(;y80 !== 3;){switch(y80){case 2:q=this.J;this.cka(q.jF,l,n,p)?this.Ss=!0:this.Ss=!1;this.V6=0;this.cka(q.$ua,l,n,p) && (this.NPb=!0);y80=3;break;}}};T70=25;break;}}function m(l,n,p,q,t,w,v,u,x){var U70,W70,z,V70,y;U70=2;for(;U70 !== 31;){switch(U70){case 21:var R8v="L";R8v+="R";U70=V70 === R8v?35:34;break;case 15:U70=this.WG.Fs?27:26;break;case 27:try{W70=2;for(;W70 !== 4;){switch(W70){case 2:z=new h.default(l,this.I,{bufferSize:f.default.wp()},t);this.Wo.kvb(z);this.YSa=z;W70=4;break;}}}catch(A){var J8v="Hindsight: Error when creating QoEEva";J8v+="luat";J8v+="or: ";a000.n9G(3);l.Jb.oo(a000.b9G(J8v,A));}U70=26;break;case 35:this.AM=new g.vHa(v,t,this.I);U70=22;break;case 22:this.bka=this.AM.u$();U70=32;break;case 34:U70=33;break;case 8:this.Ub=this.I.warn.bind(this.I);this.Hn=this.I.trace.bind(this.I);this.J=t;this.MTa=this.TQa=null;a000.C9G(2);var W31=a000.b9G(8000000,9000000);this.lSa=0 === Math.floor(W31 * Math.random()) % t.Ima;this.cE=this.C3a=this.D3a=this.V6=this.Ss=void 0;this.hBa=this.ndb=this.odb=this.gBa=this.P9a=this.Q9a=0;U70=10;break;case 24:var U8v="ba";U8v+="s";U8v+="e";U8v+="l";U8v+="ine";V70=t.MNb;U70=V70 === U8v?23:21;break;case 17:q=t.eZ?d.default.pj.qC:d.default.pj.rC;p && p.confidence >= q && p.Ua && y && this.orb(p,n,y);U70=15;break;case 23:this.AM=new g.qga(v,t,this.I);U70=22;break;case 25:U70=v && 1 < v.length && t.spa?24:32;break;case 2:this.I=n;this.Wo=q;this.xc=u;U70=4;break;case 26:this.bka=!1;U70=25;break;case 4:var g8v="1SIY";g8v+="bZrNJ";g8v+="Cp9";this.WG=x;g8v;this.wb=l;U70=8;break;case 10:this.oU=k.KO(t,w);n=this.JRa(p);void 0 !== n && void 0 !== n.rl && void 0 !== n.Kj && void 0 !== n.sl && (y=(n.sl - n.rl) / n.Kj);U70=17;break;case 32:t.lea && (this.r5=this.q5=!1);U70=31;break;case 33:this.AM=new g.qga(v,t,this.I);U70=22;break;}}}})();b.MCa=a;},function(r,b,a){var k,h,g;function c(d,f,m,l){this.wb=d;this.I=f;this.Yk=this.I.error.bind(this.I);this.Ub=this.I.warn.bind(this.I);this.Hn=this.I.trace.bind(this.I);this.dg=this.I.log.bind(this.I);this.upb=new h();this.J=l;this.h5=[];this.y5=void 0;d=l.O9;k.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.Xja=!0;}a(30);b=a(6).default;k=a(148);a(425);h=a(963);new b.Console("ASEJS_QOE_EVAL","media|asejs");g=a(130).PNa || a(130);c.prototype=Object.create(k.prototype);c.prototype.add=function(d,f,m){this.y5 || (this.y5=f);k.prototype.add.call(this,d,f,m);};c.prototype.IJb=function(){var d;if(0 !== this.h5.length){d=[];this.h5.forEach(function(f){f && f.iN && d.push(f.zA());});return d;}};c.prototype.gd=function(){this.h5=[];};c.prototype.BMb=function(){var d,f,m;d=this.get(this.J.O9.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,m=p,!0);});if(f)for(var l=0;l < m;l++){d[l]=f;}}d={trace:d,timestamp:this.y5,Pz:this.Nd};this.Xja=!1;k.prototype.reset.call(this);this.Xja=!0;this.y5=void 0;return d;};c.prototype.Gpa=function(d){var f,m,l,n,p,q;if(d && !d.iN){m=d.Iu.a5a;m && (d.zya=this.Sla(d),d.jca=!1);if((f=this.BMb()) && f.trace && f.trace.length){l=d.Vj.NE;n=f.timestamp;if(n > l){p=f.Pz;q=f.trace[0];l=Math.ceil((n - l) / p);f.timestamp=n - l * p;for(n=0;n < l;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.ZB=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.hyb(d),d.v9a=f,m && f && (d.jca=f.Rs),d.iN=!0,this.h5.push(d));}};c.prototype.hyb=function(d){var p,q,t,w;function f(v){var y;for(var u,x=0;x < v.length;x++){y=v[x].reduce(function(z,A){return A.$a?z + 1:z;},0);if(void 0 === u)u=y;else if(y !== u)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > u?y - u:u - y) * Math.LOG2E) + "]");}}for(var m=this.J.N9,l={Rs:!1,h$:!1,UFb:0},n=0;n < m.length;n++){p=m[n];q=this.upb.create(p);if(q){t=g.now();w={};try{f(d.uy);w=q(d);}catch(v){w.oO=v;}w.Wvb=g.now() - t;l[p]=w;l.Rs=l.Rs || w.Rs;l.h$=l.h$ || w.h$;l.oO=l.oO || w.oO;}}return l;};c.prototype.Sla=function(d){var f;d=d.Iu;f="";1E3 > d.Fo && (f+=d.Sgb);1E3 > d.ns && (f=f + ("" !== f?",":"") + d.TUa);1E3 <= d.Fo && 1E3 <= d.ns && (f="media");return f;};r.exports=c;},function(r,b,a){var h;function c(){}function k(g,d,f){return function(m){m.zr=d;m.compare=f;return g(m);};}h=a(964);c.prototype.constructor=c;c.prototype.create=function(g){var d;switch(g){case "htwbr":break;case "htwbr-dlvmaf":d=k(h.MX,!1,h.gXa);break;case "htwbr-segvmaf":d=k(h.MX,!0,h.gXa);break;case "hvmafgr":d=k(h.MX,!1,h.Ona);break;case "hvmafgr-dlvmaf":d=k(h.MX,!1,h.Ona);break;case "hvmafgr-segvmaf":d=k(h.MX,!0,h.Ona);break;case "hvmafdp":d=k(h.dp,!1);break;case "hvmafdp-dlvmaf":d=k(h.dp,!1);break;case "hvmafdp-segvmaf":d=k(h.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,t,w,v,u,x,y,z,A,B,D;function c(C){var F,G,E;F=C.ZB;G=C.Vj;E=C.Iu.La - G.$;F.timestamp > G.NE && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.NE);C=[];for(var I,N=F.timestamp,L=0;L < F.trace.length;L++){N >= G.NE && (C.push(F.trace[L]),I=F.trace[L]);N+=F.Pz;E-=F.Pz;}for(;0 < E;){C.push(I);E-=F.Pz;}G=F.Pz;F=C.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(C,F,!1);}function k(C,F,G){F=C.uy[F][G];return F.aa + C.Vj.kV * F.duration / 8;}function h(C){var F,G,E,I,N,L,H,Q,O;F=C.Vj;G=F.gn;E=C.Iu;I=E.qx;L=[];for(E=I=Math.min(E.dJ,I);E >= G;E--){D.update("backward step loop");H=N=C.uy[0][E].$ - C.Vj.$;E < I && (q(void 0 !== L[E + 1],"expect solution[(fragIndex + 1)] !== undefined"),H=Math.min(L[E + 1].startTime,H));Q=k(C,0,E);O=p(Q,H,C.ZB,F.NE);if(0 > O)throw Error("Infeasible: reason throughput at min bitrate");Q={startTime:O,endTime:H,m7:H,tFb:N,EQ:Q,Te:0};Q.m0a=E;L[E]=Q;}F=0;for(E=G;E <= I;E++){F+=L[E].EQ;L[E].bpa=F;}if(!g(C,L,G,I))throw Error("Infeasible: reason buffer capacity at min bitrate");return {Rs:!0,lwa:0 == L.length,Er:L};}function g(C,F,G,E){var I,N,L,H,Q,O,J,M,P,R;for(;G <= E;G++){D.update("checkBuffer");I=C;N=F;L=G;D.update("check buffer vacancy");H=I.Vj;Q=I.uy[H.YX];O=I.NVa;J=!0;I=I.eIb(Math.floor(N[L].startTime) + H.$);M=H.Ot + N[L].bpa;P=0;R=0;if(I.index < H.gn){for(var S=0,U=H.VB;U < I.index;U++){S+=Q[U].aa;}P+=S;S=0;for(U=H.VB;U < I.index;U++){S+=Q[U].duration;}R+=S;}else (P+=H.Ot,R+=H.Fo);S=0;for(U=H.gn;U < I.index;U++){S+=N[U].EQ;}P+=S;S=0;for(U=H.gn;U < I.index;U++){S+=Q[N[U].m0a].duration;}R+=S;I=M - P;H=Q[L].$ + Q[L].duration - H.$ - R;if(H >= O.$s || I >= O.Fgb)J=!1;N[L].XVa=I;N[L].Pma=H;if(!J)return !1;}return !0;}function d(C){C=C.Vj.X;for(var F=[],G,E=0;E < C.length;E++){D.update("get prebuffered chunks loop");G=C[E];q(void 0 !== G.$a,"expect frag.vmaf !== undefined");G=new w(G.aa,G.duration / 1E3,G.$a);F.push(G);}return F;}function f(C){var F,G,E,I,N,L,O;F=C.uy;G=C.Vj;E=C.Iu;I=E.qx;N=C.Rd;L=[];I=Math.min(E.dJ,I);for(var H=0;H < F.length;H++){E=[];for(var Q=G.gn;Q <= I;Q++){D.update("get chunk map from play segment");O=F[H][Q];O=new w(O.aa,O.duration / 1E3,C.zr && void 0 !== O.$a?O.$a:N[H].$a);E.push(O);}L.push(E);}return new v(L,!1);}function m(C,F,G){q(C.SO() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,I=0,N,L,H=0;H < F.length;H++){D.update("calculate twvmaf");q(F[H].L3a === H,"expect stream_choices[idx].i_epoch === idx");L=C.Dm[F[H].R9][H];N=void 0 !== G?G(L.quality):L.quality;L=L.dn;E+=N * L;I+=L;}return {kZa:E / I,jZa:1E3 * I};}function l(C,F,G){q(C.SO() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,I=0,N=G.Vj.kV,L,H=0,Q=0,O=0;O < F.length;O++){D.update("calculate Bytes");q(F[O].L3a === O,"expect stream_choices[idx].i_epoch === idx");L=C.Dm[F[O].R9][O];E+=L.aa;I+=N * L.dn * 1E3 / 8;H+=L.dn * G.Rd[F[O].R9].bitrate;Q+=L.dn;}return {iZa:E,fZa:I,hZa:0 < Q?1 * H / Q:0};}function n(C,F,G){F=Math.min(C.length - 1,F);F=Math.max(0,F);return C[F] * G / 8;}function p(C,F,G,E){var I,N,L,H,Q;I=G.trace;N=1 * G.Pz;L=F + E - G.timestamp;H=Math.floor(1 * L / N);F=(L - H * N) / N * n(I,H,N);if(F >= C)Q=L - 1 * C / F * (L - H * N);else for(L=H;F < C;){D.update("find download start time");--L;if(0 > L)return -1;H=n(I,L,N);if(F + H >= C){C=(C - F) / H * N;Q=(L + 1) * N - C;break;}F+=H;}return Q + G.timestamp - E;}q=a(4).assert;t=a(965);w=a(426).djb;v=a(426).ejb;u=a(966).ukb;x=a(427).Uob;y=a(258).RDa;z=a(250).n3;A=a(85).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");D=a(130).PNa || a(130);r.exports={MX:function(C){var F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V,fa,ia,Ba,Sa,La,Za,Wa;B.debug("greedy DEBUG false");D.Sza("greedy-" + (C.zr?"segvmaf":"dlvmaf") + ": ");try{C.cJ=[];F=C.uy;G=C.Vj;E=C.Iu;I=E.qx;N=C.Rd;I=Math.min(E.dJ,I);for(H=G.gn;H <= I;H++){Q=new t();C.cJ[H]=Q;F[0][H].Wma=F[0][H].aa;for(L=1;L < F.length;L++){F[L][H].Wma=F[L][H].aa;}L=0;O=F[L][H];O.tE=Infinity;O.wf=L;for(L=1;L < F.length;L++){O=F[L][H];O.wf=L;J=Q.p$()?F[0][H]:Q.ZWb();M=8 * O.Wma / O.duration;P=8 * J.Wma / J.duration;if(C.zr && void 0 !== O.$a)(R=O.$a,S=J.$a);else (R=N[L].$a,S=N[J.wf].$a);O.rv=M - P;O.tE=(R - S) / O.rv;isFinite(O.tE) && (0 < O.tE || L == F.length - 1) && 0 < O.rv && Q.enqueue(O);}}for(H=G.gn;H <= I;H++){G=[];U=[];ba=[];na=C.cJ[H].Tp();for(F=0;F < na.length;F++){O=na[F];G.push(O.rv.toFixed(2));C.zr && void 0 !== O.$a?U.push(O.$a):U.push(N[O.wf].$a);ba.push(O.tE.toFixed(4));}}va=h(C);if(va.lwa)return va;ya=C.Vj;ra=C.Iu;V=ra.qx;V=Math.min(ra.dJ,V);ba=[];for(var K=ya.gn;K <= V;K++){C.cJ[K].p$() || ba.push(C.cJ[K].SN());}q(void 0 !== C.compare,"playSegment.compare required for greedy");for(var T=new z(ba,C.compare);0 < T.length;){D.update("upgrade frags");fa=T.pop();a:{V=ya=void 0;K=C;ba=va;U=fa;ia=K.Vj;Ba=K.Iu;Sa=Math.min(Ba.dJ,Ba.qx);La=JSON.parse(JSON.stringify(ba.Er));q(U && La[U.index].Te < U.wf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");V=U.index;ya=La[V];ya.Te=U.wf;ya.EQ=k(K,ya.Te,V);ya.startTime=p(ya.EQ,ya.m7,K.ZB,ia.NE);La[V]=ya;if(0 > ya.startTime)Za=!1;else {for(V=U.index - 1;V >= ia.gn;V--){ya=La[V];Wa=La[V + 1].startTime;if(ya.m7 <= Wa)break;ya.m7=Wa;ya.startTime=p(ya.EQ,ya.m7,K.ZB,ia.NE);La[V]=ya;if(0 > ya.startTime){Za=!1;break a;}}for(var Va=U.index + 1;Va <= Sa;Va++){La[Va].bpa=La[Va].EQ + (Va > K.Vj.gn?La[Va - 1].bpa:0);}for(var cb=U.index + 1;cb <= Sa;cb++){if(La[cb].startTime > La[U.index].tFb){Sa=cb - 1;break;}}g(K,La,U,Math.min(V + 1,U.index),Sa)?(ba.Er=La,Za=!0):Za=!1;}}Za && (C.cJ[fa.index].p$() || T.push(C.cJ[fa.index].SN()));}}finally{delete C.cJ;}for(Sa=Ba=ia=Za=fa=T=0;Sa < va.Er.length;Sa++){if(La=va.Er[Sa])(Wa=C.uy[La.Te][La.m0a],T+=(Wa.$a?Wa.$a:C.Rd[La.Te].$a) * Wa.duration,fa+=Wa.duration,Za+=Wa.aa,ia+=C.Vj.kV * Wa.duration / 8,Ba+=Wa.duration * C.Rd[La.Te].bitrate);}va.kZa=0 < fa?1 * T / fa:0;va.jZa=fa;va.iZa=Za;va.fZa=ia;va.hZa=0 < fa?1 * Ba / fa:0;va.eB=D.S1a();B.debug("Max heap used: " + Math.round(va.eB / 1024 / 1024) + " MB");return va;},Ona:function(C,F){if(C.tE < F.tE)return 1;if(C.tE > F.tE)return -1;if(C.rv > F.rv)return 1;if(C.rv < F.rv)return -1;if(C.index > F.index)return 1;if(C.index < F.index)return -1;throw Error("Invalid frag comparison");},gXa:function(C,F){if(C.rv > F.rv)return 1;if(C.rv < F.rv)return -1;if(C.index > F.index)return 1;if(C.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(C){var F,G,E,I,N,L;D.Sza("dp-" + (C.zr?"segvmaf":"dlvmaf") + ": ");F=h(C);if(!1 === F.Rs || !0 === F.lwa)return F;G=f(C);E=new u(G);I=d(C);I={Seb:c(C),iVa:C.Vj.kV,a8a:0,z7a:240,y7a:8 * C.NVa.Fgb / 1E3,TVa:.5,zVa:new y(I),e_a:0,Hec:void 0,Z2a:void 0,lab:void 0,CUa:!0};E=E.fy(I);I=m(G,E,void 0);G=l(G,E,C);N=[];L=C.Vj.gn;E.forEach(function(H){N[L]={Te:H.R9};L++;});A(I,F);A(G,F);F.Er=N;F.eB=D.S1a();B.debug("Max heap used: " + Math.round(F.eB / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(k){this.Ig=a(k);this.$g=this.zf=0;if(c(k)){for(var h=k.length,g=0;g < h;++g){this[g]=k[g];}this.zf=h;}}function a(k){if("number" !== typeof k)if(c(k))k=k.length;else return 16;k=Math.min(Math.max(16,k),1073741824);k=(k >>> 0) - 1;k|=k >> 1;k|=k >> 2;k|=k >> 4;k|=k >> 8;return (k | k >> 16) + 1;}b.prototype.Tp=function(){for(var k=this.zf,h=Array(k),g=this.$g,d=this.Ig,f=0;f < k;++f){h[f]=this[g + f & d - 1];}return h;};b.prototype.push=function(k){var h,g,d,m;h=arguments.length;g=this.zf;if(1 < h){d=this.Ig;if(g + h > d){for(var f=0;f < h;++f){this.p4(g + 1);m=this.$g + g & this.Ig - 1;this[m]=arguments[f];g++;this.zf=g;}return g;}m=this.$g;for(f=0;f < h;++f){this[m + g & d - 1]=arguments[f];m++;}this.zf=g + h;return g + h;}if(0 === h)return g;this.p4(g + 1);f=this.$g + g & this.Ig - 1;this[f]=k;this.zf=g + 1;return g + 1;};b.prototype.pop=function(){var k,h,g;k=this.zf;if(0 !== k){h=this.$g + k - 1 & this.Ig - 1;g=this[h];this[h]=void 0;this.zf=k - 1;return g;}};b.prototype.shift=function(){var k,h,g;k=this.zf;if(0 !== k){h=this.$g;g=this[h];this[h]=void 0;this.$g=h + 1 & this.Ig - 1;this.zf=k - 1;return g;}};b.prototype.unshift=function(k){var h,g,d,m;h=this.zf;g=arguments.length;if(1 < g){d=this.Ig;if(h + g > d){for(var f=g - 1;0 <= f;f--){this.p4(h + 1);d=this.Ig;m=(this.$g - 1 & d - 1 ^ d) - d;this[m]=arguments[f];h++;this.zf=h;this.$g=m;}return h;}m=this.$g;for(f=g - 1;0 <= f;f--){m=(m - 1 & d - 1 ^ d) - d;this[m]=arguments[f];}this.$g=m;this.zf=h + g;return h + g;}if(0 === g)return h;this.p4(h + 1);d=this.Ig;f=(this.$g - 1 & d - 1 ^ d) - d;this[f]=k;this.zf=h + 1;this.$g=f;return h + 1;};b.prototype.ZWb=function(){var k;k=this.zf;if(0 !== k)return this[this.$g + k - 1 & this.Ig - 1];};b.prototype.get=function(k){var h;if(k === (k | 0)){h=this.zf;0 > k && (k+=h);if(!(0 > k || k >= h))return this[this.$g + k & this.Ig - 1];}};b.prototype.p$=function(){return 0 === this.zf;};b.prototype.clear=function(){for(var k=this.zf,h=this.$g,g=this.Ig,d=0;d < k;++d){this[h + d & g - 1]=void 0;}this.$g=this.zf=0;};b.prototype.toString=function(){return this.Tp().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.SN=b.prototype.shift;b.prototype.toJSON=b.prototype.Tp;Object.defineProperty(b.prototype,"length",{get:function(){return this.zf;},set:function(){throw new RangeError("");}});b.prototype.p4=function(k){this.Ig < k && this.Ptb(a(1.5 * this.Ig + 16));};b.prototype.Ptb=function(k){var h,g;h=this.Ig;this.Ig=k;k=this.$g;g=this.zf;if(k + g > h)for((k=k + g & h - 1,g=0);g < k;++g){this[g + h]=this[g + 0];this[g + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,t,w,v,u;function c(x,y,z){this.CVa=this.aqb(x,y,z);}function k(){}function h(){}function g(){}function d(x){this.xzb=x;}function f(){}function m(){}function l(){}function n(){this.Yoa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(1);t=a(4).assert;b=a(258).RDa;w=a(427).Vob;v=a(258).Hib;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(130).PNa || a(130);c.prototype.constructor=c;c.prototype.aqb=function(x,y,z){t(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);t(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.XD=function(x){return this.$qb(x,this.CVa);};c.prototype.$qb=function(x,y){x=this.XEb(x,y);if(0 === x)throw new k();if(x === y.length)throw new h();return x;};c.prototype.XEb=function(x,y){t(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}t(!1,"expect not coming here in digitize()");};c.prototype.v9=function(){return p(1,this.CVa.length - 1);};k.prototype=Error();h.prototype=Error();g.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.zjb=-20;d.prototype.yjb=20;d.prototype.xjb=void 0;d.prototype.sjb=new b(void 0);d.prototype.ujb=0;d.prototype.tjb=1;d.prototype.Cjb=!1;d.prototype.wjb=!0;d.prototype.vjb=!0;d.prototype.Ajb=void 0;d.prototype.qjb=!0;d.prototype.rjb=0;d.prototype.fy=function(x){t(void 0 !== x.Seb,"expect recipe.time_varying_bandwidth !== undefined");return this.Stb(this.xzb,x.Seb,void 0 !== x.a8a?x.a8a:this.zjb,void 0 !== x.z7a?x.z7a:this.yjb,void 0 !== x.y7a?x.y7a:this.xjb,void 0 !== x.zVa?x.zVa:this.sjb,void 0 !== x.e_a?x.e_a:this.ujb,void 0 !== x.TVa?x.TVa:this.tjb,void 0 !== x.U2b?x.U2b:this.Cjb,void 0 !== x.WMb?x.WMb:this.wjb,void 0 !== x.Z2a?x.Z2a:this.vjb,void 0 !== x.lab?x.lab:this.Ajb,void 0 !== x.CUa?x.CUa:this.qjb,void 0 !== x.iVa?x.iVa:this.rjb);};d.prototype.Stb=function(x,y,z,A,B,D,C,F,G,E,I,N,L,H){var O,J,M,P,R,ya,ia,Ba,Sa,La,Za,Wa,Va,cb,wb,da,ua,wa,Oa,Xa,Bb;function Q(ub){return ub[R];}u.Sza("dp: ");t(z <= D.Mh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");t(D.Mh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");t(z <= C,"expect min_buffer_sec <= end_buffer_sec");t(C <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && t(D.hm <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + D.hm + " and " + B);J=new c(z,A,F);F=new n();M=0;P=D;F.put([0,J.XD(D.Mh)],[M,P,void 0,void 0,y,void 0,void 0,void 0]);y=P=0;D=x.RMb();t(x.SO() == D.length,"expect chunk_map.get_n_epoch() == durations_sec.length");R=-1;try{for(var S=q.__values(D),U=S.next();!U.done;U=S.next()){R+=1;D=!0;for(var ba=x.Dm.map(Q),na=J.v9(),va=0;va < na.length;va++){ya=na[va];if(F.iua([R,ya]))for(var ra=F.get([R,ya]),V=ra[0],K=ra[1],T=ra[4],fa=0;fa < ba.length;fa++){ia=ba[fa];u.update("epoch-ibuf-chunk loop");Ba=void 0 !== N?N(ia.quality):ia.quality;Sa=T.Bq();try{ra=this.Gqb(K,ia,Sa,H);La=ra[0];Za=ra[1];Wa=ra[2];Va=ra[3];cb=ra[4];wb=ra[5];}catch(ub){if(ub instanceof w)continue;else if(ub instanceof k){P+=1;continue;}else throw ub;}da=!1;ua=!1;try{wa=J.XD(Va.Mh);E && J.XD(La);I && J.XD(Za);if(void 0 !== B)if(I){if(Wa.hm > B)throw new g();}else if(Va.hm > B)throw new g();}catch(ub){if(ub instanceof k)(wa=void 0,P+=1);else if(ub instanceof h)(L?da=!0:y+=1,wa=void 0);else if(ub instanceof g)(L?ua=da=!0:y+=1,wa=void 0);else throw ub;}try{if(da && ua){t(void 0 !== B,"expect max_buffer_kb !== undefined");Oa=I?Wa.hm - B:Va.hm - B;t(0 <= Oa,"pause dlnd kb cannot be -ve but is " + Oa);try{Xa=Va.tXb(Oa);}catch(ub){if(ub instanceof v)throw new k();throw ub;}Sa.X9a(Xa);cb+=Xa;t(Va.Mh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");wa=J.XD(Va.Mh);}else if(da && !ua){Xa=I?Wa.Mh - A + 1E-8:Va.Mh - A + 1E-8;t(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{Va.q$a(Xa);}catch(ub){if(ub instanceof v)throw new k();throw ub;}Sa.X9a(Xa);cb+=Xa;t(z <= Va.Mh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");t(Va.Mh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");wa=J.XD(Va.Mh);}else Xa=0;}catch(ub){if(ub instanceof k)(wa=void 0,P+=1,Xa=void 0);else if(ub instanceof w)continue;else throw ub;}M=F.iua([R + 1,wa])?F.get([R + 1,wa])[0]:-Infinity;this.Fub(Va,wa,ia,Ba,ya,R + 1,M,F,V,fa,Sa,cb,wb,Xa) && (D=!1);}}if(D){--R;break;}}}catch(ub){var lb;lb={error:ub};}finally{try{U && !U.done && (O=S.return) && O.call(S);}finally{if(lb)throw lb.error;}}try{Bb=this.ARa(R + 1,J.XD(C),F,G,J);}catch(ub){if(ub instanceof f)try{Bb=this.ARa(R + 1,J.XD(C),F,!G,J);}catch(Kb){if(Kb instanceof f){if(P > y)throw new m();throw new l();}throw Kb;}else throw ub;}ya=Bb;for(z=[];-1 < R;R--){ra=F.get([R + 1,ya]);M=ra[0];P=ra[1];ya=ra[3];A=ra[5];B=ra[6];C=ra[7];ra=ra[2];ia=x.Dm[ra][R];G=ia.FA();Ba=ia.quality;z.unshift({L3a:R,R9:ra,info:{fdc:G,quality:Ba,Kma:P.Mh,Jma:P.hm,GZa:A,Ua:B,jxa:C}});}return z;};d.prototype.ARa=function(x,y,z,A,B){var D,C;D=!1;C=B.v9()[0];for(B=B.v9()[B.v9().length - 1];;){if(y < C || y > B){D=!0;break;}if(z.iua([x,y]))break;else y=A?y - 1:y + 1;}if(D)throw new f("backtrack fails to find a solution");return y;};d.prototype.Fub=function(x,y,z,A,B,D,C,F,G,E,I,N,L,H){z=G + A * z.dn;return void 0 !== y && z > C?(F.put([D,y],[z,x,E,B,I,N,L,H]),!0):!1;};d.prototype.Gqb=function(x,y,z,A){var B,D,C;A=(y.FA() + A) * y.dn;z=z.BFb(A);A/=z;B=x.Mh - z;D=x.Mh + y.dn;C=x.Bq();C.add(y,void 0);x=x.Bq();x.add(y,void 0);try{x.q$a(z);}catch(F){if(F instanceof v)throw new k();throw F;}return [B,D,C,x,z,A];};f.prototype=Error();m.prototype=new f();l.prototype=new f();n.prototype={FBa:function(x){return x.join(",");},put:function(x,y){this.Yoa[this.FBa(x)]=y;},get:function(x){return this.Yoa[this.FBa(x)];},iua:function(x){return (this.FBa(x) in this.Yoa);}};r.exports={ukb:d,f9b:c,F8b:k,G8b:h};},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EOa=void 0;r=a(1);c=r.__importStar(a(10));k=a(15);h=a(15);g=r.__importDefault(a(6));d=a(226);f=a(424);a=(function(){var z80;z80=2;for(;z80 !== 13;){switch(z80){case 3:m.prototype.PU=function(l){var I80,n;I80=2;for(;I80 !== 4;){switch(I80){case 2:n=this;l=this.cb.Eh(l);I80=5;break;case 5:l.YU || (l.YU=!0,h.Lf.forEach(function(p){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:n.cb.Yg[p].resume();J80=1;break;}}}),this.cb.AU());I80=4;break;}}};m.prototype.qtb=function(l,n){var K80,p,q,t;K80=2;for(;K80 !== 8;){switch(K80){case 4:K80=(null === (q=this.cb.Rh) || void 0 === q?0:q.$D())?3:9;break;case 9:this.cb.wW.bTa(t,l.mb.M);K80=8;break;case 3:(this.cb.Rh.bm.forEach(function(w){var L80;L80=2;for(;L80 !== 1;){switch(L80){case 4:p.cb.jH(w,-2);L80=2;break;L80=1;break;case 2:p.cb.jH(w,!1);L80=1;break;}}}),this.cb.Rh=void 0);K80=9;break;case 2:(p=this,t=l.mediaType);l.qK(n);l.$_b();K80=4;break;}}};m.prototype.Ija=function(){var M80,l,n;M80=2;for(;M80 !== 4;){switch(M80){case 2:M80=this.TC?1:4;break;case 1:(l=this.TC.uk,n=this.TC.Tb);this.cb.Eh(n) && (this.TC=void 0,this.yt(l,n));M80=4;break;}}};z80=7;break;case 6:m.prototype.bj=function(l){var R80,n,p,q;R80=2;for(;R80 !== 8;){switch(R80){case 2:(p=this.cb.Ra.ii,q=0 < Object.keys(p.G && p.G.Ql || ({})).length && !p.il?p.Pe - this.cb.J.AE:p.Pe);R80=1;break;case 4:n=this.cb.Qu(l,0,!0);l=this.cb.Qu(l,1,!0);return void 0 !== n && void 0 !== l && n.complete && l.complete;break;case 5:return !1;break;case 1:R80=l < (null !== (n=p.Dd) && void 0 !== n?n:p.sta) || l >= q?5:4;break;}}};return m;break;case 2:m.prototype.yt=function(l,n){var B80,u,x,p,q,t,w,v;B80=2;for(;B80 !== 50;){switch(B80){case 15:B80=this.xs(f.efa.Gqa(n),!1,!0)?27:26;break;case 21:B80=!this.cb.I5(t.M.Tb + 1)?35:31;break;case 41:var e8v="s";e8v+="eek";e8v+="F";e8v+="ail";e8v+="ed";var s8v="aft";s8v+="er seeking,";s8v+=" playerSta";s8v+="te no";s8v+=" longer STARTING: ";this.I.warn(s8v + this.cb.S.getState());this.cb.emit(e8v);B80=50;break;case 39:this.cb.Pka();u=this.cb.Ra.dd.L6(l).iQ;t.pwa();x=this.cb.Ra.dd;h.Lf.forEach(function(y){var E80,z;E80=2;for(;E80 !== 5;){switch(E80){case 2:z=x.Wd(y);E80=1;break;case 1:p.xc(y) && p.qtb(z,u[y]);E80=5;break;}}});B80=53;break;case 19:B80=!this.cb.dRa(n)?18:15;break;case 28:B80=(w=this.cb.Ke.M.Tb === n && !this.trb(n) && l === t.$)?44:39;break;case 16:return;break;case 7:B80=(t=this.cb.Eh(n))?6:51;break;case 27:return;break;case 2:p=this;null === (q=this.hSa) || void 0 === q?void 0:q.cancel();(t=this.cb.J,w=this.cb.S.af());B80=4;break;case 43:B80=this.cb.S.f5a()?42:41;break;case 44:h.Lf.forEach(function(y){var D80;D80=2;for(;D80 !== 1;){switch(D80){case 2:p.cb.Xw[y].wl(!0);D80=1;break;}}});B80=43;break;case 26:w=this.cb.Ra.dd.TW(t.La || Infinity,t.M);B80=25;break;case 35:var j8v="seek";j8v+="Delay";j8v+="e";j8v+="d";this.TC={Tb:t.M.Tb + 1,uk:l};this.cb.emit(j8v);B80=33;break;case 23:B80=l > w?22:31;break;case 52:var L8v="s";L8v+="e";L8v+="ek";L8v+="Delay";L8v+="ed";(this.TC={Tb:n,uk:l},this.cb.emit(L8v));B80=50;break;case 31:this.cb.S.Zd(k.ta.yh);this.cb.NAa();this.cb.Ra.i4b(l,n);B80=28;break;case 51:var m8v="seekF";m8v+="ai";m8v+="led";var O8v="seek, no ";O8v+="ma";O8v+="nifest at manifestIndex:";(this.I.warn(O8v,n),this.cb.emit(m8v));B80=50;break;case 24:w=this.cb.rs?this.cb.pn?Math.min(w[0].$,w[1].$):w[0].$:w[1].$;B80=23;break;case 22:B80=t.M.tf.Ne?21:32;break;case 32:(l=w,q=l + this.cb.Ra.He);B80=31;break;case 25:B80=w.length?24:52;break;case 4:var B8v=" p";B8v+="lay";B8v+="erSta";B8v+="te: ";var F8v=" media.curre";F8v+="ntPt";F8v+="s";F8v+=": ";var M8v=" c";M8v+="urrent manifest";M8v+=": ";var H8v=" ";H8v+="manif";H8v+="estIndex:";H8v+=" ";var G8v="s";G8v+="eek";G8v+=": ";q=l;t.Gi && this.Ci.Um(G8v + l + H8v + n + M8v + this.cb.Ke.M.Tb + F8v + w + B8v + this.cb.S.getState());c.ma(n) && (n=this.cb.Ke.M.Tb);this.cb.Ra.Abb();B80=7;break;case 11:n < w.M.Tb && t.M.tf.replace && (t.M.tf.replace=!1);v=this.cb.Ra.dd;h.Lf.forEach(function(y){var C80;C80=2;for(;C80 !== 1;){switch(C80){case 2:(y=v.Wd(y)) && p.cb.oTa(y);C80=1;break;}}});B80=19;break;case 53:this.cb.AU();B80=43;break;case 42:var t8v="s";t8v+="e";t8v+="e";t8v+="k";var q8v="p";q8v+="tscha";q8v+="nge";q8v+="d";return (this.cb.emit(q8v,q),this.cb.emit(t8v),this.PU(n),l=w && this.cb.Fb.iz()?100:0,this.cb.w5(1,l),this.cb.mk(),q);break;case 18:var W8v="see";W8v+="kDe";W8v+="lay";W8v+="e";W8v+="d";this.TC={Tb:n,uk:l};this.cb.emit(W8v);B80=16;break;case 6:!t.M.tf.NY && 0 < n && (q=this.cb.IN(n,l));this.cb.S.Zd(k.ta.rj);w=this.cb.Ke;B80=12;break;case 12:B80=n != w.M.Tb?11:26;break;case 33:return;break;}}};m.prototype.seek=function(l,n){var F80,p;F80=2;for(;F80 !== 9;){switch(F80){case 2:p=l;c.ma(n) && (n=this.cb.Ke.M.Tb);this.cb.Ra.Abb();this.cb.Eh(n).M.tf.NY || this.cb.HM || (p=this.cb.zu(n,l));return this.yt(p,n);break;}}};m.prototype.xs=function(l,n,p){var G80,q,t;G80=2;for(;G80 !== 9;){switch(G80){case 2:t=this.cb.Ra.xs(l,n);G80=1;break;case 1:G80=n?5:4;break;case 6:G80=n?3:7;break;G80=n?5:4;break;case 5:return t;break;case 14:return t;break;G80=4;break;case 4:var Y8v="s";Y8v+="e";Y8v+="e";Y8v+="k";var v8v="pt";v8v+="s";v8v+="ch";v8v+="an";v8v+="ged";t?(this.cb.S.Zd(k.ta.rj),(l=this.cb.Ra.ii.children[l]) && this.cb.emit(v8v,null !== (q=l.Dd) && void 0 !== q?q:l.sta),this.cb.S.Zd(k.ta.yh),this.cb.emit(Y8v),l && this.PU(l.M.Tb),this.cb.w5(1),this.cb.mk(),this.cb.Fb.iz()):p || (q=this.cb.Ra.fMb(l),this.yt(q));return t;break;}}};m.prototype.trb=function(l){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return ! !this.cb.Eh(l).YU;break;}}};z80=3;break;case 7:m.prototype.Co=function(l){function n(t,w){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:var z8v="skip: unexpected behaviour - a non-presenting branc";z8v+="h doesn't have a previous bra";z8v+="nch";t !== p.cb.Ra.ii && (t.zg?n(t.zg,w):p.I.error(z8v));(t=t.Wd(w)) && t.Co();O80=5;break;}}}var N80,p,q;N80=2;for(;N80 !== 7;){switch(N80){case 2:p=this;null === (q=this.hSa) || void 0 === q?void 0:q.cancel();this.cb.NAa();this.cb.Ra.ii.Co(l);h.Lf.forEach(function(t){var P80,w;P80=2;for(;P80 !== 9;){switch(P80){case 2:P80=p.xc(t)?1:9;break;case 7:P80=p.xc(t)?3:7;break;P80=p.xc(t)?1:9;break;case 1:var o8v="skip: not resuming buffe";o8v+="rManager, audio track switch in p";o8v+="rogress";w=p.cb.Fb.Zf[t];p.cb.Fs && (w.wAa=g.default.time.ha());w.AR?w.Ub(o8v):p.cb.Yg[t].resume();n(p.cb.Ra.dd,t);P80=9;break;}}});this.hSa=l=new d.tG(this.cb.xK());return l.Lwa(function(){var Q80;Q80=2;for(;Q80 !== 5;){switch(Q80){case 2:p.cb.S.Zd(k.ta.Rc);p.cb.KU();Q80=5;break;}}}).jza;break;}}};z80=6;break;}}function m(l,n,p,q){var A80;A80=2;for(;A80 !== 9;){switch(A80){case 2:this.cb=l;this.I=n;this.xc=p;this.Ci=q;A80=3;break;case 3:var P8v="1S";P8v+="IY";P8v+="bZrNJ";P8v+="Cp9";P8v;A80=9;break;case 12:"";A80=4;break;A80=9;break;}}}})();b.EOa=a;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=void 0;r=a(1);c=r.__importStar(a(10));k=a(15);h=r.__importDefault(a(6));a=(function(){function g(d,f,m){var T80;T80=2;for(;T80 !== 9;){switch(T80){case 2:this.Wa=d;this.I=f;this.xc=m;T80=4;break;case 4:var l8v="1";l8v+="SIYbZ";l8v+="rNJC";l8v+="p9";l8v;this.ZQa=this.yG=void 0;T80=9;break;}}}var S80;S80=2;for(;S80 !== 18;){switch(S80){case 9:g.prototype.MQa=function(d,f){var b90,m,l,n,p;b90=2;for(;b90 !== 3;){switch(b90){case 2:(m=d.mediaType,l=this.Wa.Fb.Px[m].$I,n=d.$f.pY);b90=1;break;case 1:b90=l && n?5:3;break;case 5:p=this.Wa.Fb.Zf[m].Xf;p && (this.Wa.S.wg() || this.Wa.Xg.bvb(m,p,l.bitrate,n.bitrate,d.ONb.bitrate,f));b90=3;break;}}};g.prototype.oRa=function(d,f){var c90,m,l,n,p,q;c90=2;for(;c90 !== 7;){switch(c90){case 3:return;break;case 2:(m=d.G,l=d.Wd(1),n=d.Wd(0),p=!n || n.yi,q=!l || l.yi);m.ar || this.Wa.Ra.cba(d,m,d.M.tf.Ne && 0 === d.M.Tb);c90=5;break;case 4:c90=(this.Wa.pn && this.pRa(d,l,n),this.Wa.rs && this.pRa(d,n,l),p=!n || n.yi,q=!l || l.yi,!q || !p)?3:9;break;case 9:var k8v="Still in buffering sta";k8v+="te while pipeline's a";k8v+="re done";this.Wa.S.wg() && (this.I.warn(k8v),this.Wa.Fb.iz());f || m.Yv || d.M.tf.Ne || !this.ezb(d) || ((f=this.Wa.S.wg()) && this.Wa.J.xoa && (this.Wa.Wka(),f=!1),d.t8 || this.Wa.Ra.SNb(d,f),d.oN(),d.fzb() && (f=Object.keys(d.children),this.Wa.J.L7 && 1 === f.length && !d.children[f[0]].active && this.Wa.Ra.I6a(d,f[0]),this.wqb(d,m)));c90=7;break;case 5:c90=!q || !p?4:9;break;}}};g.prototype.wqb=function(d,f){var d90,q,t,l,m,w,v,n,p;d90=2;for(;d90 !== 23;){switch(d90){case 4:d90=Math.min(l[0] - d.jja[0],l[1] - d.jja[1]) >= m.wzb?3:9;break;case 13:d90=1 < t.length?12:20;break;case 10:0 !== w && 0 !== v?(c.Cf(t,function(u){var h90;h90=2;for(;h90 !== 4;){switch(h90){case 1:u.Qxb=u.Eaa / v;u.usage=u.Qxb - u.K7b;h90=4;break;case 9:u.K7b=u.weight - w;h90=6;break;h90=1;break;case 2:u.K7b=u.weight / w;h90=1;break;}}}),t.sort(function(u,x){var i90;i90=2;for(;i90 !== 1;){switch(i90){case 2:return u.usage - x.usage;break;}}})):t.sort(function(u,x){var j90;j90=2;for(;j90 !== 4;){switch(j90){case 2:u=Math.min.apply(null,u.mb.cn);x=Math.min.apply(null,x.mb.cn);a000.n9G(2);return a000.b9G(x,u);break;}}});d90=20;break;case 17:n=t[0].mb;p=t[0].weight;d.mM=n;d90=27;break;case 18:return;break;case 7:(q=[],t=[]);c.Cf(d.children,function(u,x){var e90;e90=2;for(;e90 !== 5;){switch(e90){case 2:x=f.Ql[x].weight;0 !== x && (x={weight:x,mb:u},u.qna(!0,!0) || t.push(x),q.push(x));e90=5;break;}}});0 === t.length?t=q:2 < t.length && (t.sort(function(u,x){var f90;f90=2;for(;f90 !== 1;){switch(f90){case 4:return x.weight * u.weight;break;f90=1;break;case 2:return x.weight - u.weight;break;}}}),t.length=2);d90=13;break;case 5:l=d.mM.cn;d90=4;break;case 27:d.jja=n.cn;d90=26;break;case 2:m=this.Wa.J;d90=1;break;case 12:n=t.reduce(function(u,x){var g90;g90=2;for(;g90 !== 4;){switch(g90){case 2:x.cn=x.mb.cn;x.Eaa=Math.min(x.cn[0],x.cn[1]);a000.n9G(2);var X31=a000.b9G(9,10);return [u[0] + x.weight,u[X31] + x.Eaa];break;}}},[0,0]);(w=n[0],v=n[1]);d90=10;break;case 1:d90=this.Wa.zc.Wsa && d.mM && d.jja?5:8;break;case 9:(n=d.mM,p=f.Ql[n.G.id].weight);d90=8;break;case 3:d.mM=void 0;d90=8;break;case 20:d90=0 === t.length?19:17;break;case 19:var Q8v="No subb";Q8v+="ranch candidat";Q8v+="es to ";Q8v+="drive";this.I.warn(Q8v);d90=18;break;case 26:n.re || (n.re={a$:h.default.time.ha(),JB:0});n.re.weight=p;this.oRa(n,!0);d90=23;break;case 8:d90=!n?7:26;break;}}};S80=6;break;case 2:g.prototype.q4=function(){var U80;U80=2;for(;U80 !== 1;){switch(U80){case 2:this.yG && (clearTimeout(this.yG),this.yG=void 0);U80=1;break;}}};g.prototype.rRa=function(){var V80,d,f,m,l;V80=2;for(;V80 !== 6;){switch(V80){case 2:V80=!this.Wa.Li.ala && !this.Wa.Dn()?1:6;break;case 1:var E8v="firstDr";E8v+="iveS";E8v+="tr";E8v+="eaming";void 0 === this.Wa.sqb && (this.Wa.sqb=!0,this.Wa.Jb.um(E8v));(d=this.Wa.Ra,f=d.dd.Wd(0),m=d.dd.Wd(1),l=!m || m.yi);(!f || f.yi) && l && this.Wa.HM && d.Xzb(m?m.Vc:f.Vc);m=!m || m.Pr;f && !f.Pr || !m || this.Wa.HM || (this.Wa.zc.Sf && this.Wa.zc.Sf.vq(!0,this.Wa.qm.sessionId),this.Wa.Jb.T8a());this.oRa(d.dd);this.zub();V80=6;break;}}};g.prototype.xTa=function(){var W80;W80=2;for(;W80 !== 1;){switch(W80){case 2:return this.Wa.Dn() || this.Wa.S.h5a() || this.Wa.S.g5a()?!0:!1;break;}}};g.prototype.u4=function(d){var X80;X80=2;for(;X80 !== 1;){switch(X80){case 2:return this.xTa() || this.Wa.Fb.Zf[d.mediaType].AR || this.Wa.ez.Iz?!1:!0;break;}}};S80=3;break;case 3:g.prototype.mk=function(){var Y80,d,f;Y80=2;for(;Y80 !== 5;){switch(Y80){case 2:(d=this,f=this.Wa.J);!this.Wa.PSa || this.Wa.o5 || this.Wa.B5 || (this.Wa.o5=setTimeout(function(){var Z80;Z80=2;for(;Z80 !== 4;){switch(Z80){case 5:d.rRa();Z80=4;break;case 2:clearTimeout(d.Wa.o5);d.Wa.o5=void 0;Z80=5;break;}}},f.xxa),f.dO && this.Wa.pn && (this.yG || (this.yG=setTimeout(function(){var a90,m;a90=2;for(;a90 !== 3;){switch(a90){case 2:clearTimeout(d.yG);d.yG=void 0;m=d.Wa.Ra.dd.Wd(1);a90=4;break;case 4:m && d.MQa(m);a90=3;break;}}},f.cvb))));Y80=5;break;}}};S80=9;break;case 12:g.prototype.Wpb=function(d,f){var n90,m,l,n,p,q,t,w,v,x,u;n90=2;for(;n90 !== 32;){switch(n90){case 7:return !1;break;case 4:n90=(null === (m=d.sh) || void 0 === m?0:m.vNb())?3:9;break;case 35:n90=(q=1,d.Mma < l.gB && (q=l.gB),d.Va.IE >= q)?34:33;break;case 26:n90=this.Yqb(n) >= l.s7a?25:24;break;case 9:q=d.Va.gxa;n90=8;break;case 12:return !1;break;case 11:t=this.Wa.Ra.zH(p,n);x=0;n90=20;break;case 25:return !1;break;case 8:n90=q >= l.maa?7:6;break;case 13:n90=t === k.ta.Rc && w > l.rva && !m.tf.Ne && !x && !m.MY || w && q > Math.max(w * l.vva / 100,l.RTb)?12:11;break;case 18:return !1;break;case 2:var I8v="fl";I8v+="oored t";I8v+="o 0";var i8v="ne";i8v+="gative sche";i8v+="duled";i8v+="BufferLevel:";(l=this.Wa.J,n=d.mediaType,p=d.V$,q=this.Wa.S.af(),t=this.Wa.S.getState(),w=this.Wa.Ra.ix(p,n),v=d.kc + p.He - q);0 > v && (d.Ub(i8v,v,I8v),v=0);n90=5;break;case 3:return !1;break;case 33:return 0 < l.sv && !p && t + (f?x:0) > l.sv || void 0 !== this.ZQa && w > this.ZQa || 1 === n && m.tf.Ne && w > l.jaa && (f=this.Wa.zc.$b.get(),f.confidence && f.Ua && f.Ua.qa * d.GN > l.tva)?!1:!0;break;case 27:return !1;break;case 17:v=void 0;f && (v=f.mediaType,u=h.default.wp()[v],v=l.H6b?this.Wa.Ra.J6a(p,v).We / u:x / u);n90=15;break;case 22:return !1;break;case 21:n90=(p=this.Wa.S.wg())?35:33;break;case 19:n90=this.Wa.zc.bua?18:17;break;case 6:m=this.Wa.Ke.M;x=this.Wa.S.ho(m);n90=13;break;case 23:n90=!c.ma(l.Lx) && v >= l.Lx || d.GN + q >= Math.max(l.$s,this.Wa.zc.RB + l.xwa * p.M.PSb[n])?22:21;break;case 20:n90=f && (x=this.Wa.Ra.zH(p,f.mediaType),u=d.kc - u,this.xc(f.mediaType) && !f.yi && u >= l.zva && v > l.Ij)?19:26;break;case 5:u=f?f.kc:0;n90=4;break;case 15:n90=void 0 === v || v < l.LSb?27:26;break;case 34:return !1;break;case 24:v=this.Wa.Ra.d5b();n90=23;break;}}};g.prototype.Yqb=function(d){var o90;o90=2;for(;o90 !== 1;){switch(o90){case 2:return this.Wa.Ra.qb.reduce(function(f,m){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return f + m.ZLb(d);break;case 4:return f - m.ZLb(d);break;q90=1;break;}}},0);break;}}};g.prototype.ezb=function(d){var r90,f,m,l;r90=2;for(;r90 !== 4;){switch(r90){case 2:(f=this,m=this.Wa.Ra,l=!0);c.Cf(d.G.Ql,function(n,p){var s90,q;s90=2;for(;s90 !== 7;){switch(s90){case 1:p=n.M;n=p.Gh[0];q=p.Gh[1];n && q && n.stream.pe && q.stream.pe || (l=!1);s90=9;break;case 2:s90=(n=m.Oe(p))?1:8;break;case 9:f.Wa.S.ho(p) || (l=!1);s90=7;break;case 8:var a8v="in ";a8v+="d";a8v+="est";a8v+="s:";var Z8v="i";Z8v+="nvali";Z8v+="d seg";Z8v+="ment:";d.Ub(Z8v,p,a8v,d.G.Ql);s90=7;break;}}});return l;break;}}};g.prototype.zub=function(){var t90,d,f,m;t90=2;for(;t90 !== 5;){switch(t90){case 2:(d=this.Wa.J,f=this.Wa.Ra,m=f.dd);this.Wa.S.wg() || f.ix(m,1) < d.VY || m.M.CBa();t90=5;break;}}};S80=19;break;case 19:return g;break;case 6:g.prototype.pRa=function(d,f,m){var k90,w,l,n,p,q,t;k90=2;for(;k90 !== 8;){switch(k90){case 1:k90=!f.yi?5:8;break;case 3:var D8v="Still in buffering state while pipeli";D8v+="ne does not have vacan";D8v+="cy";var d8v="driv";d8v+="ePipeline, delay";d8v+="ing ";d8v+="audio until video actualStartPts determined";w=this.Wa.Ke;c.ma(w.uJ) || (l.WJ && 0 === n && c.ma(this.Wa.Fb.Zf[1].fp)?f.Ub(d8v):(c.ma(f.no) && (f.no=f.oe?f.oe.index:f.Ypa(f.kc)),f.Gf && f.no > f.Gf.index?d.M.tf.Ne && c.ma(w.La) && c.ma(d.Vc) || (f.yi || this.Wa.oTa(f),d=this.Wa.Ke.M.Tb,d < this.Wa.HO() - 1 && this.Wa.I5(d + 1)):this.u4(f) && (l.yGb && !this.Wa.S.wg() && 0 >= f.gJ?f.g6b(l.qTb):this.Wpb(f,m)?(f.XQb=h.default.time.ha(),m=this.Wa.Fb.Zra(f),l=m.wf,c.ma(l) || (l=f.track.Rd[l],this.Vpb(f,l) || ((n=l.Y8())?(f.PQb=l.bitrate,f.pSb(l,n,this.Wa.S.wg(),p.Xf,m.Ux),this.r6b(l,t,q),d.re && ++d.re.JB):l.sF()))):this.Wa.S.wg() && (f.Hn(D8v),this.Wa.Fb.iz()))));k90=8;break;case 2:(l=this.Wa.J,n=f.mediaType);k90=1;break;case 5:(p=this.Wa.Fb.Zf[n],q=this.Wa.Fb.WB[n],t=this.Wa.Fb.Px[n]);k90=4;break;case 4:k90=p.Xf && (void 0 === f.EJ || (f.qK(f.EJ,f.$Wb),void 0 === f.EJ))?3:8;break;}}};g.prototype.r6b=function(d,f,m){var l90;l90=2;for(;l90 !== 4;){switch(l90){case 2:f.uua=d.Pc;c.Ga(m.ux) || (m.o6b(d.At,d.NA || -1,d.bitrate),c.ma(d.Eza) || this.Wa.Xg.Dcb(d.Eza,d.zp,d.Ap));d.url && (f.Bua=d.url);l90=4;break;}}};g.prototype.Vpb=function(d,f){var m90,m;m90=2;for(;m90 !== 5;){switch(m90){case 2:m=this.Wa.Fb.Px[d.mediaType];return this.Wa.PSa && f.Pc && m.uua && f.Pc !== m.uua && (0 < d.Va.IE || 0 < d.Va.Kt)?!0:!1;break;}}};S80=12;break;}}})();b.DFa=a;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TIa=void 0;c=a(175);k=a(15);h=a(15);g=a(9);r=(function(){function d(f,m,l,n){var v90;v90=2;for(;v90 !== 8;){switch(v90){case 2:this.ec=f;this.I=m;this.xc=l;v90=4;break;case 4:var p8v="1SI";p8v+="YbZrN";p8v+="JCp";p8v+="9";this.WG=n;this.MSa=this.ala=!1;p8v;v90=8;break;}}}var u90;u90=2;for(;u90 !== 6;){switch(u90){case 2:d.prototype.play=function(){var w90,f;w90=2;for(;w90 !== 5;){switch(w90){case 2:var w8v="p";w8v+="la";w8v+="y";var S8v="play calle";S8v+="d after pip";S8v+="e";S8v+="l";S8v+="ines already shutdown";f=this;this.Dn()?this.I.warn(S8v):(this.ec.S.Zd(k.ta.Rc),this.ec.fub(),this.ec.Fb.Zf.forEach(function(m){var x90;x90=2;for(;x90 !== 1;){switch(x90){case 2:var A8v="play: not resum";A8v+="ing buff";A8v+="erManager, audio track switch in progress";f.xc(m.mediaType) && (m.AR?m.Ub(A8v):(f.ec.Yg[m.mediaType].resume(),f.ec.Xw[m.mediaType].resume()));x90=1;break;}}}),this.ec.KU(),this.ec.emit(w8v));w90=5;break;}}};d.prototype.stop=function(){var y90,n,f,m,l;y90=2;for(;y90 !== 6;){switch(y90){case 3:var h8v="s";h8v+="t";h8v+="o";h8v+="p";n=this.ec.Ra.dd;h.Lf.forEach(function(p){var z90;z90=2;for(;z90 !== 5;){switch(z90){case 2:z90=(p=n.Wd(p))?1:5;break;case 1:p.yi=!1;z90=5;break;case 9:p.yi=+6;z90=6;break;z90=5;break;case 3:z90=(p=n.Wd(p))?5:7;break;z90=(p=n.Wd(p))?1:5;break;}}});h.Lf.forEach(function(p){var A90;A90=2;for(;A90 !== 1;){switch(A90){case 2:(p=f.ec.Yg[p]) && p.pause();A90=1;break;}}});this.ec.emit(h8v);y90=6;break;case 2:(f=this,m=this.ec.S.h5a(),l=this.ec.S.g5a());this.ec.S.Zd(k.ta.Yr);this.ec.q4();m || l || this.ec.Ra.ii.eF(!1,this.ec.S);y90=3;break;}}};d.prototype.suspend=function(){var B90;B90=2;for(;B90 !== 1;){switch(B90){case 2:this.ala=!0;B90=1;break;}}};d.prototype.resume=function(){var C90;C90=2;for(;C90 !== 5;){switch(C90){case 2:this.ala=!1;this.ec.ug.mk();C90=5;break;}}};u90=3;break;case 3:d.prototype.close=function(){var D90,f;D90=2;for(;D90 !== 6;){switch(D90){case 2:f=this.ec.J;this.MSa=!0;this.stop();D90=4;break;case 4:var K8v="e";K8v+="n";K8v+="dpla";K8v+="y";var N8v="lo";N8v+="gda";N8v+="ta";var u8v="c";u8v+="l";u8v+="o";u8v+="se";this.ec.emit(u8v);f.YZa && (f=c.Dy.instance().Ab()) && (f={type:N8v,target:K8v,fields:{bridgestat:f}},g.ab(this.ec,f.type,f));this.ec.zc.Sf && this.ec.zc.Sf.vq(!0,this.ec.qm.sessionId,!0);this.ec.Jb.T8a();D90=7;break;case 7:this.ec.abb();D90=6;break;}}};d.prototype.flush=function(){var E90,t,w,f,m,l,n,p,q,F90;E90=2;for(;E90 !== 16;){switch(E90){case 8:l.flush();(t=l.o1a(),w=l.TTa);E90=6;break;case 19:this.ec.Jb.CSa();E90=18;break;case 14:for(var v in t){var f2v="n";f2v+="e";var X2v="n";X2v+="e";var T2v="n";T2v+="e";t.hasOwnProperty(v) && (n[T2v + v]=Number(t[v]).toFixed(6),q[X2v + v]=1 * n[f2v + v]);}E90=13;break;case 13:var V2v="en";V2v+="dp";V2v+="l";V2v+="a";V2v+="y";var r2v="l";r2v+="og";r2v+="da";r2v+="ta";w && w.length && (n.activeRequests=JSON.stringify(w));n.aseApiVersion=this.ec.oH;m.WZa && (l=l.i9()) && (l.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=l.estimatedBytesPacedVideo,n.bytestotalVideo=l.bytestotalVideo,n.pacedAvtpVideo=l.pacedAvtpVideo),l.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=l.estimatedBytesPacedAudio,n.bytestotalAudio=l.bytestotalAudio,n.pacedAvtpAudio=l.pacedAvtpAudio),l.pacedAvtp && (n.pacedAvtp=l.pacedAvtp));Object.keys(n).length && (n={type:r2v,target:V2v,fields:n},g.ab(this.ec,n.type,n));E90=20;break;case 6:E90=t?14:13;break;case 1:E90=l?5:19;break;case 2:(m=this.ec.J,l=this.ec.zc.$b);E90=1;break;case 18:E90=this.WG.Fs?17:16;break;case 20:var x2v="end";x2v+="p";x2v+="la";x2v+="y";var c2v="logd";c2v+="at";c2v+="a";var n2v="t";n2v+="h";n2v+="roug";n2v+="hput";n2v+="-sw";var C2v="t";C2v+="hro";C2v+="ughp";C2v+="ut-sw";var y2v="throughpu";y2v+="t-";y2v+="sw";var b2v="th";b2v+="rou";b2v+="g";b2v+="hput-s";b2v+="w";m.JW && (p && p[b2v] && p[y2v].qa && this.ec.Wv.rvb({avtp:p[C2v].qa,variance:p[n2v].Ce}),this.ec.Wv.lvb(q,null === (f=p.avtp) || void 0 === f?void 0:f.G7),f=this.ec.Wv.XJb(),m=this.ec.Wv.iMb(),f && (f.n=m,f={type:c2v,target:x2v,fields:{ibef:f}},g.ab(this.ec,f.type,f),this.ec.Wv.save()));E90=19;break;case 5:(n={},p=l.get(),q={});p && p.avtp && p.avtp.qa && (n.avtp=p.avtp.qa,n.dltm=p.avtp.G7,q.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.qa && (n.initial_avtp=p.initialThroughput.qa);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);E90=8;break;case 17:try{F90=2;for(;F90 !== 1;){switch(F90){case 2:this.ec.Y7(k.ta.Yr);F90=1;break;}}}catch(u){var R2v="H";R2v+="indsig";R2v+="h";R2v+="t: Error evaluating QoE at stopping: ";a000.C9G(3);this.ec.Jb.oo(a000.b9G(R2v,u));}E90=16;break;}}};d.prototype.Dn=function(){var G90;G90=2;for(;G90 !== 1;){switch(G90){case 2:return this.MSa || this.ec.Ra.Ck;break;case 4:return this.MSa && this.ec.Ra.Ck;break;G90=1;break;}}};u90=7;break;case 7:return d;break;}}})();b.TIa=r;},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VKa=void 0;r=a(1);c=r.__importStar(a(10));k=a(147);h=r.__importDefault(a(30)).default.Ya;g=r.__importDefault(a(6));d=a(9);f=a(4);a=(function(){function m(l,n){var I90;I90=2;for(;I90 !== 4;){switch(I90){case 2:var J2v="1SI";J2v+="Y";J2v+="b";J2v+="ZrNJCp9";this.ib=l;this.I=n;J2v;I90=4;break;}}}var H90;H90=2;for(;H90 !== 38;){switch(H90){case 20:m.prototype.wsb=function(l,n,p,q,t){var Y90;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var U2v="man";U2v+="if";U2v+="estR";U2v+="ange";l={type:U2v,index:l,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(t)};d.ab(this.ib,l.type,l);Y90=5;break;}}};m.prototype.FSa=function(l){var Z90;Z90=2;for(;Z90 !== 5;){switch(Z90){case 2:var g2v="max";g2v+="B";g2v+="itrates";l={type:g2v,audio:l[0],video:l[1]};Z90=1;break;case 1:d.ab(this.ib,l.type,l);Z90=5;break;}}};m.prototype.xsb=function(l,n){var a01,p;a01=2;for(;a01 !== 3;){switch(a01){case 2:var e2v="n";e2v+="otifyManifestSe";e2v+="le";e2v+="cted: ";var s2v="man";s2v+="ifestSel";s2v+="e";s2v+="cted";p=this.ib.J;l={type:s2v,index:l,replace:n.M.tf.replace,ptsStarts:n.iQ,streamingOffset:n.$ + n.Jx};p.Gi && (n=e2v + JSON.stringify(l),p.Gi && this.Um(n));d.ab(this.ib,l.type,l);a01=3;break;}}};m.prototype.usb=function(l,n,p,q,t){var b01;b01=2;for(;b01 !== 4;){switch(b01){case 2:var j2v="mani";j2v+="f";j2v+="est";j2v+="Presenting";l={type:j2v,index:l.Tb,pts:Math.floor(n),movieId:l.K,replace:l.tf.replace,contentOffset:p};null != q && null != t && (l.previousMovieId=q,l.previousIndex=t);d.ab(this.ib,l.type,l);b01=4;break;}}};H90=16;break;case 2:m.prototype.um=function(l){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var L2v="start";L2v+="Even";L2v+="t";l={type:L2v,event:l,time:g.default.time.ha()};d.ab(this.ib,l.type,l);J90=5;break;}}};m.prototype.Asb=function(){var K90,l;K90=2;for(;K90 !== 5;){switch(K90){case 2:var O2v="openC";O2v+="omp";O2v+="let";O2v+="e";l={type:O2v};d.ab(this.ib,l.type,l);K90=5;break;}}};m.prototype.Bsb=function(l,n,p,q,t){var L90;L90=2;for(;L90 !== 1;){switch(L90){case 2:var m2v="p";m2v+="t";m2v+="sStarts";this.ib.J.bFb || (l={type:m2v,manifestIndex:l,mediaType:n,movieId:q,streamId:p,ptsStarts:t.Jdb()},d.ab(this.ib,l.type,l));L90=1;break;}}};m.prototype.qsb=function(l,n){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var G2v="header";G2v+="CacheH";G2v+="i";G2v+="t";l={type:G2v,movieId:l,streamId:n};d.ab(this.ib,l.type,l);M90=5;break;}}};m.prototype.psb=function(l,n,p,q,t){var N90,w;N90=2;for(;N90 !== 3;){switch(N90){case 2:var H2v="headerCacheDa";H2v+="taH";H2v+="i";H2v+="t";w=this.ib.SRa;this.ib.SRa=void 0;l={type:H2v,movieId:l,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:t,actualStartPts:w && w.fp,headerCount:w && w.UO,stats:w && w.ac};d.ab(this.ib,l.type,l);N90=3;break;}}};m.prototype.ysb=function(l,n,p,q){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var M2v="m";M2v+="a";M2v+="xPosit";M2v+="i";M2v+="on";l={type:M2v,index:l,endPts:n,maxPts:p,maxSeekPts:q};d.ab(this.ib,l.type,l);O90=5;break;}}};m.prototype.Hsb=function(l,n,p,q,t,w,v){var P90;P90=2;for(;P90 !== 3;){switch(P90){case 2:var B2v="notifyS";B2v+="trea";B2v+="mingError";B2v+=": ";var F2v="e";F2v+="rr";F2v+="or";void 0 === v && (v=!1);l={type:F2v,error:l,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:t,manifestIndex:w,temporaryFailure:v};this.I.error(B2v + JSON.stringify(l));d.ab(this.ib,l.type,l);P90=3;break;}}};H90=7;break;case 7:m.prototype.f5=function(l,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var q2v="segme";q2v+="ntStarti";q2v+="n";q2v+="g";n={type:q2v,segmentId:l.id,contentOffset:n,maxBitrates:{audio:l.M.Ys[0],video:l.M.Ys[1]}};l.OE || d.ab(this.ib,n.type,n);Q90=5;break;}}};m.prototype.vka=function(l){var R90,n;R90=2;for(;R90 !== 5;){switch(R90){case 2:var t2v="segmentA";t2v+="b";t2v+="orte";t2v+="d";n={type:t2v,segmentId:l.id};l.OE || d.ab(this.ib,n.type,n);R90=5;break;}}};m.prototype.Zqb=function(l,n){var S90,p,q;S90=2;for(;S90 !== 12;){switch(S90){case 4:var o2v="r";o2v+="e";o2v+="s";o2v+="et";var z2v="s";z2v+="k";z2v+="i";z2v+="p";var Y2v="l";Y2v+="o";Y2v+="n";Y2v+="g";var v2v="l";v2v+="o";v2v+="n";v2v+="g";var W2v="s";W2v+="eamle";W2v+="s";W2v+="s";q=n.te?n.OX?W2v:v2v:n.s8a?Y2v:n.Co?z2v:o2v;p.transitionType=q;n.Noa || (p.delayToTransition=n.x7);S90=8;break;case 2:(p={segment:l,srcsegment:n.hda,srcoffset:n.TQ,seamlessRequested:n.te,atRequest:{},discard:{}},q=n.re[l]);q?p.atRequest={weight:q.weight,abuflmsec:q.ws.ns,vbuflmsec:q.ws.Fo,abuflbytes:q.ws.gD,vbuflbytes:q.ws.Ot}:(q=this.ib.Ra.B2a(n.hda,l),void 0 !== q && (p.atRequest.weight=q));c.Cf(n.re,function(t,w){var T90;T90=2;for(;T90 !== 1;){switch(T90){case 2:w != l && (p.discard[w]={weight:t.weight,abuflmsec:t.ws.ns,vbuflmsec:t.ws.Fo,abuflbytes:t.ws.gD,vbuflbytes:t.ws.Ot});T90=1;break;}}});S90=4;break;case 8:var P2v="s";P2v+="eam";P2v+="le";P2v+="s";P2v+="s";q=P2v === q?0:g.default.time.ha() - n.startTime;p.durationOfTransition=q;p.atTransition=n.mfb;p.srcsegmentduration=this.ib.Ra.eMb(n.hda);return p;break;}}};m.prototype.Esb=function(l,n,p){var U90;U90=2;for(;U90 !== 4;){switch(U90){case 2:var l2v="s";l2v+="eg";l2v+="mentPre";l2v+="sen";l2v+="ting";p=p?this.Zqb(l.id,p):void 0;l={type:l2v,segmentId:l.id,contentOffset:n,metrics:p,playlistSegment:l.OE,manifestIndex:l.M.Tb};d.ab(this.ib,l.type,l);U90=4;break;}}};m.prototype.Csb=function(l,n){var V90;V90=2;for(;V90 !== 5;){switch(V90){case 2:var k2v="s";k2v+="egmentA";k2v+="ppend";k2v+="ed";n={type:k2v,segmentId:l.id,metrics:n};l.OE || d.ab(this.ib,n.type,n);V90=5;break;}}};m.prototype.Dsb=function(l,n,p){var W90;W90=2;for(;W90 !== 5;){switch(W90){case 2:var Q2v="segmentC";Q2v+="omplet";Q2v+="e";l={type:Q2v,mediaType:l,manifestIndex:n,segmentId:p.id};d.ab(this.ib,l.type,l);W90=5;break;}}};m.prototype.uka=function(l,n){var X90;X90=2;for(;X90 !== 5;){switch(X90){case 2:var E2v="lastS";E2v+="egmen";E2v+="t";E2v+="P";E2v+="ts";n={type:E2v,segmentId:l.id,pts:Math.floor(n)};l.OE || d.ab(this.ib,n.type,n);X90=5;break;}}};H90=20;break;case 23:m.prototype.isb=function(l,n){var i01,p;i01=2;for(;i01 !== 5;){switch(i01){case 2:p=this;setTimeout(function(){var j01,q;j01=2;for(;j01 !== 5;){switch(j01){case 2:var i2v="audioTr";i2v+="ackSwitchCom";i2v+="plete";q={type:i2v,trackId:l,trackIndex:n};d.ab(p.ib,q.type,q);j01=5;break;}}},0);i01=5;break;}}};m.prototype.msb=function(l){var k01,n;k01=2;for(;k01 !== 4;){switch(k01){case 2:var I2v="bu";I2v+="fferi";I2v+="ngSt";I2v+="art";I2v+="ed";n={type:I2v,time:g.default.time.ha(),percentage:l || 0};d.ab(this.ib,n.type,n);this.ika=l || 0;k01=4;break;}}};m.prototype.ksb=function(){var l01,l,n,p,q,t;l01=2;for(;l01 !== 3;){switch(l01){case 2:(l=this.ib.J,n=g.default.time.ha(),p=this.ib.Ra.dd,q=this.ib.pn?1:0,t=p.lb(q));p=p.ai(q);l=Math.min(Math.max(Math.round(100 * (t.sE?(n - this.ib.cja) / l.vB:t.progress?t.progress:p / l.Ij)),this.ika),99);l01=4;break;case 4:var Z2v="buf";Z2v+="feri";Z2v+="ng";l != this.ika && (n={type:Z2v,time:n,percentage:l},d.ab(this.ib,n.type,n),this.ika=l);l01=3;break;}}};m.prototype.tka=function(){var m01,l,n,p,q,t;m01=2;for(;m01 !== 8;){switch(m01){case 2:var a2v="buffer";a2v+="i";a2v+="ngComplet";a2v+="e";(l=this.ib.Ra.dd,n=l.lb(0),p=l.lb(1));this.DSa();(q=this.ib.pn?this.ib.Fb.WB[h.Nb]:this.ib.Fb.WB[h.cc],t=q.xV);l={type:a2v,time:g.default.time.ha(),actualStartPts:t,aBufferLevelMs:l.ai(0),vBufferLevelMs:l.ai(1),selector:p?p.GQ:n.GQ,initBitrate:q.ux,skipbackBufferSizeBytes:this.ib.zc.cF};m01=3;break;case 3:this.ib.Xg.KHb({initSelReason:q.OA,initSelectionPredictedDelay:q.NA,buffCompleteReason:q.wu,hashindsight:this.ib.Fs,hasasereport:! !this.ib.tt,bcVBufferLevelMs:l.vBufferLevelMs,bcABufferLevelMs:l.aBufferLevelMs});d.ab(this.ib,l.type,l);m01=8;break;}}};m.prototype.DSa=function(){var n01,t,w,v,l,n,p,q;n01=2;for(;n01 !== 12;){switch(n01){case 1:n01=!this.ib.Dn()?5:12;break;case 3:t=this.ib.zc.$b.get();t=t.confidence?t.Ua.qa:0;(w=this.ib.Ra,v=w.zH(n,0));n01=7;break;case 2:l=this.ib.J;n01=1;break;case 7:var d2v="upd";d2v+="ateBuffe";d2v+="rLev";d2v+="e";d2v+="l";n=w.zH(n,1);p={type:d2v,abuflbytes:v,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:t};q > l.S7a && this.ib.zc.Sf && this.ib.zc.Sf.vq(!0,this.ib.qm.sessionId);d.ab(this.ib,p.type,p);n01=12;break;case 5:(n=this.ib.Ra.dd,p=n.ai(0),q=n.ai(1));this.ib.Xg.evb(p,q);n01=3;break;}}};H90=33;break;case 16:m.prototype.Fsb=function(l,n,p,q){var c01,t;c01=2;for(;c01 !== 3;){switch(c01){case 2:var D2v="streamPr";D2v+="es";D2v+="enti";D2v+="ng";t=l.mediaType;k.rn.Oq(t);l={type:D2v,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:t,manifestIndex:q,trackIndex:l.track.fD,streamIndex:l.wf};d.ab(this.ib,l.type,l);c01=3;break;}}};m.prototype.Ksb=function(l){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var p2v="videoLoo";p2v+="p";p2v+="ed";l={type:p2v,offset:l};d.ab(this.ib,l.type,l);d01=5;break;}}};m.prototype.Isb=function(l,n,p,q,t){var e01;e01=2;for(;e01 !== 4;){switch(e01){case 2:var S2v="updat";S2v+="eStreami";S2v+="ngP";S2v+="ts";n={type:S2v,mediaType:l,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:t};k.rn.Oq(l);d.ab(this.ib,n.type,n);e01=4;break;}}};m.prototype.osb=function(l){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var A2v="f";A2v+="irs";A2v+="tReque";A2v+="stAppe";A2v+="nded";l={type:A2v,manifestIndex:l.Va.mb.M.Tb,mediatype:l.mediaType,time:g.default.time.ha()};d.ab(this.ib,l.type,l);f01=5;break;}}};m.prototype.ssb=function(l,n){var g01;g01=2;for(;g01 !== 5;){switch(g01){case 1:d.ab(this.ib,l.type,l);g01=5;break;case 2:var w2v="initialA";w2v+="udi";w2v+="oTrack";l={type:w2v,trackId:n,trackIndex:l};g01=1;break;}}};m.prototype.jsb=function(l,n){var h01;h01=2;for(;h01 !== 3;){switch(h01){case 2:var h2v="a";h2v+="udioTrackSw";h2v+="itchStart";h2v+="ed";l=l.Sm;n=n.Sm;n={type:h2v,oldLangCode:l.language,oldNumChannels:l.channels,newLangCode:n.language,newNumChannels:n.channels};d.ab(this.ib,n.type,n);h01=3;break;}}};H90=23;break;case 28:m.prototype.nsb=function(l){var t01;t01=2;for(;t01 !== 5;){switch(t01){case 2:var u2v="endO";u2v+="fS";u2v+="tream";l={type:u2v,mediaType:l};d.ab(this.ib,l.type,l);t01=5;break;}}};m.prototype.oo=function(l){var u01;u01=2;for(;u01 !== 1;){switch(u01){case 2:var K2v="as";K2v+="eexcep";K2v+="t";K2v+="ion";var N2v="ase";N2v+="ex";N2v+="c";N2v+="ep";N2v+="tion";this.ib.emit(N2v,{type:K2v,msg:l});u01=1;break;}}};m.prototype.PUb=function(l,n,p,q){var v01;v01=2;for(;v01 !== 5;){switch(v01){case 2:var X6v="m";X6v+="axvideobitra";X6v+="te";X6v+="cha";X6v+="nged";var T6v="ma";T6v+="x";T6v+="vi";T6v+="deobi";T6v+="tratechanged";l={type:T6v,time:g.default.time.ha(),spts:q,maxvb_old:l,maxvb:n,reason:p};this.ib.emit(X6v,l);v01=5;break;}}};m.prototype.T8a=function(){var w01,l;w01=2;for(;w01 !== 3;){switch(w01){case 2:w01=!this.pub && this.ib.J.Q8a?1:3;break;case 1:var f6v="str";f6v+="e";f6v+="am";f6v+="e";f6v+="rend";this.pub=!0;l={type:f6v,time:g.default.time.ha()};d.ab(this.ib,l.type,l);w01=3;break;}}};m.prototype.WUb=function(l){var x01;x01=2;for(;x01 !== 5;){switch(x01){case 2:var r6v="stream";r6v+="Selectio";r6v+="nAugmentData";l={type:r6v,augmentData:l,fragmentIndex:l[0].Vd};x01=1;break;case 1:d.ab(this.ib,l.type,l);x01=5;break;}}};m.prototype.Um=function(l){var y01;y01=2;for(;y01 !== 5;){switch(y01){case 2:var b6v=",";b6v+=" ";var V6v="m";V6v+="anag";V6v+="e";V6v+="rdebugevent";l={type:V6v,message:"@" + g.default.time.ha() + b6v + l};d.ab(this.ib,l.type,l);y01=5;break;}}};H90=39;break;case 32:m.prototype.Jsb=function(){var p01,l;p01=2;for(;p01 !== 3;){switch(p01){case 2:var y6v="str";y6v+="eamin";y6v+="gsta";y6v+="t";this.ib.J.URb && g.default.memory.DKb(this.Frb.bind(this));l={type:y6v,time:g.default.time.ha(),playbackTime:this.ib.S.af()};this.ib.Xg.LHb(l);d.ab(this.ib,l.type,l);p01=3;break;}}};m.prototype.CSa=function(){var q01,l;q01=2;for(;q01 !== 4;){switch(q01){case 1:var C6v="as";C6v+="er";C6v+="epo";C6v+="r";C6v+="t";l={type:C6v};this.ib.tt.JHb(l) && d.ab(this.ib,l.type,l);q01=4;break;case 2:q01=this.ib.tt?1:4;break;}}};m.prototype.hsb=function(){var r01,l;r01=2;for(;r01 !== 5;){switch(r01){case 2:var n6v="ase";n6v+="rep";n6v+="o";n6v+="rte";n6v+="nabled";l={type:n6v};d.ab(this.ib,l.type,l);r01=5;break;}}};m.prototype.rsb=function(l){var l9v=a000;var s01,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,H;s01=2;for(;s01 !== 6;){switch(s01){case 2:s01=l?1:6;break;case 1:var c6v="hi";c6v+="ndsi";c6v+="ghtrepo";c6v+="rt";(n={type:c6v},p=this.ib.J.N9);for(H in p){var U6v="hv";U6v+="ma";U6v+="f";U6v+="d";U6v+="p";var J6v="hv";J6v+="ma";J6v+="f";J6v+="gr";var R6v="h";R6v+="v";R6v+="m";R6v+="a";R6v+="ftb";var x6v="h";x6v+="tw";x6v+="b";x6v+="r";q=p[H];t=0;w=0;v=0;u=0;x=0;y=0;z=void 0;A=void 0;B=!1;D=-1;C=-1;F=-1;G=-1;E=-1;I=-1;for(N in l){A=l[N];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,v+=z.dlvdur,t+=z.dltwbr * z.dlvdur,w+=z.dlvmaf * z.dlvdur);y+=A.pbdur;u+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (D=1 * u / y,G=1 * x / y);B && (0 < v && (C=1 * t / v,E=1 * w / v),0 < v + y && (F=1 * (t + u) / (v + y),I=1 * (w + x) / (v + y)));switch(q){case x6v:n.htwbr=F;n.hptwbr=C;n.pbtwbr=D;z && (n.rr=z,n.ra=A);break;case R6v:n.hvmaftb=I;n.hpvmaftb=E;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case J6v:n.hvmafgr=I;n.hpvmafgr=E;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case U6v:(n.hvmafdp=I,n.hpvmafdp=E,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}s01=4;break;case 9:s01=this.ib.ey?8:7;break;case 3:n.report=l;s01=9;break;case 8:for(var L in l){if((p=l[L],void 0 !== p.vdb))for(q in p.vdb){if((z=p.vdb[q],void 0 !== z.rda)){var j6v=" ";j6v+="an";j6v+="d ";var e6v="expect sol.st";e6v+="rmsel.length ";e6v+="=== sol.f";e6v+="ragsel.length but got";e6v+=" ";var s6v="expect report.fra";s6v+="gmentsPrebuffe";s6v+="red !== undefined";var g6v="expect report";g6v+=".frag";g6v+="mentsPrebuffe";g6v+="red !== undefined";H=void 0 !== p.o0a;H || (console.error(g6v),f.assert(H,s6v));H=[];for(var Q in p.o0a){t=p.o0a[Q];H.push({aa:t.aa,dn:t.duration / 1E3,quality:t.$a});}H=z.rda.length === z.p0a.length;t=e6v + z.rda.length + j6v + z.p0a.length;H || (console.error(t),f.assert(H,t));H=[];t=0;for(var O in z.rda){v=z.rda[O];w=z.p0a[O];l9v.n9G(3);t=v=l9v.y9G(t,v);H.push({hhc:v,Lhc:z.GZa[O],Vdc:z.Ua[O],Kma:z.Kma[O],Jma:z.Jma[O],SVa:z.SVa[O],wdc:{aa:w.aa,dn:w.duration / 1E3,quality:w.$a?w.$a:z.Rd[v].$a,nhc:w.wf,xdc:w.ye},Eab:0,Mgc:0,jxa:z.jxa[O]});}z=[];H=0;for(var J in p.ZB.trace){t=p.ZB.trace[J];l9v.C9G(3);H=t=l9v.b9G(H,t);z.push(t);}}}}s01=7;break;case 7:d.ab(this.ib,n.type,n);s01=6;break;case 4:s01=this.ib.GW || this.ib.ey?3:9;break;}}};H90=28;break;case 33:m.prototype.Frb=function(l){var o01,n,p,q;o01=2;for(;o01 !== 7;){switch(o01){case 4:var G6v=",";G6v+=" ";G6v+="osAl";G6v+="locatorDelta: ";var m6v=",";m6v+=" jsHeapD";m6v+="e";m6v+="lt";m6v+="a: ";var O6v=",";O6v+=" fastMallocDelta";O6v+=": ";var L6v="memor";L6v+="yUsage at time";L6v+=": ";(n=l.F_a - this.JM.F_a,p=l.z3a - this.JM.z3a,q=l.B9a - this.JM.B9a);(4194304 < n || 4194304 < q) && this.I.warn(L6v + g.default.time.ha() + O6v + n + m6v + p + G6v + q);o01=9;break;case 2:o01=!c.ma(l)?1:7;break;case 5:o01=!c.ma(this.JM)?4:8;break;case 1:c.Ga(l.w0);o01=5;break;case 9:var M6v=", syst";M6v+="em";M6v+="Delt";M6v+="a: ";var H6v="memory";H6v+="Usage a";H6v+="t time: ";c.Ga(l.w0) && c.Ga(this.JM.w0) && (n=l.w0 - this.JM.w0,4194304 < n && this.I.warn(H6v + g.default.time.ha(),M6v + n));o01=8;break;case 8:this.JM=l;o01=7;break;}}};H90=32;break;case 39:return m;break;}}})();b.VKa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.oHa=void 0;c=a(1);r=a(17);k=c.__importStar(a(10));a(4);a(234);h=a(253);g=a(406);d=a(82);a(397);a(412);f=a(129);m=c.__importDefault(a(30));a(248);l=a(972);n=c.__importDefault(a(128));a(15);p=c.__importDefault(a(6));a(181);a(256);a(179);a(98);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");t=p.default.nL;w=q.trace.bind(q);a.trace.bind(a);v=q.warn.bind(q);u=q.error.bind(q);x=q.info.bind(q);a=(function(y){var z01;z01=2;for(;z01 !== 39;){switch(z01){case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:return this.og;break;}}},enumerable:!1,configurable:!0}});z.prototype.PEb=function(){var E01;E01=2;for(;E01 !== 5;){switch(E01){case 3:this.flush();this.lRa();E01=2;break;E01=5;break;case 2:this.flush();this.lRa();E01=5;break;}}};z.prototype.Xda=function(A){var F01;F01=2;for(;F01 !== 5;){switch(F01){case 2:this.qm=A;this.Zw.forEach(function(){});F01=5;break;}}};z01=3;break;case 3:z.prototype.vq=function(A,B,D){var G01,C,F;G01=2;for(;G01 !== 9;){switch(G01){case 1:G01=(C[B]=A)?5:4;break;case 2:(C=this.aH,F=A);G01=1;break;case 6:G01=(C[B]=A)?2:9;break;G01=(C[B]=A)?5:4;break;case 5:for(var G in C){C.hasOwnProperty(G) && !1 === C[G] && (F=!1);}G01=4;break;case 4:D && delete C[B];F?(this.E4=!1,this.Hrb()):this.E4=!0;G01=9;break;}}};z.prototype.flush=function(){var H01,B;H01=2;for(;H01 !== 8;){switch(H01){case 3:var B6v="managerdeb";B6v+="uge";B6v+="ve";B6v+="nt";var F6v=", hea";F6v+="derCache f";F6v+="l";F6v+="ush: ";this.$o=[];this.Xo.Gi && (B="@" + p.default.time.ha() + F6v,this.emit(B6v,{message:B}));H01=8;break;case 2:this.c0a();for(var A in this.T4){B=this.T4[A];B.abort();}this.og=Object.create(null);this.AG=0;H01=3;break;}}};z.prototype.list=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:return this.$o;break;}}};z.prototype.DY=function(A,B){var J01;J01=2;for(;J01 !== 4;){switch(J01){case 9:J01=(A=this.og[A])?4:7;break;J01=(A=this.og[A])?1:4;break;case 2:J01=(A=this.og[A])?1:4;break;case 1:J01=(B=A.headers[B])?5:4;break;case 5:return B;break;}}};z.prototype.dSb=function(A,B){var K01,D,C;K01=2;for(;K01 !== 5;){switch(K01){case 2:(D=this,C=this.cSb(A));return C || !this.ik?Promise.resolve(C):(this.MG?this.Crb(A,B):this.Brb(A,B)).then(function(F){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 2:return D.$$a(F);break;}}});break;}}};z.prototype.cSb=function(A){var M01;M01=2;for(;M01 !== 1;){switch(M01){case 2:return this.$$a(this.og[A]);break;}}};z.prototype.c0a=function(){var N01,D,C,F;function B(E,I){var P01;P01=2;for(;P01 !== 1;){switch(P01){case 2:E && E.data && E.data[I].forEach(function(N){var Q01;Q01=2;for(;Q01 !== 5;){switch(Q01){case 1:D+=N.bytesReceived;Q01=5;break;case 2:N.abort();Q01=1;break;}}});P01=1;break;}}}N01=2;function A(E){var O01;O01=2;for(;O01 !== 1;){switch(O01){case 2:E.MWa();O01=1;break;case 4:E.MWa();O01=4;break;O01=1;break;}}}for(;N01 !== 4;){switch(N01){case 2:D=0;for(C in this.og){F=this.og[C];if(F.data){for(var G in F.data){var t6v="i";t6v+="n";t6v+=" en";t6v+="tr";t6v+="y:";var q6v="missing heade";q6v+="rEntry for streamId";q6v+=":";F.headers[G] || u(q6v,G,t6v,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}this.Gtb(D);N01=4;break;}}};z01=12;break;case 11:z.prototype.Kk=function(A){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:this.Hc(A)?this.fWb(A):this.gWb(A);S01=1;break;}}};z.prototype.yZ=function(A){var T01;T01=2;for(;T01 !== 5;){switch(T01){case 2:var W6v="_";W6v+="onEr";W6v+="ror";W6v+=": ";v(W6v,A.toString());this.r4(A);T01=5;break;}}};z.prototype.fWb=function(A){var U01,B;U01=2;for(;U01 !== 9;){switch(U01){case 2:B=this;A.M4b=A.Ff;this.qpb(A);k.ma(A.GNb) || A.GNb(A.M4b);U01=3;break;case 3:this.Ktb(A,function(){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:k.ma(A) || (k.ma(A.Tm) || A.Tm.x3a--,B.r4(A));V01=1;break;}}});U01=9;break;}}};z01=19;break;case 19:z.prototype.gWb=function(A){var W01,B,D,C,F;W01=2;for(;W01 !== 8;){switch(W01){case 2:(B=this,D=A.K,C=this.og[D] || A.Tm);W01=1;break;case 1:W01=C?5:8;break;case 4:F=p.default.time.now();this.ik.G0b(A,C,function(G){var X01;X01=2;for(;X01 !== 4;){switch(X01){case 2:G || k.ma(C) || (G=p.default.time.ha() - F,k.ma(C.ac) && (C.ac={}),k.ma(C.ac.It) && (C.ac.It=0),C.ac.It+=G);--C.ZV;B.r4(A);X01=4;break;}}});W01=8;break;case 5:var P6v="managerd";P6v+="e";P6v+="buge";P6v+="ven";P6v+="t";var o6v=",";o6v+=" ";o6v+="r";o6v+="emaini";o6v+="ng: ";var z6v=",";z6v+=" ";z6v+="pts";z6v+=": ";var Y6v=", str";Y6v+="eamI";Y6v+="d: ";var v6v=", headerCa";v6v+="che dat";v6v+="aComp";v6v+="lete: movieId: ";W01=(this.Xo.Gi && (D="@" + p.default.time.ha() + v6v + D + Y6v + A.Qa + z6v + A.$ + o6v + (C.ZV - 1),this.emit(P6v,{message:D})),A.mi && 0 === A.responseType && this.ik && !this.MG)?4:9;break;case 9:(--C.ZV,B.r4(A));W01=8;break;}}};z.prototype.gRa=function(){var Y01;Y01=2;for(;Y01 !== 1;){switch(Y01){case 2:0 === this.Zw.length && (this.Zw=[f.Yp.instance.Cu(0,void 0,!1,!1,this.qm,this.Xo),f.Yp.instance.Cu(1,void 0,!1,!1,this.qm,this.Xo)],this.Zw.forEach(function(A){var Z01;Z01=2;for(;Z01 !== 1;){switch(Z01){case 2:return A.zb();break;}}}),t.Sg());Y01=1;break;}}};z.prototype.lRa=function(){var a11,A;a11=2;for(;a11 !== 4;){switch(a11){case 2:A=this.Zw;this.Zw=[];A.forEach(function(B){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 4:f.Yp.instance.TN(B);b11=2;break;b11=1;break;case 2:f.Yp.instance.TN(B);b11=1;break;}}});a11=4;break;}}};z.prototype.Hrb=function(){var c11,A;c11=2;for(;c11 !== 5;){switch(c11){case 2:A=this;!this.E4 && 0 < this.sM.length && (this.sM.forEach(function(B){var d11;d11=2;for(;d11 !== 1;){switch(d11){case 2:A.Nka(B.JNb,B.Kd);d11=1;break;}}}),this.sM=[]);c11=5;break;}}};z.prototype.eRa=function(A,B){var e11,D;e11=2;for(;e11 !== 8;){switch(e11){case 2:D=A.stream.mediaType;2 > this.Zw.length && this.gRa();B=new g.Rea(A.stream,B,this.Zw[D],A,this,!0,q);B.mi=A.mi;B.Sf=this;return B;break;}}};z.prototype.dqb=function(A,B){var f11,D;f11=2;for(;f11 !== 8;){switch(f11){case 3:B.Sf=this;return B;break;case 2:D=A.stream.mediaType;2 > this.Zw.length && this.gRa();B=h.E1.create(A.stream,B,this.Zw[D].track,A,this,!0,q);B.mi=A.mi;f11=3;break;}}};z.prototype.r4=function(A){var g11,B;g11=2;for(;g11 !== 9;){switch(g11){case 2:this.Hc(A) && delete this.T4[A.Qa];this.Hc(A) || delete A.response;g11=5;break;case 5:var l6v="s";l6v+="a";l6v+="v";l6v+="e";l6v+="todisk";A.gd();B=this.og[A.K] || A.Tm;B && 0 === B.x3a && 0 === B.ZV && (this.$tb(B,A.Ff),B.mi && this.ik && (B.ac.Nfc || (this.MG?this.ik.I0b(B):this.ik.HQ(l6v,{Ubb:B.ac.It}))));g11=9;break;}}};z01=25;break;case 22:z.prototype.ppb=function(A,B){var m11;m11=2;for(;m11 !== 1;){switch(m11){case 4:this.OQa(A,B);m11=9;break;m11=1;break;case 2:this.OQa(A,B);m11=1;break;}}};z.prototype.OQa=function(A,B){var n11,D;n11=2;for(;n11 !== 4;){switch(n11){case 1:n11=(B=this.og[A.K] || B)?5:4;break;case 9:D=A.Qa;n11=2;break;n11=1;break;case 2:D=A.Qa;n11=1;break;case 5:(B.Lvb || B.mi && !this.MG || (B.Lvb=!0,++this.AG),B.headers || (B.headers={}),B.headers[D]=A,this.Xo.EGb && (B.UO || (B.UO=0),++B.UO),this.hja());n11=4;break;}}};z.prototype.hja=function(){function A(G){var p11;p11=2;for(;p11 !== 5;){switch(p11){case 2:G.abort();D+=G.bytesReceived;p11=5;break;}}}var o11,B,D,C;o11=2;for(;o11 !== 12;){switch(o11){case 2:D=0;o11=1;break;case 1:o11=!(this.AG <= this.oSa)?5:12;break;case 5:o11=this.AG > this.oSa?4:13;break;case 4:o11=(B=this.$o.shift())?3:5;break;case 9:o11=B.data?8:7;break;case 3:C=B.K;o11=9;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}o11=7;break;case 14:this.Dtb(C);o11=5;break;case 7:delete this.og[C];--this.AG;o11=14;break;case 13:this.Etb(D);o11=12;break;}}};z.prototype.Etb=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:var k6v="di";k6v+="sc";k6v+="ardedBytes";0 !== A && (A={type:k6v,bytes:A},this.emit(A.type,A));q11=1;break;}}};z.prototype.Gtb=function(A){var r11;r11=2;for(;r11 !== 1;){switch(r11){case 2:var Q6v="flus";Q6v+="hed";Q6v+="B";Q6v+="ytes";0 !== A && (A={type:Q6v,bytes:A},this.emit(A.type,A));r11=1;break;}}};z01=32;break;case 32:z.prototype.Dtb=function(A){var s11;s11=2;for(;s11 !== 5;){switch(s11){case 2:var E6v="c";E6v+="ac";E6v+="heEv";E6v+="ict";A={type:E6v,movieId:A};this.emit(A.type,A);s11=5;break;}}};z.prototype.Ktb=function(A,B){var t11,D;t11=2;for(;t11 !== 3;){switch(t11){case 2:D=A.pf;k.ma(A.P_b) || this.Nka(A,A.P_b);!this.ik || !A.mi || this.MG || k.ma(A.OY) || A.OY[A.Qa] && A.OY[A.Qa].header?B():this.ik.H0b(A,B);D.$Ba || 0 !== Object.keys(this.T4).length || this.lRa();t11=3;break;}}};z.prototype.$tb=function(A,B){var u11;u11=2;for(;u11 !== 4;){switch(u11){case 2:var i6v="prebuffs";i6v+="tat";i6v+="s";A.ac.XXb=B;A={type:i6v,movieId:A.K,stats:{prebuffstarted:A.ac.J$a,prebuffcomplete:A.ac.XXb}};this.emit(A.type,A);u11=4;break;}}};z.prototype.Crb=function(A,B){var v11,D;v11=2;for(;v11 !== 5;){switch(v11){case 2:var I6v="Media ca";I6v+="che is not ena";I6v+="ble";I6v+="d";D=this;return this.ik?this.ik.GRb(A,B).then(function(C){var w11;w11=2;for(;w11 !== 5;){switch(w11){case 3:w11=C || C.Tm?8:9;break;w11=C && C.Tm?1:5;break;case 2:w11=C && C.Tm?1:5;break;case 1:return (D.og[A]=C.Tm,++D.AG,D.hja(),D.$o.push(C.Tm),D.$o.sort(D.X$a),D.PQa(A,C),D.cache[A]);break;}}}):Promise.reject(I6v);break;}}};z.prototype.Brb=function(A,B){var x11,C,F,D;x11=2;for(;x11 !== 8;){switch(x11){case 5:(C=void 0,F=!1);this.ik.S4a(this.og[A])?(C=Promise.resolve(this.og[A]),F=!0):C=this.ik.IRb(A);x11=3;break;case 9:var Z6v="Media cach";Z6v+="e ";Z6v+="is not ";Z6v+="enabled";return Promise.reject(Z6v);break;case 2:D=this;x11=1;break;case 1:x11=this.ik?5:9;break;case 3:return C.then(function(G){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return !k.ma(G) && D.ik?D.ik.FRb(A,B,G).then(function(E){var z11;z11=2;for(;z11 !== 5;){switch(z11){case 2:E && (F || (D.og[A]=G,++D.AG,D.hja(),D.$o.push(G),D.$o.sort(D.X$a)),D.PQa(A,E));return D.og[A];break;}}}):Promise.resolve(void 0);break;}}});break;}}};z.prototype.PQa=function(A,B){var A11,D,C,F,G;A11=2;for(;A11 !== 7;){switch(A11){case 1:A11=B?5:7;break;case 2:D=this;A11=1;break;case 3:A11=B.data?9:7;break;case 5:(C=this.og[A],F=B.headers);C && F && Object.keys(F).forEach(function(E){var B11;B11=2;for(;B11 !== 1;){switch(B11){case 2:D.ppb(F[E],C);B11=1;break;}}});A11=3;break;case 9:G=B.data;Object.keys(G).forEach(function(E){var C11,I,N;C11=2;for(;C11 !== 9;){switch(C11){case 2:I=G[E];k.ma(C.data) && (C.data={});C11=5;break;case 5:k.ma(C.data[E]) && (C.data[E]=[]);N=C.data;C11=3;break;case 3:I.forEach(function(L){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 2:N[E].push(L);D11=1;break;}}});C11=9;break;}}});A11=7;break;}}};z.prototype.X$a=function(A,B){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return B.priority - A.priority;break;case 4:return B.priority % A.priority;break;E11=1;break;}}};z01=42;break;case 42:z.prototype.$$a=function(A){var F11,C,B,D;F11=2;for(;F11 !== 11;){switch(F11){case 5:for(D in A.data){C=A.data[D];0 < C.length && (B[C[0].mediaType]={Qa:D,header:A.headers[D],data:C});}B.fp=A.fp;B.UO=A.UO;F11=9;break;case 2:B={};F11=1;break;case 1:F11=A && A.data?5:11;break;case 14:B.zp=A.zp;B.Ap=A.Ap;return B;break;case 9:B.ac=A.ac;B.ux=A.ux;F11=7;break;case 7:B.OA=A.OA;B.cE=A.cE;F11=14;break;}}};z.prototype.Hc=function(A){var G11;G11=2;for(;G11 !== 1;){switch(G11){case 2:return ! !A.Hc;break;}}};z01=40;break;case 12:z.prototype.qB=function(A){var R01,B;R01=2;for(;R01 !== 5;){switch(R01){case 2:B=this.og[A.K];B && (this.Hc(A)?k.ma(B.ac.KNb) && !k.ma(A.loadTime) && (B.ac.KNb=A.loadTime):k.ma(B.ac.J$a) && !k.ma(A.loadTime) && (B.ac.J$a=A.loadTime));R01=5;break;}}};z01=11;break;case 25:z.prototype.Orb=function(A,B,D){var h11,C,F;h11=2;for(;h11 !== 8;){switch(h11){case 2:C=A.s7;B.mi && this.ik && (A.D7a?C=A.D7a:A.m7a && 0 < A.m7a && (C=2E3 * A.m7a));h11=5;break;case 3:F=D && D.length < A.LYa?D.length:A.LYa;return function(G){var K9v=a000;var j11;j11=2;for(;j11 !== 1;){switch(j11){case 4:K9v.C9G(20);return K9v.b9G(F,G);break;j11=1;break;case 2:K9v.C9G(21);return K9v.y9G(F,G);break;}}};break;case 5:h11=0 < C?4:3;break;case 4:return function(G,E){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:a000.n9G(21);return a000.b9G(C,E);break;}}};break;}}};z.prototype.Nka=function(A,B){var k11,Q,O,E,H,I,N,L,D,C,F,G;k11=2;for(;k11 !== 53;){switch(k11){case 19:var a6v="no p";a6v+="roper ";a6v+="fragment";a6v+=" found to request data at pts";u(a6v,B);k11=53;break;case 29:a000.C9G(3);Q=a000.y9G(N,1);k11=28;break;case 5:this.sM.push({JNb:A,Kd:B});k11=4;break;case 42:var d6v="un";d6v+="def";d6v+="i";d6v+="n";d6v+="ed";k.ma(E.fp) && (E.fp=L.$);L.mi && (L.responseType=0);A.mi && this.ik && A.OY && A.OY[C] && d6v !== typeof L.$ && A.OY[C][L.$] || (Q=this.dqb(L,A.pf),Q.mi && (Q.Tm=A.Tm),Q.TP(),++E.ZV,B.push(Q));++H;k11=38;break;case 33:k11=N < (I && I.length || 0) && !D(H,F)?32:54;break;case 13:return;break;case 22:D=this.Orb(G,A,I);H=F=0;(Q=L && L.mediaType,O=Q === m.default.Ya.Nb?G.Laa:G.Daa);k11=34;break;case 17:k11=!k.ma(L)?16:25;break;case 38:F+=L.duration;k11=37;break;case 43:++Q;k11=28;break;case 4:k11=this.sM.length > G.FNb?3:53;break;case 54:E.Poa && !k.ma(E.fp) && (A=E.Poa,delete E.Poa,this.Nka(A,E.fp));k11=53;break;case 12:B=E.fp;k11=11;break;case 30:k11=!k.ma(I) && !L.Ba?29:42;break;case 28:k11=Q < I.length && (L.aa < O || L.duration < G)?44:42;break;case 44:(L.Y5(I.get(Q)),L.IP=Q + 1,N=Q);k11=43;break;case 25:void 0 === E.data && (E.data={});void 0 === E.data[C] && (E.data[C]=[]);B=E.data[C];k11=22;break;case 31:L.mi=A.mi;k11=30;break;case 9:E=this.og[D] || A.Tm;k11=8;break;case 16:L.mi=A.mi;H=L.eqa(B);H && (L.mediaType === m.default.Ya.cc && !G.QY && H.Kd < (G.Jn && !G.qH && F.kg?Math.floor(F.kg.W):0) && (++H.yl,H.Kd+=L.za.W),0 < H.yl && L.Tj({start:H.yl}));k11=26;break;case 32:k11=(void 0 === L && (L=A.stream.jh(N)),void 0 !== L)?31:36;break;case 26:var w6v="ma";w6v+="nag";w6v+="erdebug";w6v+="ev";w6v+="ent";var A6v=", ";A6v+="s";A6v+="tartPts: ";var S6v=",";S6v+=" ";S6v+="p";S6v+="t";S6v+="s: ";var p6v=", st";p6v+="r";p6v+="e";p6v+="am";p6v+="Id: ";var D6v=", headerCac";D6v+="he";D6v+=" requestData: ";D6v+="movieId: ";G.Gi && (B="@" + p.default.time.ha() + D6v + D + p6v + C + S6v + B + A6v + L.$,this.emit(w6v,{message:B}));k11=25;break;case 34:G=Q === m.default.Ya.Nb?G.VTb:G.NTb;k11=33;break;case 36:++N;k11=33;break;case 1:k11=this.E4?5:9;break;case 8:k11=E?7:53;break;case 11:A.mediaType === m.default.Ya.cc && G.Jn && !G.qH && F.kg && (B=Math.max(F.X && F.X.Uj(0) || 0,B + F.kg.W));(I=A.stream.X,N=I && I.Nm(B));k11=20;break;case 18:L=A.stream.jh(N);k11=17;break;case 3:this.sM.shift();k11=4;break;case 14:E.Poa=A;k11=13;break;case 6:k11=void 0 === E.fp?14:12;break;case 7:k11=A.mediaType === m.default.Ya.cc?6:11;break;case 37:L=void 0;k11=36;break;case 20:k11=-1 === N || void 0 === N?19:18;break;case 2:(D=A.K,C=A.Qa,F=A.stream,G=A.pf);k11=1;break;}}};z.prototype.qpb=function(A){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 4:this.OQa(A,A.Tm);l11=2;break;l11=1;break;case 2:this.OQa(A,A.Tm);l11=1;break;}}};z01=22;break;case 40:return z;break;}}function z(A,B,D,C){var A01;A01=2;for(;A01 !== 25;){switch(A01){case 4:A.Ub=v;A.ycc=x;A01=9;break;case 2:A=y.call(this) || this;A.Hn=w;A.Yk=u;A01=4;break;case 16:A.gla && (A.Xo.qW || (B=(p.default.options || ({})).AP || 0,A.Xo.set?A.Xo.set({qW:B}):A.Xo.qW=(p.default.options || ({})).AP || 0),A.ik=new l.$Ja(A.Xo,p.default,A),A.ik.zb(A,C).then(function(){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:var h6v="Media ca";h6v+="che ini";h6v+="tialized";w(h6v);B01=1;break;}}}).catch(function(F){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:var u6v="Media cac";u6v+="he did ";u6v+="not ";u6v+="initialize";u(u6v,F);C01=1;break;}}}));A.qm=D;A01=27;break;case 27:var N6v="1SIYbZrNJ";N6v+="Cp";N6v+="9";N6v;return A;break;case 9:A.T4=Object.create(null);A.Xo=B;A.og=Object.create(null);A.AG=0;A.$o=[];A.oSa=B.t7;A01=12;break;case 12:A.Zw=[];A.E4=!1;A.sM=[];A.aH={};A.gla=(A.Xo.cCa || A.Xo.dCa) && 0 < (A.Xo.qW || (p.default.options || ({})).AP || 0);A.MG=A.Xo.Bva;A.ik=void 0;A01=16;break;}}}})(d.gw);b.oHa=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=void 0;c=a(1);k=a(17);h=c.__importStar(a(973));g=c.__importStar(a(10));a(4);d=a(253);f=a(9);r=a(41);m=c.__importStar(a(984));l=m.vJa;a=(function(){var H11;H11=2;for(;H11 !== 18;){switch(H11){case 4:n.prototype.GRb=function(p,q){var a21,t,w;a21=2;for(;a21 !== 5;){switch(a21){case 2:(t=this,w=this.Zo.time.ha());return this.eu.then(function(){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 4:return t.urb(p);break;b21=1;break;case 2:return t.urb(p);break;}}}).then(function(v){var c21;c21=2;for(;c21 !== 5;){switch(c21){case 2:c21=v?1:4;break;case 1:return t.vtb(p.toString(),q,w);break;case 4:var K6v="mediacac";K6v+="h";K6v+="elookup";t.HQ(K6v,{baa:t.Zo.time.ha() - w,l7:!1});c21=5;break;}}});break;}}};H11=3;break;case 3:n.prototype.H0b=function(p,q){var d21,y,t,w,v,u,x;d21=2;for(;d21 !== 13;){switch(d21){case 4:d21=p.stream.pe && !g.ma(p.stream.X)?3:14;break;case 8:x[w + "." + l.EGa]={vr:u,Nc:l.YF};d21=7;break;case 3:u={timescale:p.stream.X.V,startTicks:p.stream.X.Bl,offset:p.stream.X.Xd(0)};y=p.stream.X.jy;d21=8;break;case 6:x[w + "." + l.Okb]={vr:y.rd.buffer,Nc:l.YF};d21=14;break;case 7:x[w + "." + l.Pkb]={vr:y.sizes.buffer,Nc:l.YF};d21=6;break;case 14:this.Vo.Tbb(l.Qr,x,function(z){var f21;f21=2;for(;f21 !== 5;){switch(f21){case 2:z || (z=t.Zo.time.ha() - v,p.Tm && (g.ma(p.Tm.ac.It) && (p.Tm.ac.It=0),p.Tm.ac.It+=z));q();f21=5;break;}}});d21=13;break;case 2:(t=this,w=[p.K,p.Qa,l.Wkb].join("."),v=this.Zo.time.ha(),u=m.z1a(p),x={});x[w + "." + l.Tga]={vr:u,Nc:l.YF};x[w + "." + l.ulb]={vr:f.xD(p.kh.map(function(z){var e21;e21=2;for(;e21 !== 1;){switch(e21){case 4:return z.data;break;e21=1;break;case 2:return z.data;break;}}})),Nc:l.YF};d21=4;break;}}};n.prototype.G0b=function(p,q,t){var g21,u,x,y,w,v;g21=2;for(;g21 !== 14;){switch(g21){case 5:(u=this.Zo.time.ha(),x=[p.K,p.Qa,p.qd].join("."));p=m.yra(p);y={};y[x + "." + l.Tga]={vr:p,Nc:l.YF};g.ma(v) || (y[x + "." + l.kmb]={vr:v,Nc:l.YF});this.Vo.Tbb(l.Qr,y,function(z){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:var T7v="F";T7v+="ailed to save";T7v+=" fragment";z?w.I.warn(T7v,z):(z=w.Zo.time.ha() - u,g.ma(q.ac.It) && (q.ac.It=0),q.ac.It+=z);t();h21=5;break;}}});g21=14;break;case 1:g21=v instanceof ArrayBuffer?5:6;break;case 2:(w=this,v=p.response);g21=1;break;case 6:var X7v="Unable to save fragment because response is not an A";X7v+="r";X7v+="rayBuffer";t(Error(X7v));g21=14;break;}}};n.prototype.I0b=function(p){var i21,z,q,t,w,v,u,x,y,A,B,k21,D,C,F,G,l21,E,I,N,L,m21,n21,o21,p21,q21,r21;i21=2;for(;i21 !== 20;){switch(i21){case 4:z={};Object.keys(p.headers).forEach(function(Q){var j21,O;j21=2;for(;j21 !== 5;){switch(j21){case 2:O=m.w1a(p.headers[Q]);z[Q]=O;j21=5;break;}}});i21=9;break;case 5:i21=p.headers?4:8;break;case 2:(v=this,u=this.Zo.time.ha(),x={},y=m.Y1a(p));x.movieEntry=y;i21=5;break;case 8:i21=p && p.data?7:12;break;case 9:x.headers=z;i21=8;break;case 12:H={lifespan:259200};this.Nrb && (H.convertToBinaryData=!0);this.Vo.save(l.Qr,p.K,x,H,function(Q){var s21;s21=2;for(;s21 !== 1;){switch(s21){case 2:var f7v="s";f7v+="avetod";f7v+="isk";Q || v.HQ(f7v,{Ubb:v.Zo.time.ha() - u});s21=1;break;}}});i21=20;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{k21=2;for(;k21 !== 6;){switch(k21){case 2:(D=c.__values(B),C=D.next());k21=1;break;case 1:k21=!C.done?5:6;break;case 5:(F=C.value,G=A[F]);B={};k21=3;break;case 3:k21=G?9:7;break;case 9:try{l21=2;for(;l21 !== 7;){switch(l21){case 2:(E=(t=void 0,c.__values(G)),I=E.next());l21=1;break;case 5:N=I.value;l21=4;break;case 4:l21=N instanceof d.E1 && N.response instanceof ArrayBuffer && !g.ma(N.qd)?3:8;break;case 1:l21=!I.done?5:7;break;case 9:B[N.qd]={mediaType:L.mediaType,streamId:L.streamId,movieId:L.movieId,bitrate:L.bitrate,location:L.location,serverId:L.serverId,saveToDisk:L.saveToDisk,offset:L.offset,bytes:L.bytes,timescale:L.timescale,startTicks:L.startTicks,durationTicks:L.durationTicks,response:N.response};l21=8;break;case 8:I=E.next();l21=1;break;case 3:L=m.yra(N);l21=9;break;}}}catch(Q){t={error:Q};}finally{m21=2;for(;m21 !== 1;){switch(m21){case 2:try{n21=2;for(;n21 !== 1;){switch(n21){case 2:I && !I.done && (w=E.return) && w.call(E);n21=1;break;}}}finally{o21=2;for(;o21 !== 5;){switch(o21){case 1:throw t.error;o21=5;break;case 2:o21=t?1:5;break;}}}m21=1;break;}}}k21=8;break;case 8:y[F]=B;k21=7;break;case 7:C=D.next();k21=1;break;}}}catch(Q){var H;H={error:Q};}finally{p21=2;for(;p21 !== 1;){switch(p21){case 2:try{q21=2;for(;q21 !== 1;){switch(q21){case 2:C && !C.done && (q=D.return) && q.call(D);q21=1;break;}}}finally{r21=2;for(;r21 !== 5;){switch(r21){case 1:throw H.error;r21=5;break;case 9:throw H.error;r21=1;break;r21=5;break;case 2:r21=H?1:5;break;}}}p21=1;break;}}}i21=13;break;case 13:x.data=y;i21=12;break;}}};H11=7;break;case 2:n.prototype.zb=function(p,q){var J11,t;J11=2;for(;J11 !== 4;){switch(J11){case 2:var V7v="Media";V7v+=" ca";V7v+="che i";V7v+="s di";V7v+="sabled";t=this;this.gla?this.eu=new Promise(function(w,v){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:(void 0 !== q && null !== q?q.bP:function(u){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 4:return h.bP(t.Zo,t.J,u);break;L11=1;break;case 2:return h.bP(t.Zo,t.J,u);break;}}})(function(u){var M11,x;M11=2;for(;M11 !== 4;){switch(M11){case 2:var r7v="Media cache";r7v+=" d";r7v+="id not initiali";r7v+="ze";t.Vo=u;x=u.jv;(u=u.QI)?v(u):x?(t.m2b(p),w()):v(Error(r7v));M11=4;break;}}});K11=1;break;}}}):(this.eu=Promise.reject(V7v),this.eu.catch(function(){}));return this.eu;break;}}};n.prototype.IRb=function(p){var N11,q,t,w;N11=2;for(;N11 !== 5;){switch(N11){case 2:(q=this,t=[l.AJa,p].join("."),w=this.Zo.time.ha());return this.eu.then(function(){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return new Promise(function(v){var P11;P11=2;for(;P11 !== 1;){switch(P11){case 2:q.Vo.f_(l.Qr,t,function(u){var Q11,x;Q11=2;for(;Q11 !== 3;){switch(Q11){case 2:Q11=!u || 0 >= u.length?1:5;break;case 1:var b7v="m";b7v+="e";b7v+="diaca";b7v+="cheloo";b7v+="kup";(v(),q.HQ(b7v,{baa:q.Zo.time.ha() - w,l7:!1}));Q11=3;break;case 5:x=u[0];q.Vo.read(l.Qr,x,function(y,z){var R11,S11,A,B;R11=2;for(;R11 !== 14;){switch(R11){case 2:var C7v=" ";C7v+="fai";C7v+="le";C7v+="d";var y7v="R";y7v+="ead";y7v+="ing movie entr";y7v+="y ";y && q.I.warn(y7v + x + C7v,y);R11=1;break;case 5:R11=z instanceof ArrayBuffer?4:3;break;case 1:R11=!g.ma(z)?5:9;break;case 4:try{S11=2;for(;S11 !== 1;){switch(S11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));S11=1;break;}}}catch(D){}R11=9;break;case 9:g.ma(A) || (B=m.Bra(A));g.ma(B) || g.xb(B) || (B.ac=B.ac || ({}),B.headers=B.headers || ({}));q.S4a(B)?v(B):(q.Vtb(p),v());R11=14;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};R11=9;break;}}});Q11=3;break;}}});P11=1;break;}}});break;}}});break;}}};n.prototype.FRb=function(p,q,t){var T11,v,w;T11=2;for(;T11 !== 9;){switch(T11){case 5:var n7v="Media ";n7v+="cac";n7v+="he is not enabled";return Promise.reject(n7v);break;case 4:v=this.Zo.time.ha();return this.eu.then(function(){var U11;U11=2;for(;U11 !== 1;){switch(U11){case 2:return new Promise(function(u){var V11;V11=2;for(;V11 !== 1;){switch(V11){case 2:w.Vo.f_(l.Qr,p,function(x){var W11;W11=2;for(;W11 !== 5;){switch(W11){case 2:x=x.reduce(function(y,z){var X11,A;X11=2;for(;X11 !== 9;){switch(X11){case 2:A=z.substr(0,z.lastIndexOf("."));X11=1;break;case 1:var c7v="drmHe";c7v+="ade";c7v+="r.__embed__";X11=-1 !== A.indexOf(c7v)?5:4;break;case 6:var x7v="dr";x7v+="mHeader.__embed";x7v+="__";X11=+8 === A.indexOf("")?4:6;break;X11=-1 !== A.indexOf(x7v)?5:4;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;case 5:return y;break;case 14:return y;break;X11=4;break;}}},{});w.eZb(x,q).then(function(y){var Y11,z,A;Y11=2;for(;Y11 !== 8;){switch(Y11){case 2:Y11=void 0 === t || void 0 === y?1:5;break;case 1:return u();break;case 5:var J7v="mediac";J7v+="a";J7v+="chelookup";var R7v="No con";R7v+="tent data found";R7v+=" ";R7v+="for ";(z=w.Zo.time.ha() - v,A=!1);g.ma(y) || g.ma(y.data) || !g.Bj(y.data)?w.I.trace(R7v + p,t):A=!0;w.HQ(J7v,{baa:z,l7:A});u(y);Y11=8;break;}}},function(){var Z11;Z11=2;for(;Z11 !== 1;){switch(Z11){case 4:u();Z11=5;break;Z11=1;break;case 2:u();Z11=1;break;}}});W11=5;break;}}});V11=1;break;}}});break;}}});break;case 1:T11=!this.eu?5:4;break;case 2:w=this;T11=1;break;}}};H11=4;break;case 7:n.prototype.S4a=function(p){var t21;t21=2;for(;t21 !== 1;){switch(t21){case 2:return !(g.ma(p) || g.xb(p) || g.ma(p.ac) || g.xb(p.ac) || g.ma(p.K) || g.xb(p.K) || g.ma(p.priority) || g.xb(p.priority));break;}}};n.prototype.HQ=function(p,q){var u21,t;u21=2;for(;u21 !== 9;){switch(u21){case 2:var s7v="mediacachel";s7v+="ooku";s7v+="p";var g7v="save";g7v+="todis";g7v+="k";var U7v="media";U7v+="cac";U7v+="he";U7v+="s";U7v+="tats";t={type:U7v,operation:p};g7v === p && (t.saveTime=q.Ubb);s7v === p && (t.lookupTime=q.baa,t.dataFound=q.l7);t.oneObject=this.MG;u21=3;break;case 3:var e7v="media";e7v+="c";e7v+="ache";this.Aqb && this.emit(e7v,t);u21=9;break;}}};H11=14;break;case 14:n.prototype.eZb=function(p,q){var v21,t,w;v21=2;for(;v21 !== 5;){switch(v21){case 2:(t=this,w=Object.keys(p).map(function(v){var w21;w21=2;for(;w21 !== 1;){switch(w21){case 2:return t.DCb(p[v]);break;}}}));return Promise.all(w).then(function(v){var x21;x21=2;for(;x21 !== 5;){switch(x21){case 2:v.sort(function(u,x){var y21;y21=2;for(;y21 !== 1;){switch(y21){case 2:return u.Hc === x.Hc?0:u.Hc?-1:1;break;}}});return m.Cra(t.J,t.I,t.jf,v,q);break;}}});break;}}};n.prototype.DCb=function(p){var z21,q,t,w,v;z21=2;for(;z21 !== 5;){switch(z21){case 2:(q=this,v={});return new Promise(function(u,x){var A21,y;A21=2;for(;A21 !== 5;){switch(A21){case 2:q.Vo.ica(l.Qr,p,function(z,A){var B21,C21,B;B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 19;){switch(C21){case 2:C21=z || void 0 === A?1:5;break;case 4:C21=m.L4a(w)?3:20;break;case 11:C21=m.Ita(y)?10:12;break;case 5:Object.keys(A).map(function(D){var D21,C,E21,F;D21=2;for(;D21 !== 3;){switch(D21){case 1:D21=C === l.Tga?5:4;break;case 4:C === l.EGa?t=A[D]:v[C]=A[D];D21=3;break;case 2:C=D.substr(D.lastIndexOf(".") + 1);D21=1;break;case 5:try{E21=2;for(;E21 !== 5;){switch(E21){case 2:F=new Uint8Array(A[D]);w=JSON.parse(String.fromCharCode.apply(null,F));E21=5;break;}}}catch(G){w=A[D];}D21=3;break;}}});C21=4;break;case 1:return x(z);break;case 14:C21=m.Jta(y)?13:12;break;case 10:var j7v="Missing or inv";j7v+="alid media data ";j7v+="parts for s";j7v+="tream ";return (B=j7v + y.Qa,x(B));break;case 7:y=m.Kqa(w,v,t);C21=6;break;case 8:return x(B);break;case 9:var L7v="Header fragments was an ar";L7v+="ray buf";L7v+="fer, is invalid type ";B=L7v + y.Qa;C21=8;break;case 6:C21=y.Hc?14:11;break;case 3:C21=t instanceof ArrayBuffer?9:7;break;case 20:y=m.Jqa(w,{response:v.response});C21=6;break;case 12:u(y);C21=19;break;case 13:var O7v="Missing or invalid he";O7v+="ade";O7v+="r ";O7v+="data parts for stream ";return (B=O7v + y.Qa,x(B));break;}}}catch(D){x(D);}B21=1;break;}}});A21=5;break;}}});break;}}};n.prototype.vtb=function(p,q,t){var F21,w;F21=2;for(;F21 !== 5;){switch(F21){case 2:w=this;return new Promise(function(v,u){var G21,x;G21=2;for(;G21 !== 5;){switch(G21){case 2:w.Vo.read(l.Qr,p,function(y,z){var H21,M21,P,J,M,N21,R,S,U,ba,O21,P21,Q21,R21,S21,T21,A,B,D,C,I21,N,L,H,E,I,Q,J21,K21,L21,F,G;H21=2;for(;H21 !== 4;){switch(H21){case 1:H21=y?5:3;break;case 15:var m7v="med";m7v+="ia";m7v+="cache";m7v+="look";m7v+="up";w.HQ(m7v,{baa:w.Zo.time.ha() - t,l7:!0});v(x);H21=4;break;case 16:void 0 !== x && (x.Tm=y);H21=15;break;case 17:x=m.Cra(w.J,w.I,w.jf,z,q);H21=16;break;case 9:v();H21=4;break;case 6:y=m.Bra(F.movieEntry);z=[];H21=13;break;case 20:O=F.data;A=Object.keys(O);H21=18;break;case 7:H21=F.movieEntry?6:15;break;case 18:try{M21=2;for(;M21 !== 8;){switch(M21){case 1:M21=!M.done?5:8;break;case 5:N=M.value;P=Object.keys(O[N]);M21=3;break;case 9:M=J.next();M21=1;break;case 2:(J=c.__values(A),M=J.next());M21=1;break;case 3:try{N21=2;for(;N21 !== 7;){switch(N21){case 9:z.push(ba);N21=8;break;case 1:N21=!S.done?5:7;break;case 4:N21=m.Ita(ba)?3:9;break;case 2:(R=(D=void 0,c.__values(P)),S=R.next());N21=1;break;case 3:var G7v="Missing or invalid media data";G7v+=" parts f";G7v+="or";G7v+=" st";G7v+="ream ";return (H=G7v + ba.Qa,u(H));break;case 5:(U=O[N][S.value],ba=m.Jqa(U,U));N21=4;break;case 8:S=R.next();N21=1;break;}}}catch(va){D={error:va};}finally{O21=2;for(;O21 !== 1;){switch(O21){case 2:try{P21=2;for(;P21 !== 1;){switch(P21){case 2:S && !S.done && (C=R.return) && C.call(R);P21=1;break;}}}finally{Q21=2;for(;Q21 !== 5;){switch(Q21){case 3:Q21=D?3:0;break;Q21=D?1:5;break;case 2:Q21=D?1:5;break;case 1:throw D.error;Q21=5;break;case 9:throw D.error;Q21=2;break;Q21=5;break;}}}O21=1;break;}}}M21=9;break;}}}catch(va){var na;na={error:va};}finally{R21=2;for(;R21 !== 1;){switch(R21){case 2:try{S21=2;for(;S21 !== 1;){switch(S21){case 2:M && !M.done && (B=J.return) && B.call(J);S21=1;break;}}}finally{T21=2;for(;T21 !== 5;){switch(T21){case 2:T21=na?1:5;break;case 1:throw na.error;T21=5;break;}}}R21=1;break;}}}H21=17;break;case 2:H21=1;break;case 11:try{I21=2;for(;I21 !== 12;){switch(I21){case 9:return u(H);break;case 5:(N=I.value,L=F.headers[N]);I21=4;break;case 3:var H7v="Header fr";H7v+="agments was an array ";H7v+="buffer, is invali";H7v+="d type ";H=H7v + L.streamId;I21=9;break;case 2:(E=c.__values(G),I=E.next());I21=1;break;case 8:Q=m.Kqa(L,L,L.fragments);I21=7;break;case 7:I21=m.Jta(Q)?6:14;break;case 1:I21=!I.done?5:12;break;case 6:var M7v="Missin";M7v+="g or invalid header data parts for";M7v+=" stream ";return (H=M7v + Q.Qa,u(H));break;case 14:z.push(Q);I21=13;break;case 4:I21=L.fragments instanceof ArrayBuffer?3:8;break;case 13:I=E.next();I21=1;break;}}}catch(va){var O;O={error:va};}finally{J21=2;for(;J21 !== 1;){switch(J21){case 2:try{K21=2;for(;K21 !== 1;){switch(K21){case 2:I && !I.done && (A=E.return) && A.call(E);K21=1;break;}}}finally{L21=2;for(;L21 !== 5;){switch(L21){case 1:throw O.error;L21=5;break;case 9:throw O.error;L21=4;break;L21=5;break;case 3:L21=O?2:0;break;L21=O?1:5;break;case 2:L21=O?1:5;break;}}}J21=1;break;}}}H21=10;break;case 8:F=z[p];H21=7;break;case 10:H21=F.data?20:17;break;case 12:G=Object.keys(F.headers);H21=11;break;case 3:H21=g.ma(z)?9:8;break;case 5:u(y);H21=4;break;case 13:H21=F.headers?12:10;break;}}});G21=5;break;}}});break;}}};n.prototype.urb=function(p){var U21,q;U21=2;for(;U21 !== 5;){switch(U21){case 2:var F7v="Medi";F7v+="a cac";F7v+="he ";F7v+="is not";F7v+=" enabled";q=this;return this.eu?this.eu.then(function(){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:return new Promise(function(t){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:q.Vo.f_(l.Qr,p.toString(),function(w){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:w && 0 !== w.length?1 === w.length && w[0] === p.toString()?t(!0):t(!1):t(!1);X21=1;break;}}});W21=1;break;}}});break;}}}):Promise.reject(F7v);break;}}};n.prototype.Vtb=function(p){function t(u){var a31;a31=2;for(;a31 !== 1;){switch(a31){case 2:u.map(q);a31=1;break;}}}var Y21,w,v;function q(u){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:w.Vo.delete(l.Qr,u);Z21=1;break;}}}Y21=2;for(;Y21 !== 4;){switch(Y21){case 2:(w=this,v=p.toString());this.Vo.f_(l.Qr,[l.AJa,p].join("."),t);this.Vo.f_(l.Qr,v,t);Y21=4;break;}}};n.prototype.m2b=function(p){var b31,q;b31=2;for(;b31 !== 4;){switch(b31){case 2:var t7v="mediacache-err";t7v+="o";t7v+="r";var B7v="me";B7v+="dia";B7v+="cache";q=new k.Dg();q.on(this.Vo,B7v,function(t){var c31;c31=2;for(;c31 !== 4;){switch(c31){case 5:var q7v="m";q7v+="ediac";q7v+="a";q7v+="che";p.emit(q7v,t);c31=4;break;case 2:c31=t.keys || t.items?1:5;break;case 9:c31=t.keys && t.items?0:1;break;c31=t.keys || t.items?1:5;break;case 1:t.keys || t.items.map(function(w){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return w.key;break;}}});c31=5;break;}}});q.on(this.Vo,t7v,function(t){var e31;e31=2;for(;e31 !== 5;){switch(e31){case 2:var v7v="med";v7v+="iaca";v7v+="che";var W7v="e";W7v+="r";W7v+="ro";W7v+="r";t.type=W7v;p.emit(v7v,t);e31=5;break;}}});b31=4;break;}}};H11=19;break;case 19:return n;break;}}function n(p,q,t){var I11;I11=2;for(;I11 !== 12;){switch(I11){case 4:this.MG=p.Bva?p.Bva:!1;this.Nrb=p.C7a?p.C7a:!1;this.J=p;this.Zo=q;this.jf=t;I11=6;break;case 2:var z7v="media|";z7v+="ase";z7v+="j";z7v+="s";var Y7v="MEDIACA";Y7v+="C";Y7v+="HE";this.I=new q.Console(Y7v,z7v);this.gla=(p.cCa || p.dCa) && 0 < (p.qW || (q.options || ({})).AP || 0);this.Aqb=p.qGb?p.qGb:!1;I11=4;break;case 6:var P7v="1";P7v+="SIYb";P7v+="Zr";P7v+="NJ";P7v+="Cp9";var o7v="Media cache";o7v+=" has not ";o7v+="be";o7v+="en in";o7v+="itiaized";this.eu=Promise.reject(o7v);this.eu.catch(function(){});P7v;I11=12;break;}}}})();b.$Ja=a;r.Jf(k.EventEmitter,a);},function(r,b,a){var c,k,h,g,d;c=a(10);h=[];d=!1;r.exports={bP:function(f,m,l){var n;if(d)c.kd(l) && (k.jv || k.QI?setTimeout(function(){l(k);},0):h.push(l));else {d=!0;n=a(131);n.WX(f);g=new n.Console("MEDIACACHE","media|asejs");k=new (a(429))(m,function(p){p && g.warn("Failed to initialize MediaCache",p);c.kd(l) && setTimeout(function(){l(k);},0);h.map(function(q){setTimeout(function(){q(k);},0);});});}return k;},sec:function(f,m){k=new (a(429))(f,function(l,n){l && g.warn("Failed to initialize MediaCache",l);c.kd(m) && setTimeout(function(){m(n);},0);});}};},function(r,b,a){var k,h,g,d,f;function c(m){this.cs=m;this.context=m.context;this.L8a="NULLCONTEXT" === m.context?!0:!1;}k=a(10);h=a(131);g=new h.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(m,l,n,p,q){q("MediaCache is not supported");},remove:function(m,l,n){n("MediaCache is not supported");},create:function(m,l,n,p){p("MediaCache is not supported");},append:function(m,l,n,p){p("MediaCache is not supported");},query:function(m,l,n){n([]);}};c.prototype.gH=function(){var m,l,n;m=Array.prototype.slice.call(arguments);l=m[0];n=m[m.length - 1];m=m.slice(1,m.length - 1);m.push(function(p){n(null,p);});try{if(this.L8a)throw Error("Media Cache not supported");l.apply(this.cs,m);}catch(p){n(p);}};c.prototype.query=function(m,l,n,p){try{if(this.L8a)throw Error("Media Cache not supported");this.cs.query(m,l,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(m,l,n,p,q){this.gH(this.cs.read,m,l,n,p,q);};c.prototype.remove=function(m,l,n){this.gH(this.cs.remove,m,l,n);};c.prototype.create=function(m,l,n,p){this.gH(this.cs.create,m,l,n,p);};c.prototype.append=function(m,l,n,p){this.gH(this.cs.append,m,l,n,p);};c.prototype.info=function(m){this.gH(this.cs.info,m);};c.prototype.validate=function(m){this.gH(this.cs.validate,m);};c.prototype.flush=function(m){this.gH(this.cs.flush,m);};c.prototype.clear=function(){this.cs.clear();};r.exports={GCb:function(m){var l,n,p,q,t;l=m.Pdc || "NRDMEDIADISKCACHE";f=m.qW || 0;0 !== f || k.ma(h.options) || k.ma(h.options.AP) || (f=h.options.AP);m=f;try{p=h.storage.hFb;if(!p || !k.Bj(p))throw (g.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[l]){g.warn("Disk store exists, returning");q=new c(n);}else {if(k.ma(h.storage) || !k.kd(h.storage.RXa) || h.options && 0 === h.options.AP)throw (g.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");g.warn("Disk store context doesn't exist, creating with size " + m);t=h.storage.RXa({context:l,size:m,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";q=new c(t);}}catch(w){g.warn("Exception creating disk store context - returning NullContext (noops)",w);q=new c(d);}return q;},fKb:function(){return f;},K9b:c};},function(r,b,a){var f,m,l,n,p,q,t,w,v;function c(){}function k(u,x,y,z,A){var B;B=f.kd(z)?z:c;this.Ww=u;this.Ig=y.yu;this.Bz=0;this.Fqb=y.cHb || "NONE";this.kz=f.ma(A) || f.xb(A)?0:A;this.Fe={};this.cu=y.Mfc || m.storage.TS;this.Nw=x;this.cN=p.create(this.Nw,y.HDb * this.kz,this.Ww);this.on=this.addEventListener=v.addEventListener;this.removeEventListener=v.removeEventListener;this.emit=this.ab=v.ab;this.QRa=g(this,k.Xe.REPLACE);this.frb=g(this,k.Xe.AQa);this.$G;this.$G=y.rgb?a(980):a(981);this.Nw.query(this.cu,this.$q(""),(function(D,C){var F;if(D)B(D);else {F=this.cN.rra();D=Object.keys(C).filter(function(G){return G !== F && q.hP(G);}).map(this.BBa.bind(this));this.ica(D,(function(G,E){Object.keys(E).map((function(I){var N,L;N=E[I];this.Fe[q.f8(I)]=N;if(N.gza && 1 < Object.keys(N.gza).length){L=0;Object.keys(N.gza).forEach((function(H){C[this.$q(H)] && f.Ga(C[this.$q(H)].size) && (L+=C[this.$q(H)].size);}).bind(this));I=q.f8(I);this.Fe[I].size=L;}else (I=q.f8(I),C[this.$q(I)] && (this.Fe[I].size=C[this.$q(I)].size));}).bind(this));h(this.Nw,this.cu,this.Ww,(function(I,N){this.Bz=N;I?B(I):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function h(u,x,y,z){var A;A=f.kd(z)?z:c;u.query(x,y,function(B,D){B?A(B):(B=Object.keys(D).reduce(function(C,F){return C + (D[F].size || 0);},0),A(null,B));});}function g(u,x){return function(y,z,A,B,D){return function(C,F){var G;if(C)(z || u.ab(k.Xe.ag,{itemKey:y,error:C}),A(C));else {G={el:0,duration:0,items:[],time:m.time.now()};Object.keys(F.actions).map(function(E){var I;I=F.actions[E];E={key:u.BBa(I.F$),ql:E};I.da?(G.el+=I.el,E.E$=I.el,f.Ga(I.duration) && (G.duration+=I.duration)):E.error=I.error;G.items.push(E);});C=f.kd(B)?B():0;0 < D && (G.ON=D - C);h(u.Nw,u.cu,u.Ww,function(E,I){E?A(E):(u.Bz=I,G.ao=u.Ig - I,z || u.ab(x,w.X0a(G)),A(null,G));});}};};}function d(u,x){return 0 < x && u >= x?!0:!1;}f=a(10);m=a(131);l=a(260);b=a(85);n=new m.Console("MEDIACACHE","media|asejs");p=a(976);q=a(430);t=a(132);w=a(261);v=a(431).EventEmitter;b({Xe:{AQa:"writeitem",REPLACE:"replaceitem",yga:"journalupdate",ag:"mediacache-error"}},k);k.prototype.nLb=function(){return this.Ww;};k.prototype.BBa=function(u){return u.slice(this.Ww.length + 1);};k.prototype.kra=function(){return Object.keys(this.Fe).filter((function(u){u=q.Cqa(this.Fe[u]);return void 0 === u || 0 >= u.sXa();}).bind(this));};k.prototype.xLb=function(){return Object.keys(this.Fe).reduce((function(u,x){var y;y=this.Fe[x];return y && y.creationTime < u.creationTime?{resourceKey:x,creationTime:y.creationTime}:u;}).bind(this),{resourceKey:null,creationTime:m.time.now()}).Qgc;};k.prototype.qKb=function(){var u;switch(this.Fqb){case "FIFO":u=this.xLb();}return u;};k.prototype.CEb=function(u){var x;x=f.kd(u)?u:c;this.G1a((function(y){var z,A,B;z=this.Fe;A=Object.keys(z).reduce(function(D,C){C=z[C];C.resourceIndex && Object.keys(C.resourceIndex).forEach(function(F){D.push(F);});return D;},[]);if((y=y.filter(function(D){return !q.hP(D) && 0 > A.indexOf(D);})) && 0 < y.length){B=this;y=m.Promise.all(y.map(function(D){return new m.Promise(function(C,F){B.delete(D,function(G){G?F(G):C();});});})).then(function(){x(void 0,{Eya:!0});},function(D){x(D,{Eya:!1});});w.$x(y);}else u(void 0,{Eya:!1});}).bind(this));};k.prototype.qZb=function(u,x,y){var z,A;z=f.kd(x)?x:c;x=this.$q(u);A=m.time.now();this.Nw.read(this.cu,x,0,-1,(function(B,D){var C;if(B)z(B);else if(D && D.da && D.value){f.kd(y) || (y=this.$G.nX(t.Rr.HF),q.hP(u)?y=this.$G.nX(t.Rr.t3):(B=this.Fe[u],!f.ma(B) && f.Ga(B.resourceIndex[u])?(B=B.resourceIndex[u],f.ma(B) && (B=t.Rr.HF),y=this.$G.nX(B)):n.warn("Metadata is undefined or does not contain a resource format for key",u,":",B)));try{C=y(D.value);}catch(F){return z(l.QL.Mr(F.message));}D={duration:m.time.now() - A};this.Fe[u] && f.Ga(this.Fe[u].size) && (D.Rz=f.Ga(this.Fe[u].size)?this.Fe[u].size:0);z(null,C,D);}else z(l.QL.Mr(D.error));}).bind(this));};k.prototype.read=function(u,x,y){this.qZb(u,x,y);};k.prototype.ica=function(u,x,y){var z,A,B;z=f.kd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(u))z(l.QL.Mr("item keys must be an array"));else {A={};B=[];u=m.Promise.all(u.map((function(D){return new m.Promise((function(C,F){var G;y && !f.ma(y[D]) && (G=this.$G.nX(y[D]));this.read(D,function(E,I,N){E?(I={},I[D]=E,F(I)):(A[D]=I,B.push({duration:N.duration,Rz:N.Rz}),C());},G);}).bind(this));}).bind(this))).then(function(){var D;D={};0 < B.length && (D=B.reduce(function(C,F){f.Ga(F.duration) && (C.duration+=F.duration);f.Ga(F.Rz) && (C.Rz+=F.Rz);return C;},{duration:0,Rz:0}));z(null,A,D);},function(D){z(D);});w.$x(u);}};k.prototype.write=function(u,x,y,z,A){var B,D,C;y=f.kd(y)?y:c;B=this.$q(u);D="function" === typeof A?A():0;C=t.QO(x);C=this.$G.Tra(C)(x);C.byteLength + this.Bz >= this.Ig?y(l.iL):d(C.byteLength + D,this.kz)?y(l.i4):this.cN.save(this.cu,B,x,this.frb(u,z,y,A,this.kz),C.byteLength);};k.prototype.replace=function(u,x,y,z,A){var B,D,C,F;B=f.kd(y)?y:c;D=this.$q(u);C=0;"function" === typeof A && (C=A());y=t.QO(x);F=this.$G.Tra(y)(x);y=(this.Fe[u] || ({})).size || 0;0 >= y && this.Fe[u]?this.h2a([u],(function(G){n.trace("Replacing key",u,"which exists:",! !this.Fe[u],this.Fe[u]?this.Fe[u]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.Bz,"vs capacity",this.Ig);F.byteLength - G + this.Bz >= this.Ig?B(l.iL):d(F.byteLength - G + C,this.kz)?B(l.i4):this.cN.replace(this.cu,D,x,this.QRa(u,z,B,A,this.kz),F.byteLength);}).bind(this)):(n.trace("Replacing key",u,"which exists:",! !this.Fe[u],this.Fe[u]?this.Fe[u]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.Bz,"vs capacity",this.Ig),F.byteLength - y + this.Bz >= this.Ig?B(l.iL):d(F.byteLength - y + C,this.kz)?B(l.i4):this.cN.replace(this.cu,D,x,this.QRa(u,z,B,A,this.kz),F.byteLength));};k.prototype.z_b=function(u,x,y,z){var A;A=f.kd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(u)?A(l.h4.Mr("items must be a map of keys to objects")):(x=m.Promise.all(Object.keys(u).map((function(B){return new m.Promise((function(D){this.replace(B,u[B],function(C,F){C?D({error:C,vr:B}):D(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var D,C,F,G;try{D=Number.MAX_VALUE;C=B.reduce(function(E,I){I.error || (E.el+=I.el,f.Ga(I.duration) && (E.duration+=I.duration),!f.ma(I.ao) && I.ao < D && (D=I.ao),I.items.map(function(N){E.items.push({key:N.key,ql:N.ql,E$:N.E$,YRb:N.YRb,duration:N.duration});}),D < Number.MAX_VALUE && (E.ao=D));return E;},{el:0,items:[],time:m.time.now(),duration:0});0 < this.kz && (C.ON=this.kz - z());F=B.filter(function(E){return !f.ma(E.error);});G=w.X2a(F);y || (G?G.forEach((function(E){this.ab(k.Xe.ag,E);}).bind(this)):this.ab(k.Xe.REPLACE,w.X0a(C)));A(G,C);}catch(E){A(E);}}).bind(this),(function(B){y || this.ab(k.Xe.ag,B);A(B);}).bind(this)),w.$x(x));};k.prototype.delete=function(u,x){var y;y=f.kd(x)?x:c;this.Nw.remove(this.cu,this.$q(u),(function(z,A){z?y(z):A && A.da?h(this.Nw,this.cu,this.$q(""),(function(B,D){B?y(B):(this.Bz=D,y());}).bind(this)):y(l.Djb.Mr(A.error));}).bind(this));};k.prototype.G1a=function(u){this.query("",function(x,y){x?(n.error("Failed to get keys",x),u([])):u(y);});};k.prototype.query=function(u,x){var y,z;y=f.kd(x)?x:c;z=this.cN.rra();this.Nw.query(this.cu,this.$q(u),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(D){return D !== z;}).map(this.BBa.bind(this)));}).bind(this));};k.prototype.$q=function(u){return this.Ww + "." + u;};k.prototype.clear=function(u){var x;x=f.kd(u)?u:c;this.G1a((function(y){var z;z=m.Promise.all(y.map((function(A){return new m.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.ab(k.Xe.ag,A);x([],A);}).bind(this));w.$x(z);}).bind(this));};k.prototype.h2a=function(u,x){var y,z;y=f.kd(x)?x:c;z=(u || []).map((function(A){return this.$q(A);}).bind(this));this.Nw.query(this.cu,this.Ww,(function(A,B){A?(n.error("failed to get persisted size for keyset ",u,A),y(0)):(A=Object.keys(B).filter(function(D){return 0 <= z.indexOf(D);}).reduce(function(D,C){return D + (B[C].size || 0);},0),y(A));}).bind(this));};k.prototype.HJb=function(u){return this.cN.N0a(u);};k.prototype.constructor=k;r.exports=k;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t){var A,B;function w(D,C,F,G){D.info.call(D,(function(E,I){var N;if(E)G(E);else {try{N=I.values[this.context].entries[C][F].size;}catch(L){N=-1;}-1 < N?G(null,N):this.validate(function(L,H){L?G(L):(H[F] && (N=H[F].size),G(null,N));});}}).bind(D));}function v(D,C,F,G,E,I,N){var L;I?I.actions || (I.actions={}):I={actions:{}};A(G);L=h.time.now();G=new l(function(H,Q){D.create(h.storage.TS,C,F,function(O,J){O?Q(O):H(J);});}).then(function(H){H.da?w(D,h.storage.TS,C,function(Q,O){Q?N(Q):(B(O),A(O),I.actions[c.t1.yga]={da:!0,time:E,el:O,F$:C,uab:H,duration:h.time.now() - L},I.ao=H.ao,N(null,I));}):(I.actions[c.t1.yga]={da:!1,F$:C,error:H.error},N(null,I));},function(H){N(H);});f.$x(G);}function u(D,C,F,G,E,I){G.Uq(F.time,F);for(var N=F.time - 864E5,L=G.Vx();L && !isNaN(L.time) && L.time < N;){L=G.SN();A(0 - (L.aa || 0));L=G.Vx();}G=G.Tp().map(function(H){return H.time + ";" + H.aa;});v(D,C,Array.prototype.join.call(G,"|"),F.aa,F.time,E,I);}function x(D,C,F,G,E,I,N,L,H){var Q;Q=h.time.now();D.create(F,G,E,function(O,J){var M;if(O)m.error("Failed to replace item",G,O);else if(J.da){M=J.ao;w(D,F,G,function(P,R){var S,U;if(P)H(P);else {P={time:L,aa:R || 0};S={ao:M,actions:{}};U=h.time.now() - Q;S.actions[c.t1.REPLACE]={da:!0,time:L,el:R,F$:G,uab:J,duration:U};I?u(D,C,P,N,S,H):(A(R),H(null,S));}});}else H(g.h4.Mr(J.error || "Failed to create item"));});}function y(D,C,F,G,E,I,N,L,H){var Q;Q=h.time.now();D.append(F,G,E,function(O,J){var M;if(O)(m.error("Failed to save item " + G,O),H(O));else if(J.da){M=J.ao;w(D,F,G,function(P,R){var S,U;if(P)H(P);else {P={time:L,aa:R || 0};S={ao:M,actions:{}};U=h.time.now() - Q;S.actions[c.t1.mob]={da:!0,time:L,el:R,F$:G,uab:J,duration:U};I?u(D,C,P,N,S,H):(A(R),H(null,S));}});}else H(g.h4.Mr(J.error || "Failed to save item"));});}function z(D,C){D && k.kd(D.remove) && D.cs.valid && D.remove(h.storage.TS,C.FM,function(F,G){if(F)m.error("Failed to delete old journal key",F);else try{G && (k.ma(G.error) || G.error.some(function(E){return "NFErr_FileNotFound" === E.fec;})) && u(D,C.FM,{time:0,aa:0},C.xU,0,function(){});}catch(E){}});}if(!p.cs.valid)return n;this.kRa=k.ma(q) || k.xb(q)?0:q;this.yja=p;this.fka=this.DT=0;this.xU=new d();this.atb=t || "default";this.FM=this.atb + ".NRDCACHEJOURNALKEY";A=(function(D){isNaN(D) || (this.DT+=D);return this.DT;}).bind(this);B=(function(D){isNaN(D) || (this.fka+=D);return this.fka;}).bind(this);this.rra=function(){return this.FM;};this.save=function(D,C,F,G){var E;E=h.time.now();y(this.yja,this.FM,D,C,F,0 <= this.kRa,this.xU,E,G);};this.replace=function(D,C,F,G){var E;E=h.time.now();x(this.yja,this.FM,D,C,F,0 <= this.kRa,this.xU,E,G);};this.N0a=function(D){var C,E;C=this.DT;D-=864E5;for(var F=this.xU.Tp(),G=0;G < F.length;G++){E=F[G];E.time < D && !isNaN(E.aa) && (C-=E.aa);}return C;};(function(D){var C;C=D.yja;D.DT=0;C.read(h.storage.TS,D.FM,0,-1,function(F,G){var E,I,N,H;E=[];I=0;N=!0;if(F)m.error("Failed to compile records",F);else if(G.da){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(Q,O){return Q + (O.length + 40);},0);A(G);E=F.map(function(Q){Q=Q.split(";");return {time:Number(Q[0]),aa:Number(Q[1])};});try{if(!isNaN(E.reduce(function(Q,O){return Q + O.aa;},0))){N=!1;for(var L=h.time.now() - 864E5;I < E.length;I++){H=E[I];H.time < L || (D.xU.Uq(H.time,H),A(H.aa));}}}catch(Q){}}N && z(C,D);});})(this);}k=a(10);h=a(131);g=a(260);d=a(977);b=a(85);f=a(261);m=new h.Console("DISKWRITEMANAGER","media|asejs");l=h.Promise;b({t1:{mob:"saveitem",REPLACE:"replaceitem",yga:"journalupdate"}},c);n={save:function(p,q,t,w){w(g.wJa);},replace:function(p,q,t,w){w(g.wJa);},rra:function(){return "";},N0a:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,t){return new c(p,q,t);},Gac:n};},function(r){function b(k){if(!(this instanceof b))return new b(k);if("undefined" === typeof k)this.Bn=function(h,g){return h <= g;};else {if("function" !== typeof k)throw Error("heap comparator must be a function");this.Bn=k;}this.lq=[];}function a(k,h){var g,d,f,m,l,n,p;g=k.lq;d=k.Bn;f=2 * h + 1;m=2 * h + 2;l=g[h];n=g[f];p=g[m];n && d(n.priority,l.priority) && (!p || d(n.priority,p.priority))?(c(g,h,f),a(k,f,d)):p && d(p.priority,l.priority) && (c(g,h,m),a(k,m,d));}function c(k,h,g){var d;d=k[h];k[h]=k[g];k[g]=d;}b.prototype.clear=function(){this.lq=[];};b.prototype.Uq=function(k,h){this.lq.push({priority:k,value:h});k=this.lq;h=this.Bn;for(var g=k.length - 1,d=0 === g?null:Math.floor((g - 1) / 2);null !== d && h(k[g].priority,k[d].priority);){c(k,g,d);g=d;d=0 === g?null:Math.floor((g - 1) / 2);}};b.prototype.remove=function(){var k;if(0 !== this.lq.length){k=this.lq[0];c(this.lq,0,this.lq.length - 1);this.lq.pop();a(this,0);return k.value;}};b.prototype.Vx=function(){if(0 !== this.lq.length)return this.lq[0].value;};b.prototype.enqueue=b.prototype.Uq;b.prototype.SN=b.prototype.remove;b.prototype.p$=function(){return 0 === this.lq.length;};b.prototype.Tp=function(){return this.lq.map(function(k){return k.value;});};r.exports=b;},function(r){function b(c,k){var h;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ed)return (this.Ed={},this.Ed[c]=[k],!0);h=this.Ed[c];return void 0 === h?(this.Ed[c]=[k],!0):0 > h.indexOf(k)?(h.push(k),!0):!1;}function a(c,k){c=this.Ed?this.Ed[c]:void 0;if(!c)return !1;c.forEach(function(h){h(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var h;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ed)return !1;h=this.Ed[c];if(void 0 === h)return !1;k=h.indexOf(k);if(0 > k)return !1;if(1 === h.length)return (delete this.Ed[c],!0);h.splice(k,1);return !0;},ab:a,emit:a,removeAllListeners:function(c){this.Ed && (void 0 === c?delete this.Ed:delete this.Ed[c]);return this;}};},function(r){function b(c,k,h,g){c.trace(":",h,":",g);k(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,h,g){h=g?h.bind(g):h;g=!1;if(c){this.console && (h=b.bind(null,this.console,h,k));if("function" === typeof c.addEventListener)g=c.addEventListener(k,h);else if("function" === typeof c.addListener)g=c.addListener(k,h);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,h]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var h,g;h=k[0];g=k[1];k=k[2];"function" === typeof h.removeEventListener?h.removeEventListener(g,k):"function" === typeof h.removeListener && h.removeListener(g,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,k,h,g;c=a(10);k=a(132);h={};h[k.Rr.HF]=function(d){return d;};h[k.Rr.R3]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};h[k.Rr.t3]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var m=0;m < f.byteLength;m++){d+=String.fromCharCode(f[m]);}return JSON.parse(d);};g={};g[k.Rr.HF]=function(d){return d;};g[k.Rr.R3]=function(d){for(var f=new ArrayBuffer(d.length),m=new Uint8Array(f),l=0,n=d.length;l < n;l++){m[l]=d.charCodeAt(l);}return f;};g[k.Rr.t3]=function(d){return c.ma(d) || c.xb(d)?d:g[k.Rr.R3](JSON.stringify(d));};r.exports={nX:function(d){return h[d] || h[k.Rr.HF];},Tra:function(d){return g[d] || g[k.Rr.HF];}};},function(r,b,a){function c(h){return h;}function k(){return c;}a(10);r.exports={nX:k,Tra:k};},function(r,b,a){var h;function c(g,d){return g.length > d.length?1:d.length > g.length?-1:0;}function k(g,d){var f,m,l;f=[];if(h.Bj(d)){m={};l={};l[g]=m;f.push(l);f=Object.keys(d).reduce(function(n,p){var q,t,w;q=d[p];t={};if(h.k$(q)){w=g + ".__embed__." + p;t[w]=q;n.push(t);}else h.Bj(q)?(w=g + ".__sub__." + p,q=k(w,q),m[p]=q[0][w],n=n.concat(q.slice(1))):m[p]=q;return n;},f);}else (l={},l[g]=d,f.push(l));return f;}h=a(132);r.exports={gFb:k,dPb:function(g){var d,f,m,w;d=Object.keys(g).map(function(v){return v.split(".");});d.sort(c);f=d[0];m=f.length;f=g[f.join(".")];for(var l=1;l < d.length;l++){for(var n=!1,p=!1,q=f,t=m;t < d[l].length;t++){w=d[l][t];switch(w){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[w],p=!1):n && (q[w]=g[d[l].join(".")],n=!1);}}}return f;},JPb:function(g){return g && (0 <= g.indexOf("__sub__") || 0 <= g.indexOf("__embed__"));}};},function(r,b,a){var g,d;function c(f,m,l){Object.keys(f).forEach(function(n){var p,q;if(g.Bj(f[n]))if(f[n].k$){p=f[n];q=l + p.offset;f[n]=m.slice(q,q + p.byteLength);}else f[n]=c(f[n],m,l);});return f;}function k(f,m,l){Object.keys(f).forEach(function(n){var p;if(g.k$(f[n])){p=f[n];m.push(p);f[n]={k$:!0,offset:l.ooa,byteLength:p.byteLength};l.ooa+=p.byteLength;}else g.Bj(f[n]) && k(f[n],m,l);});return f;}function h(){var f,m,l;f=Array.prototype.concat.apply([],arguments);m=f.reduce(function(n,p){return n + p.byteLength;},0);l=new Uint8Array(m);f.reduce(function(n,p){l.set(new Uint8Array(p),n);return n + p.byteLength;},0);return l.buffer;}g=a(132);d=a(85);r.exports={KAb:function(f){var m,l,n;m=d(f,{});f=[];m=k(m,f,{ooa:0});m=JSON.stringify(m);l=new ArrayBuffer(m.length + 4);n=new DataView(l);n.setUint32(0,m.length);for(var p=4,q=0,t=m.length;q < t;q++){n.setUint8(p,m.charCodeAt(q));p++;}f=[l].concat(f);return h.apply(null,f);},JAb:function(f){for(var m=new DataView(f,0,4).getInt32(0),l=new Uint8Array(f,4,m),n="",p=0;p < l.byteLength;p++){n+=String.fromCharCode(l[p]);}m=4 + m;n=JSON.parse(n);return c(n,f,m);}};},function(r,b,a){var k,h,g,d,f;function c(m){return {mediaType:m.mediaType,streamId:m.Qa,movieId:m.K,bitrate:m.bitrate,location:m.location,serverId:m.ue,saveToDisk:!0,offset:m.offset,bytes:m.aa,timescale:m.V,frameDuration:m.stream.za && m.stream.za.mc,encrypted:m.yk,initSegments:1 < m.kh.length?m.kh.map(function(l){return {fi:l.Vd,s:l.data.byteLength,e:! !l.yk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Ita=b.Jta=b.L4a=b.Y1a=b.w1a=b.z1a=b.yra=b.Cra=b.Bra=b.Jqa=b.Kqa=b.vJa=void 0;k=a(1).__importStar(a(10));h=a(985);g=a(407);d=a(9);f=a(21);b.vJa={AJa:"movieEntry",Wkb:"header",Tga:"metadata",ulb:"headerData",N$b:"headerMetadata",Pkb:"sizes",Okb:"durations",EGa:"fragments",kmb:"response",Qr:"billboard",YF:{lifespan:259200}};b.Kqa=function(m,l,n){var p,q;p=l.headerData;n && l.sizes instanceof ArrayBuffer && l.durations instanceof ArrayBuffer && (q={Bl:n.startTicks,offset:n.offset,V:n.timescale,sizes:new Uint32Array(l.sizes),rd:new Uint32Array(l.durations)});return {Hc:!0,mediaType:m.mediaType,K:m.movieId,Qa:m.streamId,bitrate:m.bitrate,location:m.location,ue:m.serverId,aa:m.bytes,offset:m.offset,Esa:p,X9:m.initSegments,yk:m.encrypted,V:m.timescale,za:m.frameDuration,mi:m.saveToDisk,X:q};};b.Jqa=function(m,l){var n,p,q;l=l.response;n=m.startTicks;p=m.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Hc:!1,mediaType:m.mediaType,K:m.movieId,Qa:m.streamId,bitrate:m.bitrate,location:m.location,ue:m.serverId,aa:m.bytes,offset:m.offset,response:l,V:m.timescale,bb:m.startTicks,Hu:p,mi:m.saveToDisk,rb:q};};b.Bra=function(m){return {priority:m.priority,K:m.movieId,headers:{},UO:0,ZV:0,x3a:0,mi:m.saveToDisk,ac:m.stats,ux:m.firstSelectedStreamBitrate,OA:m.initSelectionReason,cE:m.histDiscountedThroughputValue,Ap:m.histTdigest,zp:m.histAge,fp:void 0};};b.Cra=function(m,l,n,p,q){var t,w;t={headers:{},data:{}};p.forEach(function(v){var u,x,A;u=v.mediaType;u=q && q.zx(u,v.Qa);x=[];if(v.Hc)if(!Array.isArray(v.X9) || 2 > v.X9.length)x.push({Vd:0,data:v.Esa});else for(var y=0,z=0;z < v.X9.length;++z){A=v.X9[z];x.push({Vd:A.fi,data:v.Esa.slice(y,y + A.s),yk:A.e});y+=A.s;}u?(v.X && u.nba(x,v.V,v.za?new f.R(v.za,v.V):void 0,v.X),v.Hc && u && u.pe?(void 0 === t.headers && (t.headers={}),t.headers[v.Qa]=new g.F1(u,{aa:v.aa,offset:v.offset,kh:x,yk:v.yk},l)):v.response instanceof ArrayBuffer && void 0 !== u.X && void 0 !== v.bb && void 0 !== v.V && void 0 !== v.rb && (x=u.X.l8(new f.R(v.bb,v.V).W),void 0 !== x && (u=new h.UCa(u,{V:v.V,bb:v.bb,rb:v.rb,index:x.index,offset:v.offset,aa:v.aa},v.response,n,m,l),void 0 === t.data && (t.data={}),t.data[v.Qa] || (t.data[v.Qa]=[]),t.data[v.Qa].push(u)))):l.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + v.Qa + " movieId: " + v.K);});if(!k.ma(t.data)){w=t.data;Object.keys(w).forEach(function(v){w[v].sort(function(u,x){return u.bb - x.bb;});});}return t;};b.yra=function(m){return {mediaType:m.mediaType,streamId:m.Qa,movieId:m.K,bitrate:m.bitrate,location:m.location,serverId:m.ue,saveToDisk:!0,offset:m.offset,bytes:m.aa,timescale:m.V,startTicks:m.bb,durationTicks:m.Hu};};b.z1a=c;b.w1a=function(m){var l,n,p,q;l=c(m);if(m.stream.pe && m.stream && m.stream.X){n={timescale:m.stream.X.V,startTicks:m.stream.X.Bl,offset:m.stream.X.Xd(0)};p=m.stream.X.jy;q=p.sizes.buffer;p=p.rd.buffer;}return {mediaType:l.mediaType,streamId:l.streamId,movieId:l.movieId,bitrate:l.bitrate,location:l.location,serverId:l.serverId,saveToDisk:!0,offset:l.offset,bytes:l.bytes,timescale:l.timescale,frameDuration:l.frameDuration,headerData:d.xD(m.kh.map(function(t){return t.data;})),initSegments:l.initSegments,encrypted:m.yk,fragments:n,sizes:q,durations:p};};b.Y1a=function(m){return {priority:m.priority,movieId:m.K,saveToDisk:m.mi,firstSelectedStreamBitrate:m.ux,initSelectionReason:m.OA,histDiscountedThroughputValue:m.cE,histTdigest:m.Ap,histAge:m.zp};};b.L4a=function(m){return !k.has(m,"startTicks");};b.Jta=function(m){return !m.Esa || !m.V || !m.X || void 0 === m.X.Bl || void 0 === m.X.offset || void 0 === m.X.rd || !m.X.rd.length || void 0 === m.X.sizes || !m.X.sizes.length;};b.Ita=function(m){return void 0 === m.aa || void 0 === m.offset || void 0 === m.V || void 0 === m.bb || void 0 === m.Hu;};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.UCa=void 0;c=a(1);k=a(9);r=a(41);h=a(101);a=(function(g){function d(f,m,l,n,p,q){n=g.call(this,f,m,n,p,q) || this;m.aa=l.byteLength;h.sn.zb(n,f,m);n.QM=l;n.Opb=m.aa;return n;}c.__extends(d,g);Object.defineProperties(d.prototype,{Hc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ov:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ff:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.QM;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{LRb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rO:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bya:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Opb;},enumerable:!1,configurable:!0}});d.prototype.mv=function(){return !0;};d.prototype.pH=function(f){this.nf=f.appendBuffer(this.response,k.Yq(this));return {da:this.nf};};d.prototype.Ji=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.gd=function(){};d.prototype.vda=function(){return !1;};return d;})(a(247).hL);b.UCa=a;r.Jf(h.sn,a);},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.OOa=void 0;c=a(1);r=a(17);k=a(51);h=c.__importDefault(a(6));g=a(15);d=a(262);f=a(9);m=a(4);l=a(1063);n=a(227);p=new h.default.Console("ASEJS","media|asejs");p.trace.bind(p);r=(function(q){var f31;f31=2;for(;f31 !== 17;){switch(f31){case 4:Object.defineProperties(t.prototype,{ei:{get:function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:return this.Ia.ei;break;case 4:return this.Ia.ei;break;j31=1;break;}}},enumerable:!1,configurable:!0}});t.prototype.zb=function(w,v,u,x,y,z,A,B){var k31;k31=2;for(;k31 !== 5;){switch(k31){case 2:this.Ia.Rza({audio:w,video:v,kma:A,kCa:B},{W:x,aa:y});this.Ia.open(this.config,this.mF);k31=5;break;}}};t.prototype.$_=function(w,v,u){var l31;l31=2;for(;l31 !== 1;){switch(l31){case 2:this.Ia.Rza({total:w},{W:v,aa:u});l31=1;break;}}};f31=8;break;case 2:c.__extends(t,q);Object.defineProperties(t.prototype,{$b:{get:function(){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:return this.Ia.$b;break;case 4:return this.Ia.$b;break;h31=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mo:{get:function(){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return this.Ia.mo;break;}}},enumerable:!1,configurable:!0}});f31=4;break;case 8:t.prototype.createSession=function(w,v,u,x,y,z,A,B,D,C){var m31,F,G;m31=2;for(;m31 !== 19;){switch(m31){case 14:G=[this.EX(F,G.ja,u,D)];m31=13;break;case 13:var l7v="endP";l7v+="ts is not supporte";l7v+="d";C[1] && G.push(this.EX(F,C[1].ja,u,D));m.assert(void 0 === x.La,l7v);this.T$=new l.POa(this.console,this,w,C,v,G,x,y,z,A,B);B.qs || B.sJ || this.qD();return this.T$;break;case 2:var k7v="cr";k7v+="ea";k7v+="t";k7v+="ing s";k7v+="ession";this.console.trace(k7v);this.Ia.$b.reset();m31=5;break;case 5:F=Number(w.movieId);D=this.u9(F,y.ea);this.PB[D]={fna:function(){},ea:y.ea,equals:function(E){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:return E.N === F && (y.ea === E.ea || !E.ea || !y.ea);break;}}},Ku:!1,Jr:Promise.resolve({ia:w,dj:! !x.dj,Ne:! !x.Ne,Cd:g.yaa(! !x.dV,! !x.vF),config:B}),N:F};B.nA && this.Ia.YE(this.PB[D],{vo:y.vo,ea:y.ea,GD:y.GD});C=this.fDb(F,w,B.y$a,B,y,C || t.sEb,x);G=C[0];D=G.ja.P[G.ja.fe].sa;m31=14;break;}}};t.prototype.EX=function(w,v,u,x){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 2:var Q7v="invalid start p";Q7v+="osition relative t";Q7v+="o";Q7v+=" playgraph";return v.P[v.fe].sa === x?(w=n.HN(v,w,f.R.Oa(u)),m.assert(w,Q7v),w):{fa:v.fe,offset:f.R.hb};break;}}};t.prototype.sy=function(w,v,u){var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:return c.__awaiter(this,void 0,void 0,function(){var q31,x,y,z,A;q31=2;for(;q31 !== 5;){switch(q31){case 2:return c.__generator(this,function(B){var r31,s31;r31=2;for(;r31 !== 3;){switch(r31){case 1:var E7v="Can";E7v+=" not update";E7v+=" viewab";E7v+="le. Viewable not foun";E7v+="d ";return (x=this.bo.bind(this,u.ea),y=this.u9(w,u.ea),z=x(w),m.assert(void 0 !== z,E7v + y),[4,z.Jr]);break;case 5:return (A=B.jc(),this.PB[y]={fna:function(){},ea:u.ea,equals:function(D){var t31;t31=2;for(;t31 !== 1;){switch(t31){case 2:return D.N === w && (u.ea === D.ea || !D.ea || !u.ea);break;}}},Ku:!1,Jr:Promise.resolve({ia:v,dj:A.dj,Ne:A.Ne,Cd:A.Cd,config:A.config}),N:w},[4,this.Ia.sy(this.PB[y])]);break;case 2:s31=B.label;r31=s31 === 0?1:9;break;case 9:r31=s31 === 1?5:8;break;case 8:r31=s31 === 2?4:3;break;case 4:return (B.jc(),[2]);break;}}});break;}}});break;}}};t.prototype.fDb=function(w,v,u,x,y,z,A){var u31,B,D,C,F,G,E;u31=2;for(;u31 !== 7;){switch(u31){case 2:var d7v="vi";d7v+="d";d7v+="e";d7v+="o";var a7v="a";a7v+="u";a7v+="d";a7v+="io";var Z7v="au";Z7v+="di";Z7v+="o";var I7v="v";I7v+="id";I7v+="eo";var i7v="Generat";i7v+="ed play";i7v+="graph fr";i7v+="om ";i7v+="choicemap.";(B=this,D=v.choiceMap);D?(w=k.Wz(D,{config:x}),this.console.trace(i7v)):w=k.bF(w,z,A.dV || A.vF?A.vF?[I7v]:[Z7v]:[a7v,d7v]);(C=Object.create(x,{mA:{value:y.GD},zIb:{value:y.mN}}),F=this.bo.bind(this,y.ea),G=[this.Ia.lH(w,u,C,{bo:F})]);u31=4;break;case 4:u31=D && D.FWb?3:8;break;case 9:Object.keys(E).forEach(function(I,N){var v31;v31=2;for(;v31 !== 9;){switch(v31){case 2:var S7v="Currentl";S7v+="y parallel graph ca";S7v+="n only be media ";S7v+="type [au";S7v+="dio]";var p7v="au";p7v+="di";p7v+="o";var D7v="Curren";D7v+="tly only on";D7v+="e ";D7v+="paralle";D7v+="l graph is supported";a000.C9G(22);m.assert(a000.y9G(N,0),D7v);N=E[I];m.assert(N.Cd && 1 === N.Cd.length && p7v === N.Cd[0],S7v);I=k.Wz(D,c.__assign(c.__assign({},E[I]),{config:x}));v31=3;break;case 3:G.push(B.Ia.lH(I,u,C,{bo:F}));v31=9;break;}}});u31=8;break;case 3:E=D.FWb;u31=9;break;case 8:return G;break;}}};f31=13;break;case 13:t.prototype.Lzb=function(){var w31;w31=2;for(;w31 !== 1;){switch(w31){case 2:this.$b.KQ(null);w31=1;break;}}};t.prototype.bo=function(w,v){var x31;x31=2;for(;x31 !== 1;){switch(x31){case 2:return this.PB[this.u9(v,w)];break;}}};t.prototype.s_b=function(w){var y31,v,u;y31=2;for(;y31 !== 13;){switch(y31){case 2:this.Lzb();(v=this.u9(w.N,w.ea),u=this.PB[v]);u && (u.Ku=!0);y31=4;break;case 4:this.Ia.Ov(w.na);w.Fa && this.Ia.nQ(w.Fa);w.Ug && this.Ia.Ov(w.Ug);w.Lj && this.Ia.nQ(w.Lj);y31=7;break;case 7:w === this.T$ && delete this.T$;this.Ia.Lya(this.PB[v]);delete this.PB[v];y31=13;break;}}};t.prototype.Hb=function(){var z31;z31=2;for(;z31 !== 9;){switch(z31){case 2:var u7v="Attem";u7v+="pt to ";u7v+="destruct ShimManager";u7v+=" with lates";u7v+="t session still defined";var h7v="Attempted to";h7v+=" destruct ShimManag";h7v+="er with s";h7v+="essio";h7v+="n config active";var w7v="Attempted to d";w7v+="estruct ShimManager with ";w7v+="players ";w7v+="pres";w7v+="ent in ASE";var A7v="Attempte";A7v+="d to destruct ShimManager";A7v+=" wit";A7v+="h playgraphs present in ASE";m.assert(0 === this.Ia.ME.length,A7v);m.assert(0 === this.Ia.x$a.length,w7v);m.assert(0 === Object.keys(this.PB).length,h7v);m.assert(void 0 === this.T$,u7v);this.Ia.close();z31=9;break;}}};f31=20;break;case 20:var N7v="s";N7v+="0";t.prototype.u9=function(w,v){var t9v=a000;var A31;A31=2;for(;A31 !== 1;){switch(A31){case 2:t9v.n9G(7);return t9v.b9G("-",v,w);break;case 4:t9v.n9G(23);return t9v.y9G(w,"",v);break;A31=1;break;}}};t.sEb=N7v;return t;break;}}function t(w,v,u,x){var g31,y;g31=2;for(;g31 !== 11;){switch(g31){case 13:var K7v="1SIY";K7v+="b";K7v+="Z";K7v+="rN";K7v+="JCp9";K7v;return y;break;case 2:y=q.call(this) || this;y.config=w;y.qD=v;y.vq=u;g31=3;break;case 9:var X9v="D";X9v+="EB";X9v+="U";X9v+="G";X9v+=":";var T9v="n";T9v+="f-ase shim v";T9v+="ersion:";y.PB={};w=a(432);y.console=p;y.console.trace(T9v,w,X9v,!1);y.Ia=d.uI();g31=13;break;case 3:y.mF=x;g31=9;break;}}}})(r.EventEmitter);b.OOa=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P;Object.defineProperties(b,{__esModule:{value:!0}});b.KCa=void 0;c=a(1);k=a(17);h=a(379);g=a(988);d=a(234);f=a(989);m=a(229);l=a(15);a(221);n=a(434);p=a(437);q=a(1030);t=a(428);w=a(23);v=a(4);u=a(245);x=a(1031);y=a(1032);z=a(1033);A=a(71);B=a(184);D=a(1034);C=a(68);F=a(264);G=a(9);E=c.__importDefault(a(6));I=a(1035);N=a(1036);L=a(1037);H=a(1038);Q=a(54);O=a(377);J=a(445);M=a(1050);P=a(1051);r=(function(){function R(S){this.I=S;this.events=new k.EventEmitter();this.Xc=h.Go.CLOSED;this.Dz=[];this.c0=[];this.nU=[];this.mq=[];this.YQa={};this.v5={};this.VAa=h.NR.default;this.wub=new A.Fw({cr:this,source:"engine",dt:10,console:S});}Object.defineProperties(R.prototype,{Hv:{get:function(){v.assert(this.uz);return this.uz;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{state:{get:function(){return this.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{x$a:{get:function(){return this.nU;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{ME:{get:function(){return this.mq.map(function(S){return S.ja;});},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{GXb:{get:function(){return this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{$b:{get:function(){this.LK();return this.Zz.$b;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{mo:{get:function(){this.LK();return this.Zz.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{ei:{get:function(){this.LK();return this.Zz.ei;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{v7b:{get:function(){return this.Dz.length;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{uV:{get:function(){return this.YQa;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{vK:{get:function(){return this.v5;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{wTb:{get:function(){return this.uSa || (this.uSa=this.pyb());},enumerable:!1,configurable:!0}});R.prototype.open=function(S,U,ba,na){var va;va=this;if(this.Xc === h.Go.OPEN)return !1;this.J=S;this.Pt=new C.nT(new F.V3({Dk:!0,currentTime:function(){return G.R.Oa(E.default.time.ha());},speed:1}),this.I,"Engine Scheduler");this.ORa=new f.VGa(this.I,S);this.XC=new q.lOa(this.D$.bind(this),S);S.Yda && (this.iq=new g.SDa(this.I,function(){return va.uV;}));this.Zz=m.kL.f2a(S,U);this.Xc=h.Go.OPEN;S=Object.create(S,{Yvb:{value:S.sJ || S.qs}});this.uz=J.zX(S);ba && this.uz.Ocb(ba);na && this.uz.Yza(na);this.B$a=new M.vNa({fl:function(){va.Xc !== h.Go.CLOSED && va.XC.fl("playgraphOpportunity");}});this.vSa=new L.sKa(function(){return va.f9();},function(){return va.g9().global;},this.I);this.kDb();return !0;};R.prototype.lH=function(S,U,ba,na,va){var ya,ra,V;ya=this;void 0 === va && (va=!0);this.LK();ra=Object.create(ba,{PQ:{value:this.vK}});if(va && (ba=this.Hv.Czb(S,ra)))return (ba.egb(U),S=this.VE.bind(this,na,ba),ba.U1b(S),ba);S=[S,U,ra,R.zUb++,this.$b,function(){for(var K=[],T=0;T < arguments.length;T++){K[T]=arguments[T];}return ya.VE.apply(ya,c.__spread([na,V],K));},function(K){return ya.XC.fl(K);},va?this.Hv.Bzb.bind(this.Hv):function(){},this.f9.bind(this),this.iq];if(this.J.N7){U=a(1052);V=U.PV.apply(U,c.__spread([{}],S));}else V=new (p.H1.bind.apply(p.H1,c.__spread([void 0],S)))();V.Mg(new y.dPa(V));V.Mg(new z.yPa(V.gr));V.r6a.Mg(new H.fDa(V));this.xz.qQ.forEach(function(K){return V.Mg(K);});this.B$a.lH(V);S=new k.Dg();S.on(V.events,"requestsPruned",this.U_b.bind(this));S.on(V.events,"weightUpdated",this.Zwa.bind(this));S.on(V.events,"underflow",this.Jk.bind(this,V));this.mq.push({ja:V,oh:S,p_:0});this.Zwa();return V;};R.prototype.Jk=function(S){S=this.vSa.NIb(S);(null === S || void 0 === S?0:S.A7) || this.Hv.reset();};R.prototype.Ov=function(S){this.B$a.Ov(S);this.mq=this.mq.filter(function(U){return U.ja === S?(U.oh.clear(),!1):!0;});S.Hb();this.Zwa();};R.prototype.hUa=function(S,U){var ba,na,va;this.LK();va=U.Cd;S=[S,void 0 === va?[0,1]:va,c.__assign({PQ:null !== (na=null !== (ba=U.PQ) && void 0 !== ba?ba:this.v5) && void 0 !== na?na:{}},U)];ba=this.J.N7?a(1060).OV.apply(void 0,c.__spread(S)):new (n.LR.bind.apply(n.LR,c.__spread([void 0],S)))();this.nU.push(ba);return ba;};R.prototype.nQ=function(S){this.LK();this.nU=this.nU.filter(function(U){return U !== S;});S.Hb();};R.prototype.Rza=function(S,U){this.YQa=S;this.v5=U;this.uSa=void 0;};R.prototype.YE=function(S,U){var ba,na;na=null === (ba=w.ze(this.Dz,function(va){return va.MV.equals(S);})) || void 0 === ba?void 0:ba.M;na?na.YE(c.__assign(c.__assign({},U),{oo:this.rwa.bind(this)})):this.c0.push({Ogb:S,ldb:U});};R.prototype.Lya=function(S){this.c0=this.c0.filter(function(U){return !U.Ogb.equals(S);});};R.prototype.close=function(){this.Xc !== h.Go.CLOSED && (this.h_b(),v.assert(0 === this.Dz.length,"Unexpected viewable lease after Playgraph destruction."),this.g_b(),this.c0=[],delete this.Zz,this.Xc=h.Go.CLOSED,this.Pt.Hb());};R.prototype.$1b=function(S){this.VAa=S;this.XC.fl("streamingModeChanged");};R.prototype.Vl=function(){return this.xz.Vl();};R.prototype.kDb=function(){this.xz=new Q.hia(this.J);this.xz.Mg(new I.pGa(this));this.xz.Mg(new D.nOa(this.$b,this.XC));this.xz.Mg(new x.mGa(this.$b));this.xz.Mg(new B.Ew(this.wub));this.xz.Mg(new B.Ew(this.XC.Xq));this.xz.Mg(new B.Ew(this.ORa.Wg));this.xz.Mg(new B.Ew(this.vSa.Wg));};R.prototype.rwa=function(){};R.prototype.sy=function(S){return c.__awaiter(this,void 0,void 0,function(){var U,ba,na,va;return c.__generator(this,function(ya){switch(ya.label){case 0:return (v.assert(S,"ase.updateViewable(): Viewable config not found."),U=w.ze(this.Dz,function(ra){return !0 !== ra.MV.Ku && ra.MV.equals(S);}),v.assert(U,"ase.updateViewable(): Viewable entry not found."),[4,U.xF]);case 1:return (ba=ya.jc(),va=(na=ba).sy,[4,S.Jr]);case 2:return (va.apply(na,[ya.jc()]),[2]);}});});};R.prototype.VE=function(S,U,ba,na){var va,ya,ra,V;va=this;ya=S.bo(ba,na);v.assert(ya,"ase.requestViewable(): Viewable config not found.");ra=w.ze(this.Dz,function(K){return !0 !== K.MV.Ku && K.MV.equals(ya);});ra || (ra={MV:ya,xF:(function(){return c.__awaiter(va,void 0,void 0,function(){var K,T;return c.__generator(this,function(fa){switch(fa.label){case 0:return [4,ya.Jr];case 1:return (K=fa.jc(),T=this.XV(ba,ya,K),ra.M=T,[2,T]);}});});})(),M:void 0,cRb:new u.EIa(function(K){K() && va.Pya(ra);},G.ko(E.default,this.I,"" + ba))},this.Dz.push(ra));V=this;return {get M() {return null === ra || void 0 === ra?void 0:ra.M;},get xF() {var K;K=this;return (function(){return c.__awaiter(K,void 0,void 0,function(){var T;return c.__generator(this,function(fa){switch(fa.label){case 0:return (fa.Dl.push([0,2,,3]),[4,ra.xF]);case 1:return [2,fa.jc()];case 2:throw (T=fa.jc(),O.MMa.WPb(T) && U.rh(T),V.Pya(ra,!1),T);case 3:return [2];}});});})();},tY:ra.cRb.Ez()};};R.prototype.Pya=function(S,U){var ba,na;void 0 === U && (U=!0);v.assert(S,"expected viewableEntry to exist");ba=S.M;na=S.xF;U && (ba?ba.Hb():na.then(function(va){va.Hb();}));this.Dz=this.Dz.filter(function(va){return va !== S;});};R.prototype.XV=function(S,U,ba){var va,ya,ra,V,K,T,fa;function na(ia){va.events.emit("logdata",ia);}va=this;this.LK();ra=ba.ia;V=ba.dj;K=ba.Ne;T=ba.Cd;T=void 0 === T?l.Lf:T;ba=ba.config;fa=[new t.$ga(0),new t.$ga(1)];ra={ia:ra,config:ba,dj:V,Cd:T,E8:void 0,$b:this.Zz.$b,ei:this.Zz.ei,n_a:{Ls:function(){return va.XC.fl("networkFailureReset");},rh:this.rh.bind(this,S),io:this.io.bind(this,S),po:na},w3a:{po:na,DX:void 0,TD:function(ia){return fa[ia];},n$:function(){return !0;},Sf:void 0,cm:void 0,Eh:void 0,bE:void 0},xQ:{pu:this.pu.bind(this),HB:this.HB.bind(this)},vK:this.v5,Tb:0,Kp:void 0,A7a:{Fta:! !K,c5a:!1},lZ:function(){}};S=new d.Vea(S,ra);ba.nA && (ra=(null === (ya=w.ze(this.c0,function(ia){return ia.Ogb.equals(U);})) || void 0 === ya?void 0:ya.ldb) || ({}),this.Lya(U),S.YE(c.__assign(c.__assign({},ra),{oo:this.rwa.bind(this)})));return S;};R.prototype.D$=function(){var S,U;v.assert(this.state === h.Go.OPEN);S=this.g9();U=this.OO();return this.ORa.q9a(S,U);};R.prototype.OO=function(){var S,U,ba;S=this;ba=null !== (U=this.J.fYb) && void 0 !== U?U:this.mq.every(function(na){return !na.ja.GI;});U=w.flatten(this.mq.map(function(na){return na.ja.OO().map(function(va){na.ja.GI || 1 === na.p_ || (va.AI=na.p_);return va;});}));this.VAa === h.NR.disabled?U=[]:this.VAa === h.NR.eSb && (U=U.filter(function(na){return S.J.rva >= na.Gt - na.Bs;}));ba || (ba=U.filter(function(na){var va;return 1 === (null !== (va=na.AI) && void 0 !== va?va:1);}),ba.length && (U=ba));ba=this.Dz.reduce(function(na,va){return va.M?c.__spread(na,va.M.OO()):na;},[]);return w.flatten(c.__spread(U,ba));};R.prototype.LK=function(){if(this.Xc === h.Go.CLOSED)throw Error("Engine CLOSED");};R.prototype.h_b=function(){var S,na;try{for(var U=c.__values(this.mq),ba=U.next();!ba.done;ba=U.next()){na=ba.value;na.oh.clear();this.Ov(na.ja);}}catch(ya){var va;va={error:ya};}finally{try{ba && !ba.done && (S=U.return) && S.call(U);}finally{if(va)throw va.error;}}};R.prototype.g_b=function(){var S;try{for(var U=c.__values(this.nU),ba=U.next();!ba.done;ba=U.next()){this.nQ(ba.value);}}catch(va){var na;na={error:va};}finally{try{ba && !ba.done && (S=U.return) && S.call(U);}finally{if(na)throw na.error;}}};R.prototype.rh=function(S,U,ba,na,va,ya,ra){var V;void 0 === ra && (ra=!1);V=!1;this.n2a(S).forEach(function(K){if(!ra || l.Bp(K.Nf.value))(K.rh(U,S,ba,na,va,ya,ra),V=!0);});return V;};R.prototype.io=function(S){return this.n2a(S).some(function(U){return U.io();});};R.prototype.n2a=function(S){return this.mq.filter(function(U){var ba;for(U=U.ja;U.xd;){U=U.xd;}ba=U.ja;return Object.keys(ba.P).some(function(na){return ba.P[na].N === S;});}).map(function(U){return U.ja;});};R.prototype.g9=function(){var S;S=new N.TGa();this.mq.forEach(function(U){var ba,na;ba=U.ja;U=U.p_;na=ba.g9();na.AI=U;S.add(ba.id,na);});return S;};R.prototype.f9=function(){return this.wTb;};R.prototype.pyb=function(){var S,U;U=P.lWa(this.J,this.uV);return {total:(S={},S[1]=this.uV.video || Infinity,S[0]=this.uV.audio || Infinity,S.total=this.uV.total || Infinity,S),JAa:U};};R.prototype.pu=function(S){var U;this.XC.pu(S);null === (U=this.iq) || void 0 === U?void 0:U.pu(S);};R.prototype.HB=function(S){this.XC.HB(S);};R.prototype.Zwa=function(){var S;S=this.ME.reduce(function(U,ba){return Math.max(ba.weight,0) + U;},0);this.mq.forEach(function(U){U.p_=0 >= U.ja.weight?0:U.ja.weight / S;});};R.prototype.U_b=function(S){var U;U=this;this.iq && S.requests.forEach(function(ba){return U.iq.HB(ba);});};R.zUb=0;c.__decorate([A.Kb({methodName:"open"})],R.prototype,"open",null);c.__decorate([A.Kb({methodName:"addPlaygraph",context:function(S){var U,ba;return {playgraphCount:null !== (ba=null === (U=S.c9a.mq) || void 0 === U?void 0:U.length) && void 0 !== ba?ba:0};}})],R.prototype,"lH",null);c.__decorate([A.Kb({methodName:"removePlaygraph",context:function(S){return {playgraphCount:S.c9a.mq.length};}})],R.prototype,"Ov",null);c.__decorate([A.Kb({methodName:"close"})],R.prototype,"close",null);c.__decorate([A.Kb({methodName:"setStreamingMode",Kn:!0})],R.prototype,"$1b",null);c.__decorate([A.Kb({methodName:"notifyAseException",Kn:!0})],R.prototype,"rwa",null);c.__decorate([A.Kb({methodName:"updateViewable"})],R.prototype,"sy",null);c.__decorate([A.Kb({methodName:"requestViewable"})],R.prototype,"VE",null);c.__decorate([A.Kb({methodName:"removeViewable"})],R.prototype,"Pya",null);c.__decorate([A.Kb({methodName:"createViewable"})],R.prototype,"XV",null);c.__decorate([A.Kb({methodName:"issueRequestOpportunity",jl:!0,return:!0})],R.prototype,"D$",null);c.__decorate([A.Kb({methodName:"reportStreamingFailure",Kn:!0})],R.prototype,"rh",null);return R;})();b.KCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=void 0;c=a(4);r=(function(){function k(h,g){this.I=h;this.Qqb=g;this.cx=this.Iw=this.sq=0;}k.prototype.pu=function(h){var g;if(!h.Hc){g=h.aa;c.assert(0 < g);this.sq+=g;0 === h.mediaType?this.Iw+=g:this.cx+=g;c.assert(this.sq === this.Iw + this.cx);c.assert(0 < this.sq);c.assert(0 <= this.Iw);c.assert(0 <= this.cx);}};k.prototype.HB=function(h){var g;if(!h.Hc){g=h.aa;c.assert(0 < g);this.sq-=g;0 === h.mediaType?this.Iw-=g:this.cx-=g;c.assert(this.sq === this.Iw + this.cx);c.assert(0 <= this.sq);c.assert(0 <= this.Iw);c.assert(0 <= this.cx);}};k.prototype.izb=function(h,g){var d;c.assert(this.sq === this.Iw + this.cx);d=this.Qqb();if(void 0 !== d.total && this.sq + g > d.total)return !1;d=0 === h?d.audio:d.video;h=0 === h?this.Iw:this.cx;return void 0 !== d && h + g > d?!1:!0;};return k;})();b.SDa=r;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(g.T7a(function(q){return q.sB;}),p).sB;}Object.defineProperties(b,{__esModule:{value:!0}});b.VGa=void 0;k=a(1);h=a(221);g=a(23);d=a(15);f=a(71);m=k.__importDefault(a(6));l=a(433);r=(function(){function n(p,q){this.I=p;this.config=q;this.T5a=0;this.Wg=new f.Fw({dt:10,cr:this,source:"GraphStreamingProcess"});}n.prototype.q9a=function(p,q){var t,w,v,u,x,y,z,A,C,F,G,E,I;v=!1;u=[];if(0 < q.length){x=this.Y2b(q);y=x.some(function(L){return 1 === l.nWa(L) && d.Bp(L.Nf);});z=x.slice();A=[!1,!1];try{for(var B=k.__values(x),D=B.next();!D.done;D=B.next()){C=D.value;if(C.lE && "global" !== A[C.mediaType]){F=C.n5a(p,null !== (w=C.AI) && void 0 !== w?w:1);G=h.Cab(F.reason);G && (A[C.mediaType]=G,g.WUa(z,C));if(F.result){E=c(z,C);if(this.qzb(C,y,E)){I=C.r5a();this.Sua(u,C,I.reason);I.Wl && (this.T5a=m.default.time.ha());if(v=I.Wl)break;if("globalVideoMemoryLimit" === I.reason || "globalAudioMemoryLimit" === I.reason){this.I.trace("GSP.onRequestOpportunity stopping at memory limit:",I.reason);break;}}else if((this.Sua(u,C,"concurrencyCheck"),!G))break;}else this.Sua(u,C,F.reason);}}}catch(L){var N;N={error:L};}finally{try{D && !D.done && (t=B.return) && t.call(B);}finally{if(N)throw N.error;}}}this.Wg.ps({streamableCount:q.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.T5a});return v;};n.prototype.Y2b=function(p){return this.BYb(p).sort(function(q,t){return q.priority - t.priority;}).map(function(q){return q.C3b;});};n.prototype.BYb=function(p){var q;q=this;return p.map(function(t){return {priority:-l.mWa(q.config,t,q.I),C3b:t};});};n.prototype.Sua=function(p,q,t){this.Wg.enabled && p.push(this.uMb(t,q));};n.prototype.uMb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Nf,currentPlayerMs:q.Bs,pathCompletePlayerMs:q.sB,streamingPlayerMs:q.Gt};};n.prototype.qzb=function(p,q,t){return this.config.wV && (q || d.Bp(p.Nf))?this.rzb(p,t):this.szb(p,t);};n.prototype.tzb=function(p){return p.Gt <= p.sB;};n.prototype.szb=function(p,q){return p.Gt - (p.Bs > q?p.Bs:q) <= Math.max(this.config.Sva,Math.min((p.sB - p.Bs) * this.config.TAa,this.config.$Sb));};n.prototype.rzb=function(p,q){var t,w;if(void 0 === this.config.wV)return !0;t=this.config.wV;w=p.Bs + t;return p.Gt <= w?!0:this.tzb(p) && q >= w && p.Gt - q < t;};k.__decorate([f.Kb({methodName:"onRequestOpportunity",jl:!0})],n.prototype,"q9a",null);return n;})();b.VGa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Va=void 0;c=a(263);k=a(992);b.$Va=function(){return function(h){var f,m,l,n;function g(p){n[p]=function(q){return m({rules:[{xl:p,config:q}]},!0);};}function d(p){f[p]=function(q){return m({rules:[{xl:p,config:q}]});};}f={};m=c.map(h.X6a);for(l in h.aK){d(l);}f.bVb=m({rules:[],Qla:!0});f.hn=m({rules:[],hn:!0});n={};for(l in h.aK){g(l);}n.bVb=m({rules:[],Qla:!0});n.hn=m({rules:[],hn:!0});f.return=n;return {Coa:f,Gca:h,dca:function(p,q,t,w){return k.dYa(p,q,t,h.aK,h.X6a,w);}};};};},function(r,b,a){(function(c,k){var h;(function(g){(function(d){var m,l;function f(n,p){return function(q,t){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:t});p && p(q,t);};}m="object" === typeof k?k:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();l=f(g);"undefined" === typeof m.Reflect?m.Reflect=g:l=f(m.Reflect,l);d(l);})(function(d){var I,N,L,H,Q,O,J,M,P,R,S;function f(U,ba,na){var va;va=S.get(U);if(v(va)){if(!na)return;va=new P();S.set(U,va);}U=va.get(ba);if(v(U)){if(!na)return;U=new P();va.set(ba,U);}return U;}function m(U,ba,na){if(l(U,ba,na))return !0;ba=D(ba);return null === ba?!1:m(U,ba,na);}function l(U,ba,na){ba=f(ba,na,!1);return v(ba)?!1:! !ba.has(U);}function n(U,ba,na){if(l(U,ba,na))return p(U,ba,na);ba=D(ba);if(null !== ba)return n(U,ba,na);}function p(U,ba,na){ba=f(ba,na,!1);if(!v(ba))return ba.get(U);}function q(U,ba){var na,ra,V;na=t(U,ba);U=D(U);if(null === U)return na;ba=q(U,ba);if(0 >= ba.length)return na;if(0 >= na.length)return ba;U=new R();for(var va=[],ya=0;ya < na.length;ya++){ra=na[ya];V=U.has(ra);V || (U.add(ra),va.push(ra));}for(na=0;na < ba.length;na++){ra=ba[na];(V=U.has(ra)) || (U.add(ra),va.push(ra));}return va;}function t(U,ba){var na,va;na=[];U=f(U,ba,!1);if(v(U))return na;U=U.keys();ba=B(U,H);if(!A(ba))throw new TypeError();U=ba.call(U);if(!u(U))throw new TypeError();for(ba=0;;){va=U.next();va=va.done?!1:va;if(!va)return (na.length=ba,na);va=va.value;try{na[ba]=va;}catch(ra){var ya;try{ya=U["return"];ya && ya.call(U);}finally{throw ra;}}ba++;}}function w(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function v(U){return void 0 === U;}function u(U){return "object" === typeof U?null !== U:"function" === typeof U;}function x(U,ba){var na;switch(w(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}ba=3 === ba?"string":5 === ba?"number":"default";na=B(U,L);if(void 0 !== na){U=na.call(U,ba);if(u(U))throw new TypeError();return U;}a:{if("string" === ("default" === ba?"number":ba)){ba=U.toString;if(A(ba) && (ba=ba.call(U),!u(ba)))break a;ba=U.valueOf;}else {ba=U.valueOf;if(A(ba) && (ba=ba.call(U),!u(ba)))break a;ba=U.toString;}if(!A(ba) || (ba=ba.call(U),u(ba)))throw new TypeError();}return ba;}function y(U){U=x(U,3);return "symbol" === typeof U?U:"" + U;}function z(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function A(U){return "function" === typeof U;}function B(U,ba){U=U[ba];if(void 0 !== U && null !== U){if(!A(U))throw new TypeError();return U;}}function D(U){var ba,na;ba=Object.getPrototypeOf(U);if("function" !== typeof U || U === M || ba !== M)return ba;na=U.prototype;na=na && Object.getPrototypeOf(na);if(null == na || na === Object.prototype)return ba;na=na.constructor;return "function" !== typeof na || na === U?ba:na;}function C(){var va,ya,ra;function U(V){return V;}function ba(V,K){return K;}function na(V,K){return [V,K];}va={};ya=[];ra=(function(){function V(K,T,fa){this.ye=0;this.kf=K;this.Mf=T;this.Ztb=fa;}V.prototype["@@iterator"]=function(){return this;};V.prototype[H]=function(){return this;};V.prototype.next=function(){var K,T;K=this.ye;if(0 <= K && K < this.kf.length){T=this.Ztb(this.kf[K],this.Mf[K]);K + 1 >= this.kf.length?(this.ye=-1,this.Mf=this.kf=ya):this.ye++;return {value:T,done:!1};}return {value:void 0,done:!0};};V.prototype.throw=function(K){0 <= this.ye && (this.ye=-1,this.Mf=this.kf=ya);throw K;};V.prototype.return=function(K){0 <= this.ye && (this.ye=-1,this.Mf=this.kf=ya);return {value:K,done:!0};};return V;})();return (function(){function V(){this.kf=[];this.Mf=[];this.Jw=va;this.bu=-2;}Object.defineProperty(V.prototype,"size",{get:function(){return this.kf.length;},enumerable:!0,configurable:!0});V.prototype.has=function(K){return 0 <= this.lz(K,!1);};V.prototype.get=function(K){K=this.lz(K,!1);return 0 <= K?this.Mf[K]:void 0;};V.prototype.set=function(K,T){K=this.lz(K,!0);this.Mf[K]=T;return this;};V.prototype.delete=function(K){var T,fa;T=this.lz(K,!1);if(0 <= T){fa=this.kf.length;for(T+=1;T < fa;T++){this.kf[T - 1]=this.kf[T];this.Mf[T - 1]=this.Mf[T];}this.kf.length--;this.Mf.length--;K === this.Jw && (this.Jw=va,this.bu=-2);return !0;}return !1;};V.prototype.clear=function(){this.kf.length=0;this.Mf.length=0;this.Jw=va;this.bu=-2;};V.prototype.keys=function(){return new ra(this.kf,this.Mf,U);};V.prototype.values=function(){return new ra(this.kf,this.Mf,ba);};V.prototype.entries=function(){return new ra(this.kf,this.Mf,na);};V.prototype["@@iterator"]=function(){return this.entries();};V.prototype[H]=function(){return this.entries();};V.prototype.lz=function(K,T){this.Jw !== K && (this.bu=this.kf.indexOf(this.Jw=K));0 > this.bu && T && (this.bu=this.kf.length,this.kf.push(K),this.Mf.push(void 0));return this.bu;};return V;})();}function F(){return (function(){function U(){this.ah=new P();}Object.defineProperty(U.prototype,"size",{get:function(){return this.ah.size;},enumerable:!0,configurable:!0});U.prototype.has=function(ba){return this.ah.has(ba);};U.prototype.add=function(ba){return (this.ah.set(ba,ba),this);};U.prototype.delete=function(ba){return this.ah.delete(ba);};U.prototype.clear=function(){this.ah.clear();};U.prototype.keys=function(){return this.ah.keys();};U.prototype.values=function(){return this.ah.values();};U.prototype.entries=function(){return this.ah.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[H]=function(){return this.keys();};return U;})();}function G(){var va,ya;function U(){var ra,T;do {ra="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):na(new Uint8Array(16),16):na(Array(16),16);ra[6]=ra[6] & 79 | 64;ra[8]=ra[8] & 191 | 128;for(var V="",K=0;16 > K;++K){T=ra[K];if(4 === K || 6 === K || 8 === K)V+="-";16 > T && (V+="0");V+=T.toString(16).toLowerCase();}ra="@@WeakMap@@" + V;}while(J.has(va,ra));va[ra]=!0;return ra;}function ba(ra,V){if(!I.call(ra,ya)){if(!V)return;Object.defineProperty(ra,ya,{value:J.create()});}return ra[ya];}function na(ra,V){for(var K=0;K < V;++K){ra[K]=255 * Math.random() | 0;}return ra;}va=J.create();ya=U();return (function(){function ra(){this.fu=U();}ra.prototype.has=function(V){V=ba(V,!1);return void 0 !== V?J.has(V,this.fu):!1;};ra.prototype.get=function(V){V=ba(V,!1);return void 0 !== V?J.get(V,this.fu):void 0;};ra.prototype.set=function(V,K){ba(V,!0)[this.fu]=K;return this;};ra.prototype.delete=function(V){V=ba(V,!1);return void 0 !== V?delete V[this.fu]:!1;};ra.prototype.clear=function(){this.fu=U();};return ra;})();}function E(U){U.lpb=void 0;delete U.lpb;return U;}I=Object.prototype.hasOwnProperty;N="function" === typeof Symbol;L=N && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";H=N && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";N="function" === typeof Object.create;Q=({__proto__:[]}) instanceof Array;O=!N && !Q;J={create:N?function(){return E(Object.create(null));}:Q?function(){return E({__proto__:null});}:function(){return E({});},has:O?function(U,ba){return I.call(U,ba);}:function(U,ba){return (ba in U);},get:O?function(U,ba){return I.call(U,ba)?U[ba]:void 0;}:function(U,ba){return U[ba];}};M=Object.getPrototypeOf(Function);P=(N="object" === typeof c && c.l_a && "true" === c.l_a.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?C():Map;R=N || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;S=new (N || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(U,ba,na,va){var ra;if(v(na)){if(!z(U))throw new TypeError();if("function" !== typeof ba)throw new TypeError();for(na=U.length - 1;0 <= na;--na){if((va=(0,U[na])(ba),!v(va) && null !== va)){if("function" !== typeof va)throw new TypeError();ba=va;}}return ba;}if(!z(U))throw new TypeError();if(!u(ba))throw new TypeError();if(!u(va) && !v(va) && null !== va)throw new TypeError();null === va && (va=void 0);na=y(na);for(var ya=U.length - 1;0 <= ya;--ya){ra=(0,U[ya])(ba,na,va);if(!v(ra) && null !== ra){if(!u(ra))throw new TypeError();va=ra;}}return va;});d("metadata",function(U,ba){return function(na,va){var ya;if(!u(na))throw new TypeError();if(ya=!v(va)){a:switch(w(va)){case 3:ya=!0;break a;case 4:ya=!0;break a;default:ya=!1;}ya=!ya;}if(ya)throw new TypeError();f(na,va,!0).set(U,ba);};});d("defineMetadata",function(U,ba,na,va){if(!u(na))throw new TypeError();v(va) || (va=y(va));f(na,va,!0).set(U,ba);});d("hasMetadata",function(U,ba,na){if(!u(ba))throw new TypeError();v(na) || (na=y(na));return m(U,ba,na);});d("hasOwnMetadata",function(U,ba,na){if(!u(ba))throw new TypeError();v(na) || (na=y(na));return l(U,ba,na);});d("getMetadata",function(U,ba,na){if(!u(ba))throw new TypeError();v(na) || (na=y(na));return n(U,ba,na);});d("getOwnMetadata",function(U,ba,na){if(!u(ba))throw new TypeError();v(na) || (na=y(na));return p(U,ba,na);});d("getMetadataKeys",function(U,ba){if(!u(U))throw new TypeError();v(ba) || (ba=y(ba));return q(U,ba);});d("getOwnMetadataKeys",function(U,ba){if(!u(U))throw new TypeError();v(ba) || (ba=y(ba));return t(U,ba);});d("deleteMetadata",function(U,ba,na){var va;if(!u(ba))throw new TypeError();v(na) || (na=y(na));va=f(ba,na,!1);if(v(va) || !va.delete(U))return !1;if(0 < va.size)return !0;U=S.get(ba);U.delete(na);if(0 < U.size)return !0;S.delete(ba);return !0;});});})(h || (h={}));}).call(this,a(259),a(199));},function(r,b,a){var d,f,m,l,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function k(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function h(p,q){var v;for(var t=Object.getPrototypeOf(p),w=[];t !== Object.prototype;){w=w.concat(Object.getOwnPropertyNames(t));t=Object.getPrototypeOf(t);}p=Object.keys(p).concat(w);q.__proxyCtor || (q.__proxyCtor=void 0);v=Object.getPrototypeOf(q);p.forEach(function(u){Object.getOwnPropertyDescriptor(q,u) || Object.getOwnPropertyDescriptor(v,u) || q[u] || Object.defineProperty(q,u,{get:function(){},configurable:!0,enumerable:!0});});}function g(p,q,t,w){var x;for(var v=[],u=4;u < arguments.length;u++){v[u - 4]=arguments[u];}x=w();if((null === x || void 0 === x?0:x.Lva) || (null === x || void 0 === x?0:x.Db))v=v.map(function(y,z){var A;z=n.K7a(x.Lva,null === (A=x.Db) || void 0 === A?void 0:A[z]);return l.Hca(q,y,t,z);});v=p.call.apply(p,d.__spread([void 0],v));return (null === x || void 0 === x?0:x.return)?l.Hca(q,v,t,x.return,m.uw.LBa):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.YIb=b.xEb=b.dYa=void 0;d=a(1);f=a(263);m=a(183);l=a(435);n=a(993);b.dYa=function(p,q,t,w,v,u){var x,y;void 0 === u && (u=[]);x={};y=f.O1a(v);h(q,p);u.forEach(function(z){return h(z,p);});return new Proxy(p,{get:function(z,A){var B,D,C,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=x[A];if(!B && !k(x,A)){B=null !== (C=null === (D=null === z || void 0 === z?void 0:z.constructor) || void 0 === D?void 0:D.prototype) && void 0 !== C?C:z;D=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=k(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,D=y.bind(null,D,A),z=g.bind(z,F.bind(z),t,w,D),Object.defineProperty(x,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(D=y.bind(null,z,A),z=g.bind(z,F.bind(z),t,w,D),x[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete x[A];return !0;}});};b.xEb=h;b.YIb=g;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.K7a=void 0;c=a(1);k=a(23);b.K7a=function(h,g){var d;if(h || g){d=(null === h || void 0 === h?0:h.rules) && (null === g || void 0 === g?0:g.rules)?k.j6(h.rules,g.rules):(null === h || void 0 === h?void 0:h.rules) || (null === g || void 0 === g?void 0:g.rules);return c.__assign(c.__assign(c.__assign({},h),g),{rules:d});}};},function(r,b,a){var k;function c(h,g){var d,f;d=k.__assign({},h);f=k.__read(null !== g && void 0 !== g?g:[],1)[0];f && h[f] && (h=h[f],"object" === typeof h?(g=g.concat(),g.shift(),d[f]=c(h,g)):d[f]=h);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Bcb=b.Ina=b.X8=b.D4a=b.G4a=b.d5a=b.n3a=b.Z4a=b.sf=void 0;k=a(1);b.sf=function(h){return !(null === h || void 0 === h || !h.position);};b.Z4a=function(h){return !(null === h || void 0 === h || !h.fa) && !(null === h || void 0 === h || !h.offset);};b.n3a=function(h){return !(null === h || void 0 === h || !h.fa) || !(null === h || void 0 === h || !h.segmentId);};b.d5a=function(h,g){return "string" === typeof h && !(!g.ty.ja.P[h] && !g.xd.ja.P[h]);};b.G4a=function(h){return !(null === h || void 0 === h || !h.N) && !(null === h || void 0 === h || !h.Hm);};b.D4a=function(h){return !(null === h || void 0 === h || !h.Ie);};b.X8=function(h,g){var d;d=h;g.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.Ina=c;b.Bcb=function(h,g,d){for(var f=0;f < g.length - 1 && h;f++){h=h[g[f]];}return h?(h[g[g.length - 1]]=d,!0):!1;};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.oDa=void 0;c=a(1);k=a(17);h=a(423);g=c.__importDefault(a(6));d=a(255);a(15);f=a(249);m=a(9);l=a(23);n=a(68);p=a(224);q=a(4);t=a(996);w=a(997);v=a(998);r=(function(){function u(x,y,z,A,B,D,C,F,G,E,I){var N;N=this;this.na=x;this.S=y;this.I=z;this.J=A;this.gu=B;this.Zg=D;this.Cd=C;this.gr=F;this.iK=G;this.PC=E;this.OC=I;this.o4=!1;this.BRa=new m.SOa();this.wka=this.tVb.bind(this);this.tj=new d.I1(this.I);this.my=new w.RPa(this.I,x);this.bDb(this.my);this.Xk && (this.ktb=this.Lqa(this.OLb()),this.Mrb=m.Wr.rCa(this.Xk.map(function(L){return L.Ox;}),function(L){return L.every(function(H){return H;});},function(L){return N.PC.set(L);}),this.Mpb=new p.kha(this.Xk.map(function(L){return L.nY;}),function(L){return m.R.min.apply(m.R,c.__spread(L));},function(L){N.OC.set(L);},m.R.Oa(-Infinity)));this.nq=F.PH(function(){return N.Kxb();},"branchPruner");this.uRa=new k.Dg();this.uRa.on(this.Zg,"segmentPresenting",function(){N.Arb=N.S.Om();});}Object.defineProperties(u.prototype,{TQb:{get:function(){return this.Arb;},enumerable:!1,configurable:!0}});u.prototype.Kxb=function(){var x,y,z,A,B,D,C;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.tj.lXa)return [3,2];x=c.__read(this.tj.Fda(),1);y=x[0];z=null !== (C=null === (D=this.gu.PQ) || void 0 === D?void 0:D.W) && void 0 !== C?C:0;A=y.S$ || y.md;B=A.add(m.R.Oa(z + 1E3));return [4,n.Wk.zR(B)];case 1:return (F.jc(),this.tj.remove(y),y.events.removeListener("branchEdited",this.wka),y.Bf("pruned"),[3,0]);case 2:return [2];}});};Object.defineProperties(u.prototype,{AYb:{get:function(){var x;return !(null === (x=this.ktb) || void 0 === x || !x.Ox.value);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aRb:{get:function(){return this.o4?m.R.max.apply(m.R,c.__spread(this.Xk.map(function(x){var y;return null === (y=x.Nwb) || void 0 === y?void 0:y.O5a;}).filter(l.fba))):void 0;},enumerable:!1,configurable:!0}});u.prototype.$E=function(x){this.Xk.forEach(function(y){y.$E(x);});};u.prototype.tVb=function(){var x;this.nq.wl();x=this.Xk.filter(function(y){return y.pPb;}).map(function(y){return y.mediaType;});this.yK(x);this.resume(x);};u.prototype.PGb=function(x){q.assert(-1 === this.tj.Fda().indexOf(x),"Branch " + x.G.id + " is already in the collection, cannot re-queue");x.events.addListener("branchEdited",this.wka);this.tj.enqueue(x);this.nq.state === n.yn.complete && this.nq.wl();x.G.Yv && this.tj.T7();this.o4 || this.oIb(x);};u.prototype.qZ=function(x){this.Xk.forEach(function(y){y.qZ(x);});};u.prototype.reset=function(){this.Xk.forEach(function(x){x.reset();});this.o4=!1;this.BRa.removeAllListeners();this.EH();};u.prototype.G_=function(x){x=this.Lqa(x);null === x || void 0 === x?void 0:x.reset();};u.prototype.EH=function(){var x;x=this;this.tj.Fda().forEach(function(y){return y.events.removeListener("branchEdited",x.wka);});this.tj.clear();this.nq.wl();};u.prototype.resume=function(x){this.Xk.forEach(function(y){void 0 !== x && -1 === x.indexOf(y.mediaType) || y.resume();});};u.prototype.yK=function(x){this.Xk.forEach(function(y){return (void 0 === x || -1 !== x.indexOf(y.mediaType)) && y.stop();});};u.prototype.mAa=function(){this.Xk.forEach(function(x){return x.K2b();});};u.prototype.Jk=function(){this.I.trace("attached-player: onUnderflow");};u.prototype.C2a=function(){return this.tj.getIterator();};u.prototype.HKb=function(){return this.wx()[0];};u.prototype.wx=function(){return this.tj.Fda();};u.prototype.bDb=function(x){var y,z,A;y=this;this.um("createMediaSourceStart");if(this.gu.xX)z=this.gu.xX();else (z=new g.default.MediaSource(this.S.S),z.Uc || (z.Uc=g.default.MediaSource.Uc));if(1 !== z.readyState)this.pq("exception in init","NFErr_MC_StreamingInitFailure");else {this.um("createMediaSourceEnd");this.pg=z;if(!z.U5(this.Cd))throw (this.I.trace("Error:",z.error),this.pq("error creating source buffers","NFErr_MC_StreamingInitFailure"),z.error);A={};this.na.Mg(new t.qEa(A,this.J));this.Xk=z.sourceBuffers.filter(function(B){return 0 <= y.Cd.indexOf(B.mediaType);}).map(function(B){var D,C,F;C=new f.ffa(y.I,B.mediaType,z,B,y.J,!0,{af:function(){return y.S.tg.W;},ho:function(G){return y.S.ho(G.N);}},y.gr);C.addListener("error",function(G){return y.pq(G.errorstr);});C.addListener("logdata",function(G){return y.Zg.emit("logdata",G);});C.addListener("managerdebugevent",function(G){y.Zg.emit("managerdebugevent",G);});F=new h.Tea(C,B.mediaType,y,y.J,y.I,y.S,y.gu,y.gr,x,y.iK);if(1 === B.mediaType)F.on("drmNeeded",function(G){return y.Zg.emit("drmNeeded",G);});null === (D=F.$ba) || void 0 === D?void 0:D.Gvb(new v.rEa(A,y.I,y.S,C,y.S.events,y.gu,y.gr));return F;});}};u.prototype.Hb=function(){this.Mrb.clear();this.Mpb.clear();this.Xk.forEach(function(x){return x.Hb();});this.gu.xX || this.pg.Gq();this.EH();this.nq.Hb();this.uRa.clear();};u.prototype.bj=function(x){return this.Xk.every(function(y){return y.bj(x);});};u.prototype.Nqa=function(){return {kZb:this.wx(),zXb:this.Xk};};u.prototype.oIb=function(x){var y;y=this;this.o4=!0;x.yf.forEach(function(z){var A;A=y.Lqa(z.mediaType);if(void 0 !== A)y.BRa.once(z.mqa,function(B){return A.qIb(B);});});if(x.Mc)this.LZa();else x.events.once("branchNormalized",function(){return y.LZa();});};u.prototype.LZa=function(){var x;x=this.HKb();x && (q.assert(x.he),this.Zg.emit("ptsChanged",{initialTimestamp:x.he}));};u.prototype.Lqa=function(x){return l.ze(this.Xk,function(y){return y.mediaType === x;});};u.prototype.OLb=function(){return -1 !== this.Cd.indexOf(1)?1:0;};u.prototype.um=function(x){x={type:"startEvent",event:x,time:g.default.time.ha()};this.Zg.emit(x.type,x);};u.prototype.pq=function(x,y){this.na.rh(x,void 0,y);};return u;})();b.oDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qEa=void 0;c=a(54);r=(function(){function k(h,g){this.Yh=h;this.config=g;this.sg="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.Tyb;},enumerable:!1,configurable:!0}});k.prototype.Vl=function(h){var g;g=this;if(h.Li === c.ce.pp)return {cdndldist:JSON.stringify(Object.keys(this.Yh).map(function(d){var f;f=g.Yh[d];return {cdnid:f.jx,pbcid:f.vo,dls:Object.keys(f.vW).map(function(m){var l,n;m=f.vW[m];n=0 === m.mediaType?"adlid":"dlid";return (l={tm:m.totalTime,bitrate:m.bitrate},l[n]=m.wc,l.vf=m.$a,l);})};}))};};return k;})();b.qEa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.RPa=void 0;c=a(1).__importDefault(a(6));k=a(21);h=a(31);r=(function(){function g(d,f){this.I=d;this.ls=f;}g.prototype.eF=function(d,f,m,l,n){var p,q;void 0 === n && (n=!1);p=d.G;q=this.Sqb(p);this.IU={startTime:c.default.time.ha(),$2b:d,Z2b:m.W,OFb:f,ie:this.XKb(l,f),r5b:this.FMb(l,n),Noa:n,te:l,GWa:q,yUb:this.rLb(p,m)};};g.prototype.zra=function(d){var f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C;if(this.IU && 0 !== Object.keys(this.IU.GWa).length && d === this.IU.OFb){p=this.IU;q=p.GWa;t=p.yUb;w=p.Noa;v=p.te;u=p.$2b;x=p.Z2b;y=p.startTime;z=p.ie;p=p.r5b;this.IU=void 0;A=this.Pja(d).ws;B=this.oJb(u.G.id,d,q);A=this.mSa(B.weight,A);D={};for(C in q){C !== d && (D[C]=q[C].details);}q=c.default.time.ha() - y;y=v?0:q;C={offset:k.R.Oa(this.oMb(u,x,v,w)),fa:u.G.id};x={offset:k.R.Oa(x),fa:u.G.id};t={segment:d,destPosition:{fa:d,offset:k.R.hb},srcsegment:u.G.id,srcTransitionPosition:C,srcStartPosition:x,srcsegmentduration:u.Kda.W,srcoffset:C.offset.W,seamlessRequested:v,atRequest:B,atTransition:A,discard:D,transitionType:z,transitionTypeAtRequest:p,delayToTransition:this.$Jb(q,v,w),durationOfTransition:y,nextExitPositionAtRequest:t};d=null !== (m=null === (f=this.ls.ja.P[d]) || void 0 === f?void 0:f.type) && void 0 !== m?m:"content";f=null !== (n=null === (l=this.ls.ja.P[u.G.id]) || void 0 === l?void 0:l.type) && void 0 !== n?n:"content";if(d !== f || "content" !== d)(t.midType=d,t.srcmidType=f);return t;}};g.prototype.oJb=function(d,f,m){var l,n,p;p={};(m=m[f])?p=m.details:(h.assert(this.ls),p.weight=null === (n=null === (l=this.ls.ja.P[d].next) || void 0 === l?void 0:l[f]) || void 0 === n?void 0:n.weight);return p;};g.prototype.$Jb=function(d,f,m){var l;m || (l=f?d:0);return l;};g.prototype.rLb=function(d,f){var m,l,n;l=d.uf.add(f);null === (m=d.dy) || void 0 === m?void 0:m.some(function(p){l.lessThan(p.Mc) && (n=p.Mc.W);});return n;};g.prototype.oMb=function(d,f,m,l){return m || l?d.Kda.W:f;};g.prototype.XKb=function(d,f){return d?"seamless":this.Pja(f).OX?"reset":"long";};g.prototype.FMb=function(d,f){return d || f?"lazy":"immediate";};g.prototype.Sqb=function(d){var f,m;f=this;m={};d.nB.forEach(function(l){var n,p;n=d.BUb[l];p=f.Pja(l).ws;m[l]={details:f.mSa(n,p)};});return m;};g.prototype.Pja=function(d){var f,m;d=this.ls.Sqa(d);f=0 < d.length?d[0]:void 0;d=null === f || void 0 === f?void 0:f.RD();if(!f || !d)return {OX:!1,ws:{Fo:0,ns:0,Ot:0,gD:0}};m=f.Asa(0) && !d.ns;f=f.Asa(1) && !d.Fo;return {OX:!m && !f,ws:d};};g.prototype.mSa=function(d,f){return {weight:d,vbuflmsec:f.Fo,abuflmsec:f.ns,vbuflbytes:f.Ot,abuflbytes:f.gD};};return g;})();b.RPa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rEa=void 0;c=a(1);k=a(17);h=a(4);g=a(23);r=(function(d){function f(m,l,n,p,q,t,w){l=d.call(this,"any",l,n,p,q,t,w,"cdnList") || this;l.Yh=m;return l;}c.__extends(f,d);f.prototype.i9a=function(){var m;m=this;this.mU=new k.Dg();this.mU.on(this.Fa.S,"skipped",function(l){m.$Aa(null === l || void 0 === l?void 0:l.Dgc);});this.mU.on(this.Fa.S,"paused",function(){m.$Aa();});this.mU.on(this.Fa.S,"playing",function(){m.OT=void 0;});this.mU.on(this.Fa.S,"underflow",function(){m.$Aa();});};f.prototype.close=function(){d.prototype.close.call(this);this.mU.clear();};f.prototype.$Aa=function(m){var l;if(this.OT && (m || this.Fa.sf) && this.bU && (m || (m=this.Fa.tg),this.OT.greaterThan(m))){l=this.OT.Ha(m);this.bU.totalTime-=l.W;this.OT=m;}};f.prototype.Ox=function(m){var l,n,p;l=m.stream;n=m.he;p=m.md;h.assert(void 0 !== n);this.yla({request:m,F6b:l.url},n,p);};f.prototype.opa=function(m,l){var n,p,q,t,w,v,u,x;w=this.Yh;v=m.rF;m=v.request;u=v.F6b;v=m.duration;m.he && l.greaterThan(m.he) && (l=l.Ha(m.he).W,v-=l);l=m.stream;x=null === (n=g.ze(l.Hk.urls,function(y){return y.url === u;})) || void 0 === n?void 0:n.jp;n=null === (p=l.M.ia.DV) || void 0 === p?void 0:p.vo;p=x + "::" + n;this.bU=(q=(w[p] || (w[p]={jx:x,vo:n,vW:{}})).vW)[t=l.Hk.op] || (q[t]={bitrate:l.bitrate,wc:l.Hk.op,mediaType:m.mediaType,totalTime:0,$a:l.$a});this.bU.totalTime+=v;this.OT=m.md;};return f;})(a(257).E3);b.rEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aNa=void 0;c=a(17);r=a(41);a=(function(){function k(h){var g;g=this;this.S=h;this.dka=!1;this.NG=new c.Dg();this.NG.on(h,"paused",function(){return g.rba();});this.NG.on(h,"playing",function(){return g.rba(!0);});this.NG.on(h,"underflow",function(){return g.rba();});this.NG.on(h,"skipped",function(){return g.uZ();});this.NG.on(h,"clockAdjusted",function(){return g.pZ();});this.NG.on(h,"playbackRateChanged",function(){return g.NVb();});}Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.vTa || this.S.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dk:{get:function(){return this.dka;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var h;return null !== (h=this.S.playbackRate) && void 0 !== h?h:1;},enumerable:!1,configurable:!0}});k.prototype.rba=function(h){void 0 === h && (h=!1);h !== this.dka && (this.vTa=(this.dka=h)?void 0:this.S.qc);this.emit("stopStart",{type:"stopStart"});};k.prototype.uZ=function(){this.vTa=void 0;this.pZ();};k.prototype.pZ=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};k.prototype.NVb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Hb=function(){this.rba();this.NG.clear();};return k;})();b.aNa=a;r.Jf(c.EventEmitter,a);},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.AOa=void 0;c=a(1);k=a(17);h=a(9);g=a(4);r=(function(){function d(f,m){var l;l=this;this.Fa=f;this.S=m;this.pending=new Map();this.listeners=new k.Dg();this.nwa=!1;this.iNb=function(n){var p,q,v;if(l.pending.size){q={};try{for(var t=c.__values(l.pending.entries()),w=t.next();!w.done;w=t.next()){v=c.__read(w.value,2);q[v[0]]=v[1].to.SD();}}catch(x){var u;u={error:x};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(u)throw u.error;}}n.cancel();l.S.wl(q).then(function(){var x;null === (x=l.RN) || void 0 === x?void 0:x.resolve();l.reset();});}};this.listeners.addListener(m,"playbackEnding",this.iNb);}d.prototype.Hb=function(){this.pending.clear();this.listeners.clear();};d.prototype.C7b=function(f){0 === this.pending.size && (g.assert(void 0 === this.RN),this.RN=new h.lL());g.assert(this.RN);g.assert(!this.pending.has(f.mediaType));this.pending.set(f.mediaType,f);if(this.pending.size === this.Fa.Cd.length){if(!this.nwa && this.bQb())return (this.RN.resolve(),this.reset(),this.W5a=f.timestamp,Promise.resolve());this.g3b();}return this.RN.promise;};d.prototype.a0b=function(f){this.pending.delete(f);};d.prototype.l9=function(){return this.W5a;};d.prototype.reset=function(){this.nwa=!1;this.RN=this.W5a=void 0;this.pending.clear();};d.prototype.bQb=function(){var f,n,p,q,t,w;try{for(var m=c.__values(this.pending.entries()),l=m.next();!l.done;l=m.next()){n=c.__read(l.value,2);p=n[0];q=n[1];if(q.from && q.from.track !== q.to.track && (0 !== p || q.from.bitrate !== q.to.bitrate)){t=q.from.SD();w=q.to.SD();if(!this.S.pWa(p,t,w).pWa)return !1;}}}catch(u){var v;v={error:u};}finally{try{l && !l.done && (f=m.return) && f.call(m);}finally{if(v)throw v.error;}}return !0;};d.prototype.g3b=function(){this.nwa=!0;this.Fa.mAa();};return d;})();b.AOa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NDa=void 0;c=a(1);r=(function(){function k(h,g,d,f){this.N=h;this.VE=g;this.Xwa=d;this.Ywa=f;}Object.defineProperties(k.prototype,{M:{get:function(){var h;return null === (h=this.k1) || void 0 === h?void 0:h.M;},enumerable:!1,configurable:!0}});k.prototype.Hb=function(){var h;this.M && (this.M.KBa(this.mb),this.Ywa(this.M));null === (h=this.k1) || void 0 === h?void 0:h.tY.release();this.k1=void 0;};k.prototype.zb=function(h){return c.__awaiter(this,void 0,void 0,function(){var g,d,f,m,l;return c.__generator(this,function(n){switch(n.label){case 0:return (this.mb=h,g=this.VE(this.N),d=g.xF,f=g.M,m=g.tY,this.k1={tY:m,M:f},f?(this.h4a(f,h,!1),[2,f]):[4,d]);case 1:return (l=n.jc(),this.h4a(l,h,!0),[2,l]);}});});};k.prototype.h4a=function(h,g,d){this.k1 && (this.k1.M=h,h.Gya(g),this.Xwa(g,h,d));};return k;})();b.NDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pPa=void 0;c=a(1);r=(function(){function k(h,g){this.I=h;this.Zg=g;this.UAa=!1;}k.prototype.F_b=function(h){this.rh(h.message,void 0,c.__assign(c.__assign({},h.o_a),{err:h.toString()}));};k.prototype.rh=function(h,g,d){void 0 === g && (g=void 0);void 0 === d && (d={});this.UAa || (d.temporaryFailure || (this.UAa=!0),h=c.__assign({type:"error",error:null !== g && void 0 !== g?g:"NFErr_MC_StreamingFailure",errormsg:h,temporaryFailure:!1},d),this.I.error("notifyStreamingError:",h),this.Zg.emit("error",h));};k.prototype.io=function(){return this.UAa;};return k;})();b.pPa=r;},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Hha=void 0;c=a(1);k=a(4);h=a(9);g=a(16);d=a(264);r=(function(f){function m(l){var n;n=f.call(this) || this;n.na=l;n.qb=[];n.FT=new d.V3({Dk:!1,currentTime:function(){return n.sf?n.tg:h.R.fE;},speed:1});return n;}c.__extends(m,f);Object.defineProperties(m.prototype,{Da:{get:function(){return this.FT;},enumerable:!1,configurable:!0}});m.prototype.q6=function(l,n){var p;p=!this.na;p && (this.na=l,this.sja=(null === n || void 0 === n?0:n.sf)?n.tg:void 0);return p;};m.prototype.EH=function(){this.qb=[];this.sja=void 0;};m.prototype.Uoa=function(l){g.Z && k.assert(this.na === l);this.na=void 0;this.EH();};m.prototype.zpa=function(){for(var l,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(l=this.qb).push.apply(l,c.__spread(n));};m.prototype.oI=function(){return this.sja?this.sja:f.prototype.oI.call(this);};m.prototype.ho=function(){return !1;};m.prototype.$E=function(){};m.prototype.yK=function(){};return m;})(a(436).Uha);b.Hha=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vMa=void 0;c=a(54);r=(function(){function k(h){this.lb=h;}Object.defineProperties(k.prototype,{sg:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Vl=function(h){var g,d;h=h.Li;if(h === c.ce.Do || h === c.ce.pp){h={};g=this.lb(1);d=this.lb(0);g && (h.videoPipelineSummary=this.meb(g));d && (h.audioPipelineSummary=this.meb(d));return h;}};k.prototype.meb=function(h){var g,d,f,m,l;l=h.Va.X;return {actualStartPlayerTimestamp:null === (g=l.he) || void 0 === g?void 0:g.W,actualPartialPlayerTimestamp:l.W9a,actualCompletePlayerTimestamp:null === (d=h.rla) || void 0 === d?void 0:d.W,segmentId:h.fa,contentStartMs:null === (f=h.Mc) || void 0 === f?void 0:f.W,contentEndMs:null === (m=h.ee) || void 0 === m?void 0:m.W,streamingPlayerMs:h.iF.W,isStreamable:h.lE(),isNormalized:h.Hh(),isDoneStreaming:h.Qs(),trackNeedsHeaderRequest:h.track.Taa,completedRequests:l.mXa,activeRequests:h.Va.tq,unsentRequests:h.Va.Kt,bytes:{current:l.aa,received:l.Iab,partial:l.Nj,completed:l.wD,unsent:l.S5b}};};return k;})();b.vMa=r;},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hNa=void 0;c=a(1);k=a(16);h=a(9);g=a(54);d=a(438);r=(function(){function f(m,l){var n;n=this;this.FXb=m;this.na=l;this.A$a=new h.kT();l.events.on("branchesReevaluated",function(){n.A$a.push(m.size);});}Object.defineProperties(f.prototype,{sg:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{DE:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return k.Z;},enumerable:!1,configurable:!0}});f.prototype.Vl=function(m){var l;m=m.Li;if(m === g.ce.pp || m === g.ce.Do){l={branchCountStats:this.A$a.toJSON(),decisions:this.na.Pg.toJSON(),player:this.na.S.Ms?this.na.S.qb.map(function(n){return n.G.id;}):[]};this.FXb.forEach(function(n,p){var q,t;t=d.Rqa(n);l[p]=c.__assign({probabilities:n.Ih.map(function(w){return {duration:w.duration,immediate:w.dE,seamless:w.te};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.G.id,normalized:n.Hh,hasViewable:n.aE,headerRequested:n.aE && n.M.QX},t);});return l;}};return f;})();b.hNa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kJa=void 0;r=(function(){function a(c,k,h){this.Ve=c;this.I=k;this.events=h;this.qQ=[];}a.prototype.Mg=function(c){var k;k=this;this.qQ.push(c);this.Ve.XXa(function(){k.qfb(c,{uPb:!0});},c.fWa,c.Ju);};a.prototype.iRb=function(c){var k,h;k=this;h={Li:c};this.qQ.forEach(function(g){k.qfb(g,h);});};a.prototype.qfb=function(c,k){var h,g;try{h=c.Sg(k);g=h.event;h.fdb && this.events.emit(c.Ju,g);}catch(d){this.I.error("Error generating event for " + c.Ju,d);}};return a;})();b.kJa=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.JDa=b.SR=void 0;c=a(1);k=a(9);h=a(21);r=a(102);g=a(41);d=a(4);f=a(179);m=a(252);l=a(16);n=a(1008);p=a(1009);q=a(1010);(function(w){w[w.N1=0]="CREATED";w[w.gfa=1]="CANCELLED";})(t=b.SR || (b.SR={}));a=(function(w){function v(u,x,y,z,A,B,D,C,F,G,E,I,N){var L;L=w.call(this,z,F,D,x) || this;L.J=u;L.Gba=y;L.Z8=A;L.Os=B;L.TT=C;L.parent=F;L.hz=G;L.Yw=E;L.j1=I;L.iq=N;L.Dx=new m.GL();L.Xya=0;L.Nwa=function(){!L.Xh && L.G9 && (L.M.gv.pB("onHeaderFragments",L.Nwa),L.b$.resolve());};L.ar=new k.lL();L.b$=new k.lL();L.parent && (L.parent.md && (u=L.parent.md.Ha(L.Gn.uf),L.Lt(u,"parent")),L.parent.pCa.then(function(){var H;H=L.parent;H.md && (H=H.md.Ha(L.Gn.uf),L.Lt(H,"parent async"));}));return L;}c.__extends(v,w);Object.defineProperties(v.prototype,{Hx:{get:function(){var u;return !(null === (u=this.Jd) || void 0 === u || !u.Hx);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ml:{get:function(){var u;return !(null === (u=this.Jd) || void 0 === u || !u.Ml);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qu:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.qu) && void 0 !== x?x:0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hh:{get:function(){var u;return !(null === (u=this.Jd) || void 0 === u || !u.Hh);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{pCa:{get:function(){return this.ar.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{aE:{get:function(){var u;return !(null === (u=this.j1) || void 0 === u || !u.M);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{G9:{get:function(){return ! !this.yf.length && this.H5.every(function(u){return u.pe;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{M:{get:function(){d.assert(this.j1.M,"viewable should be available");return this.j1.M;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{V:{get:function(){var u;return (null === (u=this.Jd) || void 0 === u?void 0:u.V) || this.Os.V;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{bb:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.bb) && void 0 !== x?x:this.Os.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{rb:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.rb) && void 0 !== x?x:this.G.ej.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Rj:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.Rj) && void 0 !== x?x:this.Ie.df(this.V).mc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ps:{get:function(){var u,x,y;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.Ps) && void 0 !== x?x:null === (y=this.Os) || void 0 === y?void 0:y.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tO:{get:function(){var u,x;x=null === (u=this.G.G.Lq) || void 0 === u?void 0:u[0];return x && this.Mc?h.R.Oa(Math.max(0,x[0] - this.Mc.W - this.G.uf.W)):h.R.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fr:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.fr) && void 0 !== x?x:this.G.uf.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{LE:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.LE) && void 0 !== x?x:this.G.ej.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{S$:{get:function(){var u;return null === (u=this.Jd) || void 0 === u?void 0:u.S$;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ie:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.Ie) && void 0 !== x?x:this.$r;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hr:{get:function(){var u,x;return null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.Hr) && void 0 !== x?x:this.G.ej.Ha(this.Os || this.G.uf);},enumerable:!1,configurable:!0}});v.prototype.zb=function(){return c.__awaiter(this,void 0,void 0,function(){var u,x;x=this;return c.__generator(this,function(y){switch(y.label){case 0:if(this.Xh)return [2];l.Z && this.I.log("AseBranch {" + this.G.id + "} awaiting viewable");return [4,this.j1.zb(this)];case 1:y.jc();l.Z && this.I.log("AseBranch {" + this.G.id + "} viewable available, branch " + (this.Xh?"cancelled":"active"));if(this.Xh)return [2];d.assert(this.Z8,"tracks need to exist upon initialization");this.H5=this.Z8(this.M).sort(p.uF);u=this.yf.map(function(z){var A;return null === (A=x.parent) || void 0 === A?void 0:A.bsa(z.mediaType);});this.Ecb(this.Os);return [4,this.H_a()];case 2:return (y.jc(),l.Z && this.I.log("AseBranch {" + this.G.id + "} have headers"),this.Xh?[2]:this.parent?[4,this.parent.pCa]:[3,4]);case 3:y.jc();if(this.Xh)return [2];this.Dx.forEach(function(z){var A,B;B=null === (A=x.parent) || void 0 === A?void 0:A.bsa(z.mediaType);d.assert(B,"Parent state should be defined");-1 === u.indexOf(B) && (z.Wj.$f.Hb(),A=new f.W3(B),z.Wj.$f=A);});y.label=4;case 4:return (this.normalize(),[2]);}});});};v.prototype.H_a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.G9?this.b$.resolve():(this.M.gv.on("onHeaderFragments",this.Nwa),this.events.emit("needsRequest"));return [2,this.b$.promise];});});};v.prototype.normalize=function(){this.Xh || (this.Jd=new q.UKa(this,this.J,this.I,this.M,this.Gba,this.Gn,this.Os,this.Dx.items,this.$r,this.TT,this.parent,this.hz,this.events,this.Yw,this.iq),this.npa(this.Jd.FD),this.ar.resolve(this.Jd));};v.prototype.update=function(u){var x;this.Gn=u;(null === (x=this.Jd) || void 0 === x?0:x.update(u)) && this.npa(!0);};v.prototype.Lt=function(u,x){var y;void 0 === x && (x="unk");l.Z && this.I.log("AseBranch adjusting branchOffset to " + u.W + (" from " + this.$r.W + ".  " + x));this.$r=u;null === (y=this.Jd) || void 0 === y?void 0:y.Lt(u);};v.prototype.CA=function(u){return c.__awaiter(this,void 0,void 0,function(){var x;return c.__generator(this,function(y){switch(y.label){case 0:return [4,this.ar];case 1:return (x=y.jc(),[2,null === x || void 0 === x?void 0:x.CA(u)]);}});});};v.prototype.aI=function(){var u;null === (u=this.Jd) || void 0 === u?void 0:u.aI();};v.prototype.reset=function(){var u;null === (u=this.Jd) || void 0 === u?void 0:u.reset();};v.prototype.Bf=function(u){var x;void 0 === u && (u="other");this.Xc=t.gfa;this.aE && this.M.gv.pB("onHeaderFragments",this.Nwa);null === (x=this.Jd) || void 0 === x?void 0:x.Bf();this.Dx.forEach(function(y){return y.cancel();});this.j1.Hb();this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:u});this.events.removeAllListeners();};v.prototype.dY=function(u){var x;return !(null === (x=this.Jd) || void 0 === x || !x.dY(u));};v.prototype.lb=function(u){var x;return null === (x=this.Jd) || void 0 === x?void 0:x.lb(u);};v.prototype.Asa=function(u){return this.yf.some(function(x){return x.mediaType === u;});};v.prototype.Pq=function(u){var x,y;void 0 === u && (u=p.uF);return null !== (y=null === (x=this.Jd) || void 0 === x?void 0:x.Pq(u)) && void 0 !== y?y:[];};v.prototype.bsa=function(u){var x,y;return (null === (x=this.lb(u)) || void 0 === x?void 0:x.Wj.$f) || (null === (y=this.Dx.get(u)) || void 0 === y?void 0:y.Wj.$f);};v.prototype.e9=function(){var u,x;return this.G9?null !== (x=null === (u=this.Jd) || void 0 === u?void 0:u.e9()) && void 0 !== x?x:[]:this.Dx.items;};v.prototype.IO=function(u){var x;return (null === (x=this.Jd) || void 0 === x?void 0:x.IO(u)) || this.Dx.get(u);};v.prototype.ai=function(u,x){var y;return (null === (y=this.Jd) || void 0 === y?void 0:y.ai(u,x)) || 0;};v.prototype.RD=function(){var u;return (null === (u=this.Jd) || void 0 === u?void 0:u.RD()) || ({});};v.prototype.FX=function(u){var x;return (null === (x=this.Jd) || void 0 === x?void 0:x.FX(u)) || this.Ps.W;};v.prototype.QB=function(u,x,y){return c.__awaiter(this,void 0,void 0,function(){var z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:this.H5=u.sort(p.uF);this.Ecb(x);if(!this.Hh)return [3,4];d.assert(this.Jd);z=this.Dx.filter(function(F){return F.track.pe;}).items;A=this.Jd.Xfb(z,x,y);B=A.oW;D=A.FD;B && this.npa(D);if(this.G9)return [3,4];this.b$=new k.lL();this.ar=new k.lL();l.Z && this.I.log("AseBranch {" + this.G.id + "} setTracks waiting for headers");return [4,this.H_a()];case 1:return (C.jc(),this.Xh?[2]:this.parent?[4,this.parent.pCa]:[3,3]);case 2:(C.jc(),C.label=3);case 3:(this.Jd.Xfb(this.Dx.items,x,y),l.Z && this.I.log("AseBranch {" + this.G.id + "} setTracks pipelines updated"),this.ar.resolve(this.Jd),this.events.emit("needsRequest"),C.label=4);case 4:return [2];}});});};v.prototype.Ecb=function(u){var x;x=this;this.Xya=0;this.Dx=new m.GL(this.yf.map(function(y){var z,A;A=x.Dx.find(function(B){return B.track === y;});A || (++x.Xya,A=new n.sHa(x,y,function(){return (null === u || void 0 === u?void 0:u.add(x.Ie)) || h.R.hb;},x.J,x.I,null === (z=x.parent) || void 0 === z?void 0:z.bsa(y.mediaType),x.Gba,function(){0 === --x.Xya && x.events.emit("requestQueuesCreated");}));return A;}));};v.prototype.nn=function(u){var x;return (null === (x=this.Jd) || void 0 === x?void 0:x.nn(u)) || [];};v.prototype.LH=function(u){var x;return !(null === (x=this.Jd) || void 0 === x || !x.LH(u));};v.prototype.P8=function(u){return this.Jd?this.Jd.P8(u):h.R.hb;};v.prototype.DBa=function(u){var x;return !(null === (x=this.Jd) || void 0 === x || !x.DBa(u));};v.prototype.npa=function(u){u={type:"branchNormalized",segmentContentStart:this.G.uf,branchContentStart:this.Mc,branchContentEnd:this.ee,didNormalizeSegment:u};this.events.emit(u.type,u);l.Z && this.I.trace("branchNormalized:",u);};v.prototype.toJSON=function(){var u;return (null === (u=this.Jd) || void 0 === u?void 0:u.toJSON()) || ({});};return v;})(p.KDa);b.JDa=a;g.Jf(r.By,a);g.Jf(r.nC,a);},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sHa=void 0;c=a(1);k=a(421);h=a(129);g=a(179);d=a(256);f=a(4);r=(function(){function m(l,n,p,q,t,w,v,u){this.mb=l;this.track=n;this.h3b=p;this.config=q;this.console=t;this.events=v;this.WVb=u;this.no=0;this.S$a=this.Ml=!1;this.Wj=this.mDb(w);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fa:{get:function(){return this.mb.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ih:{get:function(){return this.mb.Ih;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jda:{get:function(){return this.h3b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{KV:{get:function(){return this.jda;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iF:{get:function(){return this.jda;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tO:{get:function(){return this.mb.tO;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xf:{get:function(){return this.Ge || (this.Ge=this.Cu());},enumerable:!1,configurable:!0}});m.prototype.lE=function(){return this.track.Taa;};m.prototype.Qs=function(){return this.track.pe;};m.prototype.Hh=function(){return !1;};m.prototype.v1a=function(){return {X:[],Bba:0,Nj:0,bn:0};};m.prototype.l5b=function(){var l;f.assert(this.Qs());l=this.Xf;this.Ge=void 0;return l;};m.prototype.ufb=function(l){return (l=l.sF(this.Xf))?{Wl:l,reason:"success"}:{Wl:l,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.Ge && (this.mb.M.dN(this.mediaType,this.Ge),h.Yp.instance.TN(this.Ge),this.Ge.removeAllListeners(),this.Ge=void 0);};m.prototype.mDb=function(l){var n,p;n=0 === this.mediaType?this.config.hVa:this.config.SAa;l=new g.W3(l);l.a0(this.track);p=this.config;return new d.xia(n,this.config,l,0 === this.mediaType?p.ppa:p.qpa);};m.prototype.Cu=function(){var l,n;l=this;n=this.track.SA?c.__assign(c.__assign({},this.config),{sgb:!0}):this.config;n=k.Cu(this.mediaType,this.track.M,n,this.console,function(p){return l.events.emit("transportReport",p);},function(p){return l.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.WVb);return n;};return m;})();b.sHa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.KDa=b.SR=b.Bmb=b.uF=void 0;c=a(17);b.uF=function(h,g){return (1 === h.mediaType?0:1) - (1 === g.mediaType?0:1);};b.Bmb={uF:b.uF};(function(h){h[h.N1=0]="CREATED";h[h.gfa=1]="CANCELLED";})(k=b.SR || (b.SR={}));r=(function(){function h(g,d,f,m){var l;this.Gn=g;this.parent=d;this.$r=f;this.I=m;this.Xc=k.N1;this.H5=[];this.events=new c.EventEmitter();if(null === (l=this.parent) || void 0 === l?0:l.md)this.$r=this.parent.md.Ha(this.Gn.uf);}Object.defineProperties(h.prototype,{state:{get:function(){return this.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xh:{get:function(){return this.Xc === k.gfa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{G:{get:function(){return this.Gn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yf:{get:function(){return this.H5;},enumerable:!1,configurable:!0}});h.prototype.Asa=function(g){return this.yf.some(function(d){return d.mediaType === g;});};return h;})();b.KDa=r;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x,y){return (1 === x.mediaType?0:1) - (1 === y.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.UKa=b.Gha=void 0;k=a(1);h=a(415);g=a(82);d=a(154);f=a(15);m=a(439);l=a(1011);n=a(9);p=a(23);q=a(4);t=a(21);w=k.__importDefault(a(6));r=a(102);v=a(41);u=a(252);b.Gha={uF:c};a=(function(x){function y(z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J){var M,P;P=x.call(this,D) || this;P.mb=z;P.J=A;P.M=D;P.Gba=C;P.Gn=F;P.$r=I;P.TT=N;P.parent=L;P.hz=H;P.events=Q;P.Yw=O;P.iq=J;P.ke=new u.GL([]);P.pm=!1;P.aU=0;P.CT=P.Kwa.bind(P);q.assert(D.N === P.G.N || isNaN(D.N) && isNaN(P.G.N));P.console=n.ko(w.default,B,F.id && F.id.length?"{" + F.id + "}":"");P.Os=null !== G && void 0 !== G?G:t.R.Oa(P.G.$);P.Cka=null === L || void 0 === L?void 0:L.md;null === (M=P.hz) || void 0 === M?void 0:M.addListener(P.CT);z=P.ZXa(E,P.Os,! !P.parent).FD;P.FD=z;return P;}k.__extends(y,x);Object.defineProperties(y.prototype,{Xh:{get:function(){return this.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G:{get:function(){return this.Gn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hx:{get:function(){return this.ke.every(function(z){return z.Hx;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ml:{get:function(){return this.ke.every(function(z){return z.Ml;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qu:{get:function(){return this.Pq().reduce(function(z,A){return z + A.qu;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hh:{get:function(){return this.Pq().every(function(z){return z.Hh();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yf:{get:function(){return this.mb.yf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{V:{get:function(){return this.hu.V;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bb:{get:function(){return this.hu.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rb:{get:function(){return this.hu.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rj:{get:function(){return this.Ie.df(this.V).mc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ps:{get:function(){return this.Os.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fr:{get:function(){return this.G.uf.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{LE:{get:function(){return this.G.ej.add(this.Ie);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{S$:{get:function(){return this.ke.reduce(function(z,A){return z && A.md?t.R.max(z,A.md):A.md?A.md:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sta:{get:function(){return this.Ps.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{He:{get:function(){return this.Ie.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hr:{get:function(){return this.hu.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ie:{get:function(){return this.$r;},enumerable:!1,configurable:!0}});y.prototype.Xfb=function(z,A,B){var D;void 0 === A && (A=null !== (D=this.Mc) && void 0 !== D?D:this.Os);return this.ZXa(z,A,B);};y.prototype.update=function(z){var A,B,D;D=z.ej.gba(this.Gn.ej);this.Gn=z;return D && this.UC?(D=k.__read(this.UC.x_b(z,z.ej),2),z=D[0],D=D[1],q.assert(z && D,"branch.update: lastFragment should be defined"),null === (A=this.lb(0)) || void 0 === A?void 0:A.truncate(z),null === (B=this.lb(1)) || void 0 === B?void 0:B.truncate(D),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.Lt=function(z){this.Ie.equal(z) || (this.$r=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.CA=function(z){return k.__awaiter(this,void 0,void 0,function(){var A;return k.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.jc(),(A=this.lb(z))?[2,A.CA()]:[2,d.AsyncIterator.m1a()]);}});});};y.prototype.aI=function(){this.Pq().forEach(function(z){return z.aI();});};y.prototype.NU=function(){this.ke.forEach(function(z){return z.NU();});};y.prototype.reset=function(){this.ke.forEach(function(z){z.reset();});};y.prototype.Bf=function(){var z,A;this.pm || (this.pm=!0,null === (z=this.UC) || void 0 === z?void 0:z.gd(),this.UC=void 0,this.ke.forEach(function(B){B.Bf();}),null === (A=this.hz) || void 0 === A?void 0:A.removeListener(this.CT));};y.prototype.dY=function(){return !0;};y.prototype.lb=function(z){return this.ke.get(z);};y.prototype.Pq=function(z){void 0 === z && (z=c);return this.ke.items.slice().sort(z);};y.prototype.e9=function(){return this.ke.items;};y.prototype.IO=function(z){return this.lb(z);};y.prototype.ai=function(z,A){z=this.lb(z);if(!z)return 0;if(A)return z.cn;A=z.Aq;if(void 0 === A)return 0;z=this.TT();return A - z;};y.prototype.RD=function(){var z,A,B,D,C,F,G;G=null === (z=this.lb(0)) || void 0 === z?void 0:z.Rn;z=null === (A=this.lb(1)) || void 0 === A?void 0:A.Rn;return {Fo:null !== (B=null === z || void 0 === z?void 0:z.W) && void 0 !== B?B:0,ns:null !== (D=null === G || void 0 === G?void 0:G.W) && void 0 !== D?D:0,Ot:null !== (C=null === z || void 0 === z?void 0:z.aa) && void 0 !== C?C:0,gD:null !== (F=null === G || void 0 === G?void 0:G.aa) && void 0 !== F?F:0};};y.prototype.FX=function(z){var A;return (z=this.lb(z))?null !== (A=z.Aq) && void 0 !== A?A:0:0;};y.prototype.nn=function(z){z=this.lb(z);return (null === z || void 0 === z?void 0:z.nn()) || [];};y.prototype.Kwa=function(z){f.Bp(z.newValue) && this.ks();};y.prototype.LH=function(z){return this.ke.every(function(A){return A.LH(z);});};y.prototype.P8=function(z){var A,B;return null !== (B=null === (A=this.ke.get(z)) || void 0 === A?void 0:A.qYa) && void 0 !== B?B:t.R.hb;};y.prototype.DBa=function(z){var A,B,D;A=this.hu.MQb;if(!A)return !1;B=p.ze(z,function(C){return A.W <= C.Mc.W;});if(!B)return !1;z=!1;D=k.__read(m.Rya(this.J,this.ke,B.Mc),2);B=D[0];if(D=D[1])(this.lb(1).truncate(D),z=!0);B && (this.lb(0).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};y.prototype.Kk=function(z){this.pm || (z.X5 || q.assert(!z.Hc),this.ks(),this.Ml && this.zka());this.Tu(z);};y.prototype.xJ=function(z){this.J.P7 && this.ks(!0);this.kI(z);};y.prototype.wJ=function(z){this.J.P7 && this.ks(!0);this.PD(z);};y.prototype.ZXa=function(z,A,B){var D,C,F;D=this;C=new u.GL();F=!1;z.forEach(function(G){var E;E=D.ke.find(function(I){return I.track === G.track;});void 0 === E?(F=!0,E=new h.Fha(D,D.J,D.console,D.Gba,D.mb,G.track,A,G.Wj,!0,void 0,G.l5b(),D.Yw,D.iq),E.events.on("lastRequestIssued",function(){return D.Hx && D.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(D.ke.remove(E),E.NU());C.add(E);});this.ke.forEach(function(G){return G.Bf();});this.ke=C;return F?this.normalize(A,B):{oW:!1,FD:!1};};y.prototype.normalize=function(z,A){var B,D;null === (B=this.UC) || void 0 === B?void 0:B.gd();this.UC=new l.tMa({console:this.console,config:this.J,M:this.M,G:this.G,tl:this.ke,Mc:z,ee:null !== (D=this.G.ej) && void 0 !== D?D:void 0 !== this.G.La?t.R.Oa(this.G.La):void 0,splice:A});this.hu=this.ke.$Z;A=this.UC.normalize();z=A.oW;A=A.FD;z && this.Cka && (this.$r=this.Cka.Ha(this.Mc));return {oW:z,FD:A};};y.prototype.hAa=function(z){var A;return f.Bp((null === (A=this.hz) || void 0 === A?void 0:A.value) || f.Qc.sj) && (!z || this.aU + this.J.Gaa < w.default.time.ha());};y.prototype.ks=function(z){void 0 === z && (z=!1);this.hAa(z) && (this.aU=w.default.time.ha(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.zka=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,A;return {segment:this.G.id,branchOffset:this.He,viewableId:this.Gn.N,contentStartPts:null === (z=this.Mc) || void 0 === z?void 0:z.W,contentEndPts:null === (A=this.ee) || void 0 === A?void 0:A.W};};return y;})(g.gw);b.UKa=a;v.Jf(r.By,a);},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tMa=void 0;c=a(1);k=a(439);h=a(4);r=(function(){function g(d){var f,m,l,n,p,q,t,w;f=this;m=d.console;l=d.config;n=d.M;p=d.tl;q=d.G;t=d.Mc;w=d.ee;d=d.splice;this.ZX=this.EN=!1;this.zWa=function(){f.EN || f.Nla() && f.owa();};this.console=m;this.config=l;this.tl=p;this.M=n;this.G=q;this.Mc=t;this.ee=w;this.splice=d;}g.prototype.zb=function(d){if(this.EN)throw Error("Cannot call init() after cleanup");if(this.ZX)throw Error("Cannot call init() twice");this.ZX=!0;this.n9a=d;this.M.gv.addListener("onHeaderFragments",this.zWa);this.Nla() && this.owa();};g.prototype.normalize=function(){if(this.EN)throw Error("Cannot call normalize() after cleanup");if(this.ZX)throw Error("Cannot call init() / normalize() twice");this.ZX=!0;h.assert(this.Nla());return this.owa();};g.prototype.x_b=function(d,f){h.assert(this.ZX,"expected to be called init() before renormalize");this.G=d;this.ee=f;d=k.Rya(this.config,this.tl,this.ee);this.cba();return d;};g.prototype.gd=function(){this.EN || (this.EN=!0,this.n9a=void 0,this.M.gv.removeListener("onHeaderFragments",this.zWa));};g.prototype.owa=function(){var d,f,m;if(this.EN)return {oW:!1,FD:!1};f=this.GUb();m=!1;this.G && !this.G.ar && (m=this.cba());null === (d=this.n9a) || void 0 === d?void 0:d.call(this,f,m);this.gd();return {oW:f,FD:m};};g.prototype.Nla=function(){return this.tl.every(function(d){return d.track.pe;});};g.prototype.GUb=function(){var d,f;d=c.__read(k.H8a(this.config,this.tl,this.Mc,this.ee,this.splice),2);f=d[0];return d[1] || void 0 === this.tl.get(1) && f;};g.prototype.cba=function(){var d,f,m;h.assert(this.G);h.assert(!this.G.ar);d=this.tl.$Z;f=k.J8a(this.config,d,this.G.uf);if(void 0 === f || void 0 === d.ee)return !1;d=d.ee;m=this.config.ZBa && "lazy" === this.G.ie?k.Z6a(this.console,this.G,this.tl):[];this.G.normalize(f,d,m);return !0;};return g;})();b.tMa=r;},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.UGa=void 0;r=a(1);c=a(15);k=r.__importDefault(a(31)).default.TI;h=r.__importDefault(a(149));g=r.__importDefault(a(6));d=a(181);f=a(23);m=a(4);a=(function(){function l(n,p,q,t,w){this.config=n;this.S2b=p;this.navigator=q;this.events=t;this.console=w;n=d.KO(this.config);this.hy=n.hy.bind(n);this.rK=n.rK.bind(n);this.gX=n.gX.bind(n);this.IX=n.IX.bind(n);this.M$a=[n.TZ.bind(n),n.UZ.bind(n)];}l.prototype.c1b=function(n,p,q,t,w,v,u){var x,y,z,A,B,D,C,F,G;y=[];if(!this.e$a(w.track))return {stream:D,e0:y,reason:"locationSelectionFailure"};z=w.Wj;A=z.$f;B=w.w8;D=A.qv;C=v?v.Lm(w.track.Rd,n,q.Ha(w.mb.Ie),w.Hh()):w.track.Rd;if(0 === C.length && (null === v || void 0 === v?0:v.Gyb))return {stream:void 0,e0:y,reason:"allStreamsFiltered"};D && !D.track.equals(w.track) && (D=this.dIb(D,C));F=w.mediaType;if((v=0 === F) && D && !this.w2b(A,D))return (this.config.W2a && this.hy(D.bitrate),{stream:D,e0:y});n=c.Pba(n);p=this.cDb(n,p,t,w,! !u);t=this.M$a[F];u=v?this.IX():this.gX();w=z.Gza(p,C,u,t,!0,w.track.M.Iq,B);if(!w)return {stream:D,e0:y,reason:"streamSelectionFailure"};z={Qe:w.Qe,VZ:w.VZ};if(w.reason){G={reason:w.reason,Eza:w.hv,NA:w.NA,zp:w.zp,Ap:w.Ap};this.pna(F,C,q);}this.ZFb(F,w,C);D=C[w.Te];q=D.bitrate;v?this.config.W2a && this.hy(q):this.rK(q);A.Pcb(D);if(null === (x=w.iA) || void 0 === x?0:x.length)y=w.iA.map(function(E){return f.ze(C,function(I){return I.id === E;});}).filter(f.fba);return {stream:D,e0:y,aP:G,XE:z,Ux:w.Ux};};l.prototype.rna=function(n,p,q,t,w,v,u){var x,y,z;if(!c.Bp(p))return {complete:!0,reason:"playing"};if(!v.S$a)return {complete:!1,reason:"unknown"};if(v.xWb)return (m.assert(v.G9a),v.G9a);x=v.Wj;y=x.$f;q=this.K0a(v,q);z=y.qv;y=q.tk - q.qc;if(y < this.config.Ij || void 0 === z)return {complete:!1,oD:y,reason:"preBuf"};if(0 === v.mediaType)return {complete:!0,oD:y,reason:"audio"};if(n=n.DWa(v.mediaType))return {complete:!0,oD:y,reason:n};this.e$a(v.track);x.Rxa([z],!1,c.Pba(p),q,this.M$a[v.mediaType]);p=x.Vz(q,p,w,z,{Du:u});if(!p.complete && t)return {complete:!0,reason:"prebufferTimeLimit",oD:y};p.oD=y;return p;};l.prototype.ZFb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};l.prototype.YFb=function(n,p,q,t){n={type:"maxVideoBitrateChanged",time:g.default.time.ha(),streaming:t,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};l.prototype.dIb=function(n,p){var q;q=p[0];p.filter(function(t){return t.pv;}).every(function(t){return t.bitrate <= n.bitrate?q=t:!1;});return q;};l.prototype.w2b=function(n,p){return 0 < this.config.bR.length?!0:(n=n.mP) && n === p.location?!1:!0;};l.prototype.e$a=function(n){return n.M.Rm.U0(n.M.N,n.Rd);};l.prototype.K0a=function(n,p){var D;for(var q,t=p.Ha(this.S2b),w=[],v=n,u=p,x,y,z=0,A=0,B=!0;v;){D=v.v1a(t);if(!B && !v.Ml)break;0 < D.X.length && (u=D.X[0].he,void 0 === x && (x=D.X[D.X.length - 1].md,y=D.Bba >= D.X.length?x:D.X[D.Bba].he),w=D.X.concat(w),z+=D.Nj,A+=D.bn);v=this.navigator.parent(v);B=!1;}return {yu:g.default.wp()[n.mediaType],$:Math.floor(u.W),qc:p.W,kc:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.W) && void 0 !== q?q:p.W),tk:Math.floor(y?y.W:p.W),We:w.reduce(function(C,F){return C + F.aa;},0),Nj:z,bn:A,n0a:w.length,X:w};};l.prototype.cDb=function(n,p,q,t,w){var v,u,x;v=this.K0a(t,p);u=1 === t.mediaType?this.config.c1:this.config.bV;x=h.default.instance();return {state:n,Wq:n === c.ta.Rc,Vd:t.no,playbackRate:q,buffer:v,xW:u,x6a:!1,bO:w,tq:null === x || void 0 === x?void 0:x.tq,mediaType:t.mediaType,qc:p.W,Ss:!1,Hta:!1,kca:0};};l.prototype.pna=function(n,p,q){var v,u;if(1 === n){n="manifest";for(var t=0,w=p.length - 1;0 <= w;--w){v=p[w];u=v.bitrate;if(k(v)){t=Math.max(t,u);break;}else this.config.o0 && !v.Ru?n="bc":v.nv?v.IA && (n="hf"):n="av";}this.w7a !== t && (this.YFb(this.w7a,t,n,q),this.w7a=t);}};return l;})();b.UGa=a;},function(r,b,a){var k,h,g,d;function c(f,m,l,n,p){var q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J;y=f.console;z=f.T5b;A=f.Pg;B=f.X_b;D=f.kFb;C=f.Vva;F=f.Dma;f=f.uWb;G=p || ({complete:!0,Hr:0});E=G.root;I=G.complete;N=G.avb;L=G.sbb;L=void 0 === L?0:L;G=G.Hr;H=L < B.length && B[L] === m.id;Q=L < B.length?B[L]:n && A.get(n.id);O=p && n && Q !== m.id?void 0 !== Q?{te:0}:n.qyb(m.id):{te:1};A=O.te;O=O.dE;J=void 0 === O?0:O;O=(A + J) * (null !== (q=null === p || void 0 === p?void 0:p.CYb) && void 0 !== q?q:1);d && y.trace("reevaluateBranches: visiting " + m.id + ", distance: " + (l + ", probability: ") + (O + ", predecessor: ") + ((null === n || void 0 === n?void 0:n.id) + ", decision: ") + (Q + ", predecessorComplete: ") + (I + ", isOnRequiredPath: ") + (H + ", requiredPathIndex: ") + (L + ", activeDistance: ") + (N + ", seamless ") + (A + ", immediate ") + (J + ", predecessor sum of: successor weights=") + ((null === n || void 0 === n?void 0:n.aBa) + ", immediate weights= ") + (null === n || void 0 === n?void 0:n.sda));q=null !== (w=null === (t=z[m.id]) || void 0 === t?void 0:t.shift()) && void 0 !== w?w:m.duration.W;t=0 === q;if(!H){if(0 === O)return {hea:!1,a6:!0};if(!I && 0 === J && G > F)return (f.KD=Math.min(f.KD || Infinity,G - F),{hea:!1,a6:!0});if(!t && l >= D && 1 > O || !1 === E && O < C)return {hea:!1,a6:!0};}L < B.length && k.assert(B[L] === m.id,"");p=null !== (v=null === p || void 0 === p?void 0:p.Ih) && void 0 !== v?v:[];n && 1 > A && (0 === J?p=p.concat([{te:A}]):(v=(null === (x=null === (u=n.G.Lq) || void 0 === u?void 0:u[0]) || void 0 === x?void 0:x[0]) || 0,u=Math.max(0,n.duration.W - v),d && y.trace("reevaluateBranches: immediate: " + n.duration.W + ", " + v + ", " + u),p=p.concat([{te:A,dE:J,duration:u}])));u=h.i6(f.yca,function(M){return M.G === n;});f.yca.push({G:m,Gv:f.yca[u],Ih:p});l=I?l + m.duration.W:N;d && y.trace("reevaluateBranches: added " + m.id + ", visiting successors, active distance: " + (l + " probabilities: ") + JSON.stringify(p));return {hea:!0,a6:H,state:{root:!n,complete:t,CYb:O,Ih:p,avb:l,sbb:L + 1,Hr:G + q}};}Object.defineProperties(b,{__esModule:{value:!0}});b.f5b=b.y7b=b.nca=void 0;k=a(4);r=a(16);h=a(23);g=a(442);d=r.Z && !1;b.nca=function(f,m,l,n,p,q,t,w,v){var u,x,y,z;x={yca:[]};y=(null === (u=l.ej) || void 0 === u?void 0:u.Ha(l.uf).W) || 0;0 < q.length && k.assert(l.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");d && f.trace("reevaluateBranches: starting at " + l.id + " requiredPath: " + JSON.stringify(q));z={console:f,T5b:n,Pg:p,X_b:q,kFb:t.W + y,Vva:w,Dma:v.W,uWb:x};m.x7b(l,function(A,B,D,C){return c(z,A,B,D,C);});return x;};b.y7b=c;b.f5b=function(f,m){var l,n;l=new g.Fia();f.forEach(function(p){m("starting tree");l.add(p,p.Gv);});n=g.V$a(l,function(p){return "" + p.G.id;});m("requiredBranches " + f.length,n.replace(/\n/g,"<>"));m("requiredBranches " + f.length,f.map(function(p){var q;return p.G.id + "::" + (null === (q=p.Gv) || void 0 === q?void 0:q.G.id);}).reduce(function(p,q){return p + ", " + q;}));};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sNa=void 0;c=a(1);k=a(440);r=(function(){function h(g){this.ja=g;this.P={};}h.prototype.m3a=function(g){return ! !this.ja.P[g];};h.prototype.Oe=function(g){var d;d=this.P[g];if(void 0 === d){d=this.ja.P[g];if(void 0 === d)throw Error("Segment not found (" + g + ")");d=new k.xNa(g,d,this.ja.ie);this.P[g]=d;}return d;};h.prototype.eKb=function(g){var d;d=this;return g.G.next?Object.keys(g.G.next).map(function(f){return d.Oe(f);}):[];};h.prototype.vQb=function(g){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,g];case 1:(f.jc(),d=g,f.label=2);case 2:if(!d.G.vc)return [3,4];d=this.Oe(d.G.vc);return [4,d];case 3:return (f.jc(),[3,2]);case 4:return [2];}});};h.prototype.xNb=function(g,d){return k.M4a(g.PO(d));};h.prototype.mj=function(g){var d;d=this;Object.keys(g).forEach(function(f){var m;return null === (m=d.Oe(f)) || void 0 === m?void 0:m.mj(g[f]);});};return h;})();b.sNa=r;},function(r,b,a){var h,g,d;function c(f,m){var l,n;l=Object.keys(f);if(l.some(function(p){var q,t,w,v;return (null === (q=f[p]) || void 0 === q?void 0:q.ie) !== (null === (t=m[p]) || void 0 === t?void 0:t.ie) || (null === (w=f[p]) || void 0 === w?void 0:w.weight) !== (null === (v=m[p]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(m);return 0 !== h.__spread(g.ru(l,n),g.ru(n,l)).length?!0:!1;}function k(f,m){return f.some(function(l,n){var p;return 0 !== g.ru(l,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || f.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.iWa=b.zXa=void 0;h=a(1);g=a(23);d=a(1016);b.zXa=function(f){return new d.vFa(function(m){return Object.keys(m.G.next || ({})).map(function(l){var n,p,q;l=f.Oe(l);q=null !== (p=null === (n=m.ej) || void 0 === n?void 0:n.Ha(m.uf).W) && void 0 !== p?p:Infinity;return {i7b:l,weight:q};});});};b.iWa=function(f,m){var l,n,p,q,t,w;l=Object.keys(f.P);n=Object.keys(m.P);p=n.filter(function(v){return -1 === l.indexOf(v);});q=l.filter(function(v){return -1 === n.indexOf(v);});t=l.filter(function(v){var u,x,y,z,A;if(-1 === n.indexOf(v))u=!1;else {u=f.P[v];v=m.P[v];u=u.vc !== v.vc || u.va !== v.va || u.sa !== v.sa || u.ie !== v.ie || u.N !== v.N || k(null !== (x=u.Lq) && void 0 !== x?x:[],null !== (y=v.Lq) && void 0 !== y?y:[]) || c(null !== (z=u.next) && void 0 !== z?z:{},null !== (A=v.next) && void 0 !== A?A:{})?!0:!1;}return u;});w=g.ru(l,h.__spread(t,p,q));return {Kvb:p,oQ:q,Zyb:t,N5b:w};};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vFa=void 0;c=a(4);k=a(250);h=a(1017);r=(function(){function g(d){this.QFb=d;this.nCa=!1;this.iea=new h.TNa();}g.prototype.x7b=function(d,f){var l,n;function m(){var t,w,v,u,x,y;t=p.pop();w=t.node;v=t.d6;t=v.Gv;u=v.VH;v=v.state;if(!q.iea.has(w)){t=f(w,u,t,v);x=t.hea;y=t.state;t.a6 || q.iea.add(w);n(w).forEach(function(z){var A;A=z.i7b;l.iea.has(A) || (z=u + z.weight,x && p.push({node:A,d6:{VH:z,Gv:w,state:y}}));});}}l=this;n=this.QFb;c.assert(!this.nCa);this.nCa=!0;this.iea.clear();for(var p=new k.n3([{node:d,d6:{VH:0,state:{root:!1,complete:!0,sbb:0,Hr:0}}}],function(t,w){return t.d6.VH - w.d6.VH;}),q=this;!p.empty;){m();}this.nCa=!1;};return g;})();b.vFa=r;},function(r,b){var k,h,g;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.LQa);}function c(d){return (a(d)?d:Object.defineProperties(d,{LQa:{value:{},configurable:!1,enumerable:!1}})).LQa;}Object.defineProperties(b,{__esModule:{value:!0}});b.TNa=void 0;h=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;g=Date.now() % h;r=(function(){function d(){this.Uca=0;this.id=g=(g + 1) % h;}d.prototype.add=function(f){c(f)[this.id]=this.Uca;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Uca;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Uca=(this.Uca + 1) % h;return this;};return d;})();b.TNa=r;},function(r,b,a){var k,h,g,d;function c(f){return {value:f.mb,parent:f.Gv};}Object.defineProperties(b,{__esModule:{value:!0}});b.iNa=void 0;k=a(9);h=a(23);g=a(4);d=a(442);r=(function(){function f(){this.qb=new k.GKa();this.Jt=new d.Fia();}Object.defineProperties(f.prototype,{empty:{get:function(){return this.qb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.qb.size;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var m;m=this.qb.values();this.qb.clear();this.Jt.clear();m.forEach(function(l){return l.Bf();});};f.prototype.wx=function(m){return this.qb.get(m);};f.prototype.has=function(m){return this.qb.has(m);};f.prototype.contains=function(m){var l;l=m.G.id;if(this.has(l))return -1 !== this.wx(l).indexOf(m);};f.prototype.uO=function(m){this.Jt.uO(m);};f.prototype.Jra=function(m){return this.Jt.parent(m);};f.prototype.QJb=function(m){return this.Jt.children(m);};f.prototype.wsa=function(m){return this.Jt.wsa(m);};f.prototype.pca=function(m){var l;if(this.qb.delete(m.G.id,m)){l=this.Jt.children(m);this.Jt.root === m?0 === l.length?this.Jt.clear():(g.assert(1 === l.length,"cannot remove the root branch with multiple successors"),this.Jt.A_b(l[0])):(g.assert(0 === l.length,"cannot remove non-root branch with successors"),this.Jt.remove(m));}};f.prototype.forEach=function(m){var l;l=this;this.qb.forEach(function(n,p){return m(n,p,l);});};f.prototype.reduce=function(m,l){var n;n=this;return this.qb.reduce(function(p,q,t){return m(p,q,t,n);},l);};f.prototype.map=function(m){var l;l=this;return this.qb.map(function(n,p){return m(n,p,l);});};f.prototype.filter=function(m){var l;l=this;return this.qb.filter(function(n,p){return m(n,p,l);});};f.prototype.HMb=function(){var m;m={};this.forEach(function(l,n){var p;(l=l.Hr) && (null !== (p=m[n]) && void 0 !== p?p:m[n]=[]).push(l.W);});return m;};f.prototype.Y5b=function(m,l){var n;n=this;m=this.FSb(m,l).target;l=this.Jt.uZb(m.map(c));m=l.oQ;l=l.fbb;m.forEach(function(p){return n.qb.delete(p.G.id,p);});return {oQ:m,fbb:l.map(function(p){return p.value;})};};f.prototype.FSb=function(m,l){var p,q,t;function n(w,v){(w=l(w.G.id,v)) && p.qb.set(w.G.id,w);return w;}p=this;q=[];t=new Map();return {target:m.reduce(function(w,v,u){var x,y;g.assert(0 === u || v.Gv);if(v.Gv){x=t.get(v.Gv);if(!x)return (q.push(v),w);}y=h.ze(p.wx(v.G.id),function(z){return p.Jt.parent(z) === x || 0 === u;});(y=null !== y && void 0 !== y?y:n(v,x)) && t.set(v,y);y.Ih=v.Ih;w.push({mb:y,Gv:x});(null === y || void 0 === y?0:y.aE) && y.update(v.G);return w;},[])};};return f;})();b.iNa=r;},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(1);k=c.__importDefault(a(6));h=a(15);g=a(9);d=a(21);f=a(4);m=a(71);l=a(68);r=(function(){function n(p,q,t,w,v,u,x){var y;y=this;void 0 === x && (x=500);this.I=p;this.config=q;this.$b=t;this.events=w;this.Cpa=v;this.Ve=u;this.Txb=x;this.Wxa=this.Ol=0;this.zaa=[];this.nO={Du:0};this.state=new g.Wr(h.Qc.rj);this.Qe=new g.Wr(h.ta.yh);this.Wg=new m.Fw({dt:10,cr:this,source:"BufferStateTracker",Kla:function(){return {isBuffering:y.wg,alwaysRunUnderflowTimer:y.config.hN};}});}Object.defineProperties(n.prototype,{Du:{get:function(){return this.nO.Du;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wg:{get:function(){return h.Bp(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Xda=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(t){0 === t.mediaType && (q.VVa=c.__assign(c.__assign({},q.VVa),{audio:{trackId:t.trackId,trackIndex:t.qF}}));});};n.prototype.s9a=function(p){this.set(h.Qc.rj);this.xK(p,h.Qc.yd);};n.prototype.lba=function(){this.nO.Du++;};n.prototype.vZ=function(p){this.config.hN || void 0 === this.VA && this.wg && this.koa();this.VA={II:p.httpCode,Dh:p.errorCode,Jj:p.nativeCode};};n.prototype.sba=function(){this.VA=void 0;this.config.hN || this.y7();};n.prototype.Jk=function(p){this.wg || (this.xK(p,h.Qc.bg),this.wg && (this.VA || this.config.hN) && this.koa());};n.prototype.dWb=function(p,q){this.state.value !== h.Qc.yd && this.xK(p,h.Qc.mT);this.Xda(q);};n.prototype.CVb=function(p,q){var t;t=this;this.config.Sxb && this.wg && (-1 === this.zaa.indexOf(p) && this.zaa.push(p),2 === this.zaa.length && Promise.resolve().then(function(){t.wg && void 0 !== t.ky && t.$e("memoryLimit",q.K0,q.L0);}));};n.prototype.u1b=function(p,q){f.assert(this.state.value === h.Qc.yd && void 0 === this.ky);this.ky=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.qF}),this.Xda(q));};n.prototype.H1b=function(p,q,t){f.assert(this.wg);this.tta=null !== p && void 0 !== p?p:this.tta;this.$X=null !== q && void 0 !== q?q:this.$X;void 0 === this.aP?this.aP=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.aP.reason=t.reason);};n.prototype.$e=function(p,q,t){var w;f.assert(this.wg && void 0 !== this.ky && void 0 === this.vH && void 0 === this.dea && void 0 === this.N5);this.vH=p;this.dea=q;this.N5=t;this.zq=100;this.Fna();this.y7();null === (w=this.tna) || void 0 === w?void 0:w.Hb();this.state.value === h.Qc.bg && (this.Wxa=k.default.time.ha());this.M7();this.set(h.Qc.sj);this.N5=this.dea=this.vH=this.aP=this.$X=this.tta=this.ky=void 0;};n.prototype.stop=function(){var p;this.set(h.Qc.rj);this.Fna();this.y7();null === (p=this.tna) || void 0 === p?void 0:p.Hb();};n.prototype.sna=function(p,q,t,w){var v,u,x,y,z,A,B,D,C,F;v=this;f.assert(this.wg);null === (u=this.tna) || void 0 === u?void 0:u.Hb();if(this.state.value === h.Qc.bg && k.default.time.ha() < this.Wxa + this.config.Uva){z=this.config.Uva - (k.default.time.ha() - this.Wxa);this.tna=this.Ve.WV(l.Wk.bL(d.R.Oa(z)),function(){v.sna(p,q,t,w);});}else {u=t.IO(0);A=t.IO(1);B=k.default.time.ha() - this.Ol;if(u || A){D=function(G){return G?G.lE() || G.Qs()?w.rna(v.state.value,p,B >= v.config.vB,q,G,v.Du):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};C=D(u);D=D(A);F=function(G){var E;return {reason:G.reason,complete:G.complete,bl:null !== (E=G.oD) && void 0 !== E?E:0};};this.Wg.ps({as:F(C),vs:F(D),bt:B});F=A?D:C;F.l7b=A && D.oD || 0;F.Qwb=u && C.oD || 0;C.complete && D.complete?(F.complete=!0,this.$e(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.l7b) && void 0 !== x?x:0,null !== (y=F.Qwb) && void 0 !== y?y:0)):(F.complete=!1,this.iyb(F),this.Wg.ps({bp:this.zq}));}}};n.prototype.iyb=function(p){var q,t,w;w=p.progress;p.sE?w=(k.default.time.ha() - this.Ol) / this.config.vB:w || (w=(null !== (q=p.oD) && void 0 !== q?q:0) / this.config.Ij);p=Math.min(Math.max(Math.round(100 * w),null !== (t=this.zq) && void 0 !== t?t:0),99);p != this.zq && (this.zq=p);};n.prototype.xK=function(p,q){f.assert(q === h.Qc.yd || void 0 !== p);this.ky=p;this.zq=0;this.hba=void 0;this.nO.Du=0;this.zaa=[];p=this.state.value === h.Qc.yd || this.state.value === h.Qc.bg;this.Ol=k.default.time.ha();this.set(q);p || (this.XFb(),this.d2b());};n.prototype.set=function(p){this.state.set(p);switch(p){case h.Qc.rj:this.Qe.set(h.ta.rj);break;case h.Qc.yd:case h.Qc.mT:this.Qe.set(h.ta.yd);break;case h.Qc.bg:this.Qe.set(h.ta.bg);break;case h.Qc.sj:this.Qe.set(h.ta.Rc);}};n.prototype.XFb=function(){f.assert(this.events && void 0 !== this.zq);this.hba=this.zq;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:k.default.time.ha(),percentage:this.zq});};n.prototype.d2b=function(){var p;p=this;this.Fna();this.HUb=this.Ve.XXa(function(){return p.WFb();},d.R.Oa(this.Txb),"buffering-notification");};n.prototype.Fna=function(){var p;null === (p=this.HUb) || void 0 === p?void 0:p.Hb();};n.prototype.WFb=function(){this.wg && this.events && void 0 !== this.zq && this.zq !== this.hba && this.events.emit("buffering",{type:"buffering",time:k.default.time.ha(),percentage:this.zq}) && (this.hba=this.zq);};n.prototype.M7=function(){var p;f.assert(this.events && this.ky && void 0 !== this.vH && void 0 !== this.N5 && void 0 !== this.dea);this.hba=this.zq;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:k.default.time.ha(),actualStartPosition:this.ky,reason:this.vH,aBufferLevelMs:this.N5,vBufferLevelMs:this.dea,selector:this.tta,initBitrate:this.$X,initSelReason:null === (p=this.aP) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.ohc},this.VVa));};n.prototype.koa=function(){var p;p=this;this.config.lgb && (!this.cC || this.cC.state !== l.yn.complete && this.cC.state !== l.yn.UN?void 0 === this.cC && (this.cC=this.Ve.PH(function(){return p.Cfb();},"underflow")):this.cC.wl());};n.prototype.y7=function(){this.cC && (this.cC.state !== l.yn.UN && this.cC.Hb(),this.cC=void 0);};n.prototype.Cfb=function(){var p,q,t;return c.__generator(this,function(w){switch(w.label){case 0:return (p=this.config.haa,this.I.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,l.Wk.bL(d.R.Oa(p))]);case 1:(w.jc(),w.label=2);case 2:if(!this.wg)return [3,4];q=this.$b.RQb || 0;t=k.default.time.ha() - q;if(t >= p)return (this.I.trace("Forcing streaming failure, " + t + "ms since data received"),this.Cpa.eWb(this.VA),[2]);this.I.trace("BufferingStateTracker: network activity, wait " + (p - t) + "ms");return [4,l.Wk.bL(d.R.Oa(p - t))];case 3:return (w.jc(),[3,2]);case 4:return [2];}});};c.__decorate([m.Kb({methodName:"onTemporaryNetworkError",jl:!0})],n.prototype,"vZ",null);c.__decorate([m.Kb({methodName:"onUnderflow",jl:!0})],n.prototype,"Jk",null);c.__decorate([m.Kb({methodName:"bufferingComplete",jl:!0})],n.prototype,"$e",null);c.__decorate([m.Kb({methodName:"stop",jl:!0})],n.prototype,"stop",null);c.__decorate([m.Kb({methodName:"checkStreamingBufferingComplete",jl:!0})],n.prototype,"sna",null);c.__decorate([m.Kb({methodName:"createUnderflowTask",jl:!0})],n.prototype,"koa",null);c.__decorate([m.Kb({methodName:"destroyUnderflowTask",jl:!0})],n.prototype,"y7",null);c.__decorate([m.Kb({methodName:"onUnderflowTimeout",jl:!0})],n.prototype,"Cfb",null);return n;})();b.TDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.r_a=void 0;c=a(23);b.r_a=function(k,h){var g;g=[];k=k.filter(function(d){return d.aE;}).map(function(d){var f,m;f=h(d.M);m=c.ru(f,d.yf).map(function(l){return l.mediaType;});g=c.j6(g,m);return {mb:d,yf:f};});return {$yb:g,Lxb:k};};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.IOa=void 0;c=a(1);k=a(21);h=a(4);b.IOa=(function(){function g(){}g.OMb=function(d){var f,m,l;if(d.Hh){d=c.__read(d.yf,2);l=d[1];d=null === (f=d[0].Up) || void 0 === f?void 0:f.ej;f=null === (m=null === l || void 0 === l?void 0:l.Up) || void 0 === m?void 0:m.ej;h.assert(d);m=f?k.R.min(d,f):d;return {u7b:d,w7b:m};}};return g;})();},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.LDa=void 0;r=a(1);c=a(17);k=a(9);h=a(68);g=a(16);d=a(15);f=r.__importDefault(a(6));a=(function(){function m(l,n,p,q,t,w){this.Ve=l;this.Pt=n;this.config=p;this.sVb=q;this.Nf=t;this.console=w;this.Eja=new c.Dg();this.console=k.ko(f.default,w,"BranchDecisionMaker");}m.EJb=function(l){var n;return null !== (n=l.md) && void 0 !== n?n:l.LE;};m.xKb=function(l){var n,p;n=l.G;p=l.LP;return n.vc?n.vc:p.length?p[0]:l.nB[0];};m.prototype.uBa=function(l,n){var p,q,t,w;p=this;t=l.G;g.Z && this.console.trace("tracking " + l.G.id);this.reset();if(t.Yv || 1 >= t.nB.length && (null === (q=t.dy) || void 0 === q || !q.length))g.Z && this.console.trace(l.G.id + " does not need tracking");else {w=this.jyb(l);q=w.vza;n=n.lessThan(w.vOb);g.Z && this.console.trace("tracking " + l.G.id,{fa:t.id,Idc:n,Ygc:null === q || void 0 === q?void 0:q.W});this.L0b(t,n?q:void 0);if(n)this.Eja.on(l.events,"branchEdited",function(){p.uBa(l,p.Ve.Da.currentTime);});}};m.prototype.LWa=function(){var l;null === (l=this.EYa) || void 0 === l?void 0:l.Hb();this.EYa=void 0;};m.prototype.reset=function(){this.LWa();this.Eja.clear();};m.prototype.jyb=function(l){var n,p;l=m.EJb(l);n=k.R.Oa(this.config.AE);p=k.R.Oa(this.config.ZTb + this.config.aZ);n=l.Ha(n);return {vOb:d.Bp(this.Nf.value)?l.Ha(p):n,vza:n};};m.prototype.L0b=function(l,n){var p;p=this;this.LWa();this.EYa=n?this.Ve.WV(h.Wk.zR(n),function(){return p.H6a(l);},"scheduled branch decision"):this.Pt.WV(h.Wk.D7b,function(){return p.H6a(l);},"immediate branch decision");};m.prototype.H6a=function(l){var n;this.Eja.clear();n=m.xKb(l);g.Z && this.console.trace("BranchDecisionMaker making decision for " + l.id + ", decision is " + n);this.sVb(l.id,n,!0);};return m;})();b.LDa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.I0a=void 0;c=a(1024);b.I0a=function(k,h){return k.reduce(function(g,d){var f;f=h(d);d.Pq().forEach(function(m){return g.xla(m.mediaType,m.qu,!f);});return g;},new c.rNa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rNa=void 0;c=a(444);r=(function(){function k(){this.zs=new c.PS();this.pW=new c.PS();}Object.defineProperties(k.prototype,{total:{get:function(){var h;h=new c.PS();h.add(this.zs);h.add(this.pW);return h;},enumerable:!1,configurable:!0}});k.prototype.add=function(h){this.zs.add(h.zs);this.pW.add(h.pW);};k.prototype.xla=function(h,g,d){(d?this.pW:this.zs).xla(h,g);};return k;})();b.rNa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.I2a=void 0;b.I2a=function(a,c){return a.reduce(function(k,h){return k + h.P8(c).W;},0);};},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PXa=void 0;c=a(1);k=a(15);b.PXa=function(h){var m,l;function g(n){k.Bp(n.newValue) && !k.Bp(n.oldValue)?(null === l || void 0 === l?void 0:l.Hb(),l=m.WV.apply(m,c.__spread(d))):null === l || void 0 === l?void 0:l.Hb();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=h.eg;m=h.Pt;f.state.addListener(g);g({oldValue:k.Qc.rj,newValue:f.state.value});};},function(r,b,a){var k,h;function c(g,d){return Object.keys(g.ME).map(function(f){return g.ME[f];}).filter(function(f){return void 0 === f.AI || 1 === f.AI;}).reduce(function(f,m){return f + m.zs[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.oPa=void 0;k=a(15);h=a(16);r=(function(){function g(d,f,m){this.ja=d;this.console=f;this.mra=m;}g.prototype.Hyb=function(d,f,m){var l,n,p,q;l=m && this.ja.config.R6b;n=this.ja.config.Yda || l;p=this.mra();if(l){l=d.global;l=(q={},q[0]=l[0] - c(d,0),q[1]=l[1] - c(d,1),q);}q=l;p=this.DWa(f) || this.nzb(d) || this.lzb(d,p,q) || this.mzb(d,p,q,f);q=k.yya(p);if(p && (!q || n))return (h.Z && this.console.log("canIssueRequest " + this.ja.id + " [" + f + "] static limit: " + (m + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});h.Z && this.console.log("canIssueRequest " + this.ja.id + " [" + f + "] static limit: " + (m + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};g.prototype.DWa=function(d){var f;f=this.ja.config.$s;if(this.ja.nKb(d) >= (f || Infinity))return "mediaDurationLimit";};g.prototype.nzb=function(d){return d.ME[this.ja.id].total.total > (this.ja.f9() || Infinity)?"playgraphMemoryLimit":void 0;};g.prototype.lzb=function(d,f,m){d=d.global;return m?m[0] + m[1] > (f.JAa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};g.prototype.mzb=function(d,f,m,l){var n;n=d.global;return m?(h.Z && this.console.log("checkRequestByMediaTypeMemory [" + l + "]: using static limit " + (f.JAa[l] + ", usage: " + m) + (" (global: " + n[l] + "  - certain contiguous: ") + (c(d,l) + ")")),m[l] > (f.JAa[l] || Infinity)?1 === l?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[l] > (f.total[l] || Infinity)?1 === l?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return g;})();b.oPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kNa=void 0;r=(function(){function a(c){this.console=c;this.zna();}a.prototype.get=function(c){return this.QN[c] || this.Pg[c];};a.prototype.set=function(c,k){void 0 === this.Pg[c] && (this.Pg[c]=k);};a.prototype.z1b=function(c,k){void 0 === this.get(c) && (this.QN[c]=k);};a.prototype.clear=function(c){this.QN[c]=void 0;this.Pg[c]=void 0;};a.prototype.Jzb=function(c){var k;this.Pg=(k={},k[c]=this.Pg[c],k);this.QN={};};a.prototype.zna=function(){this.Pg={};this.QN={};};a.prototype.toJSON=function(){return {Pg:this.Pg,QN:this.QN};};return a;})();b.kNa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nNa=b.XF=void 0;c=a(1);k=a(4);(function(g){g[g.N1=0]="CREATED";g[g.lia=1]="STARTED";g[g.gT=2]="REQUEST_ISSUED";g[g.Jy=3]="EVALUATED";g[g.TEa=4]="DESTRUCTED";})(h=b.XF || (b.XF={}));r=(function(){function g(d){this.fy=d;this.Xc=h.N1;this.gF={};this.j0={};}Object.defineProperties(g.prototype,{state:{get:function(){return this.Xc;},enumerable:!1,configurable:!0}});g.prototype.start=function(){var d;d=this;this.Xc !== h.lia && (this.TY(h.lia),[h.Jy,h.gT].forEach(function(f){var m;m=new Promise(function(l){k.assert(d.j0 && d.gF,"state promises should be defined");d.j0[f]=l;d.gF[f]=m;});}),this.fy(),this.TY(h.Jy));};g.prototype.TY=function(d){this.Xc=d;this.j0 && (d=this.j0[d],null === d || void 0 === d?void 0:d());};g.prototype.Hb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Xc !== h.lia)return [3,2];k.assert(this.gF,"state resolves should be defined");return [4,this.gF[h.Jy]];case 1:(d.jc(),d.label=2);case 2:return (this.j0=this.gF=void 0,this.Xc=h.TEa,[2]);}});});};g.prototype.jea=function(d,f){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(l){switch(l.label){case 0:if(this.Xc === h.TEa)return [2];if(this.Xc === h.Jy)return [3,6];k.assert(this.gF,"state promises should be defined");m=d;switch(m){case h.Jy:return [3,1];case h.gT:return [3,3];}return [3,5];case 1:return [4,this.gF[h.Jy]];case 2:return (l.jc(),[3,6]);case 3:return [4,this.gF[h.gT]];case 4:return (l.jc(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return g;})();b.nNa=r;},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lOa=void 0;c=a(1);k=a(4);h=c.__importDefault(a(6));g=a(71);d=a(9);r=(function(){var B31;B31=2;function f(m,l){var C31,n;C31=2;for(;C31 !== 14;){switch(C31){case 2:n=this;this.D$=m;this.config=l;this.PG=0;C31=3;break;case 8:var r9v="R";r9v+="eque";r9v+="stPacer";var f9v="1S";f9v+="IYbZ";f9v+="rNJC";f9v+="p9";f9v;this.Xq=new g.Fw({cr:this,source:r9v,Kla:function(){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:return {numOutstanding:n.PG};break;}}},dt:10});C31=6;break;case 3:var b9v="media|as";b9v+="e";b9v+="js";var V9v="ASEJ";V9v+="S_RE";V9v+="QUEST_PAC";V9v+="E";V9v+="R";this.console=new h.default.Console(V9v,b9v);this.tza=!1;C31=8;break;case 6:this.nbb=new d.kT();C31=14;break;}}}for(;B31 !== 13;){switch(B31){case 3:var J9v="H";J9v+="B";var R9v="r";R9v+="em";R9v+="oveR";R9v+="eq";R9v+="uest";var x9v="p";x9v+="u";var c9v="a";c9v+="ddR";c9v+="eq";c9v+="ues";c9v+="t";var n9v="f";n9v+="l";var C9v="checkRequest";C9v+="Opportunit";C9v+="y";f.prototype.EWa=function(m){var J31,l,n,p;J31=2;for(;J31 !== 9;){switch(J31){case 1:this.nbb.push(n);J31=5;break;case 5:J31=this.PG < l && this.D$()?4:3;break;case 4:p++;J31=5;break;case 3:var y9v="requestOpportu";y9v+="ni";y9v+="tyRunne";y9v+="rComplete";this.Xq.UU(y9v,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);J31=9;break;case 2:(l=this.config.gaa,n=h.default.time.ha() - m,p=0);J31=1;break;}}};c.__decorate([g.Kb({methodName:C9v,jl:!0,Kn:!0})],f.prototype,n9v,null);c.__decorate([g.Kb({methodName:c9v,jl:!0})],f.prototype,x9v,null);c.__decorate([g.Kb({methodName:R9v,jl:!0})],f.prototype,J9v,null);B31=6;break;case 6:var g9v="E";g9v+="W";g9v+="a";var U9v="checkReques";U9v+="tO";U9v+="pportunit";U9v+="yRun";U9v+="ner";c.__decorate([g.Kb({methodName:U9v,jl:!0})],f.prototype,g9v,null);return f;break;case 2:Object.defineProperties(f.prototype,{cVb:{get:function(){var E31;E31=2;for(;E31 !== 1;){switch(E31){case 2:return this.PG;break;case 4:return this.PG;break;E31=1;break;}}},enumerable:!1,configurable:!0}});f.prototype.fl=function(){var F31,m,l;F31=2;for(;F31 !== 9;){switch(F31){case 2:m=this;F31=1;break;case 1:F31=!this.tza?5:9;break;case 5:this.tza=!0;l=h.default.time.ha();return Promise.resolve().then(function(){var G31;G31=2;for(;G31 !== 5;){switch(G31){case 2:m.tza=!1;m.EWa(l);G31=5;break;}}});break;}}};f.prototype.pu=function(m){var H31;H31=2;for(;H31 !== 4;){switch(H31){case 2:var s9v="More th";s9v+="an maxAllow";s9v+="edOut";s9v+="standingRequests are out";s9v+="standing";this.Xq.ps({mediaType:m.mediaType,contentStartPts:m.qd,contentEndPts:m.Vc});this.PG++;k.assert(this.PG <= this.config.gaa,s9v);H31=4;break;}}};f.prototype.HB=function(m){var I31;I31=2;for(;I31 !== 3;){switch(I31){case 2:var j9v="r";j9v+="emoveR";j9v+="eq";j9v+="uest";var e9v="Recei";e9v+="ved ";e9v+="rem";e9v+="ove req";e9v+="uest when there are no requests outstanding";this.Xq.ps({mediaType:m.mediaType,contentStartPts:m.qd,contentEndPts:m.Vc});this.PG--;k.assert(0 <= this.PG,e9v);this.fl(j9v);I31=3;break;}}};B31=3;break;}}})();b.lOa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mGa=void 0;c=a(54);r=(function(){function k(h){this.$b=h;}Object.defineProperties(k.prototype,{sg:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Vl=function(h){var g;if(h.Li === c.ce.pp && this.$b){h={};g=this.$b.get();g && g.avtp && g.avtp.qa && (h.avtp=g.avtp.qa,h.dltm=g.avtp.G7);g && g.initialThroughput && g.initialThroughput.qa && (h.initial_avtp=g.initialThroughput.qa);g && g.cdnavtp && (h.cdnavtp=g.cdnavtp,h.activecdnavtp=g.activecdnavtp);if(g=this.$b.i9())(g.bytesRequestedPacingVideo && (h.bytesRequestedPacingVideo=g.bytesRequestedPacingVideo,h.estimatedBytesPacedVideo=g.estimatedBytesPacedVideo,h.bytestotalVideo=g.bytestotalVideo,h.pacedAvtpVideo=g.pacedAvtpVideo),g.bytesRequestedPacingAudio && (h.bytesRequestedPacingAudio=g.bytesRequestedPacingAudio,h.estimatedBytesPacedAudio=g.estimatedBytesPacedAudio,h.bytestotalAudio=g.bytestotalAudio,h.pacedAvtpAudio=g.pacedAvtpAudio),g.pacedAvtp && (h.pacedAvtp=g.pacedAvtp));this.$b.flush();if(g=this.$b.o1a())for(var d in g){g.hasOwnProperty(d) && (h["ne" + d]=Number(g[d]).toFixed(6));}return h;}};return k;})();b.mGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dPa=void 0;c=a(54);r=(function(){function k(h){h.events.on("streamSelection",this.Vwa.bind(this));}k.prototype.Vwa=function(h){0 === h.mediaType && void 0 === this.i4a?this.i4a=h:1 === h.mediaType && void 0 === this.k4a && (this.k4a=h);};Object.defineProperties(k.prototype,{sg:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Vl=function(h){var g;if(h.Li === c.ce.Pp)return (h=null !== (g=this.k4a) && void 0 !== g?g:this.i4a,g={histdiscbw:null === h || void 0 === h?void 0:h.result.hv,histage:null === h || void 0 === h?void 0:h.result.zp},h=null === h || void 0 === h?void 0:h.Rd.map(function(d){return void 0 !== d.X7?{$a:d.X7,wf:d.wf,Qa:d.Qa}:void 0;}).filter(function(d){return void 0 !== d;}),0 < (null === h || void 0 === h?void 0:h.length) && (g.vmafEstimates=h),g);};return k;})();b.dPa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yPa=void 0;r=a(1);c=a(17);k=a(16);h=r.__importDefault(a(6));a=(function(){function g(d){this.Ve=d;this.n4=[];this.reset();}Object.defineProperties(g.prototype,{sg:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DE:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return k.Z;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var d,f;d=this;null === (f=this.tM) || void 0 === f?void 0:f.clear();this.tM=new c.Dg();this.tM.on(this.Ve,"clockChanged",function(){d.reset();d.eX("initial");});this.tM.on(this.Ve,"stopping",function(){d.eX("stopping");});this.tM.on(this.Ve.Da,"clockAdjusted",function(){d.eX("clockAdjusted");});this.tM.on(this.Ve.Da,"stopStart",function(){d.eX("stopStart");});this.tM.on(this.Ve.Da,"speedChanged",function(){d.eX("speedChanged");});};g.prototype.eX=function(d){this.n4.push({reason:d,audit:this.Ve.tJb(),time:h.default.time.ha()});5 < this.n4.length && this.n4.shift();};g.prototype.Vl=function(){return this.n4;};return g;})();b.yPa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nOa=void 0;c=a(54);r=(function(){function k(h,g){this.$b=h;this.obb=g;}Object.defineProperties(k.prototype,{sg:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Vl=function(h){var g;h=h.Li;if(h === c.ce.pp || h === c.ce.Do || void 0 === h){h={numOutstandingRequests:this.obb.cVb,requestOpportunityDelayStats:this.obb.nbb};g=this.$b.TTa;g && g.length && (h.activeRequests=JSON.stringify(g));return h;}};return k;})();b.nOa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;r=(function(){function a(c){this.S7=c;this.DE="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{sg:{get:function(){return this.DE;},enumerable:!1,configurable:!0}});a.prototype.Vl=function(){var c;c=this.S7.GXb.map(function(k){var h;h=k.ja;return {id:h.id,weight:h.weight,relativeWeight:k.p_};});return {prefetcher:this.S7.Hv.getStats(),playgraphs:c,viewables:this.S7.v7b,players:this.S7.x$a.length};};return a;})();b.pGa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TGa=void 0;c=a(4);k=a(444);r=(function(){function h(){this.global=new k.PS();this.ME={};}h.prototype.add=function(g,d){c.assert(void 0 === this.ME[g],"Cannot add new memory object for playgraph");this.ME[g]=d;this.global.add(d.zs);this.global.add(d.pW);};return h;})();b.TGa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sKa=void 0;c=a(1);k=a(16);h=a(433);g=a(71);r=(function(){function d(f,m,l){this.mra=f;this.zKb=m;this.I=l;this.Wg=new g.Fw({cr:this,console:l,source:"MemoryDeadlockProtector",dt:5});}d.prototype.NIb=function(f){var m,l,n,p;n=f.config;p=n.Ij + (null !== (l=null === (m=n.PQ) || void 0 === m?void 0:m.W) && void 0 !== l?l:0);m=this.tNb(p,f);k.Z && this.I.debug("MDP: has prebuf: " + m);return m?{A7:!0}:(l=this.tyb(n),m=l.wWb,l=l.Y6b,m && l?(k.Z && this.I.debug("MDP: utilizing " + Math.round(100 * l) + "%"),l >= n.uTb?this.ybb(f,m):{A7:!0}):{A7:!1});};d.prototype.ybb=function(f,m){var l,n,p,q,t,v,y,z;this.Wg.ps({o:m});q=f.S;f=f.qb;t=q.qb;q=q.TA;for(var w=0;w < t.length;w++){if(!t[w].Ml){q=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:0,pD:0},{mediaType:1,pD:0}];if(null === q || void 0 === q || !q.Ml){f=f.map(function(B){return B;}).filter(function(B){return -1 === t.indexOf(B);}).sort(function(B,D){return h.bna(B) - h.bna(D);});try{for(var u=c.__values(f),x=u.next();!x.done;x=u.next()){y=x.value;z=y.RD();v[0].pD+=null !== (n=z.gD) && void 0 !== n?n:0;v[1].pD+=null !== (p=z.Ot) && void 0 !== p?p:0;k.Z && this.I.debug("Resetting discontiguous branch " + y.G.id,z);y.reset();if(w=v.every(function(B){return B.pD >= m[B.mediaType].pD;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (l=u.return) && l.call(u);}finally{if(A)throw A.error;}}}return {A7:w,tec:v};};d.prototype.tyb=function(f){var m,l,n,p;if(!f.vTb)return {};m=this.zKb();l=this.mra().total;n=f.tTb;p=0;f=[0,1].map(function(q){var t;t=m[q] - l[q] * n;p=Math.max(0 < l[q]?m[q] / l[q]:0,p);return {pD:Math.max(0,t),mediaType:q};});return {Y6b:p,wWb:f};};d.prototype.tNb=function(f,m){var l,n;l=!1;m=m.GI?m.S:void 0;if(null === m || void 0 === m?0:m.ROb){l=m.ii.Pq().map(function(p){return p.mediaType;});n=m.UJb();l=l.every(function(p){var q,t;if(0 === p)p=null !== (q=n.ns) && void 0 !== q?q:0;else if(1 === p)p=null !== (t=n.Fo) && void 0 !== t?t:0;else throw Error("Unsupported media type:" + p);return p >= f;});}return l;};c.__decorate([g.Kb({methodName:"resetDiscontiguousBranches",return:!0,jl:!0})],d.prototype,"ybb",null);return d;})();b.sKa=r;},function(r,b,a){var c,k,h,g,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fDa=void 0;r=a(1);c=a(9);k=r.__importDefault(a(30));h=a(23);g=r.__importDefault(a(411));d=a(54);a=(function(){function f(m){var l,n;l=this;this.ja=m;this.Ju="aseReport";this.fWa=c.R.fE;this.Yo=!1;if(0 === Math.floor(1E6 * Math.random()) % m.config.lN || m.config.zIb){this.fWa=c.R.Oa(m.config.l6);this.ja.mN=!0;n=[];n[k.default.Ya.Nb]=new g.default(m.config,k.default.Ya.Nb);n[k.default.Ya.cc]=new g.default(m.config,k.default.Ya.cc);this.Zka=n;this.ja.events.on("openComplete",function(){return l.open();});}}f.prototype.open=function(){this.ja.mN && !this.Yo && (this.Yo=!0,this.ja.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ja.events.on("streamSelection",this.Vwa.bind(this)));};f.prototype.Vwa=function(m){this.Zka[m.mediaType].add(m.result,m.streamList);};f.prototype.$ra=function(){var m;m=h.flatten(this.Zka.map(function(l){return l.get();}).filter(function(l){return void 0 !== l;}));this.Zka.forEach(function(l){return l.reset(!0);});return m;};f.prototype.Sg=function(m){var l;l=m.Li;m=m.uPb;return this.ja.mN && this.Yo && (m || l === d.ce.pp) && (l=this.$ra()) && l.length?{fdb:!0,event:{type:"asereport",strmsel:l}}:{fdb:!1,event:{type:"asereport",strmsel:[]}};};return f;})();b.fDa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.GNa=void 0;c=a(1);k=a(17);h=a(15);g=a(9);d=a(1040);f=a(23);m=a(4);l=a(1041);n=a(16);p=a(98);q=a(1042);t=c.__importDefault(a(6));w=a(223);v=a(1043);u=a(1044);x=a(1045);y=a(265);z=a(1047);A=a(1049);r=(function(){function B(D,C,F,G,E){void 0 === G && (G=new u.kFa());void 0 === E && (E=new v.jFa());this.h_a=D;this.config=C;this.Oab=G;this.$m=[];this.O$a=[];this.yy=[];this.ac={x5a:0,y5a:0,u5a:0,Sma:0,v5a:0,w5a:0,Tma:0};this.events=new k.EventEmitter();this.I=g.ko(t.default,F,"PREFETCH");this.iUa(new x.OEa(C));this.iUa(new A.MOa(C));this.vcb({LI:C.bYb});this.Yza(E);this.OOb();}Object.defineProperties(B.prototype,{cYb:{get:function(){return this.$m.map(function(D){return D.context;});},enumerable:!1,configurable:!0}});B.prototype.Ocb=function(D){n.Z && m.assert(D,"Reconciliation strategy is undefined");this.Oab=D;return this;};B.prototype.iUa=function(D){this.O$a.unshift(D);};B.prototype.Xcb=function(D){n.Z && this.I.debug("Wish list changed",{hgc:D.length});this.yy=D;this.eya();};B.prototype.reset=function(){var D,G,E,I,N,L;if(this.config.kYb)try{for(var C=c.__values(this.$m),F=C.next();!F.done;F=C.next()){G=F.value;E=G.ja;I=G.I$;N=G.context;if(E){E.Bf();I.qca(function(Q){return "segmentNormalized" !== Q.Ju;});L=y.Qra(N.$d,E.ja);E.NB(L);}}}catch(Q){var H;H={error:Q};}finally{try{F && !F.done && (D=C.return) && D.call(C);}finally{if(H)throw H.error;}}else this.Xcb([]);};B.prototype.vcb=function(D){n.Z && this.I.debug("Budget changed",{lgc:this.tV,ggc:D});this.tV=D;this.eya();};B.prototype.Czb=function(D,C){var F,G,E,I;if(D=this.Oab.R_a(this.$m,{ja:D,hj:C}))if((C=this.yy.indexOf(D.context.$d),n.Z && this.I.debug("Claiming item: " + y.yp(D.context.$d.key),{ym:t.default.time.ha() - D.Ada,buffer:null === (F=D.ja) || void 0 === F?void 0:F.ai(g.R.hb)}),this.YN(D.context,{hua:! !D.ja}),D.ja)){F=D.ja;E=D.tt;I=F.gy;z.ENa.B_b(F,I,D.I$,this.I);E.F0b(null !== (G=F.BI(I)) && void 0 !== G?G:g.R.hb,C);F.Nfb({LI:this.config.sv || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.$d,videoBytesBuffered:D.ja.xx().Ot,audioBytesBuffered:D.ja.xx().gD});}this.config.Yvb || this.reset();return null === D || void 0 === D?void 0:D.ja;};B.prototype.Bzb=function(){};B.prototype.getStats=function(){var D;D=t.default.time.ha();return {wishListLength:this.yy.length,prefetchList:this.cYb.length,contents:this.$m.map(function(C){var F,G,E,I,N;return {id:y.yp(C.context.$d.key),buffer:null === (F=C.ja) || void 0 === F?void 0:F.ai(g.R.hb),pId:null === (G=C.ja) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:C.context.s5a.LI},weight:C.context.Uba,age:D - C.Ada,timeOpened:D - (null !== (E=C.N4b) && void 0 !== E?E:0),state:h.Qc[null !== (N=null === (I=C.ja) || void 0 === I?void 0:I.Nf.value) && void 0 !== N?N:h.Qc.rj]};}),aggregated:{itemsRequested:this.ac.x5a,itemsStarted:this.ac.y5a,itemsClaimed:this.ac.u5a,bytesClaimed:this.ac.Sma,itemsCompleted:this.ac.v5a,itemsDiscarded:this.ac.w5a,bytesDiscarded:this.ac.Tma}};};B.prototype.YN=function(D,C){var F;void 0 === C && (C={});c.__awaiter(this,void 0,void 0,function(){var G,E,I,N,L,H;return c.__generator(this,function(Q){switch(Q.label){case 0:G=c.__assign({hua:!1,C5a:!1},C);E=G.hua;I=G.C5a;N=f.ze(this.$m,function(O){return O.context === D;});if(!N)return [3,3];this.$m.splice(this.$m.indexOf(N),1);I || (L=this.yy.length,this.yy=this.yy.filter(function(O){return O !== D.$d;}),n.Z && this.I.info("Dropping items from wishlist",L - this.yy.length),this.yy.length >= L && n.Z && this.I.warn("Unable to filter out wishlist item",this.yy.map(function(O){return O.key;}),D.$d.key));n.Z && this.I.debug("Dropping playgraph",{ym:t.default.time.ha() - N.Ada,buffer:null === (F=N.ja) || void 0 === F?void 0:F.ai(g.R.hb),N:y.yp(D.$d.key),Ngc:!E,iec:!I});if(E)return [3,2];H=this.Ov(N);return N.ja?[4,H]:[3,2];case 1:(Q.jc(),Q.label=2);case 2:(this.eya(),Q.label=3);case 3:return [2];}});});};B.prototype.Yza=function(D){m.assert(D,"Playgraph resolver is undefined");this.Lxa=D;return this;};B.prototype.OOb=function(){var D;D=this;this.events.on("prefetchComplete",function(){return D.ac.v5a++;});this.events.on("prefetchStarted",function(){return D.ac.y5a++;});this.events.on("itemQueued",function(){return D.ac.x5a++;});this.events.on("itemClaimed",function(C){var F,G;D.ac.u5a++;D.ac.Sma+=(null !== (F=C.n7b) && void 0 !== F?F:0) + (null !== (G=C.Swb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(C){var F,G;D.ac.w5a++;D.ac.Tma+=(null !== (F=C.n7b) && void 0 !== F?F:0) + (null !== (G=C.Swb) && void 0 !== G?G:0);});};B.prototype.eya=function(){var D,C,F,G,E,I;D=this;C=d.vEa.jPb({P7b:this.yy,SMb:this.tV},this.O$a.map(function(N){return N.jWa.bind(N);})).$m;F=f.ru(C,this.$m,function(N,L){return y.isEqual(N.$d.key,L.context.$d.key);});G=f.ru(this.$m,C,function(N,L){return y.isEqual(N.context.$d.key,L.$d.key);});E=f.ru(this.$m,G);n.Z && this.I.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(N){var L;L=N.context.$d.key;n.Z && D.I.debug("Releasing playgraph",y.yp(L));return D.Ov(N).then(function(){D.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:N.context.$d});});});I=E.map(function(N){return c.__awaiter(D,void 0,void 0,function(){var L,H;return c.__generator(this,function(Q){switch(Q.label){case 0:(L=f.ze(C,function(O){return y.isEqual(O.$d.key,N.context.$d.key);}),m.assert(L,"Couldn't find the requested item context"),N.context=L,Q.label=1);case 1:return (Q.Dl.push([1,3,,4]),[4,N.Tba]);case 2:return (H=Q.jc(),[3,4]);case 3:return (Q.jc(),[2]);case 4:return (f.ze(this.$m,function(O){return O === N;}) && (this.SUa(N.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:N.context.$d})),[2]);}});});});F=F.map(function(N){var L;L=D.gDb(N);D.events.emit("itemQueued",{type:"itemQueued",wishListItem:N.$d});return L;});this.$m=c.__spread(E,F);E=F.map(function(N){return N.Tba.catch(function(){});});E=G.concat(I).concat(E);Promise.all(E);};B.prototype.Ov=function(D){var C;C=this;return D.Tba.then(function(F){return c.__awaiter(C,void 0,void 0,function(){var G;return c.__generator(this,function(E){switch(E.label){case 0:return (n.Z && this.I.debug("Removing prefetch playgraph",{size:F.ai(g.R.hb)}),D.Z7.clear(),[4,this.h_a()]);case 1:return (G=E.jc(),G.Ov(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:D.context.$d,videoBytesBuffered:F.xx().Ot,audioBytesBuffered:F.xx().gD}),[2]);}});});},function(){});};B.prototype.dDb=function(D){return c.__awaiter(this,void 0,void 0,function(){var C,F,G,E,I,N,L;L=this;return c.__generator(this,function(H){switch(H.label){case 0:return (C=D.context,F=y.yp(C.$d.key),n.Z && this.I.debug("Creating playgraph",F),[4,this.Lxa.U6a(C)]);case 1:return (G=H.jc(),[4,C.$d.nj.bo(F).Jr]);case 2:return (E=H.jc(),E.ia.Gm?(this.YN(C,{hua:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.h_a()]);case 3:return (I=H.jc(),N=I.lH(G,C.Uba,C.hj,C.$d.nj,!1),D.Z7.addListener(N.events,"error",function(Q){n.Z && L.I.debug("Prefetch playgraph resulted in error",Q.gec);L.YN(C);}),[2,N]);}});});};B.prototype.hWb=function(D,C){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,N,L;L=this;return c.__generator(this,function(H){switch(H.label){case 0:return (F=D.context,G=y.yp(F.$d.key),E=F.$d.nj.bo(G),[4,E.Jr]);case 1:return (I=H.jc(),this.SUa(F,C),this.pwb(F,C,! !I.Ne),C.open(),C.QB({zt:function(Q,O){var J;J=Q.recommendedMedia;return J?f.Ln(O,function(M){return M.new_track_id === J.Mn;}):f.Ln(O,function(M){return M.track_id === Q.defaultTrackOrderList[0].audioTrackId;});}},{zt:function(Q,O){var J;J=Q.recommendedMedia;return J?f.Ln(O,function(M){return M.new_track_id === J.xR;}):f.Ln(O,function(M){return M.track_id === Q.defaultTrackOrderList[0].videoTrackId;});}}),C.NB(y.Qra(F.$d,C.ja)),N=function(Q){n.Z && L.I.debug("Viewable " + (Q?"superseded":"expired"),y.yp(D.context.$d.key));D.xfc=!0;L.YN(D.context,{C5a:!Q});},E.events && (D.Z7.addListener(E.events,"viewableEvicted",function(){N(!0);}),D.Z7.addListener(E.events,"viewableExpired",function(){N(!1);})),E.Ku && (n.Z && this.I.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.YN(D.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:D.context.$d}),[2]);}});});};B.prototype.SUa=function(D,C){C.egb(D.Uba);C.Nfb(D.s5a);};B.prototype.pwb=function(D,C,F){var G;G=D.y3b;D=G.audio;G=G.video;F && G.push(new w.EL(this.I,C.config));C.ada(new p.$t(D,!0),new p.$t(G,!0));};B.prototype.gDb=function(D){var C,F,G;C=this;F=new l.FNa();G={context:D,Ada:t.default.time.ha(),Z7:new k.Dg(),tt:F};G.Tba=this.dDb(G).then(function(E){return c.__awaiter(C,void 0,void 0,function(){var I,N,L,H;N=this;return c.__generator(this,function(Q){switch(Q.label){case 0:return (I=E,I=null !== (H=null === (L=I.xd) || void 0 === L?void 0:L.xd) && void 0 !== H?H:E,E.Mg(F),F.Lwb(E),G.I$=new q.xGa(I.events,{z2b:function(O){var J;J=O.Ju;switch(J){case "buffering":return !1;case "bufferingStarted":G.I$.qca(function(M){return "bufferingComplete" === M.Ju || "updateStreamingPts" === M.Ju;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.I$.qca(function(M){return M.Ju === J;});default:return !0;}}}),I.events.on("bufferingComplete",function(){N.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:D.$d});}),[4,this.hWb(G,E)]);case 1:return (Q.jc(),G.N4b=t.default.time.ha(),G.ja=E,[2,E]);}});});});G.Tba.catch(function(E){n.Z && C.I.error("Exception occurred creating playgraph",E);C.YN(G.context);});return G;};return B;})();b.GNa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vEa=void 0;b.vEa=(function(){function a(){}a.jPb=function(c,k){var d;function h(f){return g(d++)(f,h);}function g(f){return f >= k.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + f);}:k[f];}d=0;return h(c);};return a;})();},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FNa=void 0;c=a(1).__importDefault(a(6));k=a(54);r=(function(){function h(){this.creationTime=c.default.time.ha();this.Pb={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}h.prototype.Lwb=function(g){this.ja=g;};h.prototype.F0b=function(g,d){var f;g=null === (f=this.ja) || void 0 === f?void 0:f.ai(g);this.Pb={isPrefetchItem:!0,prefetchedVideoMs:g.L0,prefetchedAudioMs:g.K0,prefetchClaimDurationMs:c.default.time.ha() - this.creationTime,prefetchRank:d};};Object.defineProperties(h.prototype,{sg:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.Vl=function(g){if(g.Li === k.ce.Pp)return this.Pb;};return h;})();b.FNa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xGa=void 0;c=a(1);r=(function(){function h(g,d){void 0 === d && (d={});this.Jq=g;this.options=d;this.eI=[];this.bY=new k(g,this.ovb.bind(this));}h.prototype.ovb=function(g){for(var d,f,m,l,n,p,q=[],t=1;t < arguments.length;t++){q[t - 1]=arguments[t];}q={Ju:g,Kn:q};(null !== (m=null === (f=(d=this.options).z2b) || void 0 === f?void 0:f.call(d,q,this.eI)) && void 0 !== m?m:1) && this.eI.push(q);return null !== (p=null === (n=(l=this.options).lhc) || void 0 === n?void 0:n.call(l,q)) && void 0 !== p?p:!0;};h.prototype.qca=function(g){this.eI=this.eI.filter(function(d,f){return !g(d,f);});};h.prototype.Tya=function(){var g;g=this;this.bY.Efb();this.eI.forEach(function(d){var f;(f=g.Jq).emit.apply(f,c.__spread([d.Ju],d.Kn));});this.bY.u4a();};Object.defineProperties(h.prototype,{length:{get:function(){return this.eI.length;},enumerable:!1,configurable:!0}});h.prototype.clear=function(){this.eI=[];};h.prototype.Hb=function(){this.bY.Efb();};return h;})();b.xGa=r;k=(function(){function h(g,d){var f;f=this;this.Jq=g;this.zV=d;this.bY=function(m){for(var l,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.zV.apply(f,c.__spread([m],n))?(l=f.A9a).call.apply(l,c.__spread([f.Jq,m],n)):!1;};this.A9a=this.Jq.emit;this.u4a();}h.prototype.u4a=function(){this.Jq.emit=this.bY;};h.prototype.Efb=function(){this.Jq.emit=this.A9a;};return h;})();},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jFa=void 0;c=a(1);k=a(51);h=a(265);r=(function(){function g(){}g.prototype.U6a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,m,l,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.$d.key;if(!h.kY(f))return [3,2];m=f.N;l=d.$d.nj.bo(m);return [4,Promise.resolve(l.Jr)];case 1:return (n=q.jc(),p=n.ia,p.On?[2,k.Wz(p.On,{config:n.config})]:[2,k.bF(m,"ps0")]);case 2:return [2,f.ja];}});});};return g;})();b.jFa=r;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.kFa=void 0;c=a(1);k=a(4);h=a(265);r=(function(){function g(){}g.yp=function(d){var f,m;f=d.P;d=d.fe;m=f[d].N;Object.keys(f).forEach(function(l){return k.assert(f[l].N === m);});return f[d].N;};g.prototype.R_a=function(d,f){var m;m=Object.keys(f.ja.P).length;return c.__read(d.filter(function(l){var n,p;return g.yp(f.ja) === h.yp(l.context.$d.key) && (1 === m || m === Object.keys(null !== (p=null === (n=l.ja) || void 0 === n?void 0:n.ja.P) && void 0 !== p?p:{}).length);}),1)[0];};return g;})();b.kFa=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.OEa=b.REa=void 0;c=a(98);k=a(1046);b.REa=625E3;r=(function(){function h(g){this.config=g;}h.prototype.jWa=function(g){var d,f,m;d=this.config.t7;f=(this.config.D7a || this.config.s7) * b.REa / 1E3;m=Math.floor(g.SMb.LI / f);return {$m:g.P7b.sort(function(l,n){return l.priority - n.priority;}).slice(0,d).map(function(l,n){var p;p=l.key.config;return {s5a:{LI:n > m - 1?0:f},$d:l,Uba:1,hj:p,y3b:{audio:[c.yD(p),new k.uia()],video:[c.zD(p),new k.uia()]}};})};};return h;})();b.OEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uia=void 0;c=a(15);r=(function(){function k(){}k.prototype.Lm=function(h,g){return g === c.Qc.sj?[]:h;};return k;})();b.uia=r;},function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ENa=void 0;c=a(16);k=a(1048);b.ENa=(function(){function h(){}h.B_b=function(g,d,f,m){g.events.once("seeking",function(l){var n,p;n=l.position;p=f.length;l.duplicate || (f.qca(function(q){return "segmentNormalized" !== q.Ju;}),c.Z && m.log("Discarding " + (p - f.length) + " events from prefetched playgraph for original seek postition " + k.y9(d) + (" due to seek to " + k.y9(n))));c.Z && m.log("Replaying " + f.length + " events from prefetched playgraphfor seek postition " + k.y9(n));f.Tya();f.Hb();});};return h;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.y9=void 0;b.y9=function(a){return "( " + a.fa + ", " + a.offset.Ic() + " )";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MOa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.jWa=function(c,k){var h,g;h=this;c=k(c);g=c.$m.map(function(d){return d.$d.priority;}).sort();c.$m.forEach(function(d){d.Uba=h.config.eYb / (2 << g.lastIndexOf(d.$d.priority));});return c;};return a;})();b.MOa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vNa=void 0;r=(function(){function a(c){var k;k=this;c=c.fl;this.EI=function(){k.fl();};this.fl=c;}a.prototype.lH=function(c){c.events.on("requestsPruned",this.EI);};a.prototype.Ov=function(c){c.events.removeListener("requestsPruned",this.EI);};return a;})();b.vNa=r;},function(r,b){function a(c,k,h,g){return c && k?Math.min(c - k * h,c - g):(c || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.lWa=void 0;b.lWa=function(c,k){var h,g,d;g=a(k.audio,k.kma,c.IXa,c.GXa);d=a(k.video,k.kCa,c.IXa,c.HXa);return (h={},h[0]=g,h[1]=d,h.total=(k.total || Infinity) - c.GXa - c.HXa,h);};},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.PV=void 0;c=a(1);k=a(446);h=a(447);g=a(266);d=a(119);f=a(1056);m=a(1057);b.PV=function(l){var q,t,w,v,u,x;for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}p=c.__assign({$fa:h.Zfa},l).$fa;q=g.Swa(n[5],function(){return u;});n[5]=q.VE;t=new k.gha(function(){return x;});v={ml:new p(function(){return w.ja;},t),get xd() {return x;},get ty() {return w;},dba:t};v.ml.Wg.J.source="Ads:" + v.ml.Wg.J.source;u=new m.ICa(v,q.feb,d.jt.Gca.aK);x=f.PV.apply(void 0,c.__spread([l,[u]],n));u.zb();t.mca();return w=d.jt.dca(x,u,function(){return v;});};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M5a=void 0;b.M5a=function(a){var c,k;c=a.next();do {if(!c.done)k=c.value;c=a.next();}while(!c.done);return k;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KEa=void 0;r=(function(){function a(c){this.Gm=c;this.sg="content-playgraph";this.enabled=!0;}a.prototype.Vl=function(){var c,k,h;c=this.Gm.xd;k=c.S;(k.sf?k.Zh:c.dv && c.gy) && this.Gm.Gm && (k=k.Zh,c=this.Gm.ml.XK(k),k=this.Gm.xd.ja.P[k.fa].N,this.Gm.ja.P[c.fa].N != k && (h=k));return {contentPlaygraph:this.Gm.Gm,auxMid:h};};return a;})();b.KEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z$a=void 0;b.z$a={"*":{t_a:["logdata"],rules:[{xl:function(a){return a.vCa;}}]},locationSelected:[{xl:function(a){return a.N_;}}],segmentComplete:[{xl:function(a){return a.N_;}}],segmentStarting:[{xl:function(a){return a.N_;}}],serverSwitch:[{xl:function(a){return a.N_;}}],streamSelected:[{xl:function(a){return a.sf;}}]};},function(r,b,a){var c,k,h,g,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PV=void 0;c=a(1);k=a(437);h=a(446);g=a(447);d=a(266);f=a(119);b.PV=function(m,l){var q,t,w,v,u,x;for(var n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}q=c.__assign({Ynb:k.H1,$fa:g.Zfa},m);p=q.Ynb;q=q.$fa;t=d.Swa(n[5],function(){return x;});n[5]=t.VE;w=new (p.bind.apply(p,c.__spread([void 0],n)))();n=new h.gha(function(){return w;});u={ml:new q(function(){return v.ja;},n),xd:w,get ty() {return v;},dba:n};x=new d.IEa(u,t.feb,f.jt.Gca.aK);return v=f.jt.dca(w,x,function(){return u;},l);};},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ICa=void 0;c=a(1);k=a(51);h=a(16);g=a(1058);d=a(71);f=a(4);r=a(266);m=a(1059);a=(function(l){function n(p,q,t){p=l.call(this,p,q,t,"AdsPlaygraphHost",!1) || this;p.SU=void 0;p.Q5=void 0;return p;}c.__extends(n,l);n.prototype.zb=function(){l.prototype.zb.call(this);this.context.xd.Mg(new g.JCa(this.context));this.Q5=new m.HCa(this.J,this.I);};n.prototype.QJ=function(p){f.assert(this.Q5,"missing manager");this.Q5.A0a(p) && !this.SU && (p=this.Q5.lJb(p),h.Z && this.I.log("CombinePlaygraphs: ads: " + JSON.stringify(p)),this.x4.ps({ad:p}),this.SU=p,this.bab());return !0;};n.prototype.Wqa=function(p){return this.SU?k.Iva(p,this.SU):p;};c.__decorate([d.Kb({methodName:"ads::processViewableResponse"})],n.prototype,"QJ",null);return n;})(r.JEa);b.ICa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JCa=void 0;r=(function(){function a(c){this.context=c;this.sg="ad-playgraph";this.enabled=!0;}a.prototype.Vl=function(){var c,k,h,g,d,f;c=this.context;k=c.ty;h=c.xd;c=h.S;g=c.sf?c.Zh:h.dv?h.gy:void 0;c=k.SU;d="content";if(g && (h=h.ja.P[g.fa],(g=h.Zc) && k.ja.P[g].N != h.N)){f=h.N;d=h.type;}return {adPlaygraph:c,adMid:f,auxMidType:d,manifestHasAds:! !c};};return a;})();b.JCa=r;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HCa=void 0;r=a(1);c=a(51);k=a(16);h=r.__importDefault(a(6));g=a(9);a=(function(){function d(f,m){this.I=g.ko(h.default,m,"AdManager");}d.prototype.A0a=function(f){if(f.ia.Uvb && (f=f.ia.Uvb,f.P5.length))return f;};d.prototype.lJb=function(f){var m;m=this.A0a(f);if(m)return (f=c.MXa(parseInt(f.K),m),k.Z && this.I.log("AdManager: adplaygraph: " + JSON.stringify(f)),f);};return d;})();b.HCa=a;},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OV=void 0;c=a(1);k=a(119);h=a(1061);g=a(449);b.OV=function(){var m;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}d=h.OV.apply(void 0,c.__spread(d));m=new g.sfa(d,k.jt.Gca.aK);return k.jt.dca(d,m,function(){return m.O$;});};},function(r,b,a){var c,k,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OV=void 0;c=a(1);k=a(119);h=a(434);g=a(449);b.OV=function(){var m;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}d=new (h.LR.bind.apply(h.LR,c.__spread([void 0],d)))();m=new g.sfa(d,k.jt.Gca.aK);return k.jt.dca(d,m,function(){return m.O$;});};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.w$a=void 0;b.w$a={"*":{t_a:["logdata"],rules:[{xl:function(a){return a.vCa;}}]},segmentPresenting:[{xl:function(a){return a.vCa;},config:{Ar:["metrics"]}},{xl:function(a){return a.sf;}},{xl:function(a){return a.sf;},config:{Ar:["metrics","srcStartPosition"]}},{xl:function(a){return a.sf;},config:{Ar:["metrics","srcTransitionPosition"]}},{xl:function(a){return a.sf;},config:{Ar:["metrics","destPosition"]}}],streamPresenting:[{xl:function(a){return a.sf;}}],segmentAppended:[{xl:function(a){return a.N_;}}]};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.POa=void 0;c=a(1);k=a(17);h=c.__importStar(a(10));g=a(15);d=a(225);f=a(15);m=a(9);l=a(4);n=a(21);p=a(226);q=a(54);t=a(98);w=a(71);v=a(184);u=c.__importDefault(a(6));x=a(223);y=a(1064);z=a(1065);A=0;r=(function(B){function D(C,F,G,E,I,N,L,H,Q,O,J){var M,P,R,S,U;S=B.call(this) || this;S.console=C;S.Ep=F;S.gU=G;S.ZM=I;S.g0=N;S.ox=H;S.S=O;S.config=J;S.gs=!1;S.zT=!1;S.hs=void 0;S.$e=function(){var ba,na,va,ya,ra;null === (ba=S.kM) || void 0 === ba?void 0:ba.clear();ba=S.Npb;ra=S.Xsb;l.assert(ba);S.Ug && l.assert(ra);S.Kl.value !== f.ta.Yr && S.Kl.value !== f.ta.rj && (null !== (na=S.Fa) && void 0 !== na && na.sf?(na=null === (ya=null === (va=S.Ep.Ia.$b.get()) || void 0 === va?void 0:va.Ua) || void 0 === ya?void 0:ya.qa,S.na.P0("startplay",q.ce.Pp),S.Hda.UU("emitBufferingComplete",{}),y.M7(S,ba,S.Fa.tg,na,ra,S.na.mN)):S.console.error("Shim received buffering complete but player has no position (player " + (S.Fa?"":"un") + "defined, state " + S.Kl.value + ")"));};S.iV=function(){var ba,na,va;S.Hda.UU("audioTrackSwitchComplete",{});l.assert(void 0 !== S.En);na=S.gU.audio_tracks[S.En];va=S.En;S.En=void 0;y.KZa(S,na,va);null === (ba=S.oZ) || void 0 === ba?void 0:ba.call(S);S.oZ=void 0;};l.assert(2 >= E.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(E,2);C=G[0];G=G[1];S.Yi=new k.Dg();S.N=C.ja.P[N[0].fa].N;S.Kl=new m.Wr(f.ta.yh);S.fC=new t.vG(S.console);L.Ne && (S.saa=new x.EL(S.console,J));S.na=C;S.Ug=G;E.forEach(function(ba){var na,va;na=ba.zD(S.fC);S.saa && (na=new t.$t([S.saa,na]));va=ba.yD();ba.ada(va,na);});S.Mdc=!1;S.bZa=!1;y.W6a(S.console,F,S,C,G);U=A++;S.Hda=new w.Fw({cr:S,source:"ShimSession",console:S.console,dt:50,Kla:function(){return {shimId:U};}});S.na.Mg(new v.Ew(S.Hda));S.ygb=void 0 !== (null === (R=null === (P=(M=S.S).wX) || void 0 === P?void 0:P.call(M)) || void 0 === R?void 0:R.Y);S.Hd=z.lVa(O);F=S.NXa({Cd:S.S6a(S.na.ja.Cd),xX:S.h9.bind(S)});S.Fa=F;S.Ug && (S.Lj=S.NXa({Cd:S.S6a(S.Ug.ja.Cd),xX:S.h9.bind(S)}));S.Fa.events.on("segmentPresenting",function(){S.hs=S.KRa();});S.on("streamerend",function(){return S.E3b();});S.Mcb();return S;}c.__extends(D,B);Object.defineProperties(D.prototype,{K:{get:function(){return this.N;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{ea:{get:function(){return this.ox.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{oh:{get:function(){return this.Yi;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{Ke:{get:function(){return {afc:{1:{X:{La:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{SK:{get:function(){return void 0 !== this.En;},enumerable:!1,configurable:!0}});D.prototype.BRb=function(){var C,F,G,E,I;C=this;I=null === (E=null === (G=(F=this.S).wX) || void 0 === G?void 0:G.call(F)) || void 0 === E?void 0:E.Y;l.assert(I,"video element is not defined");I.addEventListener("play",function(){return C.GTa();});I.addEventListener("pause",function(){return C.kk();});};D.prototype.E3b=function(){this.Ep.vq(!0,this.ox.sessionId);};D.prototype.pR=function(C,F){var G;this.na.mj((G={},G[C]=F,G));};D.prototype.open=function(){var C,F,G,E;C=this;if(!this.gs){this.gs=!0;this.Ep.vq(this.config.qs,this.ox.sessionId);E=new Promise(function(I){setTimeout(I,0);}).then(function(){C.emit("openComplete",{type:"openComplete"});});this.na.open();null === (F=this.Ug) || void 0 === F?void 0:F.open();this.na.NB(this.g0[0]);l.assert(this.Fa,"asePlayer should be defined on session.open");this.g0[1] && (F=this.na.GA(this.g0[0]),l.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.Ug) || void 0 === G?void 0:G.NB(this.g0[1],F.Hm));y.T6a(this.Ep,this,this.Fa,this.console);this.Kl.set(f.ta.yd);E.then(function(){C.Kr(C.$e);});this.na.$U(this.Fa);this.Ug && (l.assert(this.Lj,"parallelPlayer should be defined on session.open"),this.Ug.$U(this.Lj));this.ygb && this.BRb();}};D.prototype.h9=function(){this.Hj || (this.Hj=new u.default.MediaSource(this.Hd),this.Hj.Uc || (this.Hj.Uc=u.default.MediaSource.Uc));return this.Hj;};D.prototype.NXa=function(C){void 0 === C && (C={});C=c.__assign({AE:this.config.AE,Hxa:this.config.Hxa},C);return this.Ep.Ia.hUa(this.Hd,C);};D.prototype.S6a=function(C){return C?null === C || void 0 === C?void 0:C.map(function(F){return "video" === F?1:0;}):[0,1];};D.prototype.close=function(){this.gs && (this.gs=!1);this.Ep.vq(!0,this.ox.sessionId,!0);};Object.defineProperties(D.prototype,{oH:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});D.prototype.flush=function(){var C;this.gs && this.Kl.value !== f.ta.rj && this.Kl.value !== f.ta.Yr && this.stop();this.na.P0("endplay",q.ce.pp);this.na.Bf();null === (C=this.Ug) || void 0 === C?void 0:C.Bf();this.Ep.ei.save();this.Ep.mo.save();};D.prototype.paused=function(){this.ygb || this.kk();};D.prototype.kk=function(){this.Kl.value === f.ta.Rc && (this.Kl.set(f.ta.xh),this.Hd.emit("paused",{type:"paused",Kd:this.Hd.qc}));};D.prototype.GTa=function(){this.Kl.value === f.ta.xh && (this.Kl.set(f.ta.Rc),this.Hd.emit("playing",{type:"playing",Kd:this.Hd.qc}));};D.prototype.gd=function(){var C,F;this.gs && this.Kl.value !== f.ta.rj && this.Kl.value !== f.ta.Yr && this.stop();this.Ep.s_b(this);this.gs && this.close();this.fz && (clearInterval(this.fz),this.fz=void 0);null === (C=this.kM) || void 0 === C?void 0:C.clear();this.Fa && this.Ep.Ia.nQ(this.Fa);this.Lj && this.Ep.Ia.nQ(this.Lj);null === (F=this.Hj) || void 0 === F?void 0:F.Gq();};D.prototype.suspend=function(){};D.prototype.resume=function(){};D.prototype.play=function(){var C;C=this;this.na.state !== d.Zj.CLOSED && (l.assert(this.Fa,"ShimSession.play(), expected asePlayer to exist."),this.Fa.resume(this.zT?[1]:void 0),this.Ug && (l.assert(this.Lj,"ShimSession.play(), expected parallelPlayer to exist."),this.Lj.resume(this.zT?[1]:void 0)),this.Kl.set(f.ta.Rc),this.Hd.emit("playing",{type:"playing",Kd:this.Hd.qc}),this.emit("play"),this.fz || (this.fz=setInterval(function(){return C.KUb();},this.config.sN)));};D.prototype.stop=function(){this.Kl.set(f.ta.Yr);l.assert(this.Fa,"ShimSession.stop(), expected asePlayer to exist.");this.Fa.pause();this.Ug && (l.assert(this.Lj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Lj.pause());this.Hd.emit("paused",{type:"paused",Kd:this.Hd.qc});this.emit("stop");};D.prototype.kA=function(C){var F,G,E,I;void 0 === F && (F=!0);this.Fa?(C=parseInt(C),h.isFinite(C) && (null === (G=this.saa) || void 0 === G?void 0:G.veb(),F?(this.Fa.X_(C),null === (E=this.Lj) || void 0 === E?void 0:E.X_(C)):(this.Fa.Tza(C),null === (I=this.Lj) || void 0 === I?void 0:I.Tza(C)))):this.fail("Must call open prior to drmReady");};D.prototype.H9=function(){var C;if(!this.Fa || !this.Fa.sf)return !1;C=this.Fa.ho(this.na.ja.P[this.Fa.Zh.fa].N);return C && this.Ug && this.Lj?this.Lj.ho(this.Ug.ja.P[this.Lj.Zh.fa].N):C;};D.prototype.Do=function(){var C;null === (C=this.saa) || void 0 === C?void 0:C.veb();this.Kl.set(f.ta.bg);this.Hd.emit("underflow",{type:"underflow",Kd:this.Hd.qc});this.Kr(this.$e);};D.prototype.c9=function(C){var F;F=q.ce.Pp;switch(C){case "intrplay":F=q.ce.Do;break;case "endplay":F=q.ce.pp;}C=this.na.c9(F);return c.__assign(c.__assign({},C),{aseApiVersion:this.oH});};D.prototype.Exa=function(){this.Hd.emit("playbackRateChanged",{type:"playbackRateChanged",Kd:this.Hd.qc});};D.prototype.Co=function(C,F){C=this.Hd.af();F={type:"skipped",pts:n.R.Oa(C),previousPts:"number" === typeof F?n.R.Oa(F):void 0};this.Hd.emit(F.type,F);return new p.tG(Promise.resolve()).jza;};D.prototype.cna=function(C,F){var G;F=this.Rra(F || 0,C);return null === (G=this.na.Mm(F,C)) || void 0 === G?void 0:G.qd;};D.prototype.zu=function(C,F){var G;G=new n.R(F,1E3);return (G=this.na.Jp(G,{tdb:!0,sdb:!0}))?this.na.ja.P[G.fa].sa + Number(G.offset.W.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + C + ", playerPts: " + F);};D.prototype.IN=function(C,F){C=this.Rra(C || 0,F);C={fa:C,offset:new n.R(F - this.na.ja.P[C].sa,1E3)};return (C=this.na.BI(C))?C.W:F;};D.prototype.g$=function(){var C,F,G;F={};G=null === (C=this.na) || void 0 === C?void 0:C.xx();C=this.Ug?this.Ug.xx():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);C && (F.abuflmsec=C.totalabuflmsecs,F.abuflbytes=C.abuflbytes);return F;};D.prototype.M8=function(){return {He:0};};D.prototype.Om=function(){var C,F;return null !== (C=this.hs) && void 0 !== C?C:(null === (F=this.Fa) || void 0 === F?0:F.I9())?this.KRa():{id:this.g0[0].fa,He:0,qd:0,Vc:Infinity,Pe:Infinity,Dd:0};};D.prototype.KRa=function(){var C,F,G,E,I,N,L,H,Q;l.assert(this.Fa,"attempted to get presenting branch information with no player");l.assert(this.Fa.I9(),"attempted to get presenting branch information but player has no branches");N=this.Fa.Om() || ({});L=N.G;H=N.Ie;Q=N.LE;N=N.fr;return {id:L.id,He:null !== (C=null === H || void 0 === H?void 0:H.W) && void 0 !== C?C:0,qd:null !== (F=null === L || void 0 === L?void 0:L.uf.W) && void 0 !== F?F:0,Vc:null !== (G=null === L || void 0 === L?void 0:L.ej.W) && void 0 !== G?G:Infinity,Pe:null !== (E=null === Q || void 0 === Q?void 0:Q.W) && void 0 !== E?E:Infinity,Dd:null !== (I=null === N || void 0 === N?void 0:N.W) && void 0 !== I?I:0};};D.prototype.abb=function(){this.iJ("removeSession");};D.prototype.yt=function(C,F){void 0 === F && (F=0);l.assert(!this.Ug,"Seeking with dual playgraphs not supported.");F=this.Rra(F,C);this.Ep.vq(this.config.qs,this.ox.sessionId);C={fa:F,offset:n.R.Oa(C - this.na.ja.P[F].sa)};this.hs=void 0;this.na.NB(C);l.assert(this.Fa);this.Fa.resume();this.Kl.set(f.ta.yd);this.Kr(this.$e);C=this.na.Jca(C);l.assert(C,"Valid position must be provided for seek");return C.offset.W;};D.prototype.seek=function(C,F){C=this.zu(F,C);return this.yt(C,F);};D.prototype.xs=function(C,F,G){var E,I;E=this.Om().id;I=this.na.JO(E,C);if(F){if(!I.Dgb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (C + " for current segment: " + E)),!1);if(void 0 !== I.JP)return (this.na.Qi(E,C,!1,F),I.JP === C);this.na.Qi(E,C,!1,F);return !0;}if(void 0 !== I.JP)return (G || this.yt(I.qd,0),!1);I.tN?(l.assert(this.Fa),this.Fa.reset(),this.na.Qi(E,C,!1,F),this.Fa.resume(),this.Kl.set(f.ta.yd),this.Kr(this.$e)):G || this.yt(I.qd,0);return ! !I.tN;};D.prototype.gN=function(){this.iJ("addManifest");};D.prototype.PU=function(){return this.iJ("activateManifest");};D.prototype.e9a=function(){this.Rpb();};D.prototype.wda=function(C){var F,G,E,I;F=this.Ug?this.Lj:this.Fa;G=C.Mn;l.assert(!this.Ug,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.En)return !1;C=this.gU.audio_tracks;if(!C.some(function(N,L){if(N.track_id === G)return (E=N,I=L,!0);}))return !1;C=C[this.ZM[0]];this.En=I;this.zT=!0;null === F || void 0 === F?void 0:F.pause([0]);this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:C.language,oldNumChannels:C.channels,newLangCode:E.language,newNumChannels:E.channels});return !0;};D.prototype.Br=function(C,F){this.fC.Br(C,F);};D.prototype.bj=function(C){return this.Fa?this.Fa.bj(n.R.Oa(C)):!1;};D.prototype.Y7=function(){this.iJ("evaluateQoE");};D.prototype.NAa=function(){this.iJ("stopBuffering");};D.prototype.xK=function(){return this.iJ("startBuffering");};D.prototype.G2a=function(){return this.iJ("getStreamingStatistics");};D.prototype.fail=function(C){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:C,manifestIndex:0});};D.prototype.Rra=function(C,F){return 0 !== C?this.fail("Unexpected manifestIndex: " + C + ", single viewable playback only supports manifestIndex: 0"):this.VW(F);};D.prototype.VW=function(C){var F,G,I,N,L,H,Q;F=this.na.ja;G=[];l.assert(0 <= C,"contentPts must be 0 or greater for segmentId lookup");for(var E in F.P){I=F.P[E];N=I.sa;I=I.va;L=C < Number(null !== I && void 0 !== I?I:Infinity);if(N <= C && L)G.push(E);else if((N=Math.min(Math.abs(C - N),Math.abs(C - I)),void 0 === H || N < H))(H=N,Q=E);}l.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");C=G[0] || Q;l.assert(void 0 !== C,"segmentId from contentPts lookup failed");return C;};D.prototype.KUb=function(){var C,F;F=null === (C=this.na) || void 0 === C?void 0:C.xx();C=this.Ug?this.Ug.xx():F;F && C && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:C.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:C.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};D.prototype.iJ=function(C){return this.fail("Method not implemented " + C);};D.prototype.Rpb=function(){l.assert(void 0 !== this.En);this.ZM[0]=this.En;this.Mcb();this.Kr(this.iV);};D.prototype.Mcb=function(){var C;C=this;this.Ug?(this.na.QB({zt:function(){}},{zt:function(){return C.ZM[1];}}),this.Ug.QB({zt:function(){return C.ZM[0];}},{zt:function(){}})):this.na.QB({zt:function(){return C.ZM[0];}},{zt:function(){return C.ZM[1];}});this.zT && ((this.Ug?this.Lj:this.Fa).resume([0]),this.zT=!1);};D.prototype.t1b=function(C){this.Npb=C;};D.prototype.O1b=function(C){this.Xsb=C;};D.prototype.Kr=function(C){var F,G;F=this;C !== this.iV && void 0 !== this.En?this.oZ=C:(null === (G=this.kM) || void 0 === G?void 0:G.clear(),!this.Ug && this.Fa?this.kM=m.Wr.rCa([this.na.Nf,this.Fa.nY],function(E){var I,N;E=c.__read(E,2);N=E[1];return E[0] === g.Qc.sj && (null === (I=F.Fa) || void 0 === I?void 0:I.sf) && N.greaterThan(F.Fa.tg);},this.OXa(C)):this.Fa && (this.kM=m.Wr.rCa([this.na.Nf,this.Fa.nY,this.Ug.Nf,this.Lj.nY],function(E){var I,N,L,H,Q;E=c.__read(E,4);L=E[1];H=E[2];Q=E[3];return E[0] === g.Qc.sj && (null === (I=F.Fa) || void 0 === I?void 0:I.sf) && L.greaterThan(F.Fa.tg) && H === g.Qc.sj && (null === (N=F.Lj) || void 0 === N?void 0:N.sf) && Q.greaterThan(F.Lj.tg);},this.OXa(C))));};D.prototype.OXa=function(C){var F;F=this;return function(G){var E;G && (null === (E=F.kM) || void 0 === E?void 0:E.clear(),F.kM=void 0,Promise.resolve().then(C));};};c.__decorate([w.Kb({methodName:"updateChoiceMapEntry",Kn:!0})],D.prototype,"pR",null);c.__decorate([w.Kb({methodName:"open"})],D.prototype,"open",null);c.__decorate([w.Kb({methodName:"close"})],D.prototype,"close",null);c.__decorate([w.Kb({methodName:"paused"})],D.prototype,"kk",null);c.__decorate([w.Kb({methodName:"unpaused"})],D.prototype,"GTa",null);c.__decorate([w.Kb({methodName:"cleanup"})],D.prototype,"gd",null);c.__decorate([w.Kb({methodName:"suspend"})],D.prototype,"suspend",null);c.__decorate([w.Kb({methodName:"resume"})],D.prototype,"resume",null);c.__decorate([w.Kb({methodName:"play"})],D.prototype,"play",null);c.__decorate([w.Kb({methodName:"stop"})],D.prototype,"stop",null);c.__decorate([w.Kb({Kn:!0,methodName:"drmReady"})],D.prototype,"kA",null);c.__decorate([w.Kb({methodName:"underflow"})],D.prototype,"Do",null);c.__decorate([w.Kb({methodName:"getLogdataReport"})],D.prototype,"c9",null);c.__decorate([w.Kb({methodName:"skipped"})],D.prototype,"Co",null);c.__decorate([w.Kb({methodName:"seekByContentPts"})],D.prototype,"yt",null);c.__decorate([w.Kb({methodName:"seek"})],D.prototype,"seek",null);c.__decorate([w.Kb({methodName:"chooseNextSegment",Kn:!0})],D.prototype,"xs",null);c.__decorate([w.Kb({methodName:"onAudioTrackSwitchStarted"})],D.prototype,"e9a",null);c.__decorate([w.Kb({methodName:"switchTracks"})],D.prototype,"wda",null);return D;})(k.EventEmitter);b.POa=r;},function(r,b,a){var h,g;function c(d,f,m){var l,n;l=Array.isArray(m)?m[0]:m;n=Array.isArray(m)?m[1]:m;f.on(l,function(p){d.emit(n,h.__assign(h.__assign({},p),{type:n}));});}function k(d,f,m,l){var n,p;f.events.once(d,function(q){(n=q) && p && l(n,p);});m.events.once(d,function(q){p=q;n && p && l(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.KZa=b.M7=b.T6a=b.W6a=void 0;h=a(1);g=a(16);b.W6a=function(d,f,m,l,n){var q;function p(t,w){c(m,t,w);}f=n?[l,n]:[l];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(t){return p(l.events,t);});n?(p(n.events,"initialAudioTrack"),k("streamerEnd",l,n,function(t){m.emit("streamerend",h.__assign(h.__assign({},t),{type:"streamerend"}));})):(p(l.events,["streamerEnd","streamerend"]),p(l.events,"initialAudioTrack"));l.events.on("logdata",function(t){m.emit("logdata",h.__assign(h.__assign({},t),{fields:h.__assign(h.__assign({},t.fields),{aseApiVersion:m.oH})}));});q=!0;l.events.on("bufferingStarted",function(t){m.SK && q?q=!1:(m.Hda.UU("bufferingStarted",{}),m.emit("bufferingStarted",t));});l.events.on("bufferingComplete",function(t){m.SK?q=!0:m.t1b(t);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(t){m.SK || m.O1b(t);});l.events.on("maxVideoBitrateChanged",function(t){m.emit("maxvideobitratechanged",h.__assign(h.__assign({},t),{type:"maxvideobitratechanged",uhc:t.streaming.W}));});l.events.on("error",function(t){t=h.__assign(h.__assign({},t),{manifestIndex:0});m.emit("error",t);});m.on("error",function(){});l.events.on("segmentComplete",function(t){m.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId});});l.events.on("segmentNormalized",function(t){var w;w=Math.floor(t.viewableContentEnd.W);m.emit("maxPosition",{type:"maxPosition",index:0,endPts:w,maxPts:w,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.W)});m.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:w,maxPts:w});});l.events.on("segmentStarting",function(t){m.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video});m.emit("segmentStarting",t);});f.forEach(function(t){t.events.on("serverSwitch",function(w){m.emit("serverSwitch",{type:"serverSwitch",segmentId:w.segmentId,mediatype:w.mediatype,server:w.server,reason:w.reason,location:w.location,bitrate:w.bitrate,confidence:w.confidence,throughput:w.throughput,oldserver:w.oldserver});});t.events.on("streamSelected",function(w){var v;v=t.GA(w.position);m.emit("streamSelected",{type:"streamSelected",nativetime:w.nativetime,mediaType:w.mediaType,streamId:w.streamId,manifestIndex:0,trackIndex:w.trackIndex,streamIndex:w.streamIndex,movieTime:v.Hm.W,bandwidth:w.bandwidth,longtermBw:w.longtermBw,rebuffer:w.rebuffer});});t.events.on("updateStreamingPts",function(w){var v;v=m.K;g.Z && d.trace("converting updateStreamingPts, movieId:",v);m.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:w.mediaType,manifestIndex:0,trackIndex:w.trackIndex,segmentId:w.position.fa,movieTime:Math.floor(w.completePlayerStreamingTimestamp.W)});});});};b.T6a=function(d,f,m,l){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(f,m.events,n);});m.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.W;q=f.na.GA(n.position);void 0 === q?l.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):f.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.Hm.W),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});m.events.on("segmentPresenting",function(n){var p,q,t;p=f.na.GA(n.position);q=n.playerTimestamp.Ha(p.Hm);t=n.position.fa;f.bZa || (f.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.W,movieId:p.N.toString(),replace:!1,contentOffset:q.W}),f.bZa=!0);f.emit("segmentPresenting",{type:"segmentPresenting",segmentId:t,contentOffset:q.W,metrics:n.metrics});});m.events.on("ptsChanged",function(n){f.emit("ptschanged",n.initialTimestamp.W);f.Hd.emit("skipped");});};b.M7=function(d,f,m,l,n,p){var q;m=m.W;n=null !== n && void 0 !== n?n:f;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:f.reason,actualbw:l,initSelReason:null !== (q=f.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:f.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",m);d.emit("bufferingComplete",{type:"bufferingComplete",time:f.time,actualStartPts:m,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:f.vBufferLevelMs,selector:f.selector,initBitrate:f.initBitrate,skipbackBufferSizeBytes:f.skipbackBufferSizeBytes});};b.KZa=function(d,f,m){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:f.track_id,trackIndex:m});};},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.lVa=void 0;r=a(1);c=a(17);k=r.__importDefault(a(128));h=a(9);b.lVa=function(g){if(g.mpb)return g;k.default(c.EventEmitter.prototype,g);Object.defineProperties(g,{mpb:{value:!0},qc:{get:function(){return new h.R(this.af(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.xp?this.xp():1,.01);}}});return g;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zAb={vv:["minInitVideoBitrate",-Infinity],Rva:["minHCInitVideoBitrate",-Infinity],fB:["maxInitVideoBitrate",Infinity],ZY:["minInitAudioBitrate",-Infinity],XY:["minHCInitAudioBitrate",-Infinity],JY:["maxInitAudioBitrate",Infinity],Caa:["minAcceptableVideoBitrate",-Infinity],UY:["minAcceptableVMAF",0],KTb:["minAcceptableVMAFRebufferScalingFactor",0],Qva:["minAllowedVideoBitrate",-Infinity],HSb:["maxAllowedVideoBitrate",Infinity],kJ:["minAllowedVmaf",-Infinity],b7a:["maxAllowedVmaf",Infinity],ZQ:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],Q7:["enableResolutionVMAFStreamFilter",!1],sxa:["percentCapTitlesForResolutionVMAFStreamFilter",100],Cca:["resolutionVMAFCappingRuleList",[]],N3a:["ignoreUserFilterOnEmptyResult",!0],lJ:["minRequiredBuffer",2E4],Jaa:["minRequiredAudioBuffer",0],Ij:["minPrebufSize",5800],Gaa:["minCheckBufferingCompleteInterval",200],P7:["enableMoreFrequentBufferingCompleteCheck",!1],Uva:["minimumBufferingCompleteInterval",1E4],wca:["requireDownloadDataAtBuffering",!1],a4a:["indicatorForDownloadDataAtBuffering","oncomplete"],xca:["requireSetupConnectionDuringBuffering",!1],Aya:["rebufferingFactor",1],Zs:["maxBufferingTime",2E3],bCa:["useMaxPrebufSize",!0],vE:["maxPrebufSize",4E4],yva:["maxRebufSize",Infinity],AHb:["fastRebufferRecoveryThreshold",Infinity],zHb:["fastRebufferRecoverBwThrehold",3E3],Z9:["initialBitrateSelectionCurve",null],f4a:["initSelectionLowerBound",-Infinity],g4a:["initSelectionUpperBound",Infinity],B0:["throughputPercentForAudio",15],uma:["bandwidthMargin",0],wma:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],wVa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Uz:76376,scale:18862.4,gamma:3.0569}],vma:["bandwidthMarginContinuous",!1],xVa:["bandwidthMarginForAudio",!0],fBa:["switchConfigBasedOnInSessionTput",!0],Wna:["conservBandwidthMargin",20],NV:["conservBandwidthMarginTputThreshold",6E3],Xna:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],ueb:["switchAlgoBasedOnHistIQR",!1],jF:["switchConfigBasedOnThroughputHistory","iqr"],xva:["maxPlayerStateToSwitchConfig",-1],$ua:["lowEndMarkingCriteria","iqr"],uga:["IQRThreshold",.5],Nsa:["histIQRCalcToUse","simple"],uu:["bandwidthManifold",{curves:[{min:.05,max:.82,Uz:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Uz:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],sv:["maxTotalBufferLevelPerSession",0],B3a:["highWatermarkLevel",3E4],bfb:["toStableThreshold",3E4],Eda:["toUnstableThreshold",0],uAa:["skipBitrateInUpswitch",!1],tCa:["watermarkLevelForSkipStart",8E3],M9:["highStreamRetentionWindow",9E4],daa:["lowStreamTransitionWindow",51E4],Jsa:["highStreamRetentionWindowUp",5E5],bva:["lowStreamTransitionWindowUp",1E5],Isa:["highStreamRetentionWindowDown",6E5],ava:["lowStreamTransitionWindowDown",0],Hsa:["highStreamInfeasibleBitrateFactor",.5],ZA:["lowestBufForUpswitch",9E3],Z$:["lockPeriodAfterDownswitch",15E3],dva:["lowWatermarkLevel",15E3],$A:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],eva:["lowestWaterMarkLevelBufferRelaxed",!1],MSb:["maxContentDurationForMinBufferIncrease",6E4],Eva:["mediaRate",1.5],eJ:["maxTrailingBufferLen",15E3],bV:["audioBufferTargetAvailableSize",262144],c1:["videoBufferTargetAvailableSize",1048576],x7a:["maxVideoTrailingBufferSize",8388608],d7a:["maxAudioTrailingBufferSize",393216],h8:["fastUpswitchFactor",3],E_a:["fastUpswitchFactorWithoutHeaders",3],Spa:["fastDownswitchFactor",3],$s:["maxMediaBufferAllowed",27E4],Xfc:["minMediaBufferLen",1E4],qAa:["simulatePartialBlocks",!0],mdb:["simulateBufferFull",!0],Yna:["considerConnectTime",!0],Vna:["connectTimeMultiplier",1],z6a:["lowGradeModeEnterThreshold",12E4],A6a:["lowGradeModeExitThreshold",9E4],f7a:["maxDomainFailureWaitDuration",3E4],c7a:["maxAttemptsOnFailure",18],v_a:["exhaustAllLocationsForFailure",!0],n7a:["maxNetworkErrorsDuringBuffering",20],haa:["maxBufferingTimeAllowedWithNetworkError",6E4],hN:["alwaysRunUnderflowTimer",!0],C_a:["fastDomainSelectionBwThreshold",2E3],Geb:["throughputProbingEnterThreshold",4E4],Heb:["throughputProbingExitThreshold",34E3],n6a:["locationProbingTimeout",1E4],J_a:["finalLocationSelectionBwThreshold",1E4],Eeb:["throughputHighConfidenceLevel",.75],Feb:["throughputLowConfidenceLevel",.4],Mua:["locationStatisticsUpdateInterval",6E4],QRb:["locationSelectorPersistFailures",!0],XZa:["enablePerfBasedLocationSwitch",!1],Ffc:["maxRateMaxFragmentGroups",4500],xxa:["pipelineScheduleTimeoutMs",2],gB:["maxPartialBuffersAtBufferingStart",2],RTb:["minPendingBufferLen",3E3],maa:["maxPendingBufferLen",6E3],uGb:["enableNginxRateLimit",!1],bba:["nginxSendingRate",4E4],yGb:["enableRequestPacingToken",!1],qTb:["mediaRequestPacingSpeed",2],rta:["initialMediaRequestToken",2E4],faa:["maxActiveRequestsSABCell100",2],p7a:["maxPendingBufferLenSABCell100",500],wbb:["resetActiveRequestsAtSessionInit",!0],ppa:["enableCprAudio",!1],qpa:["enableCprVideo",!1],SWa:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],o3b:["staticPacingRateKbps",0],CWb:["paceRateSelectorAlgorithm","default"],WZa:["enablePaceReportLogging",!1],Q5b:["unpacedFragmentInterval",0],rOb:["ignorePacedRequestStrategy","none"],xba:["pacedThresholdPct",.1],FZa:["effectivePaceRateFactor",1],$Zb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],r4b:["targetBufferLevelStddevMultiplier",1],q4b:["targetBufferLevelDurationMs",0],STb:["minTargetBufferLevelMs",27E4],MAa:["stddevPredictorMultiplier",2],q3b:["stddevPredictorSource","deliverytime"],SZa:["enableInitialTputLogging",!1],mGb:["enableInitialThroughputHistory",!1],zva:["maxStreamingSkew",2E3],LSb:["maxBufferOccupancyForSkewCheck",Infinity],H6b:["useBufferOccupancySkipBack",!0],vva:["maxPendingBufferPercentage",10],s7a:["maxRequestsInBuffer",120],K9:["headerRequestSize",4096],Fpa:["estimateHeaderSize",!0],Mec:["headerCacheEstimateHeaderSize",!1],sJ:["neverWipeHeaderCache",!1],Q6b:["useSidxInfoFromManifestForHeaderRequestSize",!1],D_a:["fastPlayHeaderRequestSize",0],wP:["maxRequestSize",0],CP:["minRequestSize",65536],VY:["minBufferLenForHeaderDownloading",1E4],rdb:["smartHeaderPreDownloading",!1],dGb:["enableAllHeadersPreDownloading",!1],pgc:["onlyAllowPtsUpdatePolling",!1],TTb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],F_:["reserveForSkipbackBufferMs",15E3],xwa:["numExtraFragmentsAllowed",2],dr:["pipelineEnabled",!0],vP:["maxParallelConnections",3],N6b:["usePipelineForAudio",!1],M6b:["usePipelineDetectionForAudio",!1],udb:["socketReceiveBufferSize",0],t6:["audioSocketReceiveBufferSize",32768],wR:["videoSocketReceiveBufferSize",65536],ugb:["usePipelineDetectionForVideo",!1],XTb:["minVideoSocketReceiveBufferSize",65536],Fsa:["headersSocketReceiveBufferSize",32768],n2b:["shareDownloadTracks",!0],o2b:["shareOpenRangeTracks",!1],aFb:["disableHeaderDownloadTracks",!1],Tva:["minTimeBetweenHeaderRequests",void 0],Wda:["updatePtsIntervalMs",1E3],Ima:["bufferTraceDenominator",0],sN:["bufferLevelNotifyIntervalMs",2E3],WAa:["streamingStatusIntervalMs",2E3],vB:["prebufferTimeLimit",6E4],Faa:["minBufferLevelForTrackSwitch",2E3],wGb:["enablePenaltyForLongConnectTime",!1],pxa:["penaltyFactorForLongConnectTime",2],Yua:["longConnectTimeThreshold",200],Ila:["additionalBufferingLongConnectTime",2E3],Jla:["additionalBufferingPerFailure",8E3],m_:["rebufferCheckDuration",6E4],UZa:["enableLookaheadHints",!1],w6a:["lookaheadFragments",2],nA:["enableOCSideChannel",!0],$xa:["probeRequestTimeoutMilliseconds",3E4],Fgc:["probeRequestConnectTimeoutMilliseconds",8E3],u3:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],zGb:["enableSCByteRangeHints",!1],Qfb:["updateDrmRequestOnNetworkFailure",!0],e7a:["maxDiffAudioVideoEndPtsMs",1E3],wEb:["deferAseHeaderCache",!1],OYa:["deferAseScheduling",!1],Meb:["timeBeforeEndOfStreamBufferMark",6E3],jaa:["maxFastPlayBufferInMs",2E4],OSb:["maxFastPlayContentTimeThresholdMs",112E3],tva:["maxFastPlayBitThreshold",2E8],rva:["maxBufferingCompleteBufferInMs",Infinity],Sxb:["bufferingCompleteOnMemoryLimit",!1],Daa:["minAudioMediaRequestSizeBytes",0],Laa:["minVideoMediaRequestSizeBytes",0],JSb:["maxAudioMediaRequestSizeBytes",Infinity],eTb:["maxVideoMediaRequestSizeBytes",Infinity],SSb:["maxMediaRequestSizeBytesInFraction",1],Qx:["minAudioMediaRequestDuration",0],jB:["minVideoMediaRequestDuration",0],$Y:["minMediaRequestDuration",0],ISb:["maxAudioMediaRequestDuration",Infinity],dTb:["maxVideoMediaRequestDuration",Infinity],kaa:["maxMediaRequestDuration",Infinity],Ola:["allowFirstRequestAggregation",!1],NTb:["minAudioMediaRequestDurationCache",0],VTb:["minVideoMediaRequestDurationCache",0],tGb:["enableMultiFragmentRequest",!1],ogb:[["useHeaderCache","usehc"],!0],$Ba:[["useHeaderCacheData","usehcd"],!0],t7:["defaultHeaderCacheSize",4],LYa:["defaultHeaderCacheDataCount",4],s7:["defaultHeaderCacheDataPrefetchMs",0],FNb:["headerCacheMaxPendingData",6],Nec:["headerCachePriorityLimit",5],v3a:["headerCacheAdoptBothAV",!1],O6b:["usePipelineForBranchedAudio",!0],wzb:["childBranchBatchedAmount",1E4],AE:["minimumTimeBeforeBranchDecision",2E3],ZTb:["minimumAppendedMediaBeforePlayback",5E3],vgc:["parallelBranchesDuringBuffering",!1],WSb:["maxRequestsToAttachOnBranchActivation",void 0],aZ:["minimumJustInTimeBufferLevel",3E3],nGb:["enableJustInTimeAppends",!1],OUa:["appendPacingFactor",0],lwb:["appendPacingThreshold",3E3],PZa:["enableDelayedSeamless",!1],hdc:["branchEndPtsIntervalMs",250],sOb:["ignorePtsJustBeforeCurrentSegment",!1],i7a:["maxFragsForFittableOnBranching",300],SWb:["pausePlaylistAtEnd",!0],cvb:["adaptiveParallelTimeoutMs",1E3],dO:["enableAdaptiveParallelStreaming",!1],Hma:["bufferThresholdToSwitchToSingleConnMs",45E3],Gma:["bufferThresholdToSwitchToParallelConnMs",35E3],aGb:["enableAPSForBranching",!1],lea:["waitForPendingConnAdaptation",!1],fwa:["networkFailureResetWaitMs",2E3],ewa:["networkFailureAbandonMs",6E4],naa:["maxThrottledNetworkFailures",5],yda:["throttledNetworkFailureThresholdMs",200],cva:["lowThroughputThreshold",400],Lpa:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],L4b:["timeAtEachBitrateRoundRobin",1E4],r0b:["roundRobinDirection","forward"],dOb:["httpsConnectErrorAsPerm",!1],j8a:["mp4ParsingInNative",!1],Gi:["enableManagerDebugTraces",!1],M6a:["managerDebugMessageInterval",1E3],L6a:["managerDebugMessageCount",20],Q8a:["notifyManifestCacheEom",!0],EGb:["enableUsingHeaderCount",!1],wdb:["sourceBufferInOrderAppend",!0],WJ:["requireAudioStreamToEncompassVideo",!1],yUa:["allowAudioToStreamPastVideo",!1],LXa:["countGapInBuffer",!1],zUa:["allowCallToStreamSelector",!1],QVa:["bufferThresholdForAbort",2E4],SAa:["ase_stream_selector","optimized"],hVa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],pta:["initBitrateSelectorAlgorithm","default"],Nma:["bufferingSelectorAlgorithm","default"],B3b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],ZZa:["enableThroughputTraceResearchData",!1],Ieb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],ey:["researchEnvironmentEnabled",!1],BGb:["enableStreamSelectionAugmentData",!1],dxb:["augmentDataNumOfChunks",30],AYa:["ase_ls_failure_simulation",""],voa:["ase_dump_fragments",!1],woa:["ase_location_history",0],BYa:["ase_throughput",0],DYa:["ase_simulate_verbose",!1],sh:["stallAtFrameCount",void 0],Bdb:["stallAtFrameCountAudio",void 0],nva:["marginPredictor","simple"],lgb:["useBackupUnderflowTimer",!0],DUb:["noDuplicateUnderflowTimer",!1],Xhc:["useManifestDrmHeader",!0],Yhc:["useOnlyManifestDrmHeader",!0],gwa:["networkMeasurementGranularity","video_location"],vUb:["netIntrStoreWindow",36E3],egc:["minNetIntrDuration",8E3],Lqb:["fastHistoricBandwidthExpirationTime",10368E3],lrb:["bandwidthExpirationTime",5184E3],Kqb:["failureExpirationTime",86400],OSa:["historyTimeOfDayGranularity",4],Hqb:["expandDownloadTime",!0],Vrb:["minimumMeasurementTime",500],Urb:["minimumMeasurementBytes",131072],mtb:["throughputMeasurementTimeout",2E3],ltb:["initThroughputMeasureDataSize",262144],Erb:["historicBandwidthUpdateInterval",2E3],Jcc:["throughputPredictor","ewma"],yza:["secondThroughputEstimator","slidingwindow"],$bb:["secondThroughputMeasureWindowInMs",3E5],Icc:["throughputMeasureWindow",5E3],Kcc:["throughputWarmupTime",5E3],Hcc:["throughputIQRMeasureWindow",1E3],scc:["IQRBucketizerWindow",15E3],j7a:["maxIQRSamples",100],W7a:["minIQRSamples",5],Ecc:["connectTimeHalflife",10],xcc:["responseTimeHalflife",10],WRa:["historicThroughputHalflife",14400],VRa:["historicResponseTimeHalflife",100],URa:["historicHttpResponseTimeHalflife",100],wHa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],ASa:["minReportedNetIntrDuration",4E3],Gcc:["throughputBucketMs",500],vcc:["bucketHoltWintersWindow",2E3],zqb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy deliverytime").split(" ")],Iqb:["experimentalFilter",["throughput-wssl"]],gTa:["reportedFilters",[]],Jja:["filterDefinitionOverrides",{}],oqb:["defaultFilter","throughput-ewma"],Wtb:["secondaryFilter","throughput-sw"],vja:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384}}],tpa:["enableWsslEstimate",!1],Jfc:["maxWsslRequestSize",131072],Ifc:["maxWsslRequestRatio",.2],dhb:["wsslAggregationMethod","max"],JW:["enableSessionHistoryReport",!0],mpa:["earlyStageEstimatePeriod",1E4],U5a:["lateStageEstimatePeriod",3E4],laa:["maxNumSessionHistoryStored",10],Kaa:["minSessionHistoryDuration",3E5],MNb:["highAndStableModelName","baseline"],spa:["enableHighAndStablePredictor",!1],Iaa:["minNumSessionHistory",5],cdc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],L9:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],NNb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],wla:["addHeaderDataToNetworkMonitor",!0],EAa:["startMonitorOnLoadStart",!1],Vya:["reportFailedRequestsToNetworkMonitor",!1],Fba:["periodicHistoryPersistMs",0],Kca:["saveVideoBitrateMs",0],eZ:["needMinimumNetworkConfidence",!0],zma:["biasTowardHistoricalThroughput",!1],URb:["logMemoryUsage",!1],Kv:["probeServerWhenError",!0],Hz:["allowSwitchback",!0],OJ:["probeDetailDenominator",100],iaa:["maxDelayToReportFailure",300],qs:["allowParallelStreaming",!1],Pfc:["mediaPrefetchDisabled",!1],S7a:["minBufferLevelToAllowPrefetch",5E3],Mca:["seamlessAudio",!1],ahc:["seamlessAudioProfiles",[]],bhc:["seamlessAudioProfilesAndTitles",{}],wza:["seamlessAudioMaximumSyncError",void 0],xza:["seamlessAudioMinimumSyncError",void 0],r4a:["insertSilentFrames",0],wta:["insertSilentFramesOnSeek",!1],s4a:["insertSilentFramesOnSeekForTitles",[]],$Ob:["insertSilentFramesOnSeekCount",3],rec:["forceDiscontinuityAtTransition",!0],cBa:["supportAudioResetOnDiscontinuity",void 0],$3b:["supportAudioEasingOnDiscontinuity",void 0],RFb:["editCompleteFragments",!0],$Tb:["minimumAudioFramesPerFragment",1],qH:["applyProfileTimestampOffset",!1],Jn:["applyProfileStreamingOffset",!0],cab:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Ywb:["audioProfilesNonSyncSamples",["xheaac-dash"]],A5b:["truncateEndOfStreamAudio",!1],J6b:["useDpiAssumedAacEncoderDelay",!0],QY:["mediaSourceSupportsNegativePts",!1],BP:["minAudioPtsGap",void 0],Wwb:["audioOverlapGuardSampleCount",2],YZa:["enableRecordJSBridgePerf",!1],zga:["JSBridgeTDigestConfig",{maxc:25,c:.5}],H4b:["throughputThresholdSelectorParam",0],D6b:["upswitchDuringBufferingFactor",2],cwb:["allowUpswitchDuringBuffering",!1],CXa:["contentOverrides",void 0],aoa:["contentProfileOverrides",void 0],Msa:["hindsightDenominator",0],Lsa:["hindsightDebugDenominator",0],N9:["hindsightAlgorithmsEnabled",[]],O9:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],NUa:["appendMediaRequestOnComplete",!1],kea:["waitForDrmToAppendMedia",!1],z7b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],q8:["forceAppendHeadersAfterDrm",!1],xoa:["declareBufferingCompleteAtSegmentEnd",!1],Lx:["maxActiveRequestsPerSession",void 0],Gua:["limitAudioDiscountByMaxAudioBitrate",!1],Tla:["appendFirstHeaderOnComplete",!0],o0:["strictBufferCapacityCheck",!1],lN:["aseReportDenominator",0],l6:["aseReportIntervalMs",3E5],Mda:["translateToVp9Draft",!1],sca:["reorderTrakMvex",!1],bR:["switchableAudioProfiles",[]],Zwb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],web:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],axb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],v7a:["maxStartingVideoVMAF",110],wv:["minStartingVideoVMAF",1],QU:["activateSelectStartingVMAF",!1],Qca:["selectStartingVMAFTDigest",-1],DQ:["selectStartingVMAFMethod","fallback"],dcb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],YP:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],bFb:["disablePtsStartsEvent",!0],Cya:["recordFirstFragmentOnSubBranchCreate",!0],C7a:["mediaCacheConvertToBinaryData",!1],Bva:["mediaCacheSaveOneObject",!1],$6a:["markRequestActiveOnFirstByte",!1],lda:["stopOnAllInactiveRequests",!1],L7:["earlyAppendSingleChildBranch",!0],dC:["useNativeDataViewMethods",!0],I6b:["useCorrectDrainingAmounts",!0],gO:["enableNewAse",!1],X0:["useNewApi",!1],z7:["aseDiagnostics",[{sg:"queue-audit",enabled:!0},{sg:"task-audit",enabled:!0},{sg:"trace-ShimSession",enabled:!0},{sg:"trace-engine",enabled:!0},{sg:"trace-RequestPacer",enabled:!0},{sg:"trace-BufferStateTracker",enabled:!0},{sg:"trace-GraphStreamingProcess",enabled:!0},{sg:"trace-AsePlaygraph",enabled:!0},{sg:"playgraph-branch-audit",enabled:!0},{sg:"content-playgraph",enabled:!0},{sg:"trace-CphAsePlaygraph",enabled:!0},{sg:"trace-GraphLocation",enabled:!0}]],Jxb:["branchDistanceThreshold",6E4],gaa:["maxAllowedOutstandingRequests",4],Sva:["minStreamableConcurrencyWindow",3E3],$Sb:["maxStreamableConcurrencyWindow",Infinity],TAa:["streamableConcurrencyFactor",.3],wV:["bufferingConcurrencyWindow",7800],Dma:["branchCreationThreshold",12E4],O7:["enableDiscontiguousBuffering",!1],wqa:["forceImmediateTransitionTypeForTitles",[]],vqa:["forceImmediateTransitionExitZone",0],IXa:["contiguousBufferMultiplier",3],GXa:["contiguousBufferMinimumAudio",1048576],HXa:["contiguousBufferMinimumVideo",8388608],bYb:["prefetchBudgetInBytes",0],Hab:["rebufferRiskHalfLife",1E4],Yda:["useBufferSizeLimiter",!1],R6b:["useStaticBufferSizeLimiter",!1],eYb:["prefetchWeightBudget",32],Vva:["minimumDownstreamBranchProbability",.075],ZBa:["useExitZones",!0],fYb:["prefetchWhilePlaying",!0],kYb:["prefetcherSoftReset",!0],y$a:["playgraphDefaultWeight",65520],yEb:["delayNotificationOfEoS",!1],vTb:["memDeadlockShouldCheckMemory",!0],uTb:["memDeadlockOverageThreshold",.9],tTb:["memDeadlockMaxUtilizationPercentage",.5],Hxa:["playerPtsPadding",1],WY:["minFragmentVmaf",void 0],N7:["enableCombinedPlaygraphs",!0],aCa:["useLegacyFragmentRounding",!1],a1b:["selectGeneric",{bufferBins:{min:1E3,max:27E4,step:1E3,scale:2},accuracy:.01,nbBest:3,windows:[2E4],varscale:1,deliveryfactor:.5,rebufferRiskThreshold:0,networkOutageDecay:Infinity,rebufferRiskFactor:1.1,maxVMAFUp:20,search:"bitonic"}],Mpa:["excludedContentPlaygraphIds",[]],W2a:["graphSelectorSetAudioRate",!1],Ncc:["ad1movieId",81509700],Mcc:["ad1duration",58E3],Pcc:["ad2movieId",81573044],Occ:["ad2duration",7E4],HGb:["enableVmafEstimationFromBitrate",!1],bTb:["maxVMAFMappingBitrate",16E3],cTb:["maxVMAFMappingVMAF",110],Tyb:["cdndldistEnabled",!1]};b.ih=b.zAb;},function(r,b,a){var c,k,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Ur=b.Tr=b.Vr=b.cB=b.U3=void 0;c=a(1);k=a(117);Object.defineProperties(b,{Tr:{enumerable:!0,get:function(){return k.Tr;}}});Object.defineProperties(b,{Ur:{enumerable:!0,get:function(){return k.Ur;}}});Object.defineProperties(b,{cB:{enumerable:!0,get:function(){return k.cB;}}});Object.defineProperties(b,{U3:{enumerable:!0,get:function(){return k.U3;}}});h=c.__importDefault(a(6));r=(function(g){function d(f,m,l,n,p){return g.call(this,d.console,f,m,l,n,p) || this;}c.__extends(d,g);Object.defineProperties(d,{console:{get:function(){return this.I || (this.I=new h.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(k.Vr);b.Vr=r;},function(r,b,a){var h,g;function c(){}function k(d,f,m,l,n){this.debug=d;this.version=f;this.AQb=m;this.pXb=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;r=a(2);h=a(0);g=a(5);k.prototype.AKb=function(){return this.config().CI;};k.prototype.Qqa=function(){return this.config().GVa;};k.prototype.p2a=function(){return (0,g.Sc)(this.config().OXb);};k.prototype.N1a=function(){return this.config().JRb;};k.prototype.P1a=function(){return this.config().ySb;};c.prototype.nI=function(d,f,m,l,n){return new k(d,f,m,l,n);};a=c;a=r.__decorate([(0,h.U)()],a);b.GOa=a;},function(r,b,a){var k,h;function c(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.PPa=void 0;r=a(2);k=a(0);a=a(11);c.prototype.SYb=function(g,d,f,m){var l;if(this.config().l1b){l=g.metrics;void 0 !== l && l.segment !== l.srcsegment && d.CY.Cb.transition({isBranching:m || void 0,isPlaygraph:!m || void 0,mid:d.K,xid:d.ea,srcxid:f.ea,srcmid:f.K,segment:g.position.segmentId,srcsegment:l.srcsegment,srcsegmentduration:l.srcsegmentduration,srcoffset:l.srcoffset,seamlessRequested:l.seamlessRequested,transitionType:l.transitionType,transitionTypeAtRequest:l.transitionTypeAtRequest,nextExitPositionAtRequest:l.nextExitPositionAtRequest,delayToTransition:l.delayToTransition,durationOfTransition:l.durationOfTransition,atRequest:l.atRequest,atTransition:l.atTransition,discard:l.discard});}};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Wc))],h);b.PPa=h;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Kgb=void 0;r=a(0);c=a(370);k=a(1071);b.Kgb=new r.zd(function(h){h(c.qQa).to(k.pQa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N;function c(L){this.pc=L;}Object.defineProperty(b,"__esModule",{value:!0});b.pQa=void 0;r=a(2);k=a(0);h=a(75);g=a(32);d=a(29);f=a(7);m=a(113);l=a(220);n=a(451);p=a(1072);q=a(267);t=a(87);w=a(452);v=a(1073);u=a(271);x=a(81);y=a(20);z=a(120);A=a(272);B=a(461);D=a(11);C=a(462);F=a(463);G=a(35);E=a(273);I=a(464);N=a(37);c.prototype.goa=function(L,H,Q,O,J,M){return this.pc.get(D.Wc)().$da?new v.rQa(this.pc.get(f.yb),this.pc.get(u.Sha),this.pc.get(x.Oy),this.pc.get(y.vd),this.pc.get(z.$F),this.pc.get(m.Vfa),this.pc.get(A.Xga),this.pc.get(B.dHa),this.pc.get(C.eNa),this.pc.get(F.wia),this.pc.get(F.wia),this.pc.get(G.wi),this.pc.get(I.JS),this.pc.get(E.jga),this.pc.get(N.Ti),O,Q):new p.sIa(this.pc.get(g.Qh),this.pc.get(d.Eg),this.pc.get(f.yb),this.pc.get(m.Vfa),this.pc.get(l.qia),this.pc.get(q.Cha),this.pc.get(t.Ufa),this.pc.get(w.QLa),this.pc.get(n.tFa),L,H,Q,O,J,M);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.pIa))],a);b.pQa=a;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p,q,t,w,v,u,x,y,z,A,B,D,C){var F;F=this;this.ve=l;this.nb=n;this.Wb=q;this.Cv=w;this.JV=v;this.w0a=u;this.config=y;this.hi=A;this.G=B;this.j=z.create(B.K,B.gj,x,D,C,B.Db,B.id,B.ia);this.j.background=!0;this.log=p.kb("VideoPlayer",this.j);this.d$a=[];this.ended=!1;this.cL();this.j.state.addListener(function(G){G.newValue === h.dc.we && F.Lb(h.Ja.Wta,{movieId:B.K});});this.j.fb.ci && (this.rN=t.tCb(this,this.j),this.j.addEventListener(h.ga.jK,function(G){G=G.position.segmentId;F.WQb !== G && (F.WQb=G,F.Lb(h.Ja.Z0b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;k=a(3);h=a(18);g=a(5);d=a(12);f=a(87);m=a(25);c.prototype.isReady=function(){return this.j.state.value === h.dc.we;};c.prototype.Z1a=function(){return this.j.K;};c.prototype.EA=function(){return this.j.ea;};c.prototype.co=function(){return this.j.xo;};c.prototype.Wq=function(){return this.j.Qj.value;};c.prototype.hY=function(){return this.j.paused.value;};c.prototype.Cta=function(){return this.ended;};c.prototype.bi=function(){var l;l=this.j.Rma.value;return l?{networkStalled:! !l.Et,stalled:! !l.Et,progress:l.progress,progressRollback:! !l.YYb}:null;};c.prototype.getError=function(){var l;l=this.j.Hi;return l?l.J0():null;};c.prototype.Yu=function(){return this.j.mediaTime.value;};c.prototype.M0a=function(){var l;l=(this.N8() || 0) + this.j.L0a();return Math.min(l,this.Yqa());};c.prototype.N8=function(){return this.j.UD();};c.prototype.Yqa=function(){return this.j.bA.ca(g.la);};c.prototype.T2a=function(){return this.j.vR?{width:this.j.vR.width,height:this.j.vR.height}:null;};c.prototype.O8=function(){var t;if(this.j.Vp){for(var l,n=0;n < this.j.Vp.length;n++){for(var p=this.j.Vp[n],q=0;q < p.streams.length;q++){t=p.streams[q];this.nb.uj(t.moa) && this.nb.uj(t.i7) && this.nb.uj(t.h7) && this.nb.uj(t.g7) && 0 < t.i7 && (t=t.g7 / t.h7,l=this.nb.uj(l)?Math.min(l,t):t);}}return l;}};c.prototype.Z0a=function(){return this.j.O8();};c.prototype.v0a=function(l){var n,p;return (null === (n=this.j.ia) || void 0 === n?0:n.Gk.uX("generateScreenshots"))?this.w0a.Hs(this.log,this.j.ia.Gk,l):(n=null === (p=this.j.fb) || void 0 === p?void 0:p.Ip)?this.w0a.Sg(this.log,Object.assign({packageId:n},l)):Promise.reject("Unknown packageId");};c.prototype.d1a=function(){return this.dKb(this.j.z7);};c.prototype.E0a=function(){var l;l=this;return this.j.aj.map(function(n){return l.Qq(n);});};c.prototype.T1a=function(){var l;return this.vX(this.j.aj,null === (l=this.j.ia) || void 0 === l?void 0:l.Ib.q7a);};c.prototype.gsa=function(l){var n;n=this;return this.CX(l).map(function(p){return n.Qq(p);});};c.prototype.vra=function(l){var n;return this.vX(this.CX(l),null === (n=this.j.ia) || void 0 === n?void 0:n.Ib.r7a);};c.prototype.Kta=function(){return this.j.muted.value;};c.prototype.U2a=function(){return this.j.volume.value;};c.prototype.D0a=function(){var l,n;n=(null === (l=this.Wx) || void 0 === l?void 0:l.Ac) || this.j.Ac.value;return n && this.Qq(n);};c.prototype.fsa=function(){var l,n;n=(null === (l=this.Wx) || void 0 === l?void 0:l.A0) || this.j.tc.value;return n && this.Qq(n);};c.prototype.A4a=function(){return ! !this.j.background;};c.prototype.Icb=function(l){this.j.muted.set(! !l);};c.prototype.Wcb=function(l){this.j.volume.set(this.dVb(l));};c.prototype.Jcb=function(l){this.j.playbackRate.set(l);};c.prototype.xp=function(){return this.j.playbackRate.value;};c.prototype.ucb=function(l){var n,p,q,t,w;n=this;q=this.UW(l);if(q){if(q.Ki)return (this.j.Ac.set(q),Promise.resolve());t=(l=(null === (p=this.Wx) || void 0 === p?void 0:p.A0) || this.j.tc.value) && this.j5a(q,l)?l:q.oi[0];p=q.trackId;w=t.trackId;this.Wx={Ac:q,A0:t};this.Lb(h.Ja.zm);this.Lb(h.Ja.aw);t !== l && this.Lb(h.Ja.fm);return this.j.I3a(p,w).then(function(v){v=v.Ac;n.Wx=void 0;n.j.Ac.set(v);}).catch(function(v){n.Wx=void 0;v=n.ve.Me(v);n.log.error(v);n.close(n.hi(k.T.BL,{wa:k.O.Pga,Sb:v,JI:{jOb:q.trackId,J3a:q.Af,kOb:t.trackId,K3a:t.Af}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.bAa=function(l){var n,p,q,t;n=this;q=(null === (p=this.Wx) || void 0 === p?void 0:p.Ac) || this.j.Ac.value;if(null !== q){t=q.oi;p={};for(var w=0;w < t.length;(p={Qt:p.Qt},w++)){p.Qt=t[w];if(!l && null === p.Qt)return (this.j.tc.set(null),Promise.resolve());if(this.Qq(p.Qt) === l){if(p.Qt.Ki)return (this.log.info("Setting Timed Text, profile: " + p.Qt.profile),this.j.tc.set(p.Qt),Promise.resolve());l=q.trackId;t=p.Qt.trackId;this.Wx={Ac:q,A0:p.Qt};this.Lb(h.Ja.fm);return this.j.I3a(l,t).then(function(v){v=v.A0;n.Wx=void 0;n.j.tc.set(v);}).catch((function(v){return function(u){n.Wx=void 0;u=n.ve.Me(u);n.log.error(u);n.close(n.hi(k.T.BL,{wa:k.O.Pga,Sb:u,JI:{jOb:q.trackId,J3a:q.Af,kOb:v.Qt.trackId,K3a:v.Qt.Af}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Qza=function(l){this.j.background=l;};c.prototype.VQ=function(){this.j.VQ();};c.prototype.Uda=function(l){this.j.Uda(l);};c.prototype.Bk=function(l){return this.j.Bk(l);};c.prototype.l2a=function(){return this.j.fb;};c.prototype.Sx=function(){this.j.Sx();};c.prototype.vJ=function(l){this.j.vJ(l);};c.prototype.LX=function(l,n,p){return this.j.LX(l,n,p);};c.prototype.Cla=function(l,n){this.j.addEventListener(l,n,void 0);};c.prototype.addEventListener=function(l,n,p){this.Wb.addListener(l,n,p);};c.prototype.removeEventListener=function(l,n){this.Wb.removeListener(l,n);};c.prototype.KJ=function(){};c.prototype.load=function(){var l;l=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{l.Lb(h.Ja.k6a,void 0,!0);n.ia && (n.ia.Ib.Xgb && l.Lb(h.Ja.I7b,n.ia.Ib.Xgb,!0),n.ia.Ib.On && l.Lb(h.Ja.Y0b,{segmentMap:n.ia.Ib.On},!0));p({da:!0});}catch(q){p({wa:k.O.km,Sb:l.ve.Me(q)});}}));};c.prototype.close=function(l){var n;n=this;this.VWa || (this.VWa=new Promise(function(p){l?n.j.GH(l,p):n.j.close(p);}));return this.VWa;};c.prototype.play=function(){this.j.Fi?this.j.fireEvent(h.ga.Sbb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(h.ga.Agb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(h.ga.V6b));};c.prototype.seek=function(l,n,p,q){n=void 0 === n?h.Ye.pG:n;this.j.Wf?this.j.Wf.seek(l,n,p,q):this.j.hx=l;};c.prototype.p$a=function(l){return this.rN?(this.log.trace("Playing a segment",l),this.rN.play(l)):Promise.resolve();};c.prototype.oab=function(l){return this.rN?(this.log.trace("Queueing a segment",l),this.rN.pt(l)):Promise.resolve();};c.prototype.mj=function(l,n){return this.rN?(this.log.trace("Updating next segment weights",l,n),this.rN.mj(l,n)):Promise.resolve();};c.prototype.GX=function(){var l;l=this.j.Gr.GX();return {bounds:l.rV,margins:l.Xs,size:l.size,visibility:l.visibility};};c.prototype.NQ=function(l){var n,p,q;n=l.bounds;p=l.margins;q=l.size;l=l.visibility;this.j.E0 && (n && this.j.E0.cAa(n),p && this.j.E0.dAa(p),"boolean" === typeof l && this.j.E0.eAa(l));this.j.Gr && q && this.j.Gr.a2b(q);};c.prototype.fAa=function(l){this.j.ln=l;};c.prototype.Q2a=function(l){return this.j.$B && this.j.$B.yKb(l) || null;};c.prototype.B0a=function(){return this.ve.mJ({playerver:this.config.version,jssid:this.config.AQb,groupName:this.config.AKb(),xid:this.j.ea,pbi:this.j.index},this.config.pXb,{prefix:"pi_"});};c.prototype.b4a=function(l){this.j.Pd(k.T.fGa,k.O.zn,l);};c.prototype.g6a=function(l,n,p,q){if(!this.nb.GUa(l))throw Error("invalid url");this.d$a.push({url:l,name:n,hxb:p,options:q});this.aab();};c.prototype.Wra=function(){var l,n,p,q,t,w,v,u;l={};n=this.j.i0;try{if((this.j.Hi && (l.errorCode=this.j.Hi.E7,l.errorType=n?"endplay":"startplay"),l.playdelay=(0,m.gg)(this.j.yV()),l.xid=this.j.ea,this.j.ia && this.nb.lu(this.j.ia.Ib.Ip) && (l.packageId=Number(this.j.ia.Ib.Ip)),l.auth=this.j.uJb(),n)){l.totaltime=this.j.$l?this.rp(this.j.$l.Ax("content")):0;l.abrdel=this.j.$l?this.j.$l.Oqa():0;p=this.j.Wf;q=p?p.pI():null;this.nb.uj(q) && (l.totdfr=q);q=p?p.lX():null;this.nb.uj(q) && (l.totcfr=q);t=p?p.NKb():null;t && (l.rbfrs_decoder=t.o7,l.rbfrs_network=t.Waa);l.rbfrs_delay=this.j.$l?this.j.$l.yta:0;l.init_vbr=this.j.d$;w=this.xI();this.nb.TH(w) && (l.pdltime=w);v=this.j.se.value;u=v && v.stream;u && (l.vbr=u.bitrate,l.vdlid=u.wc);l.bufferedTime=this.j.L0a();}}catch(x){this.log.error("error capturing session summary",x);}return l;};c.prototype.iO=function(l){this.j.fb.en && (this.j.fb.en.userEngageAction=1);return this.nb.uj(this.j.mediaTime.value)?(l=Object.assign(Object.assign({},this.Cv.create(this.j)),{action:l}),this.JV(f.Zp.iO).Hs(this.log,this.j.ia.Gk,l).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Jc,errorExternalCode:n.Qd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.dKb=function(l){return {register:l.register.bind(l),notifyUpdated:l.U8a.bind(l),getModel:l.kLb.bind(l),getGroups:l.rX.bind(l),addEventListener:l.addEventListener.bind(l),removeEventListener:l.removeEventListener.bind(l),getTime:l.getTime.bind(l)};};c.prototype.Qq=function(l){var n;n=l.jya=l.jya || ({trackId:l.trackId,bcp47:l.Af,displayName:l.displayName,trackType:l.ri,rawTrackType:l.TE,channels:l.channels});this.Qta(l) && (n.isNative=l.isNative,n.surroundFormatLabel=l.t0);this.Rta(l) && (n.isNoneTrack=l.Vq(),n.isForcedNarrative=l.Cp(),n.isImageBased=l.ol);n.subType=l.EK;n.variant=l.variant;return n;};c.prototype.Qta=function(l){return "undefined" !== typeof l.isNative;};c.prototype.Rta=function(l){return "undefined" !== typeof l.Vq && "undefined" !== typeof l.Cp;};c.prototype.UW=function(l){var n;n=this;return l && this.j.aj.find(function(p){return n.Qq(p) === l;});};c.prototype.CX=function(l){var n,p;l=this.UW(l) || (null === (n=this.Wx) || void 0 === n?void 0:n.Ac) || this.j.Ac.value;return null !== (p=null === l || void 0 === l?void 0:l.oi) && void 0 !== p?p:[];};c.prototype.vX=function(l,n){var p;p=l.length - 1;if("number" !== typeof n)return p;l=l.findIndex(function(q){return q.bc > n;});return -1 === l?p:l - 1;};c.prototype.j5a=function(l,n){return 0 <= l.oi.indexOf(n);};c.prototype.dVb=function(l){return 0 <= l?1 >= l?l:1:0;};c.prototype.rp=function(l){return this.nb.uj(l)?(l / 1E3).toFixed(0):"";};c.prototype.Lb=function(l,n,p){n=n || ({});n.target=this;this.Wb.ed(l,n,!p);};c.prototype.cL=function(){var l;l=this;this.j.addEventListener(h.ga.lBa,function(){l.Lb(h.Ja.Dq);});this.j.addEventListener(h.ga.Jfb,function(){l.Lb(h.Ja.Ifb);});this.j.addEventListener(h.ga.taa,function(){l.Lb(h.Ja.Lma);});this.j.addEventListener(h.ga.Lk,function(){l.Lb(h.Ja.Lma);});this.j.addEventListener(h.ga.XO,function(n){l.Lb(h.Ja.XO,{errorCode:n});});this.j.addEventListener(h.ga.oma,function(){l.Lb(h.Ja.pVa);});this.j.addEventListener(h.ga.Fi,function(n){l.Lb(h.Ja.x6,n);});this.j.addEventListener(h.ga.jfb,function(){l.Lb(h.Ja.v6);l.Lb(h.Ja.aw);});this.j.Qj.addListener(function(){l.Lb(h.Ja.Mxa);});this.j.paused.addListener(function(){l.Lb(h.Ja.Y9a);});this.j.muted.addListener(function(){l.Lb(h.Ja.n8a);});this.j.volume.addListener(function(){l.Lb(h.Ja.Rgb);});this.j.Eb.addListener(function(){l.Rfb();});this.j.state.addListener(function(){l.Rfb();});this.j.Rma.addListener(function(n){l.KRb || l.j.state.value != h.dc.we || n.newValue || (l.KRb=!0,l.Lb(h.Ja.loaded),setTimeout(function(){l.log.debug.bind(l.log,"summary ",l.Wra());}));l.Lb(h.Ja.uN);});this.j.Ac.addListener(function(){l.Lb(h.Ja.zm);l.Lb(h.Ja.aw);setTimeout(function(){var n,p;n=l.j.Ac.value;p=l.j.tc.value;null === n || null === p || l.j5a(n,p) || (l.log.info("Changing timed text track to match audio track"),l.j.tc.set(n.oi[0]));},0);});this.j.tc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || l.Lb(h.Ja.fm);});this.j.addEventListener(h.ga.aw,function(){l.Lb(h.Ja.aw);});this.j.addEventListener(h.ga.N0,function(){l.Lb(h.Ja.N0);});this.j.state.addListener(function(n){switch(n.newValue){case h.dc.we:l.Lb(h.Ja.AZa);l.Lb(h.Ja.Mgb);l.Lb(h.Ja.v6);l.Lb(h.Ja.aw);l.Lb(h.Ja.j6a);l.aab();l.O7b();break;case h.dc.CLOSING:l.j.Hi && l.Lb(h.Ja.v4a,l.j.Hi);break;case h.dc.CLOSED:(l.Lb(h.Ja.closed),l.Wb.$h());}});};c.prototype.O7b=function(){var l;l=this;this.j.Gr.addEventListener("showsubtitle",function(n){l.Lb(h.Ja.kAa,n,!0);});this.j.Gr.addEventListener("removesubtitle",function(n){l.Lb(h.Ja.Mya,n,!0);});};c.prototype.aab=function(){if(this.j.state.value == h.dc.we){for(var l,n,p;n=this.d$a.shift();){l=this.j.Gr.tla(n.url,n.name,n.options);n.hxb && (p=l);}p && this.j.tc.set(p);}};c.prototype.Rfb=function(){var l;l=this.j.state.value == h.dc.we && this.j.Eb.value == h.jb.Or;this.ended !== l && (this.ended=l,this.j.mH("Ended changed: " + l),(l || this.j.state.value === h.dc.CLOSING) && this.Lb(h.Ja.f_a));};c.prototype.xI=function(){var l,n;try{l=/playercore.*js/;n=d.xw.getEntriesByType("resource").filter(function(p){return null !== l.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.sIa=c;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v;function c(u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O){var J,M,P;J=this;this.OZ=x;this.KA=y;this.Ea=z;this.Gj=A;this.Wb=B;this.IY=D;this.KXb=C;this.t$a=F;this.gea=G;this.u6=E;this.Da=I;this.sP=N;this.config=L;this.jD=H;this.G=Q;this.hi=O;this.AY=new p.oc(!0);this.Qj=new p.oc(!1);this.Et=new p.oc(!1);this.ended=new p.oc(!1);this.I6=new p.oc(0);this.Eb=new p.oc(h.jb.cg);this.tQ=new p.oc(void 0);this.loaded=this.i0=this.closed=!1;this.T$a=function(R,S){return function(U){var ba,na,va,ya,ra;ba=U.newValue;na=ba.jx;U=ba.Cm;va=ba.stream;ba=R.value;ya=ba.streams.find(function(V){return V.bitrate === va.stream.bitrate;});ra=J.ya.Yh.find(function(V){return V.id === na;});J.log.info("Presenting " + ya.type + " request with bitrate " + ya.bitrate + ", track " + (ba.trackId + " [" + U.startTime + "..." + U.endTime + "]"));S.set({stream:ya,Cm:U,Bc:ra});};};this.Zdb=function(R,S,U){return function(ba){var na,va;na=R.value;va=na.streams.find(function(ya){return ya.bitrate === ba.newValue.stream.bitrate;});J.log.info("Streaming " + va.type + " stream with bitrate " + va.bitrate + ", track " + na.trackId);S.set(va,{DH:ba.Jm.DH,oV:void 0});na=J.ya.Yh.filter(function(ya){return ya.id === ba.Jm.jx;})[0];U.set(na);};};this.Y_a=new Set();this.log=u.kb("HLSVideoPlayer");this.Y=(0,g.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Y.playsInline=this.config.F$a;this.ya=this.OZ(d.CC.index++,Q.K,Q.id,null !== (M=Q.Db) && void 0 !== M?M:{},this.KA.dA(),this.Ea.Xb(),!1,void 0,function(){return J.Yu();});this.ya.mediaTime.set(null !== (P=this.ya.hx) && void 0 !== P?P:0);this.cL();this.Grb=this.sP.create(this);this.Grb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.rQa=void 0;k=a(36);h=a(18);g=a(44);d=a(63);f=a(104);m=a(59);l=a(3);n=a(62);p=a(79);q=a(5);t=a(13);w=a(105);v=a(25);c.prototype.e4b=function(){return ! !this.Y.canPlayType && ("" !== this.Y.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Y.canPlayType("audio/mpegurl"));};c.prototype.cL=function(){var u;u=this;this.Y.addEventListener("loadedmetadata",function(){u.Lb(h.Ja.k6a);u.Lb(h.Ja.j6a);u.Lb(h.Ja.zm);u.Lb(h.Ja.v6);u.Lb(h.Ja.fm);u.Lb(h.Ja.aw);});this.Y.addEventListener("error",function(x){x=u.hi(l.T.sLa,x);u.close(x);});this.Y.addEventListener("timeupdate",function(){u.ended.set(!1);u.ya.mediaTime.set(u.Yu());u.Voa();u.Lb(h.Ja.Dq);u.Lb(h.Ja.Ifb);});this.Y.addEventListener("durationchange",function(){u.Lb(h.Ja.AZa);});this.Y.addEventListener("resize",function(){u.Lb(h.Ja.Mgb);});this.Y.addEventListener("playing",function(){u.Voa();u.Et.set(!1);u.Qj.set(!0);u.ended.set(!1);u.Eb.set(h.jb.Rc);});this.Y.addEventListener("pause",function(){u.Qj.set(!1);u.Et.set(!1);u.Eb.set(h.jb.xh);});this.Y.addEventListener("waiting",function(){u.Eb.set(h.jb.cg);});this.Y.addEventListener("stalled",function(){u.Et.set(!0);});this.Y.addEventListener("seeking",function(){u.Et.set(!1);u.tQ.set(u.ya.mediaTime.value);u.Eb.set(h.jb.cg);});this.Y.addEventListener("seeked",function(){void 0 !== u.tQ.value && (u.ya.$l.vwa(u.tQ.value,u.Yu()),u.tQ.set(void 0));u.Eb.set(u.Wq()?h.jb.Rc:h.jb.xh);});this.Y.addEventListener("progress",function(){u.Lb(h.Ja.Lma);u.Z5b();});this.Y.addEventListener("ended",function(){u.Eb.set(h.jb.Or);u.Et.set(!1);u.Qj.set(!1);u.ended.set(!0);});this.Y.addEventListener("volumechange",function(){u.Lb(h.Ja.Rgb);u.Lb(h.Ja.n8a);});this.Qj.addListener(function(){u.Lb(h.Ja.Mxa);u.Lb(h.Ja.Y9a);u.BN();});this.I6.addListener(function(){u.Lb(h.Ja.uN);});this.Et.addListener(function(){u.Lb(h.Ja.uN);});this.AY.addListener(function(){u.BN();});this.ended.addListener(function(){u.Lb(h.Ja.f_a);});this.ya.playbackRate.addListener(function(x){u.Y.playbackRate=x.newValue;});};c.prototype.BN=function(){!this.Wq() || this.AY.value || this.i0 || this.oVa || (this.i0=!0,this.ya.OI=this.Da.R_,this.t$a.Pp(this,this.ya));};c.prototype.yV=function(){return this.NZ - (this.ya.gj.ca(q.la) + this.Ea.WA.ca(q.la));};c.prototype.mI=function(){var u;u=this.ya.fb.oR;return (0,t.Ga)(u)?u:this.ya.gj.ca(q.la) + this.Ea.WA.ca(q.la);};c.prototype.Yma=function(){return this.Da.qf.ca(q.la) - this.mI();};c.prototype.$ma=function(){return this.NZ - this.mI();};c.prototype.Z5b=function(){var u;u=this.Y.readyState <= n.Ho.a3.HAVE_METADATA?0:this.Y.readyState <= n.Ho.a3.HAVE_CURRENT_DATA?.5:1;1 === u && (this.NZ=this.Da.qf.ca(q.la),this.AY.set(!1),this.fqa(h.Ja.loaded));this.I6.set(u);};c.prototype.Voa=function(){var u;u=this.Yu();this.gea.xcb(u);this.u6.xcb(u);};c.prototype.Q_=function(){var u;u=this;this.ya.Be("ats");return this.Gj.GO({ea:this.ya.ea,fb:this.ya.fb,N:this.ya.K,Su:f.vn.S3,ig:m.zi.bq}).then(function(x){var z;function y(A){var B;B=A;A && A.Vq() && !A.Cp() && (B=null);u.ya.$i.set(B);}u.ya.Be("at");z=u.IY.create({}).T9a(x);u.ya.ia=x;u.ya.Yc=z;u.Y.audioTracks.addEventListener("addtrack",function(){u.cgb(u.ya.Ac.value);});u.Y.audioTracks.addEventListener("change",function(){for(var A,B,D={},C=pa(u.Y.audioTracks),F=C.next();!F.done;(D={FR:D.FR},F=C.next())){D.FR=F.value;D.FR.enabled && D.FR.label !== (null === (A=u.ya.Ac.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=u.ya.aj.find((function(G){return function(E){return E.displayName === G.FR.label;};})(D))) && void 0 !== B?B:null,u.ya.Ac.set(F));}});u.ya.Ac.addListener(function(A){u.cgb(A.newValue);u.Lb(h.Ja.zm);u.Lb(h.Ja.aw);});u.Y.textTracks.addEventListener("addtrack",function(){u.dgb(u.ya.tc.value);});u.Y.textTracks.addEventListener("change",function(){var G;for(var A,B,D=u.Y.textTracks,C={},F=0;F < D.length;(C={GR:C.GR},F++)){if((C.GR=D[F],"showing" === C.GR.mode && C.GR.label !== (null === (A=u.ya.tc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=u.ya.oi.find((function(E){return function(I){return I.displayName === E.GR.label;};})(C))) && void 0 !== B?B:null;u.ya.tc.set(G);y(G);}}});u.ya.tc.set(z.gW);y(z.gW);u.ya.tc.addListener(function(A){u.dgb(A.newValue);u.Lb(h.Ja.fm);});return u.KXb.zj(x,function(A){return u.ya.Be(A);});}).then(function(x){var y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J;y=x.tSb;z=x.Syb;x=x.z3b;A=x.audio;B=x.JYa;D=x.video;C=u.ya;F=C.Ah;G=C.Ac;E=C.aj;I=C.ef;N=C.Bg;x=C.hx;L=C.se;H=C.Hf;Q=C.$l;C=C.Yc;C.aj=E.filter(function(M){return A.find(function(P){return P.track.yg === M.trackId;});});N.set(C.v7);G.set(E.find(function(M){return M.trackId === B;}));C=D[0];O=C.stream;E=A.find(function(M){return M.track.yg === B;});J=E.stream;u.$X=O.bitrate;u.gea.Txa.addListener(u.T$a(N,L));u.gea.XAa.addListener(u.Zdb(N,I,u.ya.Bc[k.Rb.Ya.Nb]));I=z.get(O.op).hQ.jp;u.gea.zb(D,C,I);u.u6.Txa.addListener(u.T$a(G,H));u.u6.XAa.addListener(u.Zdb(G,F,u.ya.Bc[k.Rb.Ya.cc]));z=z.get(J.op).hQ.jp;u.u6.zb(A,E,z);u.Y.src=y;u.Y.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;u.Y.load();Q.vwa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,v.Me)(x);u.log.error("uncaught exception",x,z);}u.close(u.hi(null !== (y=x.code) && void 0 !== y?y:l.T.cQa,x));});};c.prototype.dgb=function(u){var z;for(var x=this.Y.textTracks,y=0;y < x.length;y++){z=x[y];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.cgb=function(u){for(var x=pa(this.Y.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== u.displayName || y.enabled || (!1,y.enabled=!0);y.label !== u.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.Yu=function(){return Math.floor(1E3 * this.Y.currentTime);};c.prototype.N8=function(){return this.Yu();};c.prototype.Yqa=function(){return Math.floor(1E3 * this.Y.duration);};c.prototype.Z1a=function(){return this.G.K;};c.prototype.EA=function(){return this.ya.ea;};c.prototype.co=function(){return this.Y;};c.prototype.isReady=function(){return null === this.bi();};c.prototype.Wq=function(){return this.Qj.value;};c.prototype.hY=function(){return !this.Qj.value;};c.prototype.Cta=function(){return this.Y.ended;};c.prototype.bi=function(){return 1 !== this.I6.value?{stalled:this.Et.value,progress:this.I6.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,x;return null !== (x=null === (u=this.Hi) || void 0 === u?void 0:u.J0()) && void 0 !== x?x:null;};c.prototype.M0a=function(){return 1 === this.Y.buffered.length?1E3 * this.Y.buffered.end(0):null;};c.prototype.T2a=function(){return {width:this.Y.videoWidth,height:this.Y.videoHeight};};c.prototype.Kta=function(){return this.Y.muted;};c.prototype.U2a=function(){return this.Y.volume;};c.prototype.Icb=function(u){this.Y.muted=u;};c.prototype.Wcb=function(u){this.Y.volume=u;};c.prototype.addEventListener=function(u,x,y){this.Wb.addListener(u,x,y);};c.prototype.removeEventListener=function(u,x){this.Wb.removeListener(u,x);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.jD.zY(function(x){u.e4b()?x.da?u.Q_():u.close(u.hi(x.errorCode || l.T.sga,x)):u.close(u.hi(l.T.Xkb));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.ya.mediaTime.set(this.Yu());this.Voa();this.ya.RV=this.N8();this.closed=!0;this.Y.removeAttribute("src");this.Y.load();null === u || void 0 === u?void 0:u.Kcb(!this.AY.value);(this.Hi=u) && this.Lb(h.Ja.error,u.J0());this.Lb(h.Ja.closed);return this.t$a.k0(this.ya);};c.prototype.play=function(){var u,x;u=this;x=this.Y.play();this.oVa=!1;x && x.then(function(){u.fqa(h.Ja.pVa);}).catch(function(y){u.Lb(h.Ja.uN);"NotAllowedError" === y.name && (u.log.warn("Playback is blocked by the browser settings",y),u.oVa=!0,u.Fi=!0,u.fqa(h.Ja.x6,{player:{play:function(){return u.play();}}}));});};c.prototype.Lb=function(u,x,y){x=x || ({});x.target=this;this.Wb.ed(u,x,!y);};c.prototype.fqa=function(u,x){this.Y_a.has(u) || (this.Y_a.add(u),this.Lb(u,x,void 0));};c.prototype.pause=function(){this.Y.pause();};c.prototype.seek=function(u){this.Y.currentTime=u / 1E3;};c.prototype.b4a=function(u){this.close(this.hi(l.T.fGa,l.O.zn,u));};c.prototype.xp=function(){return this.ya.playbackRate.value;};c.prototype.Jcb=function(u){this.ya.playbackRate.set(u);};c.prototype.E0a=function(){var u;u=this;return this.ya.aj.map(function(x){return u.Qq(x);});};c.prototype.gsa=function(u){var x;x=this;return this.CX(u).map(function(y){return x.Qq(y);});};c.prototype.D0a=function(){var u;u=this.ya.Ac.value;return u && this.Qq(u);};c.prototype.fsa=function(){var u;u=this.ya.tc.value;return u && this.Qq(u);};c.prototype.ucb=function(u){if((u=this.UW(u)) && u.Ki)return (this.ya.Ac.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.bAa=function(u){var x,y;x=this;y=this.ya.oi.find(function(z){return x.Qq(z) === u;});if(y && y.Ki)return (this.ya.tc.set(y),this.ya.$i.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.T1a=function(){var u;return this.vX(this.ya.aj,null === (u=this.ya.ia) || void 0 === u?void 0:u.Ib.q7a);};c.prototype.vra=function(u){var x;return this.vX(this.CX(u),null === (x=this.ya.ia) || void 0 === x?void 0:x.Ib.r7a);};c.prototype.Qq=function(u){var x;x=u.jya=u.jya || ({trackId:u.trackId,bcp47:u.Af,displayName:u.displayName,trackType:u.ri,rawTrackType:u.TE,channels:u.channels});this.Qta(u) && (x.isNative=u.isNative,x.surroundFormatLabel=u.t0);this.Rta(u) && (x.isNoneTrack=u.Vq(),x.isForcedNarrative=u.Cp(),x.isImageBased=u.ol);x.subType=u.EK;x.variant=u.variant;return x;};c.prototype.Qta=function(u){return "undefined" !== typeof u.isNative;};c.prototype.Rta=function(u){return "undefined" !== typeof u.Vq && "undefined" !== typeof u.Cp;};c.prototype.UW=function(u){var x;x=this;return u && this.ya.aj.find(function(y){return x.Qq(y) === u;});};c.prototype.CX=function(u){var x;u=this.UW(u) || this.ya.Ac.value;return null !== (x=null === u || void 0 === u?void 0:u.oi) && void 0 !== x?x:[];};c.prototype.vX=function(u,x){var y;y=u.length - 1;if("number" !== typeof x)return y;u=u.findIndex(function(z){return z.bc > x;});return -1 === u?y:u - 1;};c.prototype.Uda=function(u){this.ya.fb=(0,w.Aaa)(this.ya.fb,u);};c.prototype.Bk=function(u){if(u !== this.ya.fa)throw (!1,Error("Unknown segmentId " + u));return this.ya;};c.prototype.l2a=function(){return this.ya.fb;};c.prototype.Cla=function(){!1;};c.prototype.Sx=function(){!1;};c.prototype.vJ=function(){!1;};c.prototype.LX=function(){!1;return Promise.reject();};c.prototype.Wra=function(){return {};};c.prototype.O8=function(){};c.prototype.Z0a=function(){};c.prototype.B0a=function(){return {};};c.prototype.Qza=function(){};c.prototype.VQ=function(){};c.prototype.A4a=function(){return !1;};c.prototype.d1a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.iO=function(){!1;return Promise.resolve({success:!0});};c.prototype.Q2a=function(){!1;};c.prototype.GX=function(){!1;};c.prototype.NQ=function(){!1;};c.prototype.fAa=function(){!1;};c.prototype.g6a=function(){!1;};c.prototype.v0a=function(){!1;return Promise.reject();};c.prototype.p$a=function(){!1;return Promise.reject();};c.prototype.oab=function(){!1;return Promise.reject();};c.prototype.mj=function(){!1;return Promise.reject();};c.prototype.KJ=function(){!1;};b.rQa=c;},function(r,b,a){var c;b=a(155);c=a(1075);a=b(function(k,h,g){return c(function(d,f,m){return k(f,m);},h,g);});r.exports=a;},function(r,b,a){var c,k;b=a(155);c=a(453);k=a(1076);a=b(function m(g,d,f){return k(function(l,n,p){return c(n) && c(p)?m(g,n,p):g(l,n,p);},d,f);});r.exports=a;},function(r,b,a){var c;b=a(155);c=a(268);a=b(function(k,h,g){var d,f;d={};for(f in h){c(f,h) && (d[f]=c(f,g)?k(f,h[f],g[f]):h[f]);}for(f in g){c(f,g) && !c(f,d) && (d[f]=g[f]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(454);c=a(1086);a=a(1096);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,k=a.length,h=[];c < k;){b(a[c]) && (h[h.length]=a[c]);c+=1;}return h;};},function(r,b,a){var c,k;b=a(133);c=a(456);k=a(1081);a=b(function(h){return c(h)?!0:!h || "object" !== typeof h || k(h)?!1:1 === h.nodeType?! !h.length:0 === h.length?!0:0 < h.length?h.hasOwnProperty(0) && h.hasOwnProperty(h.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,k){return this.f(c,k);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(270);b=a(55)(function(k,h){return c(k.length,function(){return k.apply(h,arguments);});});r.exports=b;},function(r,b,a){var c,k;b=a(55);c=a(457);k=(function(){function h(g,d){this.q1=d;this.f=g;}h.prototype["@@transducer/init"]=c.zb;h.prototype["@@transducer/result"]=c.result;h.prototype["@@transducer/step"]=function(g,d){return this.f(d)?this.q1["@@transducer/step"](g,d):g;};return h;})();a=b(function(h,g){return new k(h,g);});r.exports=a;},function(r,b,a){var c,k;c=a(268);k=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === k.call(arguments)?function(h){return "[object Arguments]" === k.call(h);}:function(h){return c("callee",h);};};},function(r,b,a){var c;b=a(133);c=a(1087);a=b(function(k){return c(function(){return Array.prototype.slice.call(arguments,0);},k);});r.exports=a;},function(r,b,a){var c,k,h,g,d;b=a(55);c=a(459);k=a(460);h=a(1089);g=a(1090);d=a(1095);a=b(function(f,m){return k(d(h,0,g("length",m)),function(){var l,n;l=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,l);},m));});});r.exports=a;},function(r,b,a){var k,h;function c(g,d,f){return function(){var q;for(var m=[],l=0,n=g,p=0;p < d.length || l < arguments.length;){if(p < d.length && (!h(d[p]) || l >= arguments.length))q=d[p];else (q=arguments[l],l+=1);m[p]=q;h(q) || --n;p+=1;}return 0 >= n?f.apply(this,m):k(n,c(g,m,f));};}k=a(270);h=a(186);r.exports=c;},function(r,b,a){b=a(55)(function(c,k){return k > c?k:c;});r.exports=b;},function(r,b,a){var c,k;b=a(55);c=a(1091);k=a(1093);a=b(function(h,g){return c(k(h),g);});r.exports=a;},function(r,b,a){var c,k,h,g,d,f;b=a(55);c=a(455);k=a(459);h=a(269);g=a(1092);d=a(460);f=a(458);a=b(c(["fantasy-land/map","map"],g,function(m,l){switch(Object.prototype.toString.call(l)){case "[object Function]":return d(l.length,function(){return m.call(this,l.apply(this,arguments));});case "[object Object]":return h(function(n,p){n[p]=m(l[p]);return n;},{},f(l));default:return k(m,l);}}));r.exports=a;},function(r,b,a){var c,k;b=a(55);c=a(457);k=(function(){function h(g,d){this.q1=d;this.f=g;}h.prototype["@@transducer/init"]=c.zb;h.prototype["@@transducer/result"]=c.result;h.prototype["@@transducer/step"]=function(g,d){return this.q1["@@transducer/step"](g,this.f(d));};return h;})();a=b(function(h,g){return new k(h,g);});r.exports=a;},function(r,b,a){var c;b=a(55);c=a(1094);a=b(function(k,h){return c([k],h);});r.exports=a;},function(r,b,a){b=a(55)(function(c,k){for(var h=0;h < c.length;){if(null == k)return;k=k[c[h]];h+=1;}return k;});r.exports=b;},function(r,b,a){b=a(155);a=a(269);a=b(a);r.exports=a;},function(r,b,a){var c,k;c=a(1097);b=a(55);k=a(454);a=b(function(h,g){return k(c(h),g);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,k;c=a(1099);b=a(155);k=a(1100);a=b(function(h,g,d){return k(h,c(g,d));});r.exports=a;},function(r){r.exports=function(b,a){var c,k,h,g;b=b || [];a=a || [];k=b.length;h=a.length;g=[];for(c=0;c < k;){g[g.length]=b[c];c+=1;}for(c=0;c < h;){g[g.length]=a[c];c+=1;}return g;};},function(r,b,a){var c;c=a(1101);b=a(55)(function(k,h){for(var g=0,d=h.length,f=[],m;g < d;){m=h[g];c(k,m,f) || (f[f.length]=m);g+=1;}return f;});r.exports=b;},function(r){r.exports=function(b,a,c){for(var k=0,h=c.length;k < h;){if(b(a,c[k]))return !0;k+=1;}return !1;};},function(r,b,a){b=a(55)(function(c,k){for(var h=[],g=0,d=k.length;g < d;){for(var f=g + 1;f < d && c(k[f - 1],k[f]);){f+=1;}h.push(k.slice(g,f));g=f;}return h;});r.exports=b;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.E3a=void 0;r=a(0);c=a(465);k=a(1104);h=a(467);g=a(1105);d=a(461);f=a(1130);m=a(475);l=a(1132);n=a(462);p=a(1133);q=a(463);t=a(1134);w=a(478);v=a(273);u=a(1135);x=a(476);y=a(1136);z=a(1137);A=a(464);B=a(1139);b.E3a=new r.zd(function(D){D(c.qHa).to(k.pHa).ba();D(h.uHa).to(g.tHa).ba();D(d.dHa).to(f.cHa).ba();D(m.fHa).to(l.eHa).ba();D(x.uEa).to(y.tEa).ba();D(n.eNa).to(p.dNa).ba();D(q.wia).to(t.lPa);D(w.GS).to(z.FS);D(A.JS).to(B.IS);D(v.jga).to(u.xHa);});},function(r,b,a){var k,h,g,d;function c(f,m){this.cOb=f;this.log=m.kb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;r=a(2);k=a(0);h=a(7);g=a(466);d=a(69);c.prototype.download=function(f){var l,n,p,q,t;function m(w){if(t < n.length - 1)return (!1,t++,l.rZa(n[t].url,p,q).catch(m));throw w;}l=this;n=f.urls;p=f.offset;q=f.length;t=0;return this.rZa(n[t].url,p,q).catch(m);};c.prototype.rZa=function(f,m,l){return this.cOb.download({url:f,withCredentials:!1,responseType:d.ResponseType.kib,ED:"hls_headers",Mt:!0,offset:m,length:l,Bt:d.iha},{u7a:1});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.AHa)),r.__param(1,(0,k.l)(h.yb))],a);b.pHa=a;},function(r,b,a){var k,h,g;function c(d){this.Ca=d.kb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(2);k=a(0);h=a(274);a=a(7);c.prototype.parse=function(d,f,m){d=new h.Vr(this.Ca,{mediaType:d},f,["sidx"]).parse();if(d.Wm && d.X)return this.Y5(d.X,m);};c.prototype.Y5=function(d,f){var m,l,n,p,q;m=0;l=0;n=0;p=d.offset;q=[];d.rd.forEach(function(t,w){l+=t;n+=d.sizes[w];if(1E3 * l / d.V >= f || w === d.rd.length - 1)(q.push({duration:l / d.V,$:m / d.V,byteOffset:p,ayb:n}),m+=l,l=0,p+=n,n=0);});return q;};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.yb))],g);b.tHa=g;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Gc();this.Pb=1 === this.version?this.ij([{creationTime:"int64"},{modificationTime:"int64"},{V:"int32"},{duration:"int64"}]):this.ij([{creationTime:"int32"},{modificationTime:"int32"},{V:"int32"},{duration:"int32"}]);return !0;};h.Vb="mvhd";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.Vb="trak";h.Ta=!0;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){var d;this.Gc();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{bRb:"int16"},{dwb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Pb=this.ij(d);this.Pb.h5b=! !(this.flags & 1);this.Pb.i5b=! !(this.flags & 2);this.Pb.j5b=! !(this.flags & 4);this.Pb.k5b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");if(null === g || void 0 === g?0:g.Zb)(g.Zb.width=this.Pb.width,g.Zb.height=this.Pb.height);return !0;};h.Vb="tkhd";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Gc();this.Pb=this.ij(1 === this.version?[{x8:"int64"}]:[{x8:"int32"}]);return !0;};h.Vb="mehd";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){this.Pb=this.ij([{Psa:"int32"},{hCa:"int32"}]);if(null === g || void 0 === g?0:g.Zb)(g.Zb.XMb=this.Pb.Psa,g.Zb.$6b=this.Pb.hCa);return !0;};h.Vb="pasp";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Pb=this.ij([{Rxb:"int32"},{maxBitrate:"int32"},{Mz:"int32"}]);return !0;};h.Vb="btrt";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.u.am();this.u.am();for(this.HH=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.HH.push(this.u.am());}return !0;};h.Vb="ftyp";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(88);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){this.Gc();this.Pb=this.ij([{WXb:"int32"},{NX:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Pb.NX=k.Ro(this.Pb.NX);return !0;};g.Vb="hdlr";g.Ta=!1;return g;})(a(27).Kc);b.default=r;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(106);h=a(276);g=a(187);r=a(27);d=a(89);a=(function(f){function m(){return null !== f && f.apply(this,arguments) || this;}c.__extends(m,f);m.prototype.parse=function(){this.Gc();this.pA=this.u.xa();return !0;};m.prototype.Pu=function(l){var n,p,q;p=Object.keys(this.Za);if(p.length && (p=p[0],this.Za[p].length)){p=this.Za[p][0];if(p instanceof g.default){q=null !== (n=p.yr) && void 0 !== n?n:p.samplerate;this.za=new h.R(p.$n,q);}else p instanceof d.default && (n=p.Za[k.cG]) && n.length && (n=n[0].Pb,1E3 !== n.Eq && 1001 !== n.Eq || 0 !== n.yv % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.yv + "/" + n.Eq):this.za=new h.R(n.Eq,n.yv));l && this.za && (l.za=this.za);}return !0;};m.prototype.u_=function(l){void 0 !== this.Za[l] && 0 !== this.Za[l].length && (this.oa.th(this.pA - 1,this.byteOffset + 12),l=this.Za[l][0],this.Re(l.byteLength,l.byteOffset));};m.Vb="stsd";m.Ta=!0;return m;})(r.Kc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){this.Eqa=this.u.Fc(2);this.Ema=this.u.Fc(5);this.Fma=this.u.Fc(3);this.nla=this.u.Fc(3);this.u.Fc(1);this.u.Fc(5);this.u.Fc(5);return !0;};h.Vb="dac3";return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){var d;this.Awa=this.u.yc() & 7;this.ZAa=[];for(var g=0;g < this.Awa;g++){d={Eqa:this.u.Fc(2),Ema:this.u.Fc(5),Fma:this.u.Fc(5),nla:this.u.Fc(3),eRb:this.u.Fc(1),zwa:this.u.Fc(4)};0 < d.zwa?d.Wyb=this.u.Fc(9):this.u.Fc(1);this.ZAa.push(d);}return !0;};h.Vb="dec3";return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){this.Gc();this.hK=this.u.am();k.Z && this.u.console.trace("SchemeTypeBoxTranslator: " + this.hK);if("cenc" === this.hK){if((this.u.offset-=4,k.Z && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.oa.n1("piff"),null === d || void 0 === d?0:d.Zb))d.Zb.encryptionScheme="piff";}else if(null === d || void 0 === d?0:d.Zb)d.Zb.encryptionScheme=this.hK;this.u.xa();return !0;};g.Vb="schm";g.Ta=!1;return g;})(k.Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(g){var d;this.u.Xa();this.Lea=this.u.Xa();this.u.Xa();this.u.Xa();this.u.Xa();this.TB=this.VG(this.u.Xa() & 31);this.QZ=this.VG(this.u.Xa());this.jr=this.TB.length?this.TB[0][0]:this.Lea;this.rU=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.jr || 110 === this.jr || 122 === this.jr || 144 === this.jr) && (this.u.Xa(),this.u.Xa(),this.VG(this.u.Xa()));d=this.startOffset + this.length - this.rU;0 < d && this.Re(d,this.rU);if(null === g || void 0 === g?0:g.config)(g.config.TB=this.TB,g.config.QZ=this.QZ,g.config.jr=this.jr);return !0;};h.prototype.VG=function(g){var m;for(var d=[],f=0;f < g;++f){m=this.u.yc();d.push(this.u.AB(m));}return d;};h.Vb="avcC";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.Pu=function(){var g;g=this.Tl("esds");if(g=g && g.jS.Tl(5))(this.$n=g.$n,this.yr=g.yr);return !0;};h.Vb="mp4a";h.Ta=!0;return h;})(a(187).default);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(278);r=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(d){this.Gc();this.jS=k.kS.j_(this.u,d);this.u.console.trace("-------------- ESDBox start ---------------");this.u.console.trace(this.jS);this.u.console.trace("-------------- ESDBox end ---------------");return !0;};g.Vb="esds";g.Ta=!1;return g;})(a(27).Kc);b.default=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(106);a=a(27);k=r.cG;a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){this.Gc();this.Pb=this.ij([{yv:"int32"},{Eq:"int16"}]);return !0;};g.Vb=k;g.Ta=!1;return g;})(a.Kc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(k){function h(){return null !== k && k.apply(this,arguments) || this;}c.__extends(h,k);h.prototype.parse=function(){var g,d,f,m,l;this.Gc();g=this.ij([{dw:"int32"},{kW:"int32"},{Sn:"int32"},{Un:"int32"},{Tn:"int32"}]);d=g.dw;f=g.kW;m=g.Sn;l=g.Tn;g=g.Un;this.Pb={trackId:d,pEb:f,gA:m,qEb:l,rEb:g};this.dw=d;this.kW=f;this.Sn=m;this.Un=g;this.Tn=l;return !0;};h.Vb="trex";h.Ta=!1;return h;})(a(27).Kc);b.default=r;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(1124);h=a(282);g=a(156);d=a(276);f=a(27);r=a(470);m=a(471);l=a(473);n=a(157);p=a(275);q=a(106);t=a(474);a=(function(){function w(v,u,x,y,z,A){this.console=v;this.stream=u;this.ki=y;this.Hla=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.k3a=n.dra();}w.path=function(v,u){return u.reduce(function(x,y){return x && x.Za[y] && x.Za[y][0];},v);};w.wra=function(v){return v && v.HH && -1 !== v.HH.indexOf("mcl0")?"mcl0":void 0;};w.$pa=function(v,u){var x,y;g.assert("mcl0" === v,"Unsupported McClearen brand");x=u.X;v=x.rd;u=new d.R(120,1).df(x.V).mc;y=0;for(x=x.Bl;y < v.length && x < u;){x+=v[y++];}return y;};w.prototype.parse=function(v){var u;u=this.rza();if(!u.done){if(u.fZ)return {Wm:!1,qUa:u.fZ};this.console.error("Scan error: " + u.error);return {Wm:!1,parseError:u.error || "unknown mp4 scan error"};}this.view=new DataView(this.view.buffer,this.view.byteOffset,u.offset);v=this.dxa(v);return v.done?this.$na():(this.console.error("Parse error: " + v.error),{Wm:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.Zn=function(v){return f.Kc.Zn(this,v);};w.prototype.Tl=function(v){return f.Kc.Tl(this,v);};w.prototype.rza=function(){var v,u;v=new t.pga(this.ki,this.Hla?[q.Uy,q.Ty]:[],this.config && this.config.z4b || ["moof",q.SS],this.config && this.config.EZ);u=c.__assign(c.__assign({},this.config),{CJ:!1});return new l.DF(w.gK,v,this.view,this.console,u).parse();};w.prototype.dxa=function(v){var u,x,y;u=new t.fS(this.view.byteLength);x=Object.create(p.Zq.Za);this.config && ((this.config.Aba || this.config.Lda || this.config.dF) && k(p.Zq.cK,x),this.config.Mda && k(p.Zq.xBa,x),this.config.Lda && k(p.Zq.M0,x));y=c.__assign(c.__assign({},this.config),{CJ:!0});this.Dc=new l.DF(x,u,this.view,this.console,y);v=this.Dc.parse(v);v.done && (this.Za=this.Dc.Za);return v;};w.prototype.$na=function(){var v,u,x,y,z,A,B,D;v={Wm:!0};u=w.path(this,["moov"]);x=w.path(u,["trak","mdia","minf","stbl","stsd"]);if(this.config.Aba)if(x)(v.za=x.za,v.y0b=x.Za);else return {Wm:!1,parseError:"Missing sample descriptions"};y=w.path(x,["encv","sinf","schi"]);y && (y=w.path(y,["tenc"]) || w.path(y,[q.YS])) && (v.b_a={DAb:y.Ek,WI:y.WI,CQb:!1});if(y=w.path(u,["trak","mdia","mdhd"]))v.V=y.V;if(y=w.path(u,["mvex","trex"]))v.gA=y && y.Pb.gA;v.gA && v.V && (v.za=new d.R(v.gA,v.V));if(y=w.path(this,["sidx"])){z=w.path(this,[q.Uy]);z=z && z.Ava;A=w.path(this,[q.Ty]);A=A && A.Ei;v.X=y.X;v.oJ=z;v.Ei=A;}if(z=this.Za.vmaf && this.Za.vmaf[0])v.Si=z.Si;if(this.config.sca){B=w.path(u,["trak"]);z=w.path(u,["mvex"]);if(B && z && B.byteOffset > z.byteOffset){A=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength);D=A.slice(z.byteOffset,z.byteOffset + z.byteLength);B=A.subarray(z.byteOffset + z.byteLength,B.byteOffset + B.byteLength);A.set(B,z.byteOffset);A.set(D,z.byteOffset + B.byteLength);}}if(this.config.Ibb)if(u)(this.trim(u.byteOffset + u.byteLength),this.config.dF && x && 1 < x.pA && y && (v.kh=this.dF(x,y)),void 0 === v.kh && (u=this.Dc.lA?h.concat(this.Dc.Ba()):this.view.buffer,v.kh=[{Vd:0,data:u}]));else return {Wm:!1,parseError:"Missing movie box"};v.Wm=!0;v.FZ=this.Dc.offset;return v;};w.prototype.trim=function(v){var u;u=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.Dc.trim(v);this.view=new DataView(u);};w.prototype.dF=function(v,u){var x,y,z;x=Object.keys(v.Za);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=w.path(this,["ftyp"]);z=w.wra(x);if(z)return (x=[],this.Dc.lya(),v.u_("encv"),x.push({Vd:0,yk:!1,data:h.concat(this.Dc.Ba())}),this.Dc.Oxa(),v.u_(y[0]),v=w.$pa(z,u),x.push({Vd:v,yk:!0,data:h.concat(this.Dc.Ba())}),x);}};w.gK={};return w;})();b.Vr=a;a.gK[q.dG]=r.default;a.gK[q.eG]=m.default;},function(r){r.exports=function k(a,c){var h;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(g){h=Object.getOwnPropertyDescriptor(a,g);void 0 !== h && Object.defineProperty(c,g,h);});};},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(156);h=a(282);g=a(88);r=a(1126);d=(function(){function f(m){m?(this.Yf=m.Yf.slice(),this.uh=m.uh.slice(),this.Xd=m.Xd.slice(),this.trim=m.trim):(this.Yf=[],this.uh=[],this.Xd=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Yf.length && 0 === this.uh.length && 0 === this.Xd.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function m(l,n,p){l=f.call(this,l,n,p) || this;l.DW=[];l.tb=new d();return l;}c.__extends(m,f);m.$la=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.Xv?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.Xv?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:k.assert(!n.Xv);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(m.prototype,{lA:{get:function(){return !this.tb.empty;},enumerable:!0,configurable:!0}});m.prototype.gC=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};m.prototype.wCa=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:2,Xv:!1});void 0 === n && (this.offset+=2);};m.prototype.th=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:4,Xv:!1});void 0 === n && (this.offset+=4);};m.prototype.xCa=function(l,n){this.tb.uh.push({offset:void 0 !== n?n:this.offset,value:l,size:8,Xv:!1});void 0 === n && (this.offset+=8);};m.prototype.n1=function(l){this.th(g.IT(l));};m.prototype.dL=function(l,n){this.tb.Xd.push({offset:this.offset,Nl:l,value:n});this.offset+=4;};m.prototype.Re=function(l,n,p){this.tb.Yf.push({offset:n,remove:l,gb:p});};m.prototype.Pv=function(l,n,p,q){this.tb.Yf.push({offset:p,remove:l,replace:n,gb:q});};m.prototype.trim=function(l){this.tb.trim=l;};m.prototype.lya=function(){this.DW.push(new d(this.tb));};m.prototype.Oxa=function(){this.tb=this.DW.pop() || new d();};m.prototype.Ba=function(){var l,n,p,q,t,w,v;l=this;if(0 === this.tb.Yf.length && 0 === this.tb.uh.length && 0 === this.tb.Xd.length)return [void 0 === this.tb.trim?this.view.buffer:this.view.buffer.slice(0,this.tb.trim)];this.tb.Yf.sort(function(u,x){return u.offset - x.offset;});this.tb.uh.sort(function(u,x){return u.offset - x.offset;});this.fza();n=this.Xpa();p=this.view.buffer.slice(0,n);q=new DataView(p);this.tb.uh.forEach(m.$la.bind(void 0,q));this.QBa(q);this.OBa(q);t=[];w=void 0 !== this.tb.trim?Math.min(this.tb.trim,this.view.byteLength):this.view.byteLength;v=0;this.tb.Yf.filter(function(u){return u.offset <= w;}).forEach(function(u){u.offset > v && (t.push(q.buffer.slice(v,u.offset)),u.offset > q.byteLength && q !== l.view && (q=l.view,t.push(q.buffer.slice(n,u.offset))));u.replace && t.push(u.replace);v=u.offset + u.remove;});v < n && t.push(p.slice(v));v < w && t.push(this.view.buffer.slice(Math.max(p.byteLength,v),w));return t;};m.prototype.Xpa=function(){var l,n,p;l=[];n=this.tb.uh[this.tb.uh.length - 1];p=this.tb.Xd[this.tb.Xd.length - 1];n && l.push(n.offset + n.size);p && l.push(p.offset + 4);this.tb.Yf.filter(function(q){return q.gb;}).forEach(function(q){return l.push(q.gb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.tb.trim?Math.min(n,this.tb.trim):n;};m.prototype.fza=function(){this.tb.Yf=this.tb.Yf.reduce(function(l,n){var p,q;if(0 === l.length)return (l.push(n),l);p=l[l.length - 1];q=p.offset + p.remove;n.offset >= q?l.push(n):n.offset + n.remove > q && (k.assert(p.gb === n.gb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?h.concat(p.replace,n.replace):n.replace));return l;},[]);};m.prototype.QBa=function(l){var n;n=this;this.tb.Xd.forEach(function(p){var q,t,w,v;q=l;t=p.offset;n.tb.Yf.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),t=p.offset - u.offset,!0):!1;});w=p.Nl + (void 0 !== p.value?p.value:q.getInt32(t));v=n.tb.Yf.reduce(function(u,x){return x.offset > p.Nl && x.offset < w?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);q.setInt32(t,w - p.Nl - v);});};m.prototype.OBa=function(l){this.tb.Yf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.gb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.Mia);b.Lia=r;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(157);a(157);k=a(88);r=(function(){function h(g,d,f){this.view=g;this.console=d;this.config=f;this.view=g;this.console=d;this.lo=this.Oz=this.offset=0;}h.prototype.ara=function(g){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,g);};h.prototype.Fc=function(g){for(;this.lo < g;){this.Oz=(this.Oz << 8) + this.Xa();this.lo+=8;}this.lo-=g;return this.Oz >>> this.lo & (1 << g) - 1;};h.prototype.Xa=function(){var g;g=this.view.getUint8(this.offset);this.offset+=1;return g;};h.prototype.yc=function(g){g=this.view.getUint16(this.offset,g);this.offset+=2;return g;};h.prototype.xa=function(g){g=this.view.getUint32(this.offset,g);this.offset+=4;return g;};h.prototype.DB=function(){var g;g=this.view.getInt32(this.offset,void 0);this.offset+=4;return g;};h.prototype.nxa=function(g,d){var f;f=this.view.getUint32(this.offset + (g?4:0),g);g=this.view.getUint32(this.offset + (g?0:4),g);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + g;};h.prototype.Yd=function(g,d){g=this.nxa(g,d);this.offset+=8;return g;};h.prototype.oxa=function(g,d){var f;f=this.view.getInt32(this.offset + (g?4:0),g);g=this.view.getUint32(this.offset + (g?0:4),g);d || 0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + g;};h.prototype.wya=function(){var g;g=this.oxa(void 0,void 0);this.offset+=8;return g;};h.prototype.am=function(){return k.Ro(this.xa());};h.prototype.EB=function(){var d,f,m,l,n,p;function g(q,t){return ("000000" + q.toString(16)).slice(2 * -t);}d=this.xa(!0);f=this.yc(!0);m=this.yc(!0);l=this.yc();n=this.yc();p=this.xa();return [g(d,4),g(f,2),g(m,2),g(l,2),g(n,2) + g(p,4)].join("-");};h.prototype.CB=function(g){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + g);this.offset+=g;return d;};h.prototype.sya=function(g){var d;d=[];if(0 === g)return "";g=g || Number.MAX_SAFE_INTEGER;for(var f=this.Xa();0 !== f && 0 <= --g;){d.push(f);f=this.Xa();}return String.fromCharCode.apply(null,d);};h.prototype.AB=function(g){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.ji(this.config.dC && c.nsa || c.Rq,1,g,d,f);};h.prototype.qya=function(g,d,f){var m;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === m && (m=!1);return this.ji(this.config.dC && c.lsa || c.DA,2,g,d,f,m);};h.prototype.zB=function(g,d,f){var m;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === m && (m=!1);return this.ji(this.config.dC && c.msa || c.$u,4,g,d,f,m);};h.prototype.uya=function(){for(var g=this.Xa(),d=g & 127;g & 128;){g=this.Xa();d=d << 7 | g & 127;}return d;};h.prototype.ji=function(g,d,f,m,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);g=g(this.view,this.offset,f,m,n);this.offset=l || !m || m === d?this.offset + f * (m || d):this.offset + d;return g;};return h;})();b.Mia=r;},function(r,b,a){var h,g,d,f;function c(m,l,n,p){g.call(this,m,l,n,p);}function k(m,l,n){g.call(this,m,l,n,void 0);}h=a(106);g=a(283).Tr;d=a(472);f=a(88).IT;c.prototype=Object.create(g.prototype);k.prototype=Object.create(c.prototype);k.prototype.Rja=function(m,l){return "string" === typeof l?d[l]:l?d.reset[m] || d.AAa[m]:d.AAa[m];};k.prototype.Kya=function(m,l,n){return this.Ba(m,l,!1,n,void 0);};k.prototype.Oya=function(m,l,n){return this.Ba(m,l,!0,n,void 0);};k.prototype.Ba=function(m,l,n,p,q){var w,v,u,x,y,z,A,B,D,C,F,G,E,I;function t(N){v=w[N];u=v.si("traf");if(void 0 === u || void 0 === u.Wh)return !1;A=u.si("tfdt");if(void 0 === A)return !1;x=u.si("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;w=this.Za.moof;if(!w || 0 === w.length)return !1;if(void 0 !== m){y=m;for(m=0;m < w.length;++m){if(!t(m,this.Dc.console.trace))return !1;if(x.ub > y || n && x.ub === y)break;y-=x.ub;}}else if((m=n?w.length - 1:0,!t(m,this.Dc.console.trace)))return !1;if(n && m < w.length - 1){z=w[m + 1];this.Dc.Re(this.IDb - z.startOffset,z.startOffset);}else !n && 0 < m && this.Dc.Re(v.startOffset,0);z=u.si("tfhd");if(void 0 === z)return !1;A=u.si("tfdt");B=x.ub;D=u.si("saiz");C=u.si("saio");F=u.si(h.XS);G=u.si("sbgp");if(!(!D && !C || D && C))return !1;E=u.si("sdtp");if(this.Za.mdat && m < this.Za.mdat.length)I=this.Za.mdat[m];else if(m !== w.length - 1)return !1;void 0 === y && (y=n?x.ub:0);if(x.Ba(u,z,I || this.Dc,l,y,u.Wh,n))x.lA && (!n && A && A.Ba(x.xAa),D && C && (D.Ba(x.Dr,n),C.Ba(F?0:D.bK,u.Wh,n)),F && F.Ba(x.Dr,n),E && E.Ba(x.Dr,B,n),G && G.Ba(x.Dr,n));else if(!n){if(m === w.length - 1)return !1;this.Dc.Re(w[m + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Dr)return !1;p && (l=this.Rja(this.stream.profile,q)) && x.Sya(u,z,I,n,p,l);n=this.Dc.Ba();p=n.reduce(function(N,L){return N + L.byteLength;},0);n={pa:n,length:p,uo:this.Dc.view.byteLength};x.lA && !I && (n.pr=u.Wh + x.pr,n.jj=x.jj);return n;};r.exports={Ur:k,cB:function(m){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,m + 8);n.setUint32(4,f("mdat"));return l;}};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(283);k=a(282);a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.Ba=function(d){var f,m,l,n;f=this;if(!this.parse().done)return !1;m=this.Za.moov;if(!m || 0 === m.length)return !1;l=m[0].Tl("tenc");if(!l)return !1;n=new Uint8Array(l.Ek);d.forEach(function(p){for(var q=p.from,t=!0,w=0;w < q.length;w++){if(n[w] !== q[w]){t=!1;break;}}t && f.Dc.Pv(p.from.length,p.to,l.WI);});return k.concat(this.Dc.Ba());};return g;})(r.Tr);b.xL=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.dk || (b.dk={});r[r.cc=0]="AUDIO";r[r.Nb=1]="VIDEO";},function(r,b,a){var d,f,m,l,n,p,q,t,w,v,u,x;function c(y,z,A){this.hW=z;this.Nc=y.filter(function(B){return B.EBa[q.mm.g4];}).map(function(B){return {track:B,stream:B.EBa[q.mm.g4],id:B.vZa[q.mm.g4]};});A || (this.Nc=this.Nc.filter(function(B){return B.track.yg === z;}));}function k(y,z,A){var B;this.IK=z;this.wv=A;B=y[0];this.TK=B.streams.map(function(D){return {track:B,VO:D.Cdb,stream:D};});}function h(y,z,A,B,D){function C(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.IK=A;this.hW=B;this.TK=z.map(function(F){var G;G=F.streams.reduce(C);return {track:F,VO:G.UB?G.UB.offset + G.UB.size:void 0,stream:G};});D || (this.TK=this.TK.filter(function(F){return F.track.yg === B;}));}function g(y,z,A,B,D,C){this.HNb=y;this.INb=z;this.LXb=A;this.Pyb=B;this.HI=D;this.Vf=C;this.Ca=C.kb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Sob=b.cpb=b.Rhb=b.cHa=void 0;r=a(2);d=a(0);f=a(274);m=a(465);l=a(467);n=a(3);p=a(38);q=a(43);t=a(475);w=a(476);v=a(273);u=a(7);x=a(1131);g.prototype.zj=function(y,z){var A,B,D,C,F,G;A=this;C=y.Ib;y=this.qJb(C,z);F=this.MMb(C,z);G=null !== (D=null === (B=C.n_) || void 0 === B?void 0:B.hR) && void 0 !== D?D:C.F0.find(function(E){var I;return E.id === (null === (I=C.u7) || void 0 === I?void 0:I[0].ieb);}).yg;B=new c(C.F0,G,this.HI.Pla);return Promise.all([y,F,B]).then(function(E){var I,N;I=pa(E);E=I.next().value;N=I.next().value;I=I.next().value;E={audio:E.getMetadata(),video:N.getMetadata(),text:I.getMetadata(),JYa:E.bra(),tEb:I.bra(),duration:C.duration,Al:C.Al};N=A.Pyb.NJb(E);z("h_s");return {tSb:A.LXb.transform(E,N),Syb:N,z3b:E};});};g.prototype.MMb=function(y,z){var A;A=new k(y.wy,this.HI.F3a,this.HI.wv);return this.pZa(A.TK,f.dk.Nb,z).then(function(B){A.Uza(B);return A;});};g.prototype.qJb=function(y,z){var A,B,D,C;D=null !== (B=null === (A=y.n_) || void 0 === A?void 0:A.Mn) && void 0 !== B?B:y.tu.find(function(F){var G;return F.id === (null === (G=y.u7) || void 0 === G?void 0:G[0].Mn);}).yg;C=new h(this.Ca,y.tu,this.HI.Qx,D,this.HI.Pla);return this.pZa(C.TK,f.dk.cc,z).then(function(F){C.Uza(F);return C;});};g.prototype.fxa=function(y,z,A,B){if(y=this.INb.parse(z,y,A))return y;this.Ca.error("Failed to parse headers",{type:z === f.dk.cc?"audio":"video",downloadableId:B.stream.op});};g.prototype.pZa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(D,C){if(D.VO)return B.HNb.download({urls:D.stream.urls,offset:0,length:D.VO}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.fxa(F,z,z == f.dk.cc?B.HI.Qx:B.HI.jB,D);}).catch(function(){A("h_" + D.track.ri[0] + "_" + C + "_f");B.Ca.warn("Failed to download and parse headers for " + D.stream.op);});B.Ca.warn("Stream data offset is missing",{downloadableId:D.stream.op});}));};a=g;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(m.qHa)),r.__param(1,(0,d.l)(l.uHa)),r.__param(2,(0,d.l)(t.fHa)),r.__param(3,(0,d.l)(w.uEa)),r.__param(4,(0,d.l)(v.jga)),r.__param(5,(0,d.l)(u.yb))],a);b.cHa=a;h.prototype.Uza=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.od.$gb(n.T.$Ha,n.O.Uga);this.Nc=this.TK.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,X:B,IK:z.IK};}).filter(x.Tta);};h.prototype.getMetadata=function(){return this.Nc;};h.prototype.bra=function(){var y,z;y=this;if(!this.Nc.find(function(A){return A.track.yg === y.hW;}) && 0 < this.Nc.length){z=this.Nc[0].track.yg;this.log.warn("Did not find metadata for audio track " + this.hW + ", falling back to " + z);return z;}return this.hW;};b.Rhb=h;k.prototype.Uza=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.od.$gb(n.T.$Ha,n.O.Vga);A=this.TK.map(function(B,D){if(D=y[D])return {track:B.track,stream:B.stream,X:D,IK:z.IK};}).filter(x.Tta);this.Nc=this.zLb(A);};k.prototype.getMetadata=function(){return this.Nc;};k.prototype.zLb=function(y){var z,A,B;z=this;y.sort(function(D){return D.stream.bitrate;});A=y.findIndex(function(D){var C;return (null !== (C=D.stream.$a) && void 0 !== C?C:0) >= z.wv;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.cpb=k;c.prototype.bra=function(){return this.hW;};c.prototype.getMetadata=function(){return this.Nc;};b.Sob=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tta=void 0;b.Tta=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var k,h,g,d,f,m;function c(l){this.Ca=l.kb("HLSPlaylistTransformerImpl");this.s7b=d.g2.As();this.Xwb=f.Hfa.As();}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(2);k=a(0);h=a(7);g=a(134);d=a(284);f=a(477);m=[0,1];c.prototype.transform=function(l,n){var p,q,t,w,v,u,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];t=l.text;w=l.audio;v=l.video;u=l.duration;x=l.JYa;y=l.tEb;t.forEach(function(A){m.forEach(function(B){var D,C,F,G;D=0 === B;C=A.stream;F=A.track;G=n.get(A.id);D=D?G.hQ:G.Nca;C=p.zMb({url:D.url,duration:u / 1E3,size:C.size,Fm:"Manifest for subtitles " + F.language + ' stream "' + F.pE + '", ' + F.yg + ", cdn " + D.jp});p.Ca.trace("Text variant manifest",C.join("\n"));B=p.AMb({groupId:B,name:F.pE,Ata:F.yg === y,Cp:F.t$,qPb:F.ri === g.cq.Aea,language:F.language,uri:p.eaa(C)});q.push(B);});});w.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,I;D=0 === B;C=A.stream;F=A.track;G=A.X;E=A.IK;I=n.get(C.op);D=D?I.hQ:I.Nca;C=p.X1a({url:D.url,VO:C.UB.offset + C.UB.size,X:G,zeb:Math.floor(E / 1E3),Fm:"Manifest for audio " + F.language + ' stream "' + F.pE + '", ' + F.yg + ", cdn " + D.jp});p.Ca.trace("Audio variant manifest",C.join("\n"));B=p.rJb({groupId:B,language:F.language,name:F.pE,Ata:F.yg === x,uri:p.eaa(C)});q.push(B);});});z=this.Xwb[w[0].track.profile];v.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,I;D=0 === B;C=A.stream;F=A.track;G=A.X;E=A.IK;I=n.get(C.op);I=D?I.hQ:I.Nca;D=0 < t.length;F=p.X1a({url:I.url,VO:C.UB?C.UB.offset + C.UB.size:C.Cdb,X:G,zeb:Math.floor(E / 1E3),Fm:"Manifest for video bitrate " + C.bitrate + ", stream " + F.yg + ", cdn " + I.jp});p.Ca.trace("Video variant manifest",F.join("\n"));B=p.NMb({groupId:B,oV:1E3 * C.bitrate,jxb:1E3 * C.bitrate,UPb:0 <= C.NH.indexOf("-hdr-") || 0 <= C.NH.indexOf("-dv5-"),framerate:(C.r0a / C.q0a).toFixed(3),ur:C.bza + "x" + C.ubb,o7b:p.s7b[C.NH],Twb:z,B4b:D});q.push(B);B=p.eaa(F);q.push("" + B);});});this.Ca.trace("Primary manifest",q.join("\n"));return this.eaa(q);};c.prototype.rJb=function(l){var n;n=l.Ata;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + l.groupId + '"','CHANNELS="2"','LANGUAGE="' + l.language + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + l.uri + '"'].join(", ");};c.prototype.X1a=function(l){var n;n=["#EXTM3U","# " + l.Fm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + l.zeb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l.VO + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];l.X.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.$.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.ayb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.NMb=function(l){var n,p;n=l.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + l.oV,"AVERAGE-BANDWIDTH=" + l.jxb,"VIDEO-RANGE=" + (l.UPb?"PQ":"SDR"),"FRAME-RATE=" + l.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + l.ur,'CODECS="' + l.o7b + "," + l.Twb + '"'];l.B4b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.zMb=function(l){var n;n=l.duration;return ["#EXTM3U","# " + l.Fm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + l.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.AMb=function(l){var n,p,q;n=l.Ata;p=l.language;q=l.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + l.groupId + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (l.Cp?"YES":"NO")];l.qPb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.eaa=function(l){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(l.join("\n"));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb))],a);b.eHa=a;},function(r,b,a){var k,h,g,d,f;function c(m,l){var p;function n(){p.lxa.then(function(q){p.Ca.trace("Unloading PBO Playdata Services");q.close();});d.bf.removeListener(d.fo,n);}p=this;this.b$a=l;this.lxa=l();this.Ca=m.kb("PlayerPlaydataMonitorImpl");d.bf.addListener(d.fo,n);}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(2);k=a(0);h=a(7);g=a(159);d=a(64);f=a(18);c.prototype.Pp=function(m,l){this.lxa.then(function(n){n.Pp(l,!0,function(p){return m.close(p);});n.GAa(l);m.addEventListener(f.Ja.Mxa,function(){m.Wq() && n.hcb(l).catch(function(p){(p=p.cQ) && m.close(p);});});m.addEventListener(f.Ja.fm,function(){n.Sca(l).catch(function(p){(p=p.cQ) && m.close(p);});});m.addEventListener(f.Ja.zm,function(){n.Sca(l).catch(function(p){(p=p.cQ) && m.close(p);});});});};c.prototype.k0=function(m){return this.lxa.then(function(l){l.Pdb();return l.k0(m).catch();});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.bT))],a);b.dNa=a;},function(r,b,a){var k,h,g,d;function c(f){this.Kva={};this.W9={};this.N$=-1;this.XAa=new g.oc(null);this.Txa=new g.oc(null);this.Ca=f.kb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.lPa=void 0;r=a(2);k=a(0);h=a(36);g=a(79);a=a(7);c.prototype.zb=function(f,m,l){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.Kva[q.url]=[p,q.jp];});});this.Foa=m;this.gEb=l;new PerformanceObserver(function(p){n.c6b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.xcb=function(f){var m,l,n;if(this.Foa){l=this.W8(f);if(l !== this.N$){for(this.N$=l;0 <= l && !this.W9[l];){l--;}n=pa(null !== (m=this.W9[l]) && void 0 !== m?m:[this.Foa,this.gEb]);m=n.next().value;n=n.next().value;this.Ca.debug("Setting time to " + f + ", using metadata from fragment " + l + " for " + ((0,h.I7a)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));f=m.X[this.N$];l=f.$;this.Txa.set({stream:m,Cm:{startTime:Math.floor(1E3 * l),endTime:Math.floor(1E3 * (l + f.duration))},jx:n});}}};c.prototype.W8=function(f){var m,l,n,p,q;m=this.Foa.X;f/=1E3;l=0;n=m.length - 1;if(f >= m[n].$)return n;for(;n >= l;){p=l + Math.floor((n - l) / 2);q=m[p];if(f < q.$)n=p - 1;else if(f >= q.$ + q.duration)l=p + 1;else return p;}return m.length - 1;};c.prototype.c6b=function(f){var m;m=this;f.filter(function(l){return "video" === l.initiatorType;}).forEach(function(l){var n,p,q;n=l.name.indexOf("&fi=");if(0 < n){p=l.name.substring(0,n);n=Number(l.name.substring(n + 4));if(m.Kva[p]){q=pa(m.Kva[p]);l=q.next().value;q=q.next().value;p && !Number.isNaN(n) && l && (m.W9[n] && (m.N$=-1),m.W9[n]=[l,q],p=l.X[n].$,!1,m.XAa.set(l,{DH:Math.floor(1E3 * p),jx:q}));}}});};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.yb))],d);b.lPa=d;},function(r,b,a){var k,h,g,d;function c(f){return h.ff.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);a=a(48);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{F$a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Qx:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},jB:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},F3a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},wv:{configurable:!0,enumerable:!0,get:function(){return 80;}},Pla:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Fd,"playsInline")],d.prototype,"F$a",null);r.__decorate([a.config(a.hE,"minAudioMediaRequestDuration")],d.prototype,"Qx",null);r.__decorate([a.config(a.hE,"minVideoMediaRequestDuration")],d.prototype,"jB",null);r.__decorate([a.config(a.hE,"hlsVideoMediaRequestTargetDuration")],d.prototype,"F3a",null);r.__decorate([a.config(a.hE,"minStartingVideoVMAF")],d.prototype,"wv",null);r.__decorate([a.config(a.Fd,"allowMultipleAudioTextTracks")],d.prototype,"Pla",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om))],d);b.xHa=d;},function(r,b,a){var k,h;function c(g){this.Ca=g.kb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tEa=void 0;r=a(2);k=a(0);a=a(7);c.prototype.NJb=function(g){var f,m,l,n,p,q,t;function d(w,v,u){var x,y,z;x=w.map(function(A){return A.jp;});x.sort(function(A,B){return v[A] - v[B];});if(1 === x.length)(!1,l.set(u,{hQ:w[0],Nca:w[0]}));else {y=x.find(function(A){return f.has(A);});y || ((y=x.find(function(A){return !m.has(A);}))?f.add(y):(y=x[0],!1));z=x.find(function(A){return m.has(A) && A !== y;});z || ((z=x.find(function(A){return !f.has(A) && A !== y;}))?m.add(z):(z=x.find(function(A){return A !== y;}),!1));l.set(u,{hQ:w.find(function(A){return A.jp === y;}),Nca:w.find(function(A){return A.jp === z;})});}}f=new Set();m=new Set();l=new Map();n=g.video;p=g.audio;q=g.text;t=g.Al.reduce(function(w,v){w[v.id]=v.bc;return w;},{});n.forEach(function(w){w=w.stream;d(w.urls,t,w.op);});p.forEach(function(w){w=w.stream;d(w.urls,t,w.op);});q.forEach(function(w){var v,u;if(!w.track.kE || w.track.t$){v=w.track;u=w.id;w=Object.entries(w.stream.Gu).map(function(x){var y;y=pa(x);x=y.next().value;y=y.next().value;return {jp:Number(x),url:y};});v=v.tWa.reduce(function(x,y){x[y.id]=y.bc;return x;},{});d(w,v,u);}});return l;};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.yb))],h);b.tEa=h;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t,w){this.Vf=n;this.YA=p;this.jg=q;this.Cc=t;this.Ea=w;}Object.defineProperty(b,"__esModule",{value:!0});b.FS=void 0;r=a(2);k=a(0);h=a(20);g=a(7);d=a(52);f=a(188);m=a(86);l=a(1138);c.prototype.create=function(n){return new l.HS(this.Vf,this.YA,this.jg,this.Ea,this.Cc,n);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yb)),r.__param(1,(0,k.l)(m.Py)),r.__param(2,(0,k.l)(d.un)),r.__param(3,(0,k.l)(f.Kga)),r.__param(4,(0,k.l)(h.vd))],a);b.FS=a;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t,w,v){var u;u=this;this.YA=p;this.jg=q;this.Ea=t;this.Cc=w;this.Nva=this.iE=this.y_=0;this.YI=!1;this.yE=function(){var x;x=u.MZ();x.prstate=u.BA();x.paustate=u.j.hY();x.midplayseq=u.Nva++;u.Cc.YO(x);u.Oc(k.fd.yE,void 0,l.De | l.Zt,x);};this.Fi=function(){u.Oc(k.fd.FVa,void 0,l.De | l.Xp,{});};this.fm=function(x){u.yua=u.getTime();u.zua=x.oldValue;};this.fV=function(x){u.kua=x.oldValue;};this.Cba=function(x){x != u.YI && (u.IAa(u.YI,x),u.YI=x);};this.IAa=function(x,y){var z;z=u.j.ya;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};u.Cc.Tq(x,z.se.value && z.se.value.stream,z.Hf.value && z.Hf.value.stream);u.Oc(k.fd.Ndb,void 0,l.De,x);};this.f0=function(x){u.Oc(k.fd.Adb,void 0,l.De,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.YB=function(x){var y,z,A;y=u.j.ya;z=y.tc.value;if(x.newValue || z && z.Vq() && !z.Cp()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.Af,downloadableId:x.wc,rank:x.bc,isImageBased:x.ol}:{};x=(x=u.zua)?{trackId:x.trackId,bcp47:x.Af,downloadableId:x.wc,rank:x.bc,isImageBased:x.ol}:{};A={switchdelay:(0,h.gg)(u.getTime() - u.yua),track:A,oldtrack:x};u.Cc.Tq(A,y.se.value && y.se.value.stream,y.Hf.value && y.Hf.value.stream);u.Oc(k.fd.Veb,void 0,l.De,A);}};this.Axa=function(x,y){var z;z=u.j.ya;x={waittime:(0,h.gg)(x),abortedevent:"resumeplay",resumeplayreason:y};u.Cc.Tq(x,z.ef.value,z.Ah.value);u.Oc(k.fd.Mba,void 0,l.De | l.Xp,x);};this.zQ=function(x,y,z){x={playdelay:(0,h.gg)(x),reason:z,intrplayseq:u.iE - 1,skipped:y};"repos" === z && (x.prstate=!0 === u.j.Qj.value?"playing":"paused");u.Oc(k.fd.zQ,void 0,l.De | l.Yt,x);};this.mma=function(){var x,y,z,A;y=u.j.ya.Ac.value;z=u.j.ya.Ah.value.wc;y=y?{trackId:y.trackId,bcp47:y.Af,downloadableId:z,rank:y.bc,chan:y.channels}:{};z=u.UA;A=null === (x=u.kua) || void 0 === x?void 0:x.wc;x=z?{trackId:z.trackId,bcp47:z.Af,downloadableId:A,rank:z.bc,chan:z.channels}:{};u.Oc(k.fd.jVa,void 0,l.De,{switchdelay:(0,h.gg)(u.getTime() - u.lua),track:y,oldtrack:x});};this.zm=function(x){u.lua=u.getTime();u.UA=x.oldValue;};this.Bxa=function(){var x,y,z;x=u.j.ya;y={abortedevent:"startplay",trackid:x.Yj,prstate:u.BA(),paustate:u.j.hY()};try{z=(0,g.xI)();z && (y.pdltime=z);(0,h.Gd)(y,x.ud,{prefix:"sm_"});}catch(A){}u.Cc.V9(y,x);u.Cc.ZO(y,!1,x.Bg.value,x);u.Cc.Tq(y,x.ef.value,x.Ah.value);u.MI(y);u.Oc(k.fd.Mba,void 0,l.De | l.Zt | l.Xp,y);};this.DN=function(x,y,z,A){x={moff:(0,h.rp)(z),moffms:(0,h.gg)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.wc,vdlidold:x.wc,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};u.Oc(k.fd.DN,void 0,0,x);};this.sQ=function(x,y,z){x={moffold:(0,h.rp)(x),reposseq:u.y_++,prstate:u.BA(),paustate:u.j.hY()};u.Cc.Tq(x,z && z.stream,y && y.stream);u.Oc(k.fd.sQ,void 0,l.De,x);};this.fF=function(x){var y,z,A,B,D;B=x.ya;D={playdelaysdk:(0,h.gg)(u.j.yV()),applicationPlaydelay:(0,h.gg)(u.j.Yma()),playdelay:(0,h.gg)(u.j.$ma()),trackid:B.Yj,bookmark:(0,h.gg)(B.hx || 0),pbnum:B.index};u.j.Fi && (D.blocked=u.j.Fi);D.initvbitrate=u.j.$X;u.Cc.gta(D);u.Cc.T3a(D);D.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.W7;u.$3a(D,B);D.pdltime=(0,g.xI)();(0,h.Gd)(D,B.ud,{prefix:"sm_"});D.ttTrackFields=null === (z=B.tc.value) || void 0 === z?void 0:z.ph;u.Cc.P3a(D,B.Ac.value,B);u.Cc.ZO(D,!0,B.Bg.value,B);D.packageId=null === (A=B.ia) || void 0 === A?void 0:A.Ib.Ip;u.Cc.YO(D);u.Cc.V9(D,B);u.MI(D);u.Oc(k.fd.fF,x.Hi,l.De | l.Yt | l.Zt | l.JF | l.Xp,D);};this.bI=function(){var x,y,z;x=u.j;y=x.ya;x=x.Hi;z=u.MZ();z.paustate=!u.j.Wq();z.muted=u.j.Kta();z.endreason=x?"error":u.j.Cta()?"ended":"stopped";u.Cc.ZO(z,!1,y.Bg.value,y);u.Cc.YO(z);u.MI(z);u.Oc(k.fd.bI,x,l.De | l.Yt | l.Zt | l.JF | l.Xp,z);};this.Qya=function(x,y,z){var A;A=u.j.ya.Hf;x={moff:(0,h.rp)(z),moffms:(0,h.gg)(z),vdlidold:x.wc,vbitrateold:x.bitrate};u.Cc.Tq(x,y,A.value && A.value.stream);u.Oc(k.fd.cbb,void 0,0,x);};this.BA=function(){var x;x=u.j.Eb.value;return x === f.jb.Rc?"playing":x === f.jb.xh?"paused":x === f.jb.Or?"ended":"waiting";};this.Ca=n.kb("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.HS=void 0;k=a(285);h=a(25);g=a(44);d=a(3);f=a(18);m=a(5);c.prototype.getTime=function(){return this.Ea.Xb().ca(m.la);};c.prototype.Vra=function(){return this.getTime() - this.j.ya.gj.ca(m.la);};c.prototype.$3a=function(n,p){var q;if(p=null === (q=p.Bg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,g.JR)(p.map(function(t){return t.bitrate;})),n.maxresheight=(0,g.JR)(p.map(function(t){return t.height;})));};c.prototype.MI=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.MZ=function(){var n,p,q,t;n=this.j.ya;p=n.$l;q={totaltime:(0,h.rp)(p.Ax()),totalcontenttime:(0,h.rp)(p.HX()),reposcount:this.y_,intrplaycount:this.iE};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});t=n.ef.value;t && (q.videofr=t.framerate.toFixed(3));(t=p.Oqa()) && (q.abrdel=t);(t=p.J9() && p.H0a()) && (q.tw_vmaf=t);(p=p.F0a()) && (0,h.Gd)(q,p);q.rbfrs=this.iE;this.$3a(q,n);return q;};c.prototype.Oc=function(n,p,q,t){var w,v,u;w=this;p && (0,d.Sfa)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.wa,this.Vra(),void 0) && (v="info");u=this.j.ya;this.sla(t,p,q);p=v || (p?"error":"info");t=this.YA.Bu(n,p,t,u);this.jg.Oc(t);"error" !== p && n !== k.fd.bI || this.jg.flush(!1).catch(function(){w.Ca.debug("Failed to flush the logblobs");});};c.prototype.sla=function(n,p,q){var t;t=this.j.ya;this.Cc.S3a(n,t);q & l.De && this.Cc.W3a(n,t);q & l.Yt && this.Cc.Y3a(n,t);q & l.Zt && this.Cc.Z3a(n,this.j.co());p && q & l.JF && this.Cc.U3a(n,t,p);q & l.Xp && this.Cc.gta(n);};b.HS=c;(function(n){n[n.De=1]="MOFF";n[n.Yt=2]="PRESENTEDSTREAMS";n[n.Zt=4]="SCREEN";n[n.JF=8]="FATALERROR";n[n.Xp=16]="BROWSERINFO";})(l || (l={}));},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t,w){this.jg=n;this.config=p;this.Da=q;this.Ea=t;this.Wua=w;}Object.defineProperty(b,"__esModule",{value:!0});b.IS=void 0;r=a(2);k=a(0);h=a(20);g=a(35);d=a(11);f=a(52);m=a(478);l=a(1140);c.prototype.create=function(n){return new l.KS(n,this.jg,this.config,this.Ea,this.Wua.create(n));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.un)),r.__param(1,(0,k.l)(d.Wc)),r.__param(2,(0,k.l)(g.wi)),r.__param(3,(0,k.l)(h.vd)),r.__param(4,(0,k.l)(m.GS))],a);b.IS=a;},function(r,b,a){var k,h,g;function c(d,f,m,l,n){var p;p=this;this.j=d;this.jg=f;this.config=m;this.Ea=l;this.Cb=n;this.FV=function(){p.fh();p.j.ya.$i.removeListener(p.YB);p.j.ya.tc.removeListener(p.Cb.fm);p.j.ya.Ac.removeListener(p.zm);p.j.ya.Ah.removeListener(p.Cb.fV);p.j.Qj.removeListener(p.E$a);p.j.tQ.removeListener(p.Lk);p.j.ya.se.removeListener(p.XZ);p.j.Eb.removeListener(p.kx);p.j.Eb.removeListener(p.BN);p.j.ya.ef.removeListener(p.h1);p.j.ya.playbackRate.removeListener(p.Cb.f0);p.j.removeEventListener(g.Ja.closed,p.FV);p.j.removeEventListener(g.Ja.x6,p.Cb.Fi);};this.BN=function(){p.j.Eb.value === g.jb.Rc && (p.j.Eb.removeListener(p.BN),p.Av());};this.YB=function(q){p.tB && p.Cb.YB(q);};this.Lk=function(q){p.tB && void 0 !== q.newValue && (p.vt && p.Wp && p.Cb.Axa(p.getTime() - p.Wp,p.vt),p.vt="repos",p.Cb.sQ(q.newValue,p.j.ya.Hf.value,p.j.ya.se.value),p.Wp=p.getTime(),(0,h.fg)(p.kx));};this.E$a=function(q){p.tB && p.Cb.Cba(!q.newValue);};this.zm=function(q){q.oldValue && (p.UA=q.oldValue,p.Cb.zm(q),p.vt="repos",p.Wp=p.getTime(),(0,h.fg)(p.kx));};this.kx=function(){var q;if(p.Wp && p.j.Eb.value !== g.jb.cg){q=p.getTime() - p.Wp;p.Cb.zQ(q,!1,p.vt);p.UA && p.UA != p.j.ya.Ac.value && p.Cb.mma();p.Wp=void 0;p.vt=void 0;}};this.Av=function(){p.tB || (p.tB=!0,p.Cb.fF(p.j),p.qta(),p.config().c$ && (p.PA=nb.setTimeout(function(){p.jg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.PA=void 0;},p.config().c$)));};this.fh=function(){p.PA && (nb.clearTimeout(p.PA),p.PA=void 0);p.T0 && p.T0();p.tB?p.Cb.bI():p.j.Hi?p.Cb.fF(p.j):p.Cb.Bxa();};this.h1=function(q){q.oldValue && q.Jm && q.Jm.DH && p.Cb.DN(q.oldValue,q.newValue,q.Jm.DH,q.Jm.oV);};this.XZ=function(q){var t;if(q.newValue){t=q.newValue.stream;p.ZI != t && (p.ZI && t && p.Cb.Qya(p.ZI,t,q.newValue.Cm.startTime),p.ZI=t);}};this.ida();}Object.defineProperty(b,"__esModule",{value:!0});b.KS=void 0;k=a(5);h=a(60);g=a(18);c.prototype.ida=function(){this.j.addEventListener(g.Ja.closed,this.FV);this.j.addEventListener(g.Ja.x6,this.Cb.Fi);this.j.ya.$i.addListener(this.YB);this.j.ya.tc.addListener(this.Cb.fm);this.j.ya.Ac.addListener(this.zm);this.j.ya.Ah.addListener(this.Cb.fV);this.j.Qj.addListener(this.E$a);this.j.tQ.addListener(this.Lk);this.j.ya.se.addListener(this.XZ);this.j.Eb.addListener(this.kx);this.j.Eb.addListener(this.BN);this.j.ya.ef.addListener(this.h1);this.j.ya.playbackRate.addListener(this.Cb.f0);};c.prototype.getTime=function(){return this.Ea.Xb().ca(k.la);};c.prototype.qta=function(){var d,f,m;d=this;m=[];this.config().O7a && (this.config().P7a.forEach(function(l){m.push(nb.setTimeout(d.Cb.yE,l));}),this.config().Baa && (f=nb.setInterval(this.Cb.yE,this.config().Baa)),this.T0=function(){m.forEach(function(l){nb.clearTimeout(l);});f && nb.clearInterval(f);});};b.KS=c;},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.KK=void 0;r=a(0);c=a(1142);k=a(1143);h=a(479);g=a(480);b.KK=new r.zd(function(d){d(g.HPa).to(c.GPa);d(h.EPa).gm(new k.DPa());d(g.FPa).xf(function(f){return function(){return f.gb.get(g.HPa);};});});},function(r,b,a){var k,h,g,d;function c(f){this.config=f;this.sAa=h.hb;this.QQ=[];}Object.defineProperty(b,"__esModule",{value:!0});b.GPa=void 0;r=a(2);k=a(0);h=a(53);g=a(5);a=a(479);c.prototype.eo=function(){var m;for(var f;0 < this.QQ.length;){f=this.QQ.shift();this.XTa(f);}f=void 0 === this.uW || void 0 === this.WH?g.hb:this.WH.Ha(this.uW);m=f.o5a()?0:this.sAa.ca(h.CF) / f.ca(g.la);return {nBa:Math.floor(m),Udc:f.ca(g.la)};};c.prototype.gvb=function(f){this.sAa=this.sAa.add(f.size);this.QQ.push(f.yFb);for(this.QQ.sort(function(m,l){return m.start.Pl(l.start);});this.QQ.length > this.config.zFb;){f=this.QQ.shift();this.XTa(f);}};c.prototype.XTa=function(f){void 0 === this.uW && (this.uW=f.start);void 0 !== this.WH && 0 > this.WH.Pl(f.start) && (this.uW=this.uW.add(f.start.Ha(this.WH)));if(void 0 === this.WH || 0 > this.WH.Pl(f.end))this.WH=f.end;};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.EPa))],d);b.GPa=d;},function(r,b,a){function c(k){this.zFb=void 0 === k?10:k;}Object.defineProperty(b,"__esModule",{value:!0});b.DPa=void 0;r=a(2);a=a(0);c=r.__decorate([(0,a.U)()],c);b.DPa=c;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.Vn=void 0;r=a(0);c=a(28);k=a(11);h=a(1145);g=a(160);d=a(161);f=a(1146);m=a(286);l=a(1147);n=a(481);p=a(482);q=a(1148);t=a(12);w=a(487);v=a(1152);u=a(488);x=a(1153);y=a(291);z=a(1154);A=a(489);B=a(39);D=a(486);C=a(1155);b.Vn=new r.zd(function(F){F(d.lT).to(f.WOa).ba();F(c.Gy).to(h.mFa).ba();F(m.wIa).to(l.vIa).ba();F(p.oEa).to(q.nEa).ba();F(m.xMa).gm({isTypeSupported:t.yC && t.yC.isTypeSupported});F(n.CGa).nF(function(G){return {rKb:function(){return G.gb.get(B.C3);}};});F(g.mL).nF(function(G){return G.gb.get(k.Wc);});F(w.ZJa).to(v.WJa).ba();F(D.VJa).to(C.UJa).ba();F(u.YJa).to(x.XJa).ba();F(y.Wfa).to(z.BGa).ba();F(A.MNa).gm(nb);});},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){this.config=l;this.qWa=n;this.oXb=p;this.TYb=this.hDb();}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;r=a(2);k=a(28);h=a(160);g=a(0);d=a(43);f=a(481);a=a(482);c.prototype.K2a=function(l){return this.C0a().L2a(l);};c.prototype.M2a=function(l){return this.av().L2a(l);};c.prototype.C0a=function(){this.ima && this.ima.type == this.config().jma || (this.ima=this.qWa.sCb(this.config().jma));return this.ima;};c.prototype.av=function(){this.eea && this.eea.type == this.config().fea || (this.eea=this.qWa.vDb(this.config().fea),this.eea.ula(this.oXb.rKb()));return this.eea;};c.prototype.EKb=function(l){var q;if(!l || !l.length)return k.gf.q2;l=this.gIb(l);for(var n=[k.gf.iT,k.gf.q2,k.gf.oT,k.gf.uL,k.gf.nw,k.gf.lC,k.gf.HC,k.gf.El],p=n.length;p--;){q=n[p];if((0,this.TYb[q])(l))return q;}return k.gf.iT;};c.prototype.GK=function(l){return this.av().GK(l);};c.prototype.AH=function(l){return this.av().AH(l);};c.prototype.FO=function(){return this.av().FO();};c.prototype.T8=function(){return this.av().T8();};c.prototype.r0=function(){return this.av().r0();};c.prototype.p0=function(){return this.C0a().p0();};c.prototype.uda=function(){return this.av().uda();};c.prototype.s0=function(){return this.av().s0();};c.prototype.jX=function(l){return this.av().jX(l);};c.prototype.BX=function(){return this.av().BX();};c.prototype.j9=function(){return this.av().j9();};c.prototype.gIb=function(l){var n;n={};l.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Pf]="";});return Object.keys(n);};c.prototype.hDb=function(){var l;l={};l[k.gf.El]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};l[k.gf.lC]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};l[k.gf.HC]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};l[k.gf.nw]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};l[k.gf.uL]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};l[k.gf.oT]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};l[k.gf.q2]=(function(n,p){var q;q={};n.forEach(function(t){return q[t]=1;});n=pa(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.MF]);l[k.gf.iT]=function(){return !0;};return l;};m=c;m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.mL)),r.__param(1,(0,g.l)(a.oEa)),r.__param(2,(0,g.l)(f.CGa))],m);b.mFa=m;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t){this.Vn=p;this.nb=q;this.ceb=t;this.Lub="video/mp4;codecs={0}";this.Gpb="audio/mp4;codecs={0}";p=this.Vn.jX(h.gf.nw);this.Kub=d.Md.mYa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.WOa=void 0;r=a(2);h=a(28);g=a(0);d=a(125);f=a(29);m=a(208);l=a(483);n=a(14);c.prototype.f7=function(p){p=this.Vn.EKb(p);p=this.nb.TH(p)?p:h.gf.iT;return this.ceb.format(this.Lub,this.Kub[p]);};c.prototype.a7=function(p){if(0 === p.length)return this.ceb.format(this.Gpb,d.Md.uea);p=l.sDa[p[0].Pf] || k.DCa;return p === k.DCa?n.k3:p === k.Ghb?n.yJa:n.xJa;};a=k=c;a.DCa="AAC";a.Ghb="XHEAAC";a=k=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Gy)),r.__param(1,(0,g.l)(f.Eg)),r.__param(2,(0,g.l)(m.yia))],a);b.WOa=a;},function(r,b,a){var k,h,g,d,f;function c(m,l){this.config=m;this.oEb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;r=a(2);k=a(0);h=a(286);g=a(160);d=a(28);f=a(287);c.prototype.cYa=function(){switch(this.config().fea){case d.Gl.Sy:return f.wC.PCb();default:return this.oEb;}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.mL)),r.__param(1,(0,k.l)(h.xMa))],a);b.vIa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z;function c(A,B,D,C,F,G,E,I,N,L){this.k5a=A;this.config=B;this.Tc=D;this.Da=C;this.is=F;this.Fp=G;this.Ws=E;this.platform=I;this.uc=N;this.hB=L;}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;r=a(2);k=a(0);h=a(28);g=a(286);d=a(160);f=a(1149);m=a(1150);l=a(290);n=a(484);p=a(50);q=a(35);t=a(29);w=a(1151);v=a(77);u=a(7);x=a(46);y=a(33);a=a(486);c.prototype.sCb=function(A){var B;B=this.k5a.cYa();switch(A){case h.iw.Sy:return new f.xKa(this.config,B,this.is,this.platform,this.hB);default:return new n.f2(this.config,B,this.hB);}};c.prototype.vDb=function(A){var B;B=this.k5a.cYa();switch(A){case h.Gl.jL:A=new w.xEa(this.config,B,this.is,this.Fp,this.Ws,this.Da,this.hB);break;case h.Gl.Sy:A=new m.DJa(this.config,B,this.is,this.Tc,this.Da,this.Ws,this.uc,this.hB,this.Fp);break;default:A=new l.pw(this.config,B,this.is,this.hB);}return A;};z=c;z=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.wIa)),r.__param(1,(0,k.l)(d.mL)),r.__param(2,(0,k.l)(p.ek)),r.__param(3,(0,k.l)(q.wi)),r.__param(4,(0,k.l)(t.Eg)),r.__param(5,(0,k.l)(v.vw)),r.__param(6,(0,k.l)(u.yb)),r.__param(7,(0,k.l)(x.Mo)),r.__param(8,(0,k.l)(y.vi)),r.__param(9,(0,k.l)(a.VJa))],z);b.nEa=z;},function(r,b,a){var k,h,g,d,f;function c(m,l,n,p,q){m=d.f2.call(this,m,l,q) || this;m.is=n;m.platform=p;m.type=k.iw.Sy;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;k=a(28);h=a(43);g=a(95);d=a(484);f=a(287);la(c,d.f2);c.prototype.p0=function(){return Promise.resolve(this.config().eO && this.Sz(g.Bb.Yy,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.As=function(){var m,l;m={};m=(m[h.Sd.NF]="mp4a.40.2",m[h.Sd.OF]="mp4a.40.2",m);if("browser" === this.platform.Woa){l={};return Object.assign(Object.assign({},m),(l[h.Sd.$R]=this.config().eO?{Of:"avc1",keySystem:g.Bb.Yy,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[h.Sd.aS]=this.config().eO?{Of:"avc1",keySystem:g.Bb.Yy,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[h.Sd.I2]=void 0,l[h.Sd.dz]=void 0,l[h.Sd.R1]=void 0,l));}l={};return Object.assign(Object.assign({},m),(l[h.Sd.$R]=this.config().OZa?"ec-3":void 0,l[h.Sd.R1]=this.config().NZa?"ec-3":void 0,l[h.Sd.aS]=this.config().eO?{Of:"avc1",keySystem:g.Bb.Yy,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[h.Sd.I2]=void 0,l[h.Sd.dz]=void 0,l));};c.prototype.sx=function(m){var l,n,p;m=this.b_[m];l=[];n=g.Bb.Yy;if(m){if(this.is.lu(m))p=m;else (l=m.features,p=m.Of,n=m.keySystem);return this.Sz(n,p,l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Sz=function(m,l,n){m=f.wC.c7(m,l,n);return this.AH(m);};b.xKa=c;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C;function c(F,G,E,I,N,L,H,Q,O){F=h.pw.call(this,F,G,E,Q) || this;F.Tc=I;F.Da=N;F.Ws=L;F.uc=H;F.hB=Q;F.Fp=O;F.type=g.Gl.Sy;F.ZR="hvc1";F.Oib="avc1";F.n$a={};F.log=F.Ws.kb("MicrosoftVideoCapabilityDetector");F.i3b();F.q0 && F.config().CTb?F.xZa=F.JCb():(F.xZa=Promise.resolve(""),F.config().ETb?F.NCb():F.config().DTb && F.MCb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;k=a(43);h=a(290);g=a(28);r=a(127);d=a(95);f=a(5);m=a(353);l=a(125);n=a(287);p=a(47);q=a(288);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=new r.rG();C=new m.afa();la(c,h.pw);c.prototype.jX=function(F){return F === g.gf.nw && this.config().K6b?l.Md.dga:h.pw.prototype.jX.call(this,F);};c.prototype.GK=function(F){switch(F){case g.$p.i3:return this.reb();case g.$p.WF:return this.d_;default:return Promise.resolve(!1);}};c.prototype.FO=function(){var G;function F(){return G.q0?G.gOb?G.reb().then(function(E){return Promise.resolve(E?d.Bb.ae:d.Bb.kG);}):Promise.resolve(d.Bb.kG):G.f4b?Promise.resolve(d.Bb.kG):Promise.resolve(d.Bb.Yy);}G=this;this.keySystem || (this.keySystem=this.config().Nt?this.Fp.yA().then(function(E){return E.keySystem;}):F());return this.keySystem;};c.prototype.T8=function(){return this.xZa;};c.prototype.r0=function(){return Promise.resolve({result:this.qeb(),reason:"is-type-supported"});};c.prototype.s0=function(){return this.q0 && this.teb()?this.d_:Promise.resolve(!1);};c.prototype.uda=function(){return Promise.resolve(this.peb()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.ula=function(F){this.er=F;Object.assign(this.er,this.n$a);F.itshwdrm=this.q0;F.itsqhd=this.seb();F.itshevc=this.teb();F.itshdr=this.qeb();F.itsdv=this.peb();F.itsav1=this.c4b();this.TBa();};c.prototype.TU=function(F,G){(this.er?this.er:this.n$a)[F]=G;};c.prototype.BX=function(){var F;F=this;return this.GK(g.$p.WF).then(function(G){return G?F.b7(g.$p.WF):F.GK(g.$p.i3).then(function(E){return E?F.b7(g.$p.i3):F.b7(void 0);});});};c.prototype.j9=function(){return this.config().Nt?Promise.resolve(void 0):this.FO().then(function(F){return F === d.Bb.ae?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.sx=function(F){var G;G=this;return this.FO().then(function(E){var I,N,L;if(G.Uta(E,F))return {supported:!1,reason:"ms-restricted"};I=G.b_[F];if(I){N=[];if(G.is.lu(I))L=I;else (N=I.features,L=I.Of,E=I.keySystem);return G.Sz(E,L,N)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.As=function(){var F;F=h.pw.prototype.As.call(this);F[k.H.e4]=F[k.H.uT]=F[k.H.tT]=F[k.H.Iia]={Of:"vp09.00.11.08.02",keySystem:d.Bb.ae,features:t};F[k.H.M2]=F[k.H.L2]=F[k.H.K2]={Of:"hev1.2.6.L90.B0",keySystem:d.Bb.ae,features:w};F[k.H.P2]=F[k.H.O2]=F[k.H.N2]={Of:"hev1.2.6.L93.B0",keySystem:d.Bb.ae,features:w};F[k.H.S2]=F[k.H.R2]=F[k.H.Q2]={Of:"hev1.2.6.L120.B0",keySystem:d.Bb.ae,features:w};F[k.H.V2]=F[k.H.U2]=F[k.H.T2]={Of:"hev1.2.6.L123.B0",keySystem:d.Bb.ae,features:w};F[k.H.X2]=F[k.H.tS]=F[k.H.W2]={Of:"hev1.2.6.L150.B0",keySystem:d.Bb.ae,features:w};F[k.H.Z2]=F[k.H.uS]=F[k.H.Y2]={Of:"hev1.2.6.L153.B0",keySystem:d.Bb.ae,features:w};F[k.H.t2]=F[k.H.s2]=F[k.H.r2]={Of:"hev1.2.6.L90.B0",keySystem:d.Bb.ae,features:u};F[k.H.w2]=F[k.H.v2]=F[k.H.u2]={Of:"hev1.2.6.L93.B0",keySystem:d.Bb.ae,features:u};F[k.H.y2]=F[k.H.sS]=F[k.H.x2]={Of:"hev1.2.6.L120.B0",keySystem:d.Bb.ae,features:u};F[k.H.B2]=F[k.H.A2]=F[k.H.z2]={Of:"hev1.2.6.L123.B0",keySystem:d.Bb.ae,features:x};F[k.H.E2]=F[k.H.D2]=F[k.H.C2]={Of:"hev1.2.6.L150.B0",keySystem:d.Bb.ae,features:x};F[k.H.H2]=F[k.H.G2]=F[k.H.F2]={Of:"hev1.2.6.L153.B0",keySystem:d.Bb.ae,features:x};F[k.H.U1]=F[k.H.T1]={Of:"hev1.2.6.L90.B0",keySystem:d.Bb.ae,features:y};F[k.H.W1]=F[k.H.V1]={Of:"hev1.2.6.L93.B0",keySystem:d.Bb.ae,features:y};F[k.H.X1]=F[k.H.Bfa]=F[k.H.cS]={Of:"hev1.2.6.L120.B0",keySystem:d.Bb.ae,features:y};F[k.H.Z1]=F[k.H.Cfa]=F[k.H.Y1]={Of:"hev1.2.6.L123.B0",keySystem:d.Bb.ae,features:z};F[k.H.b2]=F[k.H.Dfa]=F[k.H.a2]={Of:"hev1.2.6.L150.B0",keySystem:d.Bb.ae,features:z};F[k.H.d2]=F[k.H.Efa]=F[k.H.c2]={Of:"hev1.2.6.L153.B0",keySystem:d.Bb.ae,features:z};F[k.H.jC]={Of:"av01.0.04M.10",keySystem:d.Bb.ae,features:t};F[k.H.kC]={Of:"av01.0.05M.10",keySystem:d.Bb.ae,features:t};F[k.H.x1]={Of:"av01.0.08M.10",keySystem:d.Bb.ae,features:t};F[k.H.y1]={Of:"av01.0.09M.10",keySystem:d.Bb.ae,features:t};F[k.H.z1]={Of:"av01.0.12M.10",keySystem:d.Bb.ae,features:v};F[k.H.A1]={Of:"av01.0.13M.10",keySystem:d.Bb.ae,features:v};return F;};c.prototype.Sz=function(F,G,E){F=n.wC.c7(F,G,E);return this.AH(F);};c.prototype.seb=function(){return this.Sz(d.Bb.ae,this.ZR,w);};c.prototype.qeb=function(){return this.Sz(d.Bb.ae,this.ZR,u);};c.prototype.peb=function(){return this.Sz(d.Bb.ae,this.ZR,y);};c.prototype.c4b=function(){return this.Sz(d.Bb.ae,l.Md.El,t);};c.prototype.teb=function(){return this.Sz(d.Bb.ae,this.ZR,v);};c.prototype.reb=function(){var F;F=this;return this.d_.then(function(G){return G?Promise.resolve(G):F.eab;});};c.prototype.TBa=function(){this.er && (this.er.itshdcp=JSON.stringify({hdcp1:this.q3a,time1:this.Keb - this.Hdb,hdcp2:this.r3a,time2:this.Leb - this.Idb}));};c.prototype.i3b=function(){var F;F=this;this.q0?(this.d_=this.o2a(this.config().N7a,this.config().GTb,function(){var G;G=F.CKb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.eab=this.d_.then(function(G){return G?!0:F.o2a(F.config().N7a,F.config().FTb,function(){var E;E=F.BKb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;});})):(this.eab=Promise.resolve(!0),this.d_=Promise.resolve(!1));};c.prototype.o2a=function(F,G,E){var I;I=this;return new Promise(function(N){var L,H,Q,O;L=pa(E());H=L.next().value;L=L.next().value;if(H)return N(L);Q=I.Tc.Lca((0,f.Sc)(F),function(){var J,M;J=pa(E());M=J.next().value;J=J.next().value;M && (Q.cancel(),O.cancel(),N(J));});O=I.Tc.Ok((0,f.Sc)(G),function(){Q.cancel();O.cancel();N("timeout");});});};c.prototype.BKb=function(){var F;F=n.wC.c7(d.Bb.kG,this.Oib,A).split("|");this.q3a=n.wC.dBa(F[0],F[1]);this.Keb=this.Da.qf.ca(f.la);this.Hdb=this.Hdb || this.Keb;this.TBa();return this.q3a;};c.prototype.CKb=function(){var F;F=n.wC.c7(d.Bb.ae,this.ZR,B).split("|");this.r3a=n.wC.dBa(F[0],F[1]);this.Leb=this.Da.qf.ca(f.la);this.Idb=this.Idb || this.Leb;this.TBa();return this.r3a;};c.prototype.JCb=function(){var F;F=this;return this.foa(d.Bb.ae,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.mLa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.TU("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.MCb=function(){var F;F=this;this.foa(d.Bb.Yy,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.uc.decode(G));F.TU("itsHardwareInfo",E);F.log.debug("HardwareInfo: " + E);return G;}).catch(function(G){F.TU("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.NCb=function(){var F;F=this;this.foa(d.Bb.Yy,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.uc.decode(G));F.TU("itsHardwareReset",E);F.log.debug("ResetHardwareDRMDisabled: " + E);return G;}).catch(function(G){F.TU("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.foa=function(F,G){var E;E=this;return new Promise(function(I,N){var M,P,R;function L(S){try{O(S.target,"Unexpectedly got an mskeyerror event: 0x" + C.lI(S && S.target && S.target.error && S.target.error.Dhc || 0,4));}catch(U){O(S.target,U);}}function H(S){O(S.target,"Unexpectedly got an mskeyadded event");}function Q(S){var U;try{U=E.Qpa(S.message,"PlayReadyKeyMessage","Challenge");J(S.target);I(U);}catch(ba){O(S.target,ba);}}function O(S,U){E.log.error("PlayReadyChallenge error",{cdmData:G});J(S);N(U);}function J(S){S.removeEventListener("mskeymessage",Q);S.removeEventListener("mskeyadded",H);S.removeEventListener("mskeyerror",L);R && R.cancel();}try{M=new Uint8Array(D.aeb(G));P=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),M);P.addEventListener("mskeymessage",Q);P.addEventListener("mskeyadded",H);P.addEventListener("mskeyerror",L);R=E.Tc.Ok((0,f.Sc)(1E3),function(){O(P,Error("timeout"));});}catch(S){N(S);}});};c.prototype.Qpa=function(F,G){var I,N,L;for(var E=1;E < arguments.length;++E){;}E="";N=F.length;for(I=0;I < N;I++){L=F[I];0 < L && (E+=String.fromCharCode(L));}N="\\s*(.*)\\s*";for(I=arguments.length - 1;0 < I;I--){L=arguments[I];if(0 > E.search(L))return;L="(?:[^:].*:|)" + L;N="[\\s\\S]*<" + L + "[^>]*>" + N + "</" + L + ">[\\s\\S]*";}if(E=E.match(new RegExp(N)))return E[1];};c.prototype.Uta=function(F,G){return [q.Cg.lC,q.Cg.HC].some(function(E){return E.test(G);}) && this.config().Mva && ![d.Bb.kG,d.Bb.EMa].some(function(E){return E === F;});};Ya.Object.defineProperties(c.prototype,{gOb:{configurable:!0,enumerable:!0,get:function(){return this.config().RZa && (!this.config().HTb || this.seb());}},q0:{configurable:!0,enumerable:!0,get:function(){try{return this.AH(d.Bb.ae + "|" + l.Md.Pva);}catch(F){return !1;}}},f4b:{configurable:!0,enumerable:!0,get:function(){try{return this.AH(d.Bb.kG);}catch(F){return !1;}}}});b.DJa=c;},function(r,b,a){var k,h,g,d,f;function c(m,l,n,p,q,t,w){m=k.pw.call(this,m,l,n,w) || this;m.Fp=p;m.Ws=q;m.Da=t;m.hB=w;m.type=h.Gl.jL;m.log=m.Ws.kb("ChromeVideoCapabilityDetector");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;k=a(290);h=a(28);g=a(5);d=a(47);f=a(288);la(c,k.pw);c.prototype.GK=function(m){switch(m){case h.$p.WF:return this.d4b;default:return Promise.resolve(!1);}};c.prototype.BX=function(){var m;m=this;return this.GK(h.$p.WF).then(function(l){return l?h.$p.WF:void 0;}).then(function(l){return m.b7(l);});};c.prototype.ula=function(m){this.er=m;};c.prototype.sx=function(m){var l;l=this;return this.config().Mva?this.Fp.yA().then(function(n){return l.Uta((0,d.d9)(n),m)?{supported:!1,reason:"mcclearen-restricted"}:k.pw.prototype.sx.call(l,m);}):k.pw.prototype.sx.call(this,m);};c.prototype.qQb=function(m){var l;return !(null === (l=m.getConfiguration().videoCapabilities) || void 0 === l || !l.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.QF;}));};c.prototype.Yfb=function(){var m;if(this.er){m=this.s3a && this.u3a && this.s3a.Ha(this.u3a).ca(g.la);this.er.itshdcp=JSON.stringify({hdcp2:this.ev,time2:m});}};c.prototype.Uta=function(m,l){return [f.Cg.lC,f.Cg.HC].some(function(n){return n.test(l);}) && this.config().Mva && m === d.QF;};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.G7a || (this.G7a=this.Fp.yA().then(function(m){return m.createMediaKeys();}));return this.G7a;}},d4b:{configurable:!0,enumerable:!0,get:function(){var m;m=this;this.eBa || (this.config().jGb?this.eBa=Promise.all([this.Fp.yA(),this.mediaKeys]).then(function(l){var n;n=pa(l);l=n.next().value;n=n.next().value;if(!m.qQb(l))return (m.ev="not HW_SECURE_ALL",m.log.trace("hdcpStatus: " + m.ev),!1);if(n && n.getStatusForPolicy)return (m.u3a=m.Da.qf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){m.s3a=m.Da.qf;m.ev=p;m.log.trace("hdcpStatus: " + m.ev);return "usable" === m.ev;}));m.ev="not available";m.log.trace("hdcpStatus: " + m.ev);return !1;}).catch(function(l){m.ev="exception";m.log.error("Exception in supportsHdcpLevel",{hdcpStatus:m.ev},l);return !1;}).then(function(l){m.Yfb();return l;}):(this.ev="not enabled",this.log.trace("hdcpStatus: " + this.ev),this.Yfb(),this.eBa=Promise.resolve(!1)));return this.eBa;}}});b.xEa=c;},function(r,b,a){var k,h;function c(g){this.navigator=g;this.E7a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;r=a(2);k=a(0);a=a(39);c.prototype.Upa=function(g){return this.E7a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:g.contentType,width:g.width,height:g.height,bitrate:g.bitrate,framerate:g.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.JL))],h);b.WJa=h;},function(r,b,a){var k,h,g,d;function c(f,m){this.mediaCapabilities=f;this.log=m.kb("MediaCapabilities");this.b_=d.g2.As();}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;r=a(2);k=a(487);h=a(7);g=a(0);d=a(284);c.prototype.Upa=function(f){var m,l,n,p;m=this;n={Uc:void 0};if(this.mediaCapabilities.E7a){p={contentType:'video/mp4;codecs="' + (null !== (l=this.b_[f.Pf]) && void 0 !== l?l:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Upa(p).then(function(q){return n.Uc=Object.assign(Object.assign({},q),p);}).catch(function(q){return m.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.ZJa)),r.__param(1,(0,g.l)(h.yb))],a);b.XJa=a;},function(r,b,a){var k,h,g;function c(d){this.uYb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;r=a(2);k=a(0);h=a(291);a=a(489);c.prototype.FHb=function(){var d,f;d={pO:h.My.$ob};try{f=this.uYb.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var l;d.pO=m.value?h.My.LNa:h.My.GCa;if(d.pO === h.My.GCa){l=function(){m.value && (d.pO=h.My.LNa);m.removeEventListener("change",l);};m.addEventListener("change",l);}}).catch(function(){d.pO=h.My.Error;});}catch(m){d.pO=h.My.Error;}return d;};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.MNa))],g);b.BGa=g;},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t,w,v){this.config=q;this.navigator=t;this.Ws=w;this.wE=v;this.type=h.Gl.ow;this.gVa={};this.Igb={};this.Fla={};this.log=this.Ws.kb("MediaCapabilityDetector");this.gVa=this.rCb();this.Igb=this.uDb();}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(2);k=a(0);h=a(28);g=a(43);d=a(7);f=a(39);m=a(77);l=a(160);n=a(47);p=a(12);c.prototype.sx=function(q){var t;t=this;return this.wE.yA().then(function(w){return t.SHb(q,w);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.IPb=function(q){return ! !q.colorGamut || ! !q.hdrMetadataType || ! !q.transferFunction;};c.prototype.Gta=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.SHb=function(q,t){var w,v,u;try{w={type:"media-source"};v=this.gVa[q];u=this.Igb[q];if(v)w.audio=v;else if(u){w.video=u;if(this.IPb(u) && !this.Gta())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});t && (w.keySystemConfiguration=this.TKb(t));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.dzb(w),this.bzb((v || u).contentType)]).then(function(x){var y;y=pa(x);x=y.next().value;y=y.next().value;return x?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.dzb=function(q){var t;t=this;return this.navigator.mediaCapabilities.decodingInfo(q).then(function(w){var v;w.configuration || (w.configuration=q);v=t.hQb(q,w);v?t.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(w)):t.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(w));return v;}).catch(function(w){t.log.error("mediaCapabilities.decodingInfo failed",w);return !1;});};c.prototype.bzb=function(q){var t;t=this;if(!this.config().sGb)return Promise.resolve(!0);this.Fla[q] || (this.Fla[q]=new Promise(function(w){var v;try{v=new p.yC();document.createElement("video").src=URL.createObjectURL(v);v.addEventListener("sourceopen",function(){try{v.addSourceBuffer(q);t.log.trace("addSourceBuffer succeeded for " + q);w(!0);}catch(u){t.log.warn("addSourceBuffer failed",u);w(!1);}});}catch(u){t.log.warn("addSourceBuffer failed",u);w(!1);}}));return this.Fla[q];};c.prototype.TKb=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=(0,n.d9)(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.rCb=function(){var q,t;q={};t={contentType:"audio/mp4;codecs=mp4a.40.2"};q[g.Sd.NF]=t;q[g.Sd.I2]=t;q[g.Sd.OF]=t;q[g.Sd.dz]=t;t={contentType:"audio/mp4;codecs=ec-3"};q[g.Sd.$R]=t;q[g.Sd.R1]=t;q[g.Sd.aS]=t;return q;};c.prototype.uDb=function(){var q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q;q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};t={contentType:'video/mp4; codecs="dvh1.05.04"'};w={width:1920,height:1080};v={width:3840,height:2160};u=Object.assign(Object.assign({},w),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},w),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});z=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});A={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};B={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),u);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),u);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),u);C=Object.assign(Object.assign({},q),u);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),z);I=Object.assign(Object.assign(Object.assign({},q),u),A);N=Object.assign(Object.assign(Object.assign({},q),x),A);L=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),z),A);A=Object.assign(Object.assign(Object.assign({},t),u),B);H=Object.assign(Object.assign(Object.assign({},t),x),B);Q=Object.assign(Object.assign(Object.assign({},t),y),B);t=Object.assign(Object.assign(Object.assign({},t),z),B);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),u);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),z);B={};return (B[g.H.LF]=v,B[g.H.MF]=v,B[g.H.cga]=v,B[g.H.YGa]=v,B[g.H.ZGa]=v,B[g.H.$Ga]=v,B[g.H.WGa]=w,B[g.H.nS]=w,B[g.H.pS]=w,B[g.H.aga]=w,B[g.H.XGa]=w,B[g.H.oS]=w,B[g.H.qS]=w,B[g.H.bga]=w,B[g.H.Iia]=D,B[g.H.tT]=D,B[g.H.uT]=D,B[g.H.e4]=D,B[g.H.fga]=C,B[g.H.gga]=C,B[g.H.hga]=C,B[g.H.iga]=F,B[g.H.L2]=C,B[g.H.O2]=C,B[g.H.R2]=C,B[g.H.U2]=F,B[g.H.tS]=G,B[g.H.uS]=E,B[g.H.M2]=C,B[g.H.P2]=C,B[g.H.S2]=C,B[g.H.V2]=F,B[g.H.X2]=G,B[g.H.Z2]=E,B[g.H.K2]=C,B[g.H.N2]=C,B[g.H.Q2]=C,B[g.H.T2]=F,B[g.H.W2]=G,B[g.H.Y2]=E,B[g.H.s2]=I,B[g.H.v2]=I,B[g.H.sS]=I,B[g.H.A2]=N,B[g.H.D2]=L,B[g.H.G2]=q,B[g.H.t2]=I,B[g.H.w2]=I,B[g.H.y2]=I,B[g.H.B2]=N,B[g.H.E2]=L,B[g.H.H2]=q,B[g.H.r2]=I,B[g.H.u2]=I,B[g.H.x2]=I,B[g.H.z2]=N,B[g.H.C2]=L,B[g.H.F2]=q,B[g.H.T1]=A,B[g.H.V1]=A,B[g.H.cS]=A,B[g.H.Y1]=H,B[g.H.a2]=Q,B[g.H.c2]=t,B[g.H.Bfa]=A,B[g.H.Cfa]=H,B[g.H.Dfa]=Q,B[g.H.Efa]=t,B[g.H.U1]=A,B[g.H.W1]=A,B[g.H.X1]=A,B[g.H.Z1]=H,B[g.H.b2]=Q,B[g.H.d2]=t,B[g.H.ECa]=u,B[g.H.FCa]=u,B[g.H.jC]=u,B[g.H.kC]=u,B[g.H.x1]=u,B[g.H.y1]=x,B[g.H.z1]=y,B[g.H.A1]=z,B);};c.prototype.hQb=function(q,t){return q.video && this.config().TXb?t.supported && t.powerEfficient:t.supported;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.mL)),r.__param(1,(0,k.l)(f.JL)),r.__param(2,(0,k.l)(d.yb)),r.__param(3,(0,k.l)(m.vw))],a);b.UJa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(490);k=a(189);h=a(491);g=a(1157);d=a(292);f=a(1158);m=a(1161);l=a(1162);n=a(96);p=a(492);q=a(1164);b.storage=new r.zd(function(t){t(k.JKa).xf(function(){return function(){return nb.localStorage;};});t(k.IHa).xf(function(){return function(){return nb.indexedDB;};});t(p.uKa).to(q.tKa).ba();t(n.mC).to(l.QCa).ba();t(h.VIa).to(g.UIa).ba();t(c.g3).to(m.iIa).ba();t(d.kIa).to(f.jIa).ba();t(d.HHa).to(f.GHa).ba();t(d.mIa).to(f.lIa).ba();});},function(r,b,a){var k,h,g;function c(d){this.KE=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;r=a(2);k=a(0);h=a(3);a=a(189);c.prototype.load=function(d){var f;f=this;return new Promise(function(m,l){var n,p;try{n=f.KE.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}m({key:d,value:p});}else l({wa:h.O.FC});}catch(q){l({wa:h.O.vOa,cause:q});}});};c.prototype.save=function(d,f,m){var l;l=this;return new Promise(function(n,p){if(m && l.KE.getItem(d))n(!1);else try{"string" === typeof f?l.KE.setItem(d,f):l.KE.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({wa:h.O.wOa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(m,l){try{f.KE.removeItem(d);m();}catch(n){l({wa:h.O.mia,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Omb))],g);b.UIa=g;},function(r,b,a){var g,d,f,m,l,n,p,q,t,w,v,u;function c(x,y,z,A,B,D){this.config=y;this.aW=z;this.Qp=A;this.f7b=B;this.Cl=D;this.Ca=x.kb(n.kPa);}function k(x,y){this.config=x;this.G0=y;}function h(x,y,z,A,B){this.config=y;this.G0=z;this.Cl=B;this.Ca=x.kb(n.kPa);this.aW=new Promise(function(D,C){var F;try{F=A();F?D(F):C({wa:l.O.KHa});}catch(G){C({wa:l.O.f3,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=b.jIa=b.GHa=void 0;r=a(2);g=a(0);d=a(7);f=a(1159);m=a(189);l=a(3);n=a(1160);p=a(490);q=a(67);t=a(96);w=a(80);v=a(292);u=a(62);h.prototype.create=function(){this.toa || (this.toa=this.JN());return this.toa;};h.prototype.Gq=function(x){var y;y=this;this.toa=null;return this.G0.ut(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.Zr?Promise.reject({wa:l.O.f3}):z.wa?Promise.reject(z):Promise.reject({wa:l.O.f3,cause:z});});};h.prototype.delete=function(x){var y;y=this;return this.G0.ut(this.config.timeout,new Promise(function(z,A){y.aW.then(function(B){var D;D=B.deleteDatabase(x);D.onsuccess=function(){z();};D.onerror=function(){A({wa:l.O.f3,cause:D.error});};}).catch(function(B){A(B);});}));};h.prototype.JN=function(){var x,y;x=this;return this.G0.ut(this.config.timeout,new Promise(function(z,A){if(x.config.pAa)return A({wa:x.config.pAa});x.aW.then(function(B){x.Cl.mark(u.fk.mlb);y=B.open(x.config.name,x.config.version);if(!y)return A({wa:l.O.LHa});y.onblocked=function(){x.Cl.mark(u.fk.jlb);A({wa:l.O.flb});};y.onupgradeneeded=function(){var D;x.Cl.mark(u.fk.tlb);D=y.result;try{D.createObjectStore(x.config.nZ,{keyPath:"name"});}catch(C){x.Ca.error("Exception while creating object store",C);}};y.onsuccess=function(D){var C,F;x.Cl.mark(u.fk.slb);try{C=D.target.result;F=C.objectStoreNames.length;x.Ca.trace("objectstorenames length ",F);if(0 === F){x.Ca.error("invalid indexedDb state, deleting");x.Cl.mark(u.fk.llb);try{C.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({wa:l.O.elb});},1);return;}}catch(G){x.Ca.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.Cl.mark(u.fk.klb);x.Ca.error("IndexedDB open error",y.error);A({wa:l.O.glb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.Zr){try{y && y.readyState && x.Cl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.h6 && y && "done" === y.readyState){if(x.a7b(y))return (x.Cl.mark(u.fk.qlb),Promise.resolve(y.result));x.Cl.mark(u.fk.plb);}x.Cl.mark(u.fk.olb);return Promise.reject({wa:l.O.ilb});}if(z.wa)return Promise.reject(z);x.Cl.mark(u.fk.nlb);x.Ca.error("IndexedDB open exception occurred",z);return Promise.reject({wa:l.O.hlb,cause:z});});};h.prototype.a7b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Cl.mark(u.fk.rlb);this.Ca.error("failed to check open request state",y);}return !1;};a=h;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.yb)),r.__param(1,(0,g.l)(p.g3)),r.__param(2,(0,g.l)(q.oG)),r.__param(3,(0,g.l)(m.IHa)),r.__param(4,(0,g.l)(w.WL))],a);b.GHa=a;k.prototype.create=function(x){return Promise.resolve(new f.hIa(this.config,this.G0,x));};a=k;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(p.g3)),r.__param(1,(0,g.l)(q.oG))],a);b.jIa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.VV || (this.VV=this.JN(this.f7b));return this.VV;};c.prototype.JN=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.Cl.mark(u.fk.Bob);y.aW.create().then(function(B){y.Qp.create(B).then(function(D){Promise.all(x.map(function(C){return C.validate(D);})).then(function(){y.storage=D;z(y.storage);}).catch(function(C){y.Ca.debug("DB validation failed, cause: " + C);y.config.b0a?(y.Ca.debug("Fixing corrupt DB"),y.aW.Gq(B).then(function(){y.Ca.error("Invalid database deleted, creating new database.");y.JN().then(function(F){y.Ca.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.Ca.error("Couldn't delete invalid database.");A(F);})):(y.Ca.debug("Ignoring invalid DB due to config"),y.storage=D,z(y.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.yb)),r.__param(1,(0,g.l)(p.g3)),r.__param(2,(0,g.l)(v.HHa)),r.__param(3,(0,g.l)(v.kIa)),r.__param(4,(0,g.optional)()),r.__param(4,(0,g.pJ)(t.Iob)),r.__param(5,(0,g.l)(w.WL))],a);b.lIa=a;},function(r,b,a){var h,g,d;function c(f,m,l){this.config=f;this.ot=m;this.KE=l;}function k(f,m){this.reason=f;this.cause=m;}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=b.ZNa=void 0;h=a(3);g=a(67);(function(f){f[f.fha=0]="NoData";f[f.Error=1]="Error";f[f.VL=2]="Timeout";})(d=b.ZNa || (b.ZNa={}));c.prototype.load=function(f){var m;m=this;return new Promise(function(l,n){m.c8("get",!1,f).then(function(p){l({key:f,value:p});}).catch(function(p){var q;q=h.O.vOa;switch(p.reason){case d.fha:q=h.O.FC;break;case d.VL:q=h.O.Cob;}n({wa:q,cause:p.cause});});});};c.prototype.save=function(f,m,l){var n;n=this;return new Promise(function(p,q){n.c8(l?"add":"put",!0,{name:f,data:m}).then(function(){p(!l);}).catch(function(t){var w;w=h.O.wOa;switch(t.reason){case d.VL:w=h.O.Fob;}q({wa:w,cause:t.cause});});});};c.prototype.remove=function(f){var m;m=this;return new Promise(function(l,n){m.c8("delete",!0,f).then(function(){l();}).catch(function(p){var q;q=h.O.mia;switch(p.reason){case d.VL:q=h.O.uOa;}n({wa:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(m,l){f.c8("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=h.O.mia;switch(n.reason){case d.VL:p=h.O.uOa;}l({wa:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.ot.ut(this.config.timeout,new Promise(function(m,l){var n,p,q;if(f.config.oAa)l(new k(f.config.oAa));else {n=[];p=f.KE.transaction(f.config.nZ,"readonly");q=p.objectStore(f.config.nZ).openCursor();p.onerror=function(){l(new k(d.Error,q.error));};q.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data});t.continue();}catch(w){l(new k(d.Error,w));}else m(n);};q.onerror=function(){l(new k(d.Error,q.error));};}})).catch(function(m){return m instanceof g.Zr?Promise.reject(new k(d.VL,m)):m instanceof k?Promise.reject(m):Promise.reject(new k(d.Error,m));});};c.prototype.c8=function(f,m,l){var n;n=this;return this.ot.ut(this.config.timeout,new Promise(function(p,q){var t,w;t=n.KE.transaction(n.config.nZ,m?"readwrite":"readonly");w=t.objectStore(n.config.nZ)[f](l);t.onerror=function(){q(new k(d.Error,w.error));};w.onsuccess=function(v){var u;if("get" == f)try{u=v.target.result;u?p(u.data):q(new k(d.fha));}catch(x){q(new k(d.fha,x));}else p(void 0);};w.onerror=function(){q(new k(d.Error,w.error));};})).catch(function(p){return p instanceof g.Zr?Promise.reject(new k(d.VL,p)):p instanceof k?Promise.reject(p):Promise.reject(new k(d.Error,p));});};b.hIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kPa="Storage";},function(r,b,a){var k,h,g,d,f;function c(m,l){m=g.ff.call(this,m,"IndexedDBConfigImpl") || this;m.config=l;m.version=1;m.nZ="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(2);k=a(0);h=a(48);g=a(49);d=a(40);a=a(34);la(c,g.ff);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.qA?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Tdb;}},h6:{configurable:!0,enumerable:!0,get:function(){return this.config.h6;}},pAa:{configurable:!0,enumerable:!0,get:function(){return 0;}},oAa:{configurable:!0,enumerable:!0,get:function(){return 0;}},b0a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([h.config(h.bC,"simulateIdbOpenError")],f.prototype,"pAa",null);r.__decorate([h.config(h.bC,"simulateIdbLoadAllError")],f.prototype,"oAa",null);r.__decorate([h.config(h.Fd,"fixInvalidDatabase")],f.prototype,"b0a",null);f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.om)),r.__param(1,(0,k.l)(d.Io))],f);b.iIa=f;},function(r,b,a){var h,g,d,f,m,l,n;function c(p,q,t,w){this.Ca=p;this.config=q;this.lOb=t;this.Hva=w;this.JH={mem:{storage:this.Hva,key:"mem"}};this.hF=this.config.hF;}function k(p,q,t,w){this.Vf=p;this.Qp=q;this.Hva=t;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.Nea=b.QCa=void 0;r=a(2);h=a(0);g=a(3);d=a(292);f=a(7);m=a(492);l=a(1163);a=a(40);k.prototype.create=function(){this.VV || (this.VV=this.JN());return this.VV;};k.prototype.JN=function(){this.hwb=new c(this.Vf.kb("AppStorage"),this.config,this.Qp,this.Hva);return this.hwb.create();};n=k;n=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.yb)),r.__param(1,(0,h.l)(d.mIa)),r.__param(2,(0,h.l)(m.uKa)),r.__param(3,(0,h.l)(a.Io))],n);b.QCa=n;c.prototype.create=function(){var p;p=this;return this.OCb().then(function(q){if(!p.Iyb(q,p.config.UX))throw p.EUb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(t,w){q.kX(p).storage.load(p).then(function(v){t(v);}).catch(function(v){w(v);});});};c.prototype.save=function(p,q,t){var w;w=this;return new Promise(function(v,u){w.kX(p).storage.save(p,q,t).then(function(x){v(x);}).catch(function(x){u(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(t,w){q.kX(p).storage.remove(p).then(function(){t();}).catch(function(v){w(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,t){p.Uab("mem").then(function(){return p.Uab("idb");}).catch(function(w){return Promise.reject(w);}).then(function(){q();}).catch(function(w){p.Ca.error("remove all failed");t(w);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.e6a("mem").then(function(t){q=q.concat(t);return p.e6a("idb");}).catch(function(t){p.eQb(t) || p.Ca.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return q=q.concat(t);}).catch(function(t){p.Ca.error("load all failed",t);throw t;});};c.prototype.OCb=function(){var p;p=this;return this.lOb.create().then(function(q){p.JH.idb={storage:q,key:"idb"};}).catch(function(q){p.Ca.error("idb failed to load",q);return q || ({wa:g.O.zn});});};c.prototype.Iyb=function(p,q){return !p || p && q?!0:!1;};c.prototype.EUb=function(p){var q;q="";p && (q+=p.wa);return {wa:q};};c.prototype.Uab=function(p){return (p=this.JH[p])?p.storage.removeAll():Promise.resolve();};c.prototype.e6a=function(p){return (p=this.JH[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.bIb=function(p){for(var q in this.hF){if(p.startsWith(q))return this.hF[q];}return this.hF[l.Bjb];};c.prototype.kX=function(p){var q,t;q=this;this.bIb(p).every(function(w){return q.JH[w]?(t=q.JH[w],!1):!0;});if(!t){this.Ca.error("component not found for storageKey",{u3b:p,Zcc:Object.keys(this.JH),rules:this.hF});t=this.JH.mem;}this.Ca.trace("component found for key",{storageKey:p,componentKey:t.key});return t;};c.prototype.eQb=function(p){return (p && (p.wa || p.errorSubCode)) === g.O.FC;};b.Nea=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bjb="__default_rule_key__";},function(r,b,a){var k,h,g;function c(d){this.Vf=d;this.rJ={};this.Ca=this.Vf.kb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.tKa=void 0;r=a(2);k=a(0);h=a(3);a=a(7);c.prototype.load=function(d){var f;if(this.rJ.hasOwnProperty(d)){f=this.rJ[d];this.Ca.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.Ca.debug("Storage entry not found",{key:d});return Promise.reject({wa:h.O.FC});};c.prototype.save=function(d,f,m){if(m && this.rJ.hasOwnProperty(d))return Promise.resolve(!1);this.rJ[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.rJ[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.rJ).map(function(f){var m;m=pa(f);f=m.next().value;m=m.next().value;return {key:f,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.rJ={};return Promise.resolve();};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.yb))],g);b.tKa=g;},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.qN=void 0;r=a(0);c=a(493);k=a(494);h=a(495);g=a(1166);d=a(1167);f=a(1168);b.qN=new r.zd(function(m){m(c.GDa).to(g.FDa).ba();m(k.EDa).to(d.BDa).ba();m(h.DDa).to(f.CDa).ba();});},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t,w){this.A6=p;this.nb=q;this.Exb=t;this.config=w;this.Ca=n.kb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;r=a(2);k=a(0);h=a(494);g=a(495);d=a(7);f=a(29);m=a(5);a=a(11);c.prototype.Qvb=function(n){var p,q;p=n.fb.playbackState && n.fb.playbackState.currentTime;q=this.TJb(n.K);p=this.nb.TH(p)?(0,m.Sc)(p):q;if(this.nb.Qg(p))(this.Ca.info("Overriding bookmark",{From:n.WK.ca(m.la),To:p.ca(m.la)}),n=Object.assign({},n,{WK:p}));else if(this.pOb(n))return (this.Ca.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Kh)(0));return n.WK.Mta()?(this.Ca.trace("Ignoring bookmark because it's negative"),(0,m.Kh)(0)):this.oOb(n)?(this.Ca.trace("Ignoring bookmark because it's too close to end"),(0,m.Kh)(0)):this.nOb(n)?(this.Ca.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Kh)(0)):n.WK;};c.prototype.pOb=function(n){return 0 > n.WK.Pl(this.nra(n));};c.prototype.nra=function(n){return this.HVa(this.A6.nra(),n.Hba);};c.prototype.oOb=function(n){return 0 < n.WK.Pl(this.ora(n));};c.prototype.ora=function(n){var p;p=n.fb.ci?this.A6.GKb():this.A6.ora();return n.Hba.Ha(this.HVa(p,n.Hba));};c.prototype.nOb=function(n){return 0 < n.WK.Pl(this.pKb(n));};c.prototype.pKb=function(n){var p;p=n.fb.ci?this.config().w9a:this.config().zJ;return n.Hba.Ha((0,m.Sc)(p));};c.prototype.TJb=function(n){var p;n=this.A6.Qqa()[n];p=-1;this.nb.lu(n)?p=parseInt(n):this.nb.uj(n) && (p=n);if(this.nb.WU(p))return (0,m.Sc)(p);};c.prototype.HVa=function(n,p){return this.Exb.I3b(n,p);};l=c;l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.yb)),r.__param(1,(0,k.l)(h.EDa)),r.__param(2,(0,k.l)(f.Eg)),r.__param(3,(0,k.l)(g.DDa)),r.__param(4,(0,k.l)(a.Wc))],l);b.FDa=l;},function(r,b,a){var k,h;function c(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;r=a(2);k=a(0);a=a(11);c.prototype.nra=function(){return this.nI().Fxb;};c.prototype.ora=function(){return this.nI().Gxb;};c.prototype.GKb=function(){return this.nI().Hxb;};c.prototype.Qqa=function(){return this.nI().GVa;};c.prototype.nI=function(){return this.config();};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Wc))],h);b.BDa=h;},function(r,b,a){var k,h,g;function c(d){this.nb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;r=a(2);k=a(0);h=a(29);g=a(5);c.prototype.I3b=function(d,f){var m,l;m=parseFloat(d);l=0;"%" === d[d.length - 1] && this.nb.uj(m)?l=Math.round(m * f.ca(g.la) / 100):(d=parseInt(d),this.nb.WU(d) && (l=d));return (0,g.Sc)(Math.min(l,f.ca(g.la)));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Eg))],a);b.CDa=a;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.eWa=void 0;r=a(0);c=a(496);k=a(1170);b.eWa=new r.zd(function(h){h(c.YDa).to(k.XDa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t,w,v,u,x){this.config=q;this.CE=w;this.profile=v;this.Nda=u;this.AV=x;this.log=t.kb("CDMAttestedDescriptor");this.S0a(n.ww.eT);}Object.defineProperty(b,"__esModule",{value:!0});b.XDa=void 0;r=a(2);k=a(0);h=a(11);g=a(7);d=a(162);f=a(293);m=a(75);l=a(170);n=a(40);p=a(59);c.prototype.S0a=function(q){var t;t=this;return this.Nda.cda(q)?this.config().fGb?this.Q0a().then(function(w){if(w)return (!1,Promise.resolve(void 0));t.Y5a || (!1,t.Y5a=t.AV.Ura(p.zi.Jo));return t.Y5a;}).catch(function(w){t.log.error("Failed to generate challenge",w);}).then(function(w){null === w || void 0 === w?void 0:w.ec.close();return null === w || void 0 === w?void 0:w.kna;}).then(function(w){return Promise.all([Promise.resolve(w),t.Q0a()]);}).then(function(w){var v;w=pa(w);v=w.next().value;if(w.next().value)!1;else return v;}):this.CE().then(function(w){w.cZ.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.Q0a=function(){var q;q=this;return this.CE().then(function(t){return (t=t.cZ.getServiceTokens(q.profile)) && t.find(function(w){return "cad" === w.name;});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Wc)),r.__param(1,(0,k.l)(g.yb)),r.__param(2,(0,k.l)(d.RS)),r.__param(3,(0,k.l)(m.PL)),r.__param(4,(0,k.l)(f.d4)),r.__param(5,(0,k.l)(l.O1))],a);b.XDa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Q6a=void 0;r=a(0);c=a(272);k=a(1172);h=a(497);g=a(1179);d=a(501);f=a(503);m=a(1180);l=a(135);n=a(1181);p=a(505);q=a(1182);b.Q6a=new r.zd(function(t){t(h.KJa).to(g.JJa).ba();t(c.Xga).to(k.LJa).ba();t(d.gNa).gm(function(w){for(var v=[],u=0;u < arguments.length;++u){v[u - 0]=arguments[u];}u=a(295).sG;return new (Function.prototype.bind.apply(u,[null].concat(ja(v))))();});t(f.OJa).xf(function(){return function(w){return new m.PJa(w);};});t(l.CL).to(n.HJa).ba();t(p.GJa).to(q.FJa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x){this.Vf=w;this.config=v;this.Jxa=u;this.yBa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;r=a(2);k=a(0);h=a(7);g=a(497);d=a(1173);f=a(1174);m=a(1175);l=a(1176);n=a(1177);p=a(1178);q=a(501);a=a(502);c.prototype.create=function(w){var v,u;v=this.Vf.kb("ManifestParser",w);u=new d.sEa(v,this.config);return new m.MJa(u,new f.BPa(v,this.config,w,u,this.Jxa),new l.WPa(v,w,this.yBa),new n.rDa(v,this.config,w),new p.xQa(v));};t=c;t=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.KJa)),r.__param(2,(0,k.l)(q.gNa)),r.__param(3,(0,k.l)(a.UPa))],t);b.LJa=t;},function(r,b,a){var k,h,g;function c(d,f){this.log=d;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;k=a(105);h=a(294);g=a(24);c.prototype.exa=function(d,f,m){var l,n,p,q;l=this;n=this.config.ina;p=this.config.hna;d=pa((0,k.zv)(function(t){return (!n.length || 0 <= n.indexOf(t.id)) && 0 > p.indexOf(t.id);},d || []));q=d.next().value;d.next().value.forEach(function(t){return l.log.warn("Cdn is not allowed",{Id:t.id});});d=q.map(function(t){var w;w=(f?f.find(function(v){return v.key === t.key;}):void 0) || ({});return {id:t.id,name:t.name,bc:t.bc,type:t.type,m6a:t.key,OPb:t.D6a,location:{id:w.key,bc:w.bc,level:w.level,weight:w.weight}};});d.sort(function(t,w){return t.bc - w.bc;});this.log.trace("Transformed cdns",{Count:d.length});if(m && !d.length)throw Error("no valid cdns");return d;};c.prototype.hOb=function(d,f,m,l){var n;n=d.filter(function(p){return -1 === m.findIndex(function(q){return q.id === p.id;});}).map(function(p){return {z9a:!0,Pc:p};}).concat(m.map(function(p){return {z9a:!1,Pc:p};})).sort(function(p,q){return p.Pc.bc === q.Pc.bc?p.z9a?-1:1:p.Pc.bc - q.Pc.bc;}).map(function(p,q){(0,h.tP)(p.Pc).bc=q + 1;return p.Pc;});d=f.filter(function(p){return -1 === l.findIndex(function(q){return q.key === p.key;});}).concat(l).map(function(p){var q;q=n.findIndex(function(t){return t.key === p.key;});(0,g.sb)(-1 !== q);q=n[q];(0,h.tP)(p).bc=q.bc;return p;});return {m1b:n,ORb:d};};b.sEa=c;},function(r,b,a){var k,h,g,d;function c(f,m,l,n,p){this.log=f;this.config=m;this.j=l;this.CV=n;this.Jxa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.BPa=void 0;k=a(43);h=a(12);g=a(134);d=a(498);c.prototype.V9a=function(f,m){var l;l=this;m=m.map(function(n){var p,q,t,w,v;t=l.n5b(n);n.kE || !n.Ki || t && 0 < t.length || l.log.error("track without downloadables",l.bLb(n));w={};v=[];0 < t.length && (w=n.language && 0 <= l.config.WO.indexOf(n.language)?t[1] && t[1].profile === k.mm.JHa?t[1]:t[0]:t[0],w.profile == k.mm.HL && (w=l.b1b(t),!1),v=l.CV.exa(n.tWa,void 0,!1));n=l.Jxa(l.j,n.yg,n.id,null !== (p=n.bc) && void 0 !== p?p:-1,null !== (q=n.Ki) && void 0 !== q?q:!0,f,w.wc,w.urls || ({}),v,n.language,n.pE,g.b4[n.ri.toLowerCase()] || g.cq.ML,n.EK,n.variant,n.TE.toUpperCase(),w.profile,l.iLb(w) || ({}),n.kE,n.t$,n.w$,n.fv);l.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.P4b=function(f){var m,l;m=this;l=this.config.yqa;if(l){if(f=pa(f.filter(function(n){return n.Af == l || n.trackId == l;})).next().value)return f;}else if(this.j.s8 && (f=pa(f.filter(function(n){return n.trackId == m.j.s8;})).next().value))return f;};c.prototype.n5b=function(f){var m,l;m=this;l=f.vZa;f=Object.entries(f.EBa || ({})).map(function(n){var p;p=pa(n);n=p.next().value;p=p.next().value;return {wc:l[n],profile:n,size:p.size || 0,priority:m.jKb(n,p),offset:p.Ova || 0,iXb:p.width,i$a:p.height,urls:p.Gu};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.jKb=function(f,m){var l,n;l=this.config.$v.indexOf(f);m=m.size;n=this.config.gR;return f === k.mm.ufa && 0 < n && m > n?this.config.$v.length + 1:0 <= l?l:this.config.$v.length;};c.prototype.iLb=function(f){if(f.profile === k.mm.HL)return {offset:f.offset,length:f.size,ur:{width:f.iXb,height:f.i$a}};};c.prototype.b1b=function(f){var m,l;m=this.config.Zsa || d.zia.q2a();l=pa(f.filter(function(n){return n.profile === k.mm.HL;}).filter(function(n){return n.i$a === m;})).next().value;if(l)return l;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.yw.height,intendedResolution:m});return f[0];};c.prototype.bLb=function(f){return {isNone:f.kE,isForced:f.t$,bcp47:f.language,id:f.yg};};b.BPa=c;},function(r,b,a){var k;function c(h,g,d,f,m){this.CV=h;this.jBa=g;this.w5b=d;this.jV=f;this.Ngb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;k=a(294);c.prototype.T9a=function(h){var g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A;f=h.Ib;m={Rf:null !== (d=null === (g=f.DV) || void 0 === g?void 0:g.vo) && void 0 !== d?d:"",xy:f.xy};l=! !f.n_;g=this.CV.exa(f.Al,f.Dj,!0);d=this.jBa.V9a(m,f.F0);h=this.w5b.PWb(f.z5b);n=l?this.jV.S9a(m,f.tu,d):this.jV.KWb(m,f.tu,f.media,d);m=this.Ngb.QWb(m,f.wy);p=m[0];q=this.jV.bxb(n) || n.find(function(B){return l?B.trackId === f.n_.Mn:B.Ex === f.u7[0].Mn;}) || n[0];t=this.jBa.P4b(q.oi) || d.find(function(B){return l?B.trackId === f.n_.hR:B.Ex === f.u7[0].ieb;}) || q.oi[0];w=this.Ngb.MWb(f.wy);v=f.Mi;u=f.Rzb;x=f.FI;y=f.Sl;z=f.tu.findIndex(function(B){return B.yg == q.trackId;});A=f.wy.findIndex(function(B){return B.yg == p.trackId;});return {Lv:w,Yh:g,aj:n,Vp:m,oi:d,aC:h,Mi:v,q1b:u,UI:x,Sl:y,fEb:z,uEb:A,v7:p,eW:q,gW:t};};c.prototype.iOb=function(h,g,d){var f,m,l,n,p,q;f=this;n=this.CV.hOb(h.Ib.Al,h.Ib.Dj,d.Ib.Al,d.Ib.Dj);p=n.m1b;n=n.ORb;(0,k.tP)(h.Ib).Al=p;(0,k.tP)(h.Ib).Dj=n;g.Yh=this.CV.exa(p,n,!0);q={Rf:null !== (l=null === (m=d.Ib.DV) || void 0 === m?void 0:m.vo) && void 0 !== l?l:"",xy:d.Ib.xy};d=d.Ib;m=d.tu;d.F0.forEach(function(t){var w;if(t.Ki){w=f.gbb(h.Ib.F0,g.oi,t,function(v){return f.jBa.V9a(q,[v])[0];});w && g.aj.forEach(function(v){var u;v=v.oi;u=v.findIndex(function(x){return x.trackId === w.trackId;});-1 !== u && (v[u]=w);});}});m.forEach(function(t){t.Ki && f.gbb(h.Ib.tu,g.aj,t,function(w){return f.jV.S9a(q,[w],g.oi)[0];});});return {ia:h,Yc:g};};c.prototype.E0b=function(h,g){return this.jV.QHb(h,g);};c.prototype.gbb=function(h,g,d,f){var m,l,n,p;m=h.findIndex(function(q){return q.yg === d.yg;});l=-1 !== m?h[m]:void 0;n=g.findIndex(function(q){return q.trackId === d.yg;});p=-1 !== n?g[n]:void 0;if(l && !l.Ki && p && !p.Ki)return (f=f(d),h[m]=d,g[n]=f);};b.MJa=c;},function(r,b){function a(c,k,h){this.log=c;this.j=k;this.yBa=h;}Object.defineProperty(b,"__esModule",{value:!0});b.WPa=void 0;a.prototype.PWb=function(c){var k;k=this;c=(c || []).filter(function(h){return h.urls && 0 < h.urls.length;}).map(function(h){return k.yBa(k.j,h.id,h.height,h.width,h.lXb,h.mXb,h.size,h.fv,{unknown:h.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(h,g){return h.size - g.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.WPa=a;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q){n=h.OS.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.rDa=void 0;k=a(483);h=a(499);g=a(105);d=a(90);f=a(134);m=a(3);l=a(38);la(c,h.OS);c.prototype.S9a=function(n,p,q){var t,w;t=this;w=this.config.tda;p=p.filter(function(v){var u,x;u=v.kE || !v.Ki || v.streams && 0 < v.streams.length;u || t.log.warn("Audio track is missing streams",t.r9(v));x=0 === w.length || 0 <= w.indexOf(v.ri);x || t.log.warn("Audio track is not supported",t.r9(v));return u && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return t.R9a(n,v,t.nJb(v,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.KWb=function(n,p,q,t){var w,v,u,x;w=this;v=pa((0,g.zv)(function(y){return y.kE;},p));p=v.next().value;v=v.next().value;v=pa((0,g.zv)(function(y){return y.streams && 0 < y.streams.length;},v));u=v.next().value;v.next().value.forEach(function(y){return w.log.warn("Audio track is missing streams",w.r9(y));});x=this.config.tda;v=pa((0,g.zv)(function(y){return 0 === x.length || 0 <= x.indexOf(y.ri);},u));u=v.next().value;v.next().value.forEach(function(y){return w.log.warn("Audio track is not supported",w.r9(y));});p=[].concat(ja(u),ja(p)).map(function(y){return w.R9a(n,y,w.WKb(y.yg,q,t));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.bxb=function(n){var p,q;p=this;q=this.config.uqa;if(q){if(n=pa(n.filter(function(t){return t.Af == q || t.trackId == q;})).next().value)return n;}else if(this.j.r8 && (n=pa(n.filter(function(t){return t.trackId == p.j.r8;})).next().value))return n;};c.prototype.QHb=function(n,p){this.config.rVa.forEach(function(q){var t,w,v;t=p.tu.filter(function(u){return u.profile === q;}).reduce(function(u,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){u.add(y);});return u;},new Set());w=!1;v=n.Ib.tu.map(function(u){var x;if(u.profile === q){x=u.streams.filter(function(y){return t.has(y.bitrate);});if(x.length === u.streams.length)return u;w=!0;if(0 === x.length)throw new l.od(m.T.rJa,m.O.Jhb);return Object.assign(Object.assign({},u),{streams:x});}return u;});w && (n.Ib=Object.assign(Object.assign({},n.Ib),{tu:v}));});return n;};c.prototype.R9a=function(n,p,q){var t,w,v,u;u=p.ri;n=Object.assign(Object.assign({},n),{type:d.Vi.audio,EK:p.EK,variant:p.variant,trackId:p.yg,Ex:p.lR,ri:f.b4[u.toLowerCase()] || f.cq.ML,TE:u,Af:p.language,displayName:p.pE,bc:null !== (t=p.bc) && void 0 !== t?t:-1,Ki:null !== (w=p.Ki) && void 0 !== w?w:!0,channels:p.channels,sdc:p.channels,oi:q,ph:{Bcp47:p.language,TrackId:p.yg},streams:[],isNative:p.isNative,Vq:p.kE,t0:p.t0});n.streams=this.lfb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.oi.length});n.$zb=k.sDa[null === (v=n.streams[0]) || void 0 === v?void 0:v.Pf];return n;};c.prototype.r9=function(n){return {language:n.pE,bcp47:n.language,type:n.ri};};c.prototype.nJb=function(n,p){return p.filter(function(q){if(0 <= n.fFb.indexOf(q.Ex))return !1;if(n.NYa){if(n.NYa !== q.Ex && (q.Vq() || q.Cp()))return !1;}else if(n.qVb){if(q.Vq() || q.Cp())return !1;}else if(q.Cp())return !1;return !0;});};c.prototype.WKb=function(n,p,q){return p.filter(function(t){return t.yf.cc === n;}).map(function(t){return t.yf.xn;}).map(function(t){return q.find(function(w){return w.trackId === t;});}).filter(Boolean);};b.rDa=c;},function(r,b,a){var k,h,g,d;function c(f){return h.OS.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xQa=void 0;k=a(105);h=a(499);g=a(90);d=a(134);la(c,h.OS);c.prototype.QWb=function(f,m){var l,n;l=this;m=pa((0,k.zv)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return l.log.warn("Video track is missing streams",{trackId:p.yg});});m=n.map(function(p){var q;q=p.ri;q=Object.assign(Object.assign({},f),{type:g.Vi.video,trackId:p.yg,Ex:p.lR,ri:d.b4[q.toLowerCase()] || d.cq.ML,TE:q,streams:[],ph:{},a_:p.a_});q.streams=l.lfb(p.streams,q);l.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.MWb=function(f){var m;m=f.map(function(l){return l.a_;}).filter(Boolean);m=[].concat.apply([],ja(m)).map(function(l){return l.aa;});f=f.map(function(l){return l.hpa;}).filter(Boolean).map(function(l){return l.aa;});return 0 < m.length?m:f;};b.xQa=c;},function(r,b,a){var k,h,g,d,f,m;function c(l,n){l=h.ff.call(this,l,"ManifestParserConfigImpl") || this;l.ih=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);d=a(48);f=a(111);m=a(53);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{tda:{configurable:!0,enumerable:!0,get:function(){return [];}},uqa:{configurable:!0,enumerable:!0,get:function(){return "";}},ina:{configurable:!0,enumerable:!0,get:function(){return [];}},hna:{configurable:!0,enumerable:!0,get:function(){return [];}},yqa:{configurable:!0,enumerable:!0,get:function(){return "";}},Zsa:{configurable:!0,enumerable:!0,get:function(){return 0;}},gR:{configurable:!0,enumerable:!0,get:function(){return this.ih.gR.ca(m.jw);}},$v:{configurable:!0,enumerable:!0,get:function(){return this.ih.$v;}},WO:{configurable:!0,enumerable:!0,get:function(){return this.ih.WO;}},rVa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.CK,"supportedAudioTrackTypes")],a.prototype,"tda",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"uqa",null);r.__decorate([d.config(d.GBa,"cdnIdWhiteList")],a.prototype,"ina",null);r.__decorate([d.config(d.GBa,"cdnIdBlackList")],a.prototype,"hna",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"yqa",null);r.__decorate([d.config(d.bC,"imageSubsResolution")],a.prototype,"Zsa",null);r.__decorate([d.config(d.bC,"timedTextSimpleFallbackThreshold")],a.prototype,"gR",null);r.__decorate([d.config(d.CK,"timedTextProfiles")],a.prototype,"$v",null);r.__decorate([d.config(d.CK,"imscLanguageList")],a.prototype,"WO",null);r.__decorate([d.config(d.CK,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"rVa",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om)),r.__param(1,(0,k.l)(f.jG))],a);b.JJa=a;},function(r,b){function a(c){this.Yc=c;this.Sb=JSON.stringify(this.eLb());}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;a.prototype.eLb=function(){var c;c=[];(!this.Yc.Yh || 0 >= this.Yc.Yh.length) && c.push({error:"No CDN."});this.Yc.eW || c.push({error:"No default audio track.",foundTracks:this.lra(this.Yc.aj)});this.Yc.v7 || c.push({error:"No default video track.",foundTracks:this.lra(this.Yc.Vp)});this.Yc.gW || c.push({error:"No default subtitle track.",foundTracks:this.lra(this.Yc.oi)});return c;};a.prototype.lra=function(c){return c && 0 < c.length?c.map(function(k){return k.trackId;}):"No tracks found.";};b.PJa=a;},function(r,b,a){var k,h,g,d,f;function c(m,l){this.jRb=m;this.qSb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;r=a(2);k=a(0);h=a(504);g=a(505);d=a(38);f=a(3);c.prototype.create=function(m){var l;if(m && !this.LPb(m)){if(this.RPb(m))throw d.od.R7b(f.T.BL,f.O.Gob,m);l=this.jRb();l.dUa(m.links);this.qSb.jO(m);return {Ib:m,Gk:l,Q4a:!1,P4a:!1};}};c.prototype.RPb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.LPb=function(m){return ("runtime" in m) && ! !m.runtime;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.ULa)),r.__param(1,(0,k.l)(g.GJa))],a);b.HJa=a;},function(r,b,a){var k,h;function c(g){this.RGb=g;this.N6a={Wn:"drmType",Ydc:"drmVersion",expiration:"expiration",K:"movieId",Ip:"packageId",duration:"duration",Mi:"playbackContextId",u7:["defaultTrackOrderList",{xP:"mediaId",xR:"videoTrackId",ieb:"subtitleTrackId",Mn:"audioTrackId",Bgc:"preferenceOrder"}],bec:["eligibleABTestMap",{gk:h.gk}],bdc:["badgingInfo",{Rdc:"dolbyDigitalAudio",Lec:"hdrVideo",Sdc:"dolbyVisionVideo",Qhc:"ultraHdVideo","3dVideo":"3dVideo",Qdc:"dolbyAtmosAudio",Ucc:"assistiveAudio",$gc:"sdVideo",Kec:"hdVideo"}],type:"type",Xcc:["audioTextShortcuts",{id:"id",Mn:"audioTrackId",Fhc:"textTrackId"}],wgc:"partiallyHydrated",q7a:"maxRecommendedAudioRank",r7a:"maxRecommendedTextRank",Sl:"drmContextId",sNb:"hasDrmProfile",rNb:"hasClearProfile",FI:"hasDrmStreams",xsa:"hasClearStreams",Dj:["locations",{bc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Al:["servers",{id:"id",name:"name",type:"type",bc:"rank",D6a:"lowgrade",oFb:["dns",{host:"host",kPb:"ipv4",lPb:"ipv6",BIb:"forceLookup"}],key:"key"}],tu:["audio_tracks",{type:"type",EK:"subType",variant:"variant",ri:"trackType",yg:"new_track_id",lR:"track_id",UYb:"profileType",r3b:"stereo",profile:"profile",channels:"channels",language:"language",azb:"channelsFormat",t0:"surroundFormatLabel",pE:"languageDescription",fFb:"disallowedSubtitleTracks",NYa:"defaultTimedText",isNative:"isNative",kE:"isNoneTrack",streams:["streams",{op:"downloadable_id",size:"size",NH:"content_profile",ri:"trackType",bitrate:"bitrate",fj:"isDrm",urls:["urls",{jp:"cdn_id",url:"url"}],xUb:"new_stream_id",type:"type",channels:"channels",azb:"channelsFormat",t0:"surroundFormatLabel",language:"language",Wcc:"audioKey",iUb:["moov",{size:"size",offset:"offset"}],Dt:["sidx",{size:"size",offset:"offset"}],UB:["ssix",{size:"size",offset:"offset"}],lj:"tags",z_:"representationId"}],$zb:"codecName",TE:"rawTrackType",id:"id",bc:"rank",Ki:"hydrated",qVb:"offTrackDisallowed"}],wy:["video_tracks",{ri:"trackType",yg:"new_track_id",type:"type",lR:"track_id",sNb:"hasDrmProfile",rNb:"hasClearProfile",FI:"hasDrmStreams",xsa:"hasClearStreams",CI:"groupName",streams:["streams",{op:"downloadable_id",size:"size",NH:"content_profile",ri:"trackType",XH:"drmHeaderId",bitrate:"bitrate",fj:"isDrm",urls:["urls",{jp:"cdn_id",url:"url"}],xUb:"new_stream_id",type:"type",ygc:"peakBitrate",YEb:"dimensionsCount",ZEb:"dimensionsLabel",k$a:"pix_w",j$a:"pix_h",ubb:"res_w",bza:"res_h",CDb:"crop_x",DDb:"crop_y",BDb:"crop_w",ADb:"crop_h",r0a:"framerate_value",q0a:"framerate_scale",Cdb:"startByteOffset",$a:"vmaf",iUb:["moov",{size:"size",offset:"offset"}],Dt:["sidx",{size:"size",offset:"offset"}],UB:["ssix",{size:"size",offset:"offset"}],zr:["segmentVmaf",{offset:"offset",$a:"vmaf"}],lj:"tags",z_:"representationId"}],UYb:"profileType",r3b:"stereo",profile:"profile",YEb:"dimensionsCount",ZEb:"dimensionsLabel",rhc:["snippets",{gk:[h.gk,{qhc:"snippetSpec",sa:"startTimeMs",va:"endTimeMs"}]}],hpa:["drmHeader",{aa:"bytes",vzb:"checksum",XH:"drmHeaderId",Ek:"keyId",ur:["resolution",{height:"height",width:"width"}]}],a_:["prkDrmHeaders",{aa:"bytes",vzb:"checksum",XH:"drmHeaderId",Ek:"keyId",ur:["resolution",{height:"height",width:"width"}]}],Su:"flavor",Vec:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",yxa:"pixelAspectX",zxa:"pixelAspectY",Bfc:"maxCroppedWidth",Afc:"maxCroppedHeight",Cfc:"maxCroppedX",Dfc:"maxCroppedY",Lfc:"max_framerate_value",Kfc:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Ufc:"minCroppedWidth",Tfc:"minCroppedHeight",Vfc:"minCroppedX",Wfc:"minCroppedY",mh:["license",{fRb:"licenseResponseBase64",Ggc:"providerSessionToken",dhc:"secureStopExpected",Xdc:"drmSessionId",links:["links",{}]}]}],DV:["cdnResponseData",{oK:"sessionABTestCell",vo:"pbcid"}],On:["choiceMap",{fe:"initialSegment",type:"type",N:"viewableId",P:["segments",{gk:[h.gk,{sa:"startTimeMs",va:"endTimeMs",next:["next",{gk:[h.gk,{weight:"weight"}]}],vc:"defaultNext",Lq:"exitZones"}]}]}],Gm:["contentPlaygraph",{ja:["playgraph",{fe:"initialSegment",P:["segments",{gk:[h.gk,{N:"viewableId",sa:"startTimeMs",va:"endTimeMs",next:["next",{gk:[h.gk,{weight:"weight"}]}],vc:"defaultNext"}]}]}],whc:["startIdent",{Wec:"identToken",N:"viewableId"}]}],media:["media",{id:"id",yf:["tracks",{cc:"AUDIO",xn:"TEXT",Nb:"VIDEO"}]}],n_:["recommendedMedia",{xR:"videoTrackId",Mn:"audioTrackId",hR:"timedTextTrackId"}],F0:["timedtexttracks",{ri:"trackType",yg:"new_track_id",type:"type",EK:"subType",variant:"variant",TE:"rawTrackType",pE:"languageDescription",language:"language",id:"id",kE:"isNoneTrack",t$:"isForcedNarrative",vZa:["downloadableIds",{}],tWa:["cdnlist",{id:"id",name:"name",type:"type",bc:"rank",D6a:"lowgrade",oFb:["dns",{host:"host",kPb:"ipv4",lPb:"ipv6",BIb:"forceLookup"}],key:"key"}],EBa:["ttDownloadables",{gk:[h.gk,{id:"id",size:"size",Ehc:"textKey",Jec:"hashValue",Iec:"hashAlgo",ffc:"isImage",Ova:"midxOffset",Q7a:"midxSize",height:"height",width:"width",Gu:["downloadUrls",{}],urls:["urls",{url:"url",jp:"cdn_id"}]}]}],w$:"isLanguageLeftToRight",fv:"headIdentDuration",bc:"rank",Ki:"hydrated"}],z5b:["trickplays",{op:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",mXb:"pixelsAspectY",lXb:"pixelsAspectX",width:"width",height:"height",fv:"headIdentDuration"}],Xgb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Wdc:"dpsid",ci:"isBranching",xy:"viewableType",jP:"isSupplemental",Rzb:"clientIpAddress",Vhc:"urlExpirationDuration",wfc:"manifestExpirationDuration",yhc:["steeringAdditionalInfo",{zhc:"steeringId",Rcc:"additionalGroupNames",Bhc:["streamingClientConfig",{}]}],xj:"auxiliaryManifestToken",Iua:["liveMetadata",{CFb:["downloadableIdToSegmentTemplateId",{gk:h.gk}],X0b:["segmentTemplateIdToSegmentTemplate",{gk:[h.gk,{Ycc:"availabilityStartTime",UOb:"initialization",media:"media",Cgc:"presentationTimeOffset",xhc:"startNumber",duration:"duration",V:"timescale"}]}]}],G3b:"streamingType"};this.rSb=Object.assign(Object.assign({},this.N6a),{sVa:["auxiliaryManifests",this.N6a]});}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;r=a(2);k=a(0);h=a(218);c.prototype.jO=function(g){this.RGb.jO(g,this.rSb);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.rGa))],a);b.FJa=a;},function(r,b,a){var k;function c(h,g,d,f,m){this.R5=this.Vm=this.tZ=this.sZ=k.zw;this.request=h;this.type=h.responseType;this.Yl=f;this.abort=g;this.timeout=d;this.R5=m;}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;k=a(14);c.prototype.L1b=function(h){this.sZ=h;};c.prototype.R1b=function(h){this.tZ=h;};c.prototype.C1b=function(h){this.Vm=h;};b.EHa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kYa=void 0;b.kYa=function(a,c,k,h){return {RLb:function(){var g;g=a.Gra();h.fv && (g+=h.fv);return g;},Ca:c,request:k,Ef:!1};};},function(r,b,a){var k,h,g,d;function c(f){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(f);}Object.defineProperty(b,"__esModule",{value:!0});b.Qob=void 0;k=a(2);r=a(116);h=a(1186);g=a(1191);d=a(1198);a=(function(f){function m(l,n){var p,q,t,w;t=f.call(this) || this;t.kk=!0;t.YT=[];t.Vw=0;t.$Sa=!0;w=l.Ef || !1;t.Pa=l.Ca || console;t.XG=l.request;t.Qw=l.RLb;t.R4=null !== (p=l.Gec) && void 0 !== p?p:function(v,u){return v - (null !== u && void 0 !== u?u:t.Qw());};t.dh=null;t.kk=!0;t.YT=[];t.qU=n.profile;t.Ll=n.url;t.UG=n.Kd;t.pU=n.preferences;t.JT=n.ih;t.Vw=t.UG || 0;t.$Sa=null !== (q=n.Jgc) && void 0 !== q?q:!0;l={url:t.Ll,request:t.XG,Kd:t.UG,xml:n.xml,preferences:t.pU,ih:t.JT,Ca:t.Pa,Ef:w,bufferSize:n.bufferSize,uv:n.uv,hya:n.hya || 0,RVa:n.RVa};if("nflx-cmisc" === t.qU)(l.offset=n.Ova,l.size=n.Q7a,l.Oca=n.Oca,l.MZa=n.MZa,t.pd=new g(l));else if(c(t.qU) && "function" === typeof h)t.pd=new h(l);else throw Error("SubtitleManager: " + t.qU + " is an unsupported profile");t.pd.on("ready",function(){var v,u;v=! !n.qVa;t.Pa.info("ready event fired by subtitle stream");t.emit("ready");u=t.pd.CO.bind(t.pd);t.dh=new d(t.Qw,u,t.R4,function(){return t.kk;},t.Pa,n);if("dfxp-ls-sdh" === t.qU && "function" === typeof h)t.dh.on("stagesubtitle",t.b3b.bind(t));t.dh.on("showsubtitle",t.kAa.bind(t));t.dh.on("removesubtitle",t.Mya.bind(t));t.dh.on("underflow",t.Do.bind(t));t.dh.on("bufferingComplete",t.$e.bind(t));v && (t.Pa.info("autostarting subtitles"),setTimeout(function(){t.ew(t.Qw());},10));});t.pd.on("error",t.emit.bind(t,"error"));return t;}k.__extends(m,f);m.prototype.start=function(){this.pd.start();};m.prototype.jab=function(){this.kk || (this.kk=!0,this.c_a(this.Vw));};m.prototype.ew=function(l){this.$Sa && !this.kk && 1E4 < Math.abs(l - this.Vw) && (this.Pa.warn("Detected an unexpected pts jump larger than",1E4,"at",l,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.jab());this.Vw=l;this.kk && (this.kk=!1,this.d3b(l));null !== this.dh && (this.d6b(l),this.dh.ew(l));};m.prototype.stop=function(){var l;this.Pa.info("stop called");this.kk || this.pause();this.pd.removeAllListeners(["ready"]);null !== this.dh && this.dh.stop();l=this.YT.reduce(function(n,p){n.kdb+=p.b0;n.d8+=p.e8 || 0;n.gPb.push(p);return n;},{kdb:0,d8:0,gPb:[]});"object" === typeof this.pd && this.pd.close();this.Pa.info("metrics: " + JSON.stringify(l));return l;};m.prototype.pause=function(){var l;l=this.Qw();this.kk?this.Pa.warn("pause called on subtitle manager, but it was already paused!"):(this.Pa.info("pause called at " + l),this.kk=!0,this.c_a(l));null !== this.dh && this.dh.pause();};m.prototype.o9=function(l,n){return "function" === typeof this.pd.o9?this.pd.o9(l,n):[];};m.prototype.Zu=function(l,n){return this.pd.Zu(l,n);};m.prototype.CO=function(l){return this.pd.CO(l);};m.prototype.ZE=function(l){var p;function n(){p.Pa.info("bufferingComplete from setStreamStartPosition");p.emit("bufferingComplete");}p=this;"function" === typeof this.pd.ZE?this.pd.ZE(l,n):n();};m.prototype.Qi=function(l,n){"function" === typeof this.pd.Qi && this.pd.Qi(l,n);};m.prototype.mj=function(l,n){"function" === typeof this.pd.mj && this.pd.mj(l,n);};m.prototype.Zqa=function(){return this.YT[this.YT.length - 1];};m.prototype.kAa=function(l){var n,p,q,v;p=0;this.Pa.info("show subtitle called at " + this.Qw() + " for displayTime " + l.displayTime);this.emit("showsubtitle",l);q=this.Zqa();q.OQ || (q.OQ={});if(c(this.qU))try{for(var t=k.__values(l.blocks),w=t.next();!w.done;w=t.next()){v=w.value;q.OQ[v.id] || (p++,q.OQ[v.id]=!0);}}catch(x){var u;u={error:x};}finally{try{w && !w.done && (n=t.return) && n.call(t);}finally{if(u)throw u.error;}}else q.OQ[l.id] || (p++,q.OQ[l.id]=!0);q.b0+=p;};m.prototype.Mya=function(l){this.Pa.info("remove subtitle called at " + this.Qw() + " for remove time " + (l.displayTime + l.duration));this.emit("removesubtitle",l);};m.prototype.b3b=function(l){this.Pa.info("stage subtitle called at " + this.Qw() + " for displayTime " + l.displayTime);this.emit("stagesubtitle",l);};m.prototype.Do=function(){this.Pa.info("underflow fired by the subtitle timer");this.emit("underflow");};m.prototype.$e=function(){this.Pa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};m.prototype.d3b=function(l){this.Pa.info("creating a new subtitle interval at " + l);this.YT.push({$:l,b0:0});};m.prototype.d6b=function(l){var n;n=this.Zqa();n && (n.sua=l);};m.prototype.c_a=function(l){var n;this.Pa.info("ending subtitle interval at " + l);n=this.Zqa();n && (n.La=l,n.La < n.$ && (this.Pa.warn("correcting for interval where endPts is smaller than startPts"),n.$=0 < n.La?n.La - 1:0),n.e8=this.pd.Zu(n.$,n.La),delete n.OQ,n.e8 > n.b0 && n.sua && 500 > n.La - n.sua && (n.e8=this.pd.Zu(n.$,n.sua)),this.Pa.info("showed " + n.b0 + " during this interval"),this.Pa.info("expected " + n.e8 + " for this interval"));};return m;})(r.EventEmitter);b.Qob=a;b.default=a;},function(r,b,a){var v,u,x,y,z,A,B,D,C;function c(F){var G,E,I,N,L;G=F.preferences;E=F.ih;I=F.Kd;N=F.xml;L=F.Ca;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.ye=this.Uja=null;this.pU="object" === typeof G?F.preferences:{};this.JT="object" === typeof E?F.ih:{};this.aD="number" === typeof I?F.Kd:0;this.hH="string" === typeof N?F.xml:"";this.Pa="object" === typeof L?F.Ca:C;this.XG=F.request;this.Ll=F.url;this.zG=[];this.Vw=this.aD;this.dh=null;this.Eka=this.aTa=!1;this.Hpb=F.hya || 0;}function k(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function h(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function g(){var F,G,E;F=this;G=F.hH.indexOf("<p");if(-1 < G){E=F.hH.slice(0,G);m(E,function(I,N){null !== I?(I.Oec=E,F.emit("error",I)):(F.Uja=N,F.ye=new x(F.hH,N.tickRate),f.call(F,F.aD));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var E;E=F.filter(function(I){return I.startTime <= G && G <= I.endTime;});F=F.filter(function(I){return I.startTime > G;});return 0 < F.length?E.concat([F[0]]):E;}function f(F){var G,E,I,N,L,H,Q;G=this;E=G.Uja;I=0;N=[];L=E.defaultStyle?[E.defaultStyle]:[];G.Pa.info("parsing the next 5 entries...");H=G.ye.sLb(F);G.Pa.info(H);Q=u.Dc(!0);Q.onerror=function(O){O.xml=H;G.emit("error",O);};Q.onend=function(){var O;O=G.zG.reduce(function(J,M){M=M.blocks.reduce(function(P,R){return P.concat([R.id]);},[]);return J.concat(M);},[]);N.forEach(function(J){var M;if(-1 === O.indexOf(J.id)){M=J && J.blocks && J.blocks.filter(function(P){return 0 < P.textNodes.length;});M && 0 < M.length && (J.blocks=M,G.zG.push(J));}});G.Eka=!1;G.aTa || (G.aTa=!0,G.emit("ready"));};Q.ontext=function(O){("" !== O.trim() || O.match(/ +/)) && q(q(N).blocks).textNodes.push({text:O.match(/ +/)?O:O.trim(),style:q(L),lineBreaks:I});I=0;};Q.onclosetag=function(){"undefined" !== typeof Q.tag.attributes.style && L.pop();};Q.onopentag=function(O){var J,M,P,R,S;J=O.attributes;M=O.name;O=E.tickRate;if("p" === M){I=0;M=J["xml:id"];J.style && L.push(J.style);P=Math.floor(parseInt(J.begin) / O * 1E3);if(0 === N.length || q(N).displayTime !== P){P=N.push;R={};S=parseInt(J.begin) / O;O=parseInt(J.end) / O;R.id=M;R.startTime=Math.floor(1E3 * S);R.endTime=Math.floor(1E3 * O);R.style=J.style;R.region=J.region;R.displayTime=R.startTime;R.duration=R.endTime - R.startTime;R.extent=J["tts:extent"] || null;R.origin=J["tts:origin"] || null;R.latestEndSoFar=0 > R.endTime?0:R.endTime;R.blocks=[{textNodes:[],region:R.region,id:M,extent:R.extent,origin:R.origin}];P.call(N,R);}else q(N).blocks.push({textNodes:[],region:J.region,id:M,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === M?L.push(J.style):"br" === M && I++;};Q.write("<entries>").write(H).write("</entries>").close();}function m(F,G){var E,I,N,L,H,Q;E=u.Dc(!0);I={};N=[];L=null;H=[];Q={};E.onerror=function(O){G(O,null);};E.onend=function(){G(null,I);};E.onclosetag=function(){N.pop();};E.onopentag=function(O){var J,M,P,R;J=O.attributes;M=O.name;P=I.regions;R=I.styles;N.push(O);if("tt" === M)I=l(J);else if("body" === M)"undefined" !== typeof J.style && (I.defaultStyle=J.style,H.push(J.style));else if("initial" === M && p(N,"styling"))Q=n(J,A);else if("style" === M && p(N,"styling")){P=J["xml:id"];O=Q;J=n(J,A);if(Object.keys(O).length)for(var S in O){"undefined" === typeof J[S] && (J[S]=O[S]);}R[P]=J;}else "style" === M && p(N,"region")?(R=Object.keys(J)[0],"string" === typeof R && (P[L][R.slice(4)]=J[R])):"region" === M && p(N,"layout") && (L=J["xml:id"],P[L]=n(J,D));};setTimeout(function(){var O;for(E.write(F);0 < N.length && !E.error;){O=q(N).name;E.write("</" + O + ">");}E.close();},10);}function l(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(E){return parseInt(E,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(E){return parseInt(E,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var E;E={};G.forEach(function(I){"undefined" !== typeof F["tts:" + I]?E[I]=F["tts:" + I]:"undefined" !== typeof F["ttp:" + I]?E[I]=F["ttp:" + I]:"undefined" !== typeof F["ebutts:" + I]?E[I]=F["ebutts:" + I]:"undefined" !== typeof F["xml:" + I] && (E[I]=F["xml:" + I]);});E.styles={};E.regions={};return E;}function p(F,G){var E;for(E=F.length - 1;0 <= E;E--){if(F[E].name === G)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function t(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.oDb(F[G.style] || ({}),this.JT,this.pU),id:G.id};}function w(F,G){var E,I;E=this;I=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(N){var L;L=y.jDb(F,N);return {textNodes:N.textNodes.map(t.bind(E,I)),region:L,id:N.id};})};}v=a(116).EventEmitter;u=a(1187);x=a(1188);y=a(1189);z=a(1190);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");C={info:function(){}};b=Object.create(v.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Pa.info("incremental text stream created, starting at pts " + F.aD);F.hH?g.call(F):F.XG({url:F.Ll},function(G,E){F.hH=E;g.call(F);});};b.CO=function(F){var G,E,I;G=this;F < G.Vw - G.Hpb && (G.zG=[]);E=G.zG;I=0 < E.length?E[E.length - 1].startTime:F;G.Vw=F;for(!G.dh && 5 > G.zG.length && !G.Eka && (G.Pa.info("buffer size: " + G.zG.length + "; minimum: 5"),G.Eka=!0,G.dh=setTimeout(function(){G.dh=null;f.call(G,I + 1);},10));0 < E.length && E[0].endTime < F;){E.shift();}E=d(E,F).map(w.bind(G,G.Uja));F < G.ye.THb() && 0 === E.length && (E=null);return E;};b.Zu=function(F,G){return this.ye?this.ye.Zu(F,G):0;};b.close=function(){};b.Uhc=function(F){var G;G=k(F,"preferences");F=k(F,"defaults");return h(G,this.pU) || h(F,this.JT)?(this.pU=G,this.JT=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O;function c(){}function k(J,M){if(!(this instanceof k))return new k(J,M);for(var P=0,R=x.length;P < R;P++){this[x[P]]="";}this.q=this.c=this.Yn=this.textNode="";this.MVa=a.Qga;this.so=M || ({});this.so.B6a=this.so.B6a || this.so.pfc;this.Zua=this.so.B6a?"toLowerCase":"toUpperCase";this.lj=[];this.closed=this.GV=this.AQ=!1;this.tag=this.error=null;this.hn=! !J;this.K8a=!(!J && !this.so.K8a);this.state=O.Xea;this.Iy=(this.$db=this.so.$db)?Object.create(a.hpb):Object.create(a.Iy);this.kD=[];this.so.s1 && (this.Ik=Object.create(L));if(this.Jda=!1 !== this.so.position)this.position=this.line=this.HV=0;this.onready && this.onready(void 0);}function h(J,M){var P;if(!(this instanceof h))return new h(J,M);c.apply(this);this.rz=new k(J,M);this.readable=this.writable=!0;P=this;this.rz.onend=function(){P.emit("end");};this.rz.onerror=function(R){P.emit("error",R);P.rz.error=null;};y.forEach(function(R){Object.defineProperty(P,"on" + R,{get:function(){return P.rz["on" + R];},set:function(S){if(!S)return (P.removeAllListeners(R),P.rz["on" + R]=S);P.on(R,S);},enumerable:!0,configurable:!1});});}function g(J){return J.split("").reduce(function(M,P){M[P]=!0;return M;},{});}function d(J,M){return "[object RegExp]" === Object.prototype.toString.call(J)?! !M.match(J):J[M];}function f(J,M,P){J.textNode && m(J);J[M] && J[M](P);}function m(J){J.textNode=l(J.so,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function l(J,M){J.trim && (M=M.trim());J.normalize && (M=M.replace(/\s+/g," "));return M;}function n(J,M){m(J);J.Jda && (M+="\nLine: " + J.line + "\nColumn: " + J.HV + "\nChar: " + J.c);M=Error(M);J.error=M;J.onerror && J.onerror(M);return J;}function p(J){J.AQ && !J.GV && q(J,"Unclosed root tag");J.state !== O.Xea && J.state !== O.Yea && J.state !== O.xn && n(J,"Unexpected end");m(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);k.call(J,J.hn,J.so);return J;}function q(J,M){if("object" !== typeof J || !(J instanceof k))throw Error("bad call to strictFail");J.hn && n(J,M);}function t(J,M){var P,R;P=0 > J.indexOf(":")?["",J]:J.split(":");R=P[0];P=P[1];M && "xmlns" === J && (R="xmlns",P="");return {prefix:R,local:P};}function w(J){var M,P,R;J.hn || (J.vj=J.vj[J.Zua]());if(-1 !== J.kD.indexOf(J.vj) || J.tag.attributes.hasOwnProperty(J.vj))return J.vj=J.wj="";if(J.so.s1){M=t(J.vj,!0);P=M.local;if("xmlns" === M.prefix)if("xml" === P && J.wj !== I)q(J,"xml: prefix must be bound to " + I + "\nActual: " + J.wj);else if("xmlns" === P && J.wj !== N)q(J,"xmlns: prefix must be bound to " + N + "\nActual: " + J.wj);else {M=J.tag;R=J.lj[J.lj.length - 1] || J;M.Ik === R.Ik && (M.Ik=Object.create(R.Ik));M.Ik[P]=J.wj;}J.kD.push([J.vj,J.wj]);}else (J.tag.attributes[J.vj]=J.wj,f(J,"onattribute",{name:J.vj,value:J.wj}));J.vj=J.wj="";}function v(J,M){var P,R,U,ba,na,va,ya;if(J.so.s1){P=J.tag;R=t(J.tagName);P.prefix=R.prefix;P.local=R.local;P.uri=P.Ik[R.prefix] || "";P.prefix && !P.uri && (q(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),P.uri=R.prefix);R=J.lj[J.lj.length - 1] || J;P.Ik && R.Ik !== P.Ik && Object.keys(P.Ik).forEach(function(ra){f(J,"onopennamespace",{prefix:ra,uri:P.Ik[ra]});});R=0;for(var S=J.kD.length;R < S;R++){U=J.kD[R];ba=U[0];na=U[1];va=t(ba,!0);U=va.prefix;ya="" == U?"":P.Ik[U] || "";na={name:ba,value:na,prefix:U,local:va.local,uri:ya};U && "xmlns" != U && !ya && (q(J,"Unbound namespace prefix: " + JSON.stringify(U)),na.uri=U);J.tag.attributes[ba]=na;f(J,"onattribute",na);}J.kD.length=0;}J.tag.ifc=! !M;J.AQ=!0;J.lj.push(J.tag);f(J,"onopentag",J.tag);M || (J.state=J.K8a || "script" !== J.tagName.toLowerCase()?O.xn:O.RL,J.tag=null,J.tagName="");J.vj=J.wj="";J.kD.length=0;}function u(J){var M,P,S;if(J.tagName){if(J.Pk){if("script" !== J.tagName){J.Pk+="</" + J.tagName + ">";J.tagName="";J.state=O.RL;return;}f(J,"onscript",J.Pk);J.Pk="";}M=J.lj.length;P=J.tagName;J.hn || (P=P[J.Zua]());for(var R=P;M--;){if(J.lj[M].name !== R)q(J,"Unexpected close tag");else break;}if(0 > M)(q(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=P;for(P=J.lj.length;P-- > M;){S=J.tag=J.lj.pop();J.tagName=J.tag.name;f(J,"onclosetag",J.tagName);for(var U in S.Ik){;}R=J.lj[J.lj.length - 1] || J;J.so.s1 && S.Ik !== R.Ik && Object.keys(S.Ik).forEach(function(ba){f(J,"onclosenamespace",{prefix:ba,uri:S.Ik[ba]});});}0 === M && (J.GV=!0);J.tagName=J.wj=J.vj="";J.kD.length=0;}}else (q(J,"Weird empty close tag."),J.textNode+="</>");J.state=O.xn;}a.Dc=function(J,M){return new k(J,M);};a.qbc=k;a.rbc=h;a.hYa=function(J){return new h(J,void 0);};a.Qga=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Xe=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function M(){this.__proto__=J;}M.prototype=J;return new M();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var M,P;M=[];for(P in J){J.hasOwnProperty(P) && M.push(P);}return M;});k.prototype={end:function(){p(this);},write:function(J){var S,U,ba,na,va,ya;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return p(this);if(this.error)throw this.error;for(var M=0,P;this.c=P=J.charAt(M++);){switch((this.Jda && (this.position++,"\n" === P?(this.line++,this.HV=0):this.HV++),this.state)){case O.Xea:if((this.state=O.Yea,"\ufeff" === P))continue;case O.Yea:"<" === P?(this.state=O.jha,this.HAa=this.position):d(z,P) || (q(this,"Non-whitespace before first tag."),this.textNode=P,this.state=O.xn);continue;case O.xn:if(this.AQ && !this.GV){for(var R=M - 1;P && "<" !== P && "&" !== P;){(P=J.charAt(M++)) && this.Jda && (this.position++,"\n" === P?(this.line++,this.HV=0):this.HV++);}this.textNode+=J.substring(R,M - 1);}"<" !== P || this.AQ && this.GV && !this.hn?(d(z,P) || this.AQ && !this.GV || q(this,"Text data outside of root node."),"&" === P?this.state=O.Aia:this.textNode+=P):(this.state=O.jha,this.HAa=this.position);continue;case O.RL:"<" === P?this.state=O.oOa:this.Pk+=P;continue;case O.oOa:"/" === P?this.state=O.ofa:(this.Pk+="<" + P,this.state=O.RL);continue;case O.jha:"!" === P?(this.state=O.kia,this.Ct=""):d(z,P) || (d(H,P)?(this.state=O.$Ka,this.tagName=P):"/" === P?(this.state=O.ofa,this.tagName=""):"?" === P?(this.state=O.wLa,this.cca=this.PJ=""):(q(this,"Unencoded <"),this.HAa + 1 < this.position && (P=Array(this.position - this.HAa).join(" ") + P),this.textNode+="<" + P,this.state=O.xn));continue;case O.kia:(this.Ct + P).toUpperCase() === G?(f(this,"onopencdata"),this.state=O.K1,this.Bm=this.Ct=""):"--" === this.Ct + P?(this.state=O.M1,this.Ct=this.Fm=""):(this.Ct + P).toUpperCase() === E?(this.state=O.S1,(this.doctype || this.AQ) && q(this,"Inappropriately located doctype declaration"),this.Ct=this.doctype=""):">" === P?(f(this,"onsgmldeclaration",this.Ct),this.Ct="",this.state=O.xn):(d(D,P) && (this.state=O.rOa),this.Ct+=P);continue;case O.rOa:P === this.q && (this.state=O.kia,this.q="");this.Ct+=P;continue;case O.S1:">" === P?(this.state=O.xn,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=P,"[" === P?this.state=O.vfa:d(D,P) && (this.state=O.ZEa,this.q=P));continue;case O.ZEa:this.doctype+=P;P === this.q && (this.q="",this.state=O.S1);continue;case O.vfa:this.doctype+=P;"]" === P?this.state=O.S1:d(D,P) && (this.state=O.YEa,this.q=P);continue;case O.YEa:this.doctype+=P;P === this.q && (this.state=O.vfa,this.q="");continue;case O.M1:"-" === P?this.state=O.dEa:this.Fm+=P;continue;case O.dEa:"-" === P?(this.state=O.cEa,(this.Fm=l(this.so,this.Fm)) && f(this,"oncomment",this.Fm),this.Fm=""):(this.Fm+="-" + P,this.state=O.M1);continue;case O.cEa:">" !== P?(q(this,"Malformed comment"),this.Fm+="--" + P,this.state=O.M1):this.state=O.xn;continue;case O.K1:"]" === P?this.state=O.VDa:this.Bm+=P;continue;case O.VDa:"]" === P?this.state=O.WDa:(this.Bm+="]" + P,this.state=O.K1);continue;case O.WDa:">" === P?(this.Bm && f(this,"oncdata",this.Bm),f(this,"onclosecdata"),this.Bm="",this.state=O.xn):"]" === P?this.Bm+="]":(this.Bm+="]]" + P,this.state=O.K1);continue;case O.wLa:"?" === P?this.state=O.wha:d(z,P)?this.state=O.vha:this.cca+=P;continue;case O.vha:if(!this.PJ && d(z,P))continue;else "?" === P?this.state=O.wha:this.PJ+=P;continue;case O.wha:">" === P?(f(this,"onprocessinginstruction",{name:this.cca,body:this.PJ}),this.cca=this.PJ="",this.state=O.xn):(this.PJ+="?" + P,this.state=O.vha);continue;case O.$Ka:if(d(Q,P))this.tagName+=P;else {this.hn || (this.tagName=this.tagName[this.Zua]());R=this.lj[this.lj.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.so.s1 && (S.Ik=R.Ik);this.kD.length=0;">" === P?v(this):"/" === P?this.state=O.v3:(!d(z,P) && q(this,"Invalid character in tag name"),this.state=O.gL);}continue;case O.v3:">" === P?(v(this,!0),u(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=O.gL);continue;case O.gL:if(d(z,P))continue;else ">" === P?v(this):"/" === P?this.state=O.v3:d(H,P)?(this.vj=P,this.wj="",this.state=O.w1):q(this,"Invalid attribute name");continue;case O.w1:"=" === P?this.state=O.Bea:">" === P?(q(this,"Attribute without value"),this.wj=this.vj,w(this),v(this)):d(z,P)?this.state=O.BCa:d(Q,P)?this.vj+=P:q(this,"Invalid attribute name");continue;case O.BCa:if("=" === P)this.state=O.Bea;else if(d(z,P))continue;else (q(this,"Attribute without value"),this.wj=this.tag.attributes[this.vj]="",f(this,"onattribute",{name:this.vj,value:""}),this.vj="",">" === P?v(this):d(H,P)?(this.vj=P,this.state=O.w1):(q(this,"Invalid attribute name"),this.state=O.gL));continue;case O.Bea:if(d(z,P))continue;else d(D,P)?(this.q=P,this.state=O.Eea):(q(this,"Unquoted attribute value"),this.state=O.Fea,this.wj=P);continue;case O.Eea:if(P !== this.q){"&" === P?this.state=O.Cea:this.wj+=P;continue;}w(this);this.q="";this.state=O.CCa;continue;case O.CCa:d(z,P)?this.state=O.gL:">" === P?v(this):"/" === P?this.state=O.v3:d(H,P)?(q(this,"No whitespace between attributes"),this.vj=P,this.wj="",this.state=O.w1):q(this,"Invalid attribute name");continue;case O.Fea:if(!d(F,P)){"&" === P?this.state=O.Dea:this.wj+=P;continue;}w(this);">" === P?v(this):this.state=O.gL;continue;case O.ofa:if(this.tagName)">" === P?u(this):d(Q,P)?this.tagName+=P:this.Pk?(this.Pk+="</" + this.tagName,this.tagName="",this.state=O.RL):(!d(z,P) && q(this,"Invalid tagname in closing tag"),this.state=O.aEa);else if(d(z,P))continue;else d(H,P)?this.tagName=P:this.Pk?(this.Pk+="</" + P,this.state=O.RL):q(this,"Invalid tagname in closing tag.");continue;case O.aEa:if(d(z,P))continue;">" === P?u(this):q(this,"Invalid characters in closing tag");continue;case O.Aia:case O.Cea:case O.Dea:switch(this.state){case O.Aia:(U=O.xn,ba="textNode");break;case O.Cea:U=O.Eea;ba="attribValue";break;case O.Dea:(U=O.Fea,ba="attribValue");}if(";" === P){P=ba;R=this[P];S=this.Yn;na=S.toLowerCase();va="";if(this.Iy[S])S=this.Iy[S];else if(this.Iy[na])S=this.Iy[na];else {S=na;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);ya=parseInt(S,16);va=ya.toString(16);}else (S=S.slice(1),ya=parseInt(S,10),va=ya.toString(10));S=S.replace(/^0+/,"");S=va.toLowerCase() !== S?(q(this,"Invalid character entity"),"&" + this.Yn + ";"):String.fromCodePoint(ya);}this[P]=R + S;this.Yn="";this.state=U;}else d(C,P)?this.Yn+=P:(q(this,"Invalid character entity"),this[ba]+="&" + this.Yn + P,this.Yn="",this.state=U);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.MVa){J=Math.max(a.Qga,10);P=M=0;for(U=x.length;P < U;P++){ba=this[x[P]].length;if(ba > J)switch(x[P]){case "textNode":m(this);break;case "cdata":f(this,"oncdata",this.Bm);this.Bm="";break;case "script":f(this,"onscript",this.Pk);this.Pk="";break;default:n(this,"Max buffer length exceeded: " + x[P]);}M=Math.max(M,ba);}this.MVa=a.Qga - M + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){m(this);"" !== this.Bm && (f(this,"oncdata",this.Bm),this.Bm="");"" !== this.Pk && (f(this,"onscript",this.Pk),this.Pk="");}};y=a.Xe.filter(function(J){return "error" !== J && "end" !== J;});h.prototype=Object.create(c.prototype,{constructor:{value:h}});h.prototype.write=function(J){this.rz.write(J.toString());this.emit("data",J);return !0;};h.prototype.end=function(J){J && J.length && this.write(J);this.rz.end();return !0;};h.prototype.on=function(J,M){var P;P=this;P.rz["on" + J] || -1 === y.indexOf(J) || (P.rz["on" + J]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,J);P.emit.apply(P,R);});return c.prototype.on.call(P,J,M);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";D="'\"";C=A + B + "#";F=z + ">";G="[CDATA[";E="DOCTYPE";I="http://www.w3.org/XML/1998/namespace";N="http://www.w3.org/2000/xmlns/";L={xml:I,s1:N};z=g(z);A=g(A);B=g(B);H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;D=g(D);C=g(C);F=g(F);O=0;a.EC={Xea:O++,Yea:O++,xn:O++,Aia:O++,jha:O++,kia:O++,rOa:O++,S1:O++,ZEa:O++,vfa:O++,YEa:O++,l9b:O++,M1:O++,dEa:O++,cEa:O++,K1:O++,VDa:O++,WDa:O++,wLa:O++,vha:O++,wha:O++,$Ka:O++,v3:O++,gL:O++,w1:O++,BCa:O++,Bea:O++,Eea:O++,CCa:O++,Fea:O++,Cea:O++,Dea:O++,ofa:O++,aEa:O++,RL:O++,oOa:O++};a.hpb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.Iy={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.Iy).forEach(function(J){var M;M=a.Iy[J];M="number" === typeof M?String.fromCharCode(M):M;a.Iy[J]=M;});for(O in a.EC){a.EC[a.EC[O]]=O;}O=a.EC;String.fromCodePoint || (function(){var M,P;function J(){var R,S,U,na,va;R=[];S=-1;U=arguments.length;if(!U)return "";for(var ba="";++S < U;){na=Number(arguments[S]);if(!isFinite(na) || 0 > na || 1114111 < na || P(na) != na)throw RangeError("Invalid code point: " + na);if(65535 >= na)R.push(na);else {na-=65536;va=(na >> 10) + 55296;na=na % 1024 + 56320;R.push(va,na);}if(S + 1 == U || 16384 < R.length)(ba+=M.apply(null,R),R.length=0);}return ba;}M=String.fromCharCode;P=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(r){function b(a,c){var k,h,g,d,f,m;k=[];h=a.indexOf("<p");g=-1;do {d={};d.W2b=h;f=a.indexOf("begin=",h) + 7;m=a.indexOf("end=",h) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);m=Math.floor(parseInt(a.substr(m,25),10) / c * 1E3);g=m > g?m:g;d.startTime=f;d.endTime=m;d.latestEndSoFar=g;d.m_a=a.indexOf("/p>",h) + 3;h=d.m_a;k.push(d);h=a.indexOf("<p",h);}while(-1 !== h);this.N4=k;this.hH=a;}b.prototype.THb=function(){return this.N4[this.N4.length - 1].endTime;};b.prototype.Zu=function(a,c){return this.N4.filter(function(k){return k.startTime <= c && k.endTime >= a;}).length;};b.prototype.sLb=function(a){for(var c="",k=this.N4.filter(function(g){return g.startTime <= a && a < g.endTime || g.startTime >= a;}),h=4;h + 1 < k.length && k[h + 1].startTime === k[4].startTime;){h++;}k=k.slice(0,h + 1);0 < k.length && (c=this.hH.slice(k[0].W2b,k[k.length - 1].m_a));return c;};r.exports=b;},function(r,b,a){var g,d,f,m;function c(l){return "string" !== typeof l?null:d[l];}function k(l){return "string" !== typeof l?null:f[l];}function h(l,n){var p;p=l.split(" ");l=p[0];p=p[1];-1 < l.indexOf("px")?(l=parseFloat(l) / n.width,p=parseFloat(p) / n.height):(l=.01 * parseFloat(l),p=.01 * parseFloat(p));return [l,p];}g=a(506);r.exports={jDb:function(l,n){var p,q,t,w,v,u;p=n.textNodes[0] || ({});q=l.regions;t=l.styles;w=l.aspectRatio;q=q && q[n.region]?q[n.region]:{};p=t && t[p.style]?t[p.style]:{};t=h(g(n.extent,q.extent,"80% 80%"),l);n=h(g(n.origin,q.origin,"10% 10%"),l);l=Object;w/=1280 / 720;v=(1 - w) / 2;u=n[0];n=n[1];t=l.create.call(l,{marginLeft:u * w + v,marginTop:n,marginRight:(1 - (u + t[0])) * w + v,marginBottom:1 - (n + t[1])});1 < Object.keys(q).length?t.verticalAlignment=c(g(p.displayAlign,q.displayAlign,"before")):t.verticalAlignment=c(g(p.displayAlign,"after"));t.horizontalAlignment=k(g(p.textAlign,q.textAlign,"center"));w=q.writingMode?q.writingMode:"lrtb";t.writingMode="string" !== typeof w?null:m[w];t.multiRowAlignment=k(g(p.multiRowAlign,q.multiRowAlign,p.textAlign,q.textAlign,"center"));return t;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};m={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(r,b,a){var h,g,d,f,m,l,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function k(p){var q,t,w;q=(p || "").split(" ");t=(/^[0-9]/).test(q);p=t?"#000000":c(q[0]);w=t?0:1;t=parseInt(q[w]);q=parseInt(q[w + 1]);return {color:p,width:0 < t?t:0,blur:0 < q?q:0};}h=a(506);r.exports={oDb:function(p,q,t){var w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L;w=h(t.characterSize,q.characterSize,"MEDIUM");v=p.fontFamily;v=h(t.characterStyle,"string" !== typeof v?null:f[v],q.characterStyle,"PROPORTIONAL_SANS_SERIF");u=(p.fontSize || "").split(" ")[0] || "";x=-1 < u.indexOf("%")?parseInt(u,10) / 100:-1 < u.indexOf("em")?parseFloat(u):1;u="underline" === p.textDecoration;y="italic" === p.fontStyle;z=g[h(t.M7b,q.M7b,"OPAQUE")];A=g[h(t.characterOpacity,q.characterOpacity,"OPAQUE")];B=g[h(t.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];D=c(h(t.characterColor,p.color,q.characterColor,"#ffffff"));C=c(h(t.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(h(t.Zgb,p.Zgb,q.Zgb,null));G=h(t.characterEdgeAttributes,q.characterEdgeAttributes,null);x*=m[w] || 1;E=1;l[w] && (E=l[w][v] || 1);x*=1 / 19 * E;E=0;n[w] && (E=n[w][v] || 0);w=E;E=p.textOutline;E="string" !== typeof E?null:k(E).width;E=h(E,0);I=p.textOutline;I="string" !== typeof I?null:k(I).blur;I=h(I,0);N=t.characterEdgeColor;L=p.textOutline;L="string" !== typeof L?null:k(L).color;return {characterUnderline:u,characterItalic:y,characterStyle:v,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:D,backgroundColor:C,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:w,characterEdgeWidth:E,characterEdgeBlur:I,characterEdgeColor:c(h(N,L,q.characterEdgeColor,"#000000")),direction:h(t.direction,p.direction,q.direction,"ltr")};}};g={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};f={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};m={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};l={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var k,h,g,d,f,m;function c(l){k.call(this);this.Ll=l.url;this.XG=l.request;this.UG=l.Kd || 0;this.Pa=l.Ca;this.Zi=this.js=null;l.uv?this.js=l.uv:(this.Ze=l.offset,this.UM=l.size);this.wm;this.Aka=l;}k=a(116).EventEmitter;h=a(1192);g=a(1193);d=a(1194);f=a(163);m=c.events={hmb:"midxready",tob:"sidxready",fob:"ready",ag:"error"};c.prototype=Object.create(k.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{jq:{get:function(){return this.wm && this.wm.roa;}}});c.prototype.start=function(){this.js?(this.Pa.warn("midx was prefectched and provided"),this.vRa(this.js)):this.tqb(this.Ze,this.UM,this.otb.bind(this));};c.prototype.close=function(){};c.prototype.o9=function(l,n){return this.wm && this.wm.csa(l,n);};c.prototype.Zu=function(l,n){return (l=this.o9(l,n))?l.length:l;};c.prototype.ZE=function(l,n){this.Pa.debug("setStreamStartPosition: buffering subtitles at pts " + l);this.UG=l;this.wm?this.wm.ZE(l,n):n && n();};c.prototype.CO=function(l){var n,p,q;if(!this.wm || l > f.vKb(this.js))return [];this.wm && this.wm.fpa(l);n=this.jq.Dt;p=this.jq.index;q=[];p=f.sd(p) && this.Zi[p + 1];if(!(p && p.entries.length || n && !(l > n.endTime)))return [];n && n.images.length && (q=this.HRa(n,l,[]));2 > q.length && p && p.images.length && (n=this.HRa(p,l,q),q.push.apply(q,n));return this.wm.iAa(l)?null:f.yXa(q);};c.prototype.mj=function(l,n){this.wm && this.wm.mj(l,n);};c.prototype.Qi=function(l,n){this.wm && this.wm.Qi(l,n);};c.prototype.tqb=function(l,n,p){this.Pa.debug("downloading midx...");this.TRa(l,n,"binary",p);};c.prototype.uqb=function(l,n,p){this.Pa.debug("downloading sidx...");this.TRa(l,n,void 0,p);};c.prototype.TRa=function(l,n,p,q){this.XG({url:this.Ll,offset:l,size:n,responseType:p},q);};c.prototype.otb=function(l,n){if(l)this.emit(m.ag,f.qX(l,"midxdownloaderror"));else try{this.js=new h(n);this.vRa(this.js);}catch(p){this.emit(m.ag,f.qX(p,"midxparseerror"));}};c.prototype.vRa=function(l){var n;n=l.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(m.hmb,l),this.uqb(l.startOffset,n,this.rtb.bind(this,l))):this.emit(m.ag,f.qX({},"nosidxfoundinmidx"));};c.prototype.rtb=function(l,n,p){var q,t,w,v;q=this;if(n)q.emit(m.ag,f.qX(n,"sidxdownloaderror"));else {t=0;w=0;q.Zi=[];try{v=0;l.entries.forEach(function(u){var x;x=new g(p,t,l.nta,q.Pa,w,w + u.duration,v);q.Zi.push(x);u.J2b=x;w=x.kr;t+=u.size;v++;});}catch(u){q.emit(m.ag,f.qX(u,"sidxparseerror"));return;}q.emit(m.tob,q.Zi);this.wm=new d(q.Aka,l,q.Zi);n=q.UG;q.Aka && q.Aka.Oca || (n=Math.max(q.UG - 1E4,0));this.wm.fpa(n,function(u){u && q.Pa.error("initial sidx download failed");q.emit(m.fob);});}};c.prototype.HRa=function(l,n,p){var y;for(var q=l.entries,t=0,w=q.length,v=[],u,x=this.js;t < w;){u=q[t];if(u.displayTime <= n)u.displayTime + u.duration >= n && v.push(f.joa(u,l.images[t].data,x));else {y=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== u.displayTime)break;y.KI !== u.KI && v.push(f.joa(u,l.images[t].data,x));}t++;}return v;};r.exports=c;},function(r,b,a){var k,h;function c(g,d){this.duration=g;this.size=d;this.J2b=void 0;}k=a(296);h=a(163);r.exports=function(g){var l;g=new k(g);this.identifier=g.tya(4);h.assert("midx" === this.identifier);this.version=g.mr(4);h.assert(0 === this.version);this.nta=g.ji(36);this.creationTime=g.lQ();this.Ip=g.lQ();this.K=g.lQ();this.o0b=g.Jh();this.p0b=g.Jh();this.language=g.ji(16);g.ji(16);this.startOffset=g.lQ();this.pA=g.Jh();for(var d=[],f=0,m=0;m < this.pA;m++){l=new c(g.mr(4),g.Jh());d.push(l);f+=l.duration;}this.entries=d;this.endTime=f;};},function(r,b,a){var h,g;function c(d,f,m,l,n,p,q,t){this.displayTime=d;this.duration=f;this.jWb=m;this.kWb=l;this.Q2b=n;this.R2b=p;this.KI=q;this.Ysa=t;}function k(d,f,m,l,n,p,q){var t;d=new h(d);t=0;d.position=f;this.Pa=l;this.identifier=d.tya(4);g.assert("sidx" === this.identifier,l);this.nta=d.ji(36);g.fAb(this.nta,m,l);this.duration=d.mr(4);this.pA=d.Jh();this.by=n;this.kr=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Qka=0;t < this.pA;){f=new c(d.mr(4),d.mr(4),d.Jh(),d.Jh(),d.Jh(),d.Jh(),d.lQ(),d.mr(4));t++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}h=a(296);g=a(163);k.prototype.HOb=function(){this.Qka++;};k.prototype.eEb=function(){var d;d=0;this.Qka--;1 > this.Qka?this.images && 0 < this.images.length && (d+=g.Xra([this]),this.images=[]):this.Pa.debug("Not cleaning up shared sidx with range",this.by,"-",this.kr);return d;};r.exports=k;},function(r,b,a){var g,d;function c(f,m){var n;f=f || 0;if(m)for(var l in m.P){n=m.P[l];if(f >= (n.sa || 0) && (!n.va || f < n.va))return l;}}function k(f,m){return f && m && m.P[f];}function h(f,m,l){var n;this.Pa=f.Ca;this.Zi=l;this.ZC=this.Zpb(f.Oca);this.zh=[];n=l && l[l.length - 1];this.Vw=n && (n.endTime || n.kr);this.Hg=new g(f,m,l);f=c(f.Kd || 0,this.ZC);this.So=this.jz(f);}g=a(1195);d=a(1197);Object.defineProperties(h.prototype,{roa:{get:function(){return this.Hg.roa;}}});h.prototype.csa=function(f,m){return this.Hg && this.Hg.csa(f,m);};h.prototype.fpa=function(f,m){this.Hg.x1b(f);this.ITa(f);if(!this.ZC && this.Vw && f > this.Vw)m && m();else if((f=this.qRa(f,this.So,2,m),this.ZC && 0 < this.So.z8a.length))m && m();else if(this.ZC && this.So.eP && f){2 > this.zh.length && this.eqb(this.So);m=Math.ceil(2 / (this.zh.length - 1));for(var l=0;l < this.zh.length && f && 3 > l;l++){f=this.zh[l];f=this.qRa(f.startTime,f,m);}}};h.prototype.iAa=function(f){return this.Hg.iAa(f)?(this.Hg.Vvb(),this.fpa(f),this.So.eP=!1,!0):!1;};h.prototype.ZE=function(f,m){var l;this.ITa(f);this.zh.forEach(function(n){n.eP=!1;});l=this.So.Ao && this.So.Ao[0];this.Hg.ZE(f,l && l.index);(f=this.Hg.kMb(f)) && f.length?this.Hg.tZa(f,m):m && m();};h.prototype.Qi=function(f,m){var l;this.Pa.debug("Set next segment to",m,"for segment",f);f=this.zRa(f) || this.jz(f);f.ecb=m;l=this;f.jZ=f.jZ.filter(function(n){if(n.id === m)return !0;l.wja(n);return !1;});};h.prototype.mj=function(f,m){var l;l=k(f,this.ZC);Object.keys(l.next).forEach(function(n){l.next[n].weight=m[n] || 0;});};h.prototype.Zpb=function(f){var m,n;m={};if(f=(f || ({})).P){m.P={};for(var l in f){n=f[l] || ({});m.P[l]={sa:n.sa,va:n.va,vc:n.vc,next:this.Ypb(n.next)};}}return m;};h.prototype.Ypb=function(f){var m,l;m={};for(l in f){m[l]={weight:(f[l] || ({})).weight};}return m;};h.prototype.ITa=function(f){var m,l;if(this.ZC && this.So.startTime > f || this.So.endTime && this.So.endTime < f){m=this.So;l=c(f,this.ZC);l?(this.Pa.debug("Switching segments from",this.So.id,"to",l,"at pts",f),this.So=this.zRa(l) || this.jz(l),this.wja(m)):this.Pa.debug("The pts is outside of the current segment but not in a new one yet");}};h.prototype.jz=function(f){this.Pa.debug("SegmentManager: creating segment",f);f=new d(f,k(f,this.ZC),this.Zi,this.Pa);this.zh.push(f);this.Pa.debug("SegmentManager: segment contains",f.Ao.length,"sidxes");return f;};h.prototype.wja=function(f){var m;if(f && f !== this.So){this.Pa.debug("SegmentManager: deleting segment",f.id);f.jZ.forEach(this.wja.bind(this));this.zh=this.zh.filter(function(l){return l !== f;});m=f.JWa();this.Hg.e_b(m && m.size || 0,m && m.Ao);}};h.prototype.zRa=function(f){var l;for(var m=0;f && m < this.zh.length;m++){l=this.zh[m];if(f === l.id)return l;}};h.prototype.eqb=function(f){var m,n;m=f.ecb;if(m && "" !== m)f.jZ.push(this.jz(m));else {m=f.z8a;for(var l in m){n=m[l];if(!n || !n.weight)break;f.jZ.push(this.jz(l));}}};h.prototype.qRa=function(f,m,l,n){if(!m || m.eP)return (this.Pa.debug("Done driving segment",m && m.id),!0);if(!this.Hg.Eyb)return (this.Pa.debug("Throttling buffering in quiet period"),!1);this.Pa.debug("Drive streaming of segment",m.id,"from pts",f);l=(f=this.Hg.lMb(f,m,l)) && f.length || 0;if(0 === l)return (this.Pa.debug("Segment is fully downloaded",m && m.id),m.eP=!0,n && n(),!0);this.Pa.debug("Downloading",l,"sidxes in segment",m.id);return this.Hg.tZa(f,function(p,q){p && (m.eP=!1);n && n(p,q);});};r.exports=h;},function(r,b,a){var m,l;function c(n,p,q){var t;t=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || t;}function k(n,p,q){return p && (!p.entries.length && n > p.by || n > p.endTime) && q.entries.length && n < q.endTime;}function h(n,p,q){this.ZG=this.Mw=0;this.Jrb=n.bufferSize || 4194304;this.jq=new f();this.TG;this.HG=n.Ef;this.Pa=n.Ca;this.js=p;this.Zi=q;this.ap=new m(n);this.iH=new d(this.Zi.length,n.MZa);this.tU=new g(n.RVa);}function g(n){this.Bqb=0 !== n;this.on=!1;this.hk=n || 3E3;this.dh;}function d(n,p){if(this.enabled=p)this.Ao=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.Dt=n;this.index=p;}m=a(1196);l=a(163);f.prototype.reset=function(){this.index=this.Dt=void 0;};d.prototype.ca=function(n){this.enabled && n < this.Ao.length && (this.Ao[n]="x");};d.prototype.C9a=function(n){this.enabled && n < this.Ao.length && (this.Ao[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Ao.join("") + "|";};g.prototype.start=function(){var n;if(this.Bqb){n=this;this.on=!0;this.dh=setTimeout(function(){n.on=!1;n.dh=void 0;},this.hk);}};g.prototype.stop=function(){this.on=!1;clearTimeout(this.dh);this.dh=void 0;};Object.defineProperties(h.prototype,{roa:{get:function(){return this.jq;}},Eyb:{get:function(){return !this.tU.on;}}});h.prototype.fU=function(){this.iH.enabled && this.Pa.debug("Buffer: " + this.iH.toString());};h.prototype.Mtb=function(n){this.ZG+=n;this.Pa.debug("Reserved buffer size is",this.Mw + this.ZG,"after reserving",n);};h.prototype.Bub=function(n){this.ZG-=n;this.Pa.debug("Reserved buffer size is",this.Mw + this.ZG,"after unreserving",n);};h.prototype.Xpb=function(n){this.Mw+=n;this.Pa.debug("Buffer size is",this.Mw,"after claiming",n);};h.prototype.eTa=function(n){this.Mw-=n;this.Pa.debug("Buffer size is",this.Mw,"after clearing",n);};h.prototype.e_b=function(n,p){var q;this.eTa(n);q=this;p && this.iH.enabled && (p.forEach(function(t){q.iH.C9a(t.index);}),this.fU());};h.prototype.iAa=function(n){var p;p=this.Mqb(n);return l.O3a(p) && l.S3b(n,p);};h.prototype.x1b=function(n){var p;p=this.MRa(n);(!p || p.index) !== (!this.jq || this.jq.index) && (this.TG=this.jq.Dt,p?(this.HG && this.Pa.debug("Current sidx is index",p.index),this.jq=p):(this.HG && this.Pa.debug("Current sidx is out of range"),this.jq.reset()));this.TG && "number" === typeof this.TG.index && (n < this.TG.by - 35E3 || n > this.TG.kr + 35E3) && (this.kja(this.TG.index),this.TG=void 0,this.fU());};h.prototype.ZE=function(n,p){var q,t;q=this.Zi && this.Zi.length;for(p;p < q;p++){(t=this.Zi[p]) && ((t.endTime || t.kr) >= n - 1E4 && (t.endTime || t.kr) < n + 3E5 || this.kja(p));}this.tU.stop();this.fU();};h.prototype.Vvb=function(){var n,p;this.Pa.debug("executing aggressive cleanup");n=this.Zi && this.Zi.length;for(p=0;p < n;p++){p === this.jq.index && (p+=2);this.kja(p);}this.tU.stop();this.fU();};h.prototype.kMb=function(n){var p,q,t,w;p=[];q=this.MRa(n);if(!q)return (this.jq.reset(),p);this.jq=q;t=n + 1E4;q=q.index;w=this.Zi[q];q;for(w;q < this.Zi.length && t > w.by;(q++,w=this.Zi[q])){l.O3a(w) && l.T3b(n,t,w) && p.push(w);}return p;};h.prototype.tZa=function(n,p){var q,t,w,v,u,x;if(!n || !n.length)return (p && p(null),!0);this.ap.lU && 2 <= Object.keys(this.ap.lU).length && !this.tU.on && (this.Pa.debug("Enabling buffering quiet period"),this.tU.start());q=this;t=n[0];w=n[n.length - 1];if(0 < t.entries.length)(v=t.entries[0].KI,u=t.entries[t.entries.length - 1]);0 < w.entries.length && (l.sd(v) || (v=w.entries[0].KI),u=w.entries[w.entries.length - 1]);if(v)x=u.KI + u.Ysa - v;else return (p && p(null),!0);t=l.gra(v,x);if(this.ap.lU[t])(this.Pa.debug("The request for",t,"is already pending. Not requesting again"),p && p());else if(this.grb(l.Xra(n)))(this.Pa.debug("Reserving",x,"bytes for subtitle request",n[0].by,n[n.length - 1].kr),this.Mtb(x),this.ap.wFb(n,v,x,function(y,z){q.Pa.debug("Claiming reserved space.  Expected",x,"received",z);q.iH.enabled && (n.forEach(function(A){q.iH.ca(A.index);}),q.fU());q.Bub(x);q.Xpb(z);p && p(y);}));else return (this.Pa.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};h.prototype.csa=function(n,p){var q,t,w;q=this.js;t=this.LRa(n,p,this.Zi);if(!t || 0 === t.length)return [];w=[];p=c.bind(null,n,p);for(var v=0;v < t.length;v++){n=t[v];w=w.concat(n.entries.filter(p));}w=w.map(function(u){return l.joa(u,null,q);});return l.yXa(w);};h.prototype.lMb=function(n,p,q){return this.LRa(n,p.endTime,p.Ao,q,!0);};h.prototype.LRa=function(n,p,q,t,w){var v,u,x,y;if(p && n > p || 0 > n)this.Pa.error("invalid range startPts: " + n + ", endPts: " + p);else {v=q && q.length || 0;u=[];if(q && 0 !== v){x=q[0].duration;y=q[0].by;if(l.sd(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.HG && this.Pa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < v && (y=q[x],!l.qFb(y,n));x++){;}for(;x < v && (!t || u.length < t);){y=q[x];if(!w || !y.images.length && y.endTime > n)u.push(y);else if(u.length)break;if(p && p <= y.kr)break;x++;}return u;}}};h.prototype.Mqb=function(n){var p,q,w;p=this.Zi;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.by > n || n > q.kr))a:{this.Cqb || (this.Cqb=!0,q=l.UKb(this.js.language),this.Pa.error("bruteforce search for ",{movieId:this.js.K,packageId:this.js.Ip,lang:q}));q=p.length;for(var t=0;t < q;t++){w=p[t];if(w.by <= n && n <= w.kr){q=w;break a;}}q=void 0;}return q;}};h.prototype.MRa=function(n){var p,q,t,w,v,u,x,y;p=this.jq;q=p.Dt;t=p.index;w=this.Zi;this.tja(l.sd(n));if(q)if(q.entries.length){if(0 === t && n <= q.startTime || n >= q.startTime && n <= q.endTime)(v=!0,u=p);else {if(0 < t){x=w[t - 1];k(n,x,q) && (v=!0,u=p);}}}else {x=w[t - 1];y=w[t + 1];k(n,x,q)?(v=!0,u=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.kr) && (v=!0,u=new f(y,t + 1));}if(!v)for((p=w.length,q=0);q < p;q++){if((t=w[q],t.entries.length && n <= t.endTime)){u=new f(t,q);break;}}return u;};h.prototype.grb=function(n){return this.Mw + this.ZG + n <= this.Jrb;};h.prototype.kja=function(n){var p,q,t;p=this.Zi[n];q=p && p.images && p.images.length || 0;if(0 < q){t=l.Xra([p]);p.images=[];this.iH.C9a(n);this.eTa(t);this.HG && this.Pa.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:t,images:q,jgc:this.Mw});}};h.prototype.tja=function(n){this.HG && l.assert(n,this.Pa);};r.exports=h;},function(r,b,a){var k,h;function c(g){this.Ll=g.url;this.XG=g.request;this.UG=g.Kd || 0;this.HG=g.Ef;this.Pa=g.Ca;this.lU={};}k=a(296);h=a(163);c.prototype.wFb=function(g,d,f,m){this.lU[h.gra(d,f)]=!0;g && g.forEach(function(l){l.lbb=!0;});this.XG({url:this.Ll,offset:d,size:f},this.Nsb.bind(this,g,d,f,m));};c.prototype.Nsb=function(g,d,f,m,l,n){var p,q,t,w;p=this;q=h.gra(d,f);setTimeout(function(){delete p.lU[q];},1E3);if(l)(m && m(l,0),g && g.forEach(function(v){delete v.lbb;}));else {t=new k(n);w=0;g && g.forEach(function(v){delete v.lbb;v.entries.forEach(function(u,x){t.position=u.KI - d;u={data:t.ji(u.Ysa)};v.images[x]=u;h.c7b(v.images[x].data,p.tja.bind(p));w+=v.images[x].data.length;});});m && m(null,w);}};c.prototype.tja=function(g){this.HG && h.assert(g,this.Pa);};r.exports=c;},function(r){function b(a,c,k,h){this.Pa=h;this.id=a;this.startTime=c && c.sa || 0;this.endTime=c && c.va;this.z8a=c && c.next || [];this.ecb;this.jZ=[];this.eP=!1;a=this.startTime;c=this.endTime;for(var g=[],d=0;d < k.length;d++){(h=k[d]) && (!c || c > h.by) && a < h.kr && (h.HOb(),g.push(h));}this.Ao=g;}b.prototype.JWa=function(){this.Pa.debug("Cleaning up segment",this.id);for(var a,c=0,k,h=[],g=0;g < this.Ao.length;g++){a=this.Ao[g];(k=a.eEb()) && h.push(a);a && (c+=k);}this.Ao=[];return {size:c,Ao:h};};r.exports=b;},function(r,b,a){var k;function c(h,g,d){return {timeout:d,type:h,entry:g};}k=a(116).EventEmitter;a(1199)({});b=function p(g,d,f,m,l,n){if(!(this instanceof p))return new p(g,d,f,m,l,n);k.call(this);this.Qw=g;this.Xqb=d;this.R4=f;this.vrb=m;this.zz={};this.dH={};this.Pa=l || console;this.BT=!1;this.utb=n && n.hya || 0;};b.prototype=Object.create(k.prototype);b.prototype.stop=function(){clearTimeout(this.dh);this.i_b();};b.prototype.i_b=function(){var g;g=this;Object.keys(g.zz).forEach(function(d){g.emit("removesubtitle",g.zz[d]);});g.zz={};g.dH={};};b.prototype.pause=function(){this.BT || clearTimeout(this.dh);};b.prototype.ew=function(g,d){var f,m;f=this;m=f.Qw();clearTimeout(this.dh);g=f.Xqb(m);null !== g && f.BT && (f.BT=!1,this.Pa.info("bufferingComplete"),f.emit("bufferingComplete"),this.vrb())?this.Pa.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(f.zz).forEach(function(l){l=f.zz[l];l.displayTime - f.utb <= m && m < l.displayTime + l.duration || (delete f.zz[l.id],f.emit("removesubtitle",l));}),Object.keys(f.dH).forEach(function(l){l=f.dH[l];m >= l.displayTime + l.duration && delete f.dH[l.id];}),null !== g && 0 < g.length?(d=g.length,f.Pa.info("found " + d + " entries for pts " + m),g.forEach(function(l){l.displayTime - 0 <= m && m < l.displayTime + l.duration && !f.zz[l.id] && (f.emit("showsubtitle",l),f.zz[l.id]=l,delete f.dH[l.id]);}),d=g[g.length - 1],f.zz[d.id] || f.dH[d.id] || (f.emit("stagesubtitle",d),f.dH[d.id]=d),d=f.$rb(m,g),0 < d.length?f.p5(d[0].timeout):f.p5(2E4)):null === g?(g=250 * Math.pow(2,d),2E3 < g && (g=2E3),f.Pa.warn("checking buffer again in " + g + "ms"),f.BT || (f.BT=!0,f.emit("underflow")),f.p5(g,d + 1)):f.p5(2E4));};b.prototype.p5=function(g,d){var f;f=this;f.Pa.info("Scheduling pts check.");f.dh=setTimeout(function(){f.ew(f.Qw(),d);},g);};b.prototype.$rb=function(g,d){return d.reduce(this.bsb.bind(this,g),[]);};b.prototype.bsb=function(g,d,f){var m,l;m=this.R4(f.displayTime,g);g=this.R4(f.displayTime + f.duration,g);l=0 < d.length?d[0].timeout:Infinity;return 0 < m && m < l?[c("showsubtitle",f,m)]:m === l?d.concat([c("showsubtitle",f,m)]):0 < g && g < l?[c("removesubtitle",f,g)]:g === l?d.concat([c("removesubtitle",f,g)]):d;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var g,d,f;function c(m,l,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + l + "'"));}function k(m,l,n){var p;p=d[m];"undefined" !== typeof p?p(l) || c(m,l,n):m !== typeof l && c(m,l,n);}function h(m,l){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(t){return q[t];}).filter(function(t){return -1 === f.indexOf(t);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(q,t){var w;w=p[t];if("string" === typeof q)k(q,w,{index:t});else if("object" === typeof q)Object.keys(q).forEach(function(v){k(q[v],w[v],{key:v});});else throw Error("Types: unexpected type in type array");});return l.apply(this,p);};}g=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < g.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}f=Object.keys(d).concat(g);return h(["array","function"],h);};},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.CE=void 0;r=a(0);c=a(507);k=a(1201);h=a(162);b.CE=new r.zd(function(g){g(c.eha).to(k.DKa).ba();g(h.RS).I0(function(d){return function(){return d.gb.get(c.eha).qUb;};});});},function(r,b,a){var k;function c(){var h;h=this;this.ready=!1;this.qUb=new Promise(function(g){h.d0b=g;});}Object.defineProperty(b,"__esModule",{value:!0});b.DKa=void 0;r=a(2);a=a(0);c.prototype.rUb=function(h){this.ready || (this.d0b(h),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};k=c;k=r.__decorate([(0,a.U)()],k);b.DKa=k;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});b.vk=void 0;r=a(0);c=a(91);k=a(508);h=a(1203);g=a(510);d=a(1204);b.vk=new r.zd(function(f){f(c.Hy).xf(function(){return function(){return nb._cad_global.device;};});f(g.rFa).to(d.qFa).ba();f(k.oFa).to(h.nFa).ba();});},function(r,b,a){var k,h,g,d,f,m;function c(l,n){this.Da=l;this.oya=n;}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;r=a(2);k=a(35);h=a(5);g=a(144);d=a(509);f=a(56);a=a(0);c.prototype.$Ib=function(){for(var l="",n=this.Da.qf.ca(h.la),p=6;p--;){l=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + l;n=Math.floor(n / 32);}for(;30 > l.length;){l+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.oya.rab(new d.fia(0,31,f.a9a))];}return l;};m=c;m=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.wi)),r.__param(1,(0,a.l)(g.N3))],m);b.nFa=m;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w,v){this.TEb=p;this.Qp=q;this.nb=w;this.UWb=v;this.aGa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=t.kb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;r=a(2);k=a(3);h=a(29);g=a(1205);d=a(7);f=a(508);m=a(0);l=a(96);a=a(511);c.prototype.y_a=function(p){try{return p.match(this.aGa)[2];}catch(q){}};c.prototype.uHb=function(p){try{return p.match(this.aGa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(t,w){q.Qp.create().then(function(v){var x,y,z,A,B,D;function u(C){q.nb.In(C) && q.nb.In(x)?(y=new g.pFa(C,x,void 0,z,p.nW || "cadmium"),t(y)):w({wa:k.O.VEa});}x=p.qp;if(p.cra){z="bind_device";q.UWb.Sg(q.log,{}).then(function(C){u(C.esn);}).catch(function(C){w(C);});}else if(p.yO){B=p.ll;if(q.nb.In(B)){D=q.uHb(B);D != p.qp && q.log.error("esn prefix from ui is different",{ui:D,cad:p.qp,ua:p.userAgent});}else p.Pua && q.log.error("esn from ui is missing");!p.qR && q.nb.In(B)?(z="config",u(B)):v.load(p.ZYa).then(function(C){A=C.value;q.nb.In(A) && (!1,q.nb.In(B)?(C=q.y_a(B),z=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(x + A));}).catch(function(C){var E;function F(){v.save(p.ZYa,E,!1).then(function(){u(x + E);}).catch(function(I){w(I);});}function G(){E=q.TEb.$Ib();!1;F();}if(C.wa === k.O.FC){if(q.nb.In(p.ll)){E=q.y_a(p.ll);q.nb.In(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.ll),G());}else (z="generated_since_not_in_config_and_storage",G());}else w(C);});}else u();}).catch(function(v){w(v);});});};n=c;n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(f.oFa)),r.__param(1,(0,m.l)(l.mC)),r.__param(2,(0,m.l)(d.yb)),r.__param(3,(0,m.l)(h.Eg)),r.__param(4,(0,m.l)(a.GLa))],n);b.qFa=n;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;b.pFa=function(a,c,k,h){this.ll=a;this.qp=c;this.W7=h;};},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.u6a=void 0;r=a(0);c=a(162);k=a(1207);h=a(1208);g=a(1209);d=a(1210);f=a(1211);m=a(11);l=a(1212);n=a(1213);p=a(1214);q=a(50);t=a(91);w=a(516);v=a(513);u=a(512);x=a(86);y=a(297);z=a(52);A=a(188);B=a(1215);D=a(518);C=a(519);F=a(1218);G=a(520);E=a(1219);b.u6a=new r.zd(function(I){I(z.un).to(h.YIa).ba();I(v.wKa).to(g.vKa).ba();I(u.mJa).to(d.lJa).ba();I(y.iJa).to(f.hJa).ba();I(z.Hga).to(l.XIa).ba();I(x.Py).to(n.eJa).ba();I(y.gJa).to(p.fJa).ba();I(A.GS).to(B.FS).ba();I(A.Kga).to(F.jJa).ba();I(G.JS).to(E.IS).ba();I(D.zFa).to(C.yFa).ba();I(w.PCa).to(k.OCa).ba();I(z.ZIa).I0(function(N){return function(){return N.gb.get(c.RS)().then(function(L){return new Promise(function(H){var O,J,M;function Q(){J() && M() && L.cZ?H(N.gb.get(z.un)):O.cm(Q);}O=N.gb.get(q.ek);J=N.gb.get(m.Wc);M=N.gb.get(t.Hy);O.cm(Q);});});};});});},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t){var w;w=this;this.bSb=n;this.YA=p;this.config=t;this.Dya=[];this.bSb.oca(k.qhb,this.cNb.bind(this));q().then(function(v){var u;u=t().Hq.AIb;w.RSb=u?l.bk[u.toUpperCase()]:l.bk.ag;w.jg=v;w.i1b();});}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;r=a(2);h=a(0);g=a(11);d=a(115);f=a(52);m=a(86);l=a(7);c.prototype.cNb=function(n,p){this.jg?this.nab(n,p):this.Dya.push([n,p]);};c.prototype.i1b=function(){var n,p;n=this;p=this.Dya;this.Dya=[];p.forEach(function(q){n.nab(q[0],q[1]);});};c.prototype.nab=function(n,p){var q;if(this.jg && this.t2b(n)){q={debugMessage:n.message,debugCategory:n.ip};n.Pb.forEach(function(t){return q=Object.assign(Object.assign({},q),t.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.YA.Bu("debug",l.bk[n.level].toLowerCase(),q,p);this.jg.Oc(n);}};c.prototype.t2b=function(n){var p;p=this.RSb;return void 0 !== p && n.level <= p && !n.Pb.find(function(q){return q.LW(l.gS);});};a=k=c;a.qhb="adaptorAll";a=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.AL)),r.__param(1,(0,h.l)(m.Py)),r.__param(2,(0,h.l)(f.ZIa)),r.__param(3,(0,h.l)(g.Wc))],a);b.OCa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){this.config=w;this.json=v;this.Tc=u;this.SRb=x;this.RY=z;this.v$=this.jv=!1;this.listeners=[];(0,h.Dp)(this,"json");this.Ca=y.kb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;r=a(2);k=a(0);h=a(56);g=a(39);d=a(512);f=a(50);m=a(7);l=a(52);n=a(513);p=a(3);q=a(113);a(190);t=a(285);c.prototype.zb=function(){this.jv=!0;};c.prototype.Oc=function(w){var v;v=this;this.B2b(w) || (!1,0 < w.size.Pl(this.config.NSb)?this.Ca.error("Logblob is too large, dropping from the queue",{logblobType:w.type,logblobSize:w.size.toString()}):(this.listeners.forEach(function(u){return u.zTb(w);}),!1,this.RY.zla(w),this.Tc.cm(function(){v.kIb();})));};c.prototype.flush=function(w){var v;v=this;w=void 0 === w?!1:w;return this.v$?(this.Ca.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,x){v.Ca.trace("Flushing",m.gS);v.Ft();v.Tc.cm(function(){v.Iza(w).then(function(){u();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(w){this.listeners.push(w);};c.prototype.removeListener=function(w){w=this.listeners.indexOf(w);0 <= w && this.listeners.splice(w,1);};c.prototype.Iza=function(w){var v,u;v=this;w=void 0 === w?!1:w;if(!this.jv)return (this.Ca.trace("LogBatcher is not initialized"),Promise.resolve());if(this.v$)return (this.Ca.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.RY.zJb();if(0 === u.length && !w)return (this.Ca.trace("No logblobs to send"),Promise.resolve());!1;this.Ft();this.listeners.forEach(function(){});w=Promise.resolve();for(var x={},y=pa(u),z=y.next();!z.done;(x={rea:x.rea},z=y.next())){x.rea=z.value;w=w.then((function(A){return function(){return v.f1b(A.rea);};})(x));}return w.then(function(){return v.cI();}).catch(function(A){u.filter(function(B){return !B.QA;}).forEach(function(B){return B.Ou();});v.cI();throw Error("Send failure. " + A);});};c.prototype.f1b=function(w){var v;v=this;this.Ca.trace("Sending batch: " + w.size,m.gS);return Promise.resolve(this.RY.j_b(w)).then(function(){return v.SRb.send(w.hJ);}).then(function(){return w.aR();}).catch(function(u){v.Ca.warn("Failed to send batch of logblobs.",u,m.gS);w.Ou();v.q2b(u) && v.RY.dvb(w);v.C2b(u) && (v.v$=!0);throw u;});};c.prototype.q2b=function(w){return w.Qd === p.d3.ALa?!1:this.config.vla;};c.prototype.C2b=function(w){return w.Jc === p.O.QGa || w.Jc === p.O.vS || w.Jc === p.O.zS?!0:!1;};c.prototype.kIb=function(){var w;w=this;0 < this.RY.size.Pl(this.config.l7a)?this.Iza().catch(function(v){return w.Ca.warn("Failed to send log messages on size threshold. " + v);}):this.cI();};c.prototype.Ft=function(){this.H$ && (!1,this.H$.cancel(),this.H$=void 0);};c.prototype.cI=function(){this.H$ || (!1,this.H$=this.Tc.Ok(this.config.g1b,this.RP.bind(this)));};c.prototype.RP=function(){var w;w=this;this.v$=!1;this.Ft();this.Iza().catch(function(v){return w.Ca.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(w){var v;v="";try{v=this.json.stringify(w.data,void 0,"  ");}catch(u){}return v;};c.prototype.B2b=function(w){return 0 <= this.config.ddb.indexOf(w.type)?!0:w.type === t.fd.debug?0 <= this.config.cdb.indexOf(w.data.debugCategory):!1;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.Hga)),r.__param(1,(0,k.l)(g.UF)),r.__param(2,(0,k.l)(f.ek)),r.__param(3,(0,k.l)(d.mJa)),r.__param(4,(0,k.l)(m.yb)),r.__param(5,(0,k.l)(n.wKa)),r.__param(6,(0,k.l)(q.e2))],a);b.YIa=a;},function(r,b,a){var h,g,d,f,m,l,n;function c(p){this.UM=d.hb;this.qka=[];this.ZT=this.U4=!1;p && (this.UM=p.size,this.qka=p.hJ);}function k(p,q,t,w){this.ATb=p;this.config=q;this.Vf=t;this.json=w;(0,g.Dp)(this,"json");this.Ca=this.Vf.kb("MessageQueue");this.vu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;r=a(2);h=a(0);g=a(56);d=a(53);f=a(297);m=a(7);l=a(39);a=a(52);k.prototype.zla=function(p){var q,t;0 === this.vu.length && this.vu.push(this.ira());if(p=this.bMb(p)){q=this.ATb.measure([p]);t=this.vu[this.vu.length - 1];0 < t.size.add(q).Pl(this.config.l7a) && (t=this.ira(),this.vu.push(t));t.zla(p);}};k.prototype.zJb=function(){var p;p=this.vu.filter(function(q){return q.Jyb;});this.vu.push(this.ira());p.forEach(function(q){return q.ASb();});return p;};k.prototype.dvb=function(p){p.QA || this.vu.unshift(new c(p));};k.prototype.j_b=function(p){p=this.vu.indexOf(p);0 <= p && this.vu.splice(p,1);};k.prototype.bMb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(w){var q,t;q={};p=p.data;t=p.debugMessage;t && "string" === typeof t && (q.originalDebugMessage=t);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.Ca.error("JSON.stringify error: " + w.message,q);}};k.prototype.ira=function(){return new c();};Ya.Object.defineProperties(k.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.vu.reduce(function(p,q){return p.add(q.size);},d.hb);}}});n=k;n=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.iJa)),r.__param(1,(0,h.l)(a.Hga)),r.__param(2,(0,h.l)(m.yb)),r.__param(3,(0,h.l)(l.UF))],n);b.vKa=n;c.prototype.aR=function(){this.U4=!1;this.ZT=!0;};c.prototype.Ou=function(){this.U4=!1;};c.prototype.zla=function(p){this.qka.push(p);this.UM=this.UM.add(p.size);};c.prototype.ASb=function(){this.U4=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.UM;}},hJ:{configurable:!0,enumerable:!0,get:function(){return this.qka;}},Jyb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.hJ.length && !1 === this.U4;}},QA:{configurable:!0,enumerable:!0,get:function(){return this.ZT;}}});},function(r,b,a){var h,g,d,f,m,l,n,p,q,t,w;function c(v,u,x,y,z,A,B,D){this.Ea=v;this.platform=x;this.vk=y;this.json=z;this.ti=A;this.gi=B;this.$Rb=D;(0,g.Dp)(this,"json");this.Ca=u.kb("LogblobSender");}function k(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;r=a(2);h=a(0);g=a(56);d=a(39);f=a(5);m=a(32);l=a(20);n=a(46);p=a(91);q=a(7);t=a(514);a=a(78);c.prototype.send=function(v){var u;u=this;return new Promise(function(x,y){var z;try{z=v.reduce(function(A,B){A.entries.push(u.TCb(B));return A;},new k());x(u.cJb(z));}catch(A){u.Ca.error(A.message);y(A);}}).then(function(x){return u.Kza(x);});};c.prototype.TCb=function(v){return this.ti.mJ(this.ti.mJ({},v.data),{esn:this.vk().ll,sev:v.severity,type:v.type,lver:this.platform.Uua,jssid:this.Ea.id,devmod:this.platform.DD,jsoffms:v.timestamp.Ha(this.Ea.WA).ca(f.la),clienttime:v.timestamp.ca(f.la),client_utc:v.timestamp.ca(f.Oo),uiver:this.gi.py});};c.prototype.cJb=function(v){var u;u=this;try{return this.json.stringify(v);}catch(z){for(var x={},y=0;y < v.entries.length;(x={HR:x.HR,fw:x.fw},++y)){x.fw=Object.assign({},v.entries[y]);try{this.json.stringify(x.fw);}catch(A){x.HR=void 0;this.ti.MD(x.fw,(function(B){return function(D,C){try{u.json.stringify(C);}catch(F){B.HR=F.message;B.fw[D]=B.HR;}};})(x));x.fw.stringifyException=x.HR;x.fw.originalType=x.fw.type;x.fw.type="debug";x.fw.sev="error";}}return this.json.stringify(v);}};c.prototype.Kza=function(v){var u;u=this;return this.$Rb.Sg(this.Ca,{logblobs:v}).then(function(){!1;}).catch(function(x){u.Ca.error("PBO logblob failed",x);return Promise.reject(x);});};w=c;w=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(l.vd)),r.__param(1,(0,h.l)(q.yb)),r.__param(2,(0,h.l)(n.Mo)),r.__param(3,(0,h.l)(p.Hy)),r.__param(4,(0,h.l)(d.UF)),r.__param(5,(0,h.l)(m.Qh)),r.__param(6,(0,h.l)(a.Xy)),r.__param(7,(0,h.l)(t.YLa))],w);b.lJa=w;},function(r,b,a){var k,h,g;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.hJa=void 0;r=a(2);k=a(0);h=a(297);g=a(53);c.prototype.measure=function(d){var f;f=this;return d.map(function(m){return m.size.add(f.config.VRb());}).reduce(function(m,l){return m.add(l);},(0,g.aa)(0));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.gJa))],a);b.hJa=a;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p){n=m.ff.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.NSb=(0,k.aa)(5E5);n.g1b=(0,h.Naa)(1);n.l7a=(0,k.aa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.XIa=void 0;r=a(2);k=a(53);h=a(5);g=a(0);d=a(11);f=a(48);m=a(49);a=a(34);la(c,m.ff);Ya.Object.defineProperties(c.prototype,{vla:{configurable:!0,enumerable:!0,get:function(){return this.config().vla;}},ddb:{configurable:!0,enumerable:!0,get:function(){return [];}},cdb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});l=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],l.prototype,"ddb",null);r.__decorate([f.config(f.Jz("string"),"shedDebugTypes")],l.prototype,"cdb",null);l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.om)),r.__param(1,(0,g.l)(d.Wc))],l);b.XIa=l;},function(r,b,a){var h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y,z,A,B,D){this.platform=w;this.noa=v;this.type=u;this.severity=x;this.timestamp=y;this.Ea=A;this.data=z;this.data.type=u;this.data.sev=x;this.data.devmod=this.platform.DD;this.data.clver=this.platform.version;t && t.Je && (t.Je.os && (this.data.osplatform=t.Je.os.name,this.data.osver=t.Je.os.version),this.data.browsername=t.Je.name,this.data.browserver=t.Je.version);t.$ta && (this.data.tester=!0);t.CI && !this.data.groupname && (this.data.groupname=t.CI);t.zN && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.zN:t.zN);t.R0 && (this.data.uigroupname=t.R0);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.cLb();this.data.uniqueLogId=B.x0a();this.data.appId=this.Ea.id;D && (t=this.Ea.Xb(),this.data.soffms=t.Ha(D.gj).ca(f.la),this.data.mid=this.data.mid || D.K,this.data.lvpi=D.Tua,this.data.uiLabel=D.je,this.data.uxLabels=D.cea,u="startup" === u?"playbackxid":"xid",this.data[u]="xid" === u && this.data.xid || D.ea,D.oK && (u=D.oK,(D=D.oK.split(".")) && 1 < D.length && "S" !== D[0][0] && (u="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + u:u));}function k(t,w,v,u,x,y){this.Da=t;this.noa=w;this.config=v;this.Ea=u;this.Z6b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;r=a(2);h=a(53);g=a(0);d=a(35);f=a(5);m=a(356);l=a(40);n=a(20);p=a(515);a=a(46);k.prototype.Bu=function(t,w,v,u){return new c(this.config,this.platform,this.noa,t,w,this.Da.qf,v,this.Ea,this.Z6b,u);};q=k;q=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.wi)),r.__param(1,(0,g.l)(m.QEa)),r.__param(2,(0,g.l)(l.Io)),r.__param(3,(0,g.l)(n.vd)),r.__param(4,(0,g.l)(p.kQa)),r.__param(5,(0,g.l)(a.Mo))],q);b.eJa=q;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.dWa || (this.dWa=(0,h.aa)(this.noa.encode(this.data).length));return this.dWa;}}});},function(r,b,a){var k,h,g;function c(d){this.vk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;r=a(2);k=a(0);h=a(53);a=a(91);c.prototype.VRb=function(){var d;d=this.vk()?this.vk().ll.length:40;return (0,h.aa)(d + 33);};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Hy))],g);b.fJa=g;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C;function c(F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya){this.Jeb=F;this.jg=G;this.Cva=E;this.Ppa=I;this.ve=N;this.H7=L;this.Tf=H;this.config=Q;this.Ld=O;this.Da=J;this.Ea=M;this.platform=P;this.er=R;this.YA=S;this.hj=U;this.Vu=ba;this.jJ=na;this.Cc=va;this.wE=ya;}Object.defineProperty(b,"__esModule",{value:!0});b.FS=void 0;r=a(2);k=a(480);h=a(52);g=a(32);d=a(488);f=a(291);m=a(0);l=a(188);n=a(517);p=a(518);q=a(69);t=a(11);w=a(35);v=a(20);u=a(46);x=a(86);y=a(121);z=a(164);A=a(39);B=a(40);D=a(298);a=a(77);c.prototype.create=function(F,G){return new n.HS(F,G,this.Jeb,this.jg,this.Cva,this.Ppa,this.ve,this.H7,this.Tf,this.config,this.Ld,this.Da,this.Ea,this.er,this.YA,this.hj,this.Vu,this.jJ,this.Cc,this.wE);};C=c;C=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.FPa)),r.__param(1,(0,m.l)(h.un)),r.__param(2,(0,m.l)(d.YJa)),r.__param(3,(0,m.l)(f.Wfa)),r.__param(4,(0,m.l)(g.Qh)),r.__param(5,(0,m.l)(p.zFa)),r.__param(6,(0,m.l)(q.rw)),r.__param(7,(0,m.l)(t.Wc)),r.__param(8,(0,m.l)(y.wG)),r.__param(9,(0,m.l)(w.wi)),r.__param(10,(0,m.l)(v.vd)),r.__param(11,(0,m.l)(u.Mo)),r.__param(12,(0,m.l)(A.C3)),r.__param(13,(0,m.l)(x.Py)),r.__param(14,(0,m.l)(z.lG)),r.__param(15,(0,m.l)(B.Io)),r.__param(16,(0,m.l)(D.bha)),r.__param(17,(0,m.l)(l.Kga)),r.__param(18,(0,m.l)(a.vw))],C);b.FS=C;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;c=a(53);b.xFa=function(k,h){this.yFb=k;this.size=h.Mta()?c.hb:h;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;b.sva=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var k=a[0],h=c(k),g=1;g < a.length;g++){d=a[g];f=c(d);f > h && (k=d,h=f);}return k;}};},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x){this.platform=w;this.config=v;this.Ea=u;this.userAgentData=x;this.tQa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.jJa=void 0;r=a(2);k=a(0);h=a(36);g=a(20);d=a(3);f=a(46);m=a(5);l=a(11);n=a(25);p=a(12);q=a(191);a=a(216);c.prototype.Tq=function(w,v,u){u && (w.adlid=u.wc,w.abitrate=u.bitrate);v && (w.vdlid=v.wc,w.vbitrate=v.bitrate);};c.prototype.U3a=function(w,v,u){u?w=Object.assign(w,(0,q.m2a)(this.platform.Gs,u)):w.errorcode=d.T.zn;w.errorcode === this.platform.Gs + d.T.oLa && (w.lastSyncWithVideoElement=this.getTime() - v.v0);};c.prototype.Z3a=function(w,v){var u;Object.assign(w,(0,q.Pra)());try{u=v.getBoundingClientRect();w.rendersize=u.width + "x" + u.height;w.renderpos=u.left + "x" + u.top;}catch(x){}};c.prototype.Y3a=function(w,v){var u,x,y;u=v.Bc[h.Rb.Ya.Nb].value;x=v.Bc[h.Rb.Ya.cc].value;y=v.Hf.value;v=v.se.value;u && (w.cdnid=u.id,w.cdnname=u.name);x && (w.acdnid=x.id,w.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(w.adlid=y.stream.wc,w.abitrate=y.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(w.vdlid=v.stream.wc,w.vbitrate=v.stream.bitrate,w.vheight=v.stream.height,w.vwidth=v.stream.width);};c.prototype.xOb=function(w,v){var u,x;x=null === (u=v.Ia) || void 0 === u?void 0:u.FDb;x && (null === x || void 0 === x?void 0:x.N) !== v.BD && (w.auxMid=x.N);};c.prototype.W3a=function(w,v){0 <= v.mediaTime.value && (v=v.TO() && !v.fb.ci?v.k7:v.mediaTime.value,w.moff=(0,n.rp)(v),w.moffms=(0,n.gg)(v));};c.prototype.S3a=function(w,v){v.Rf && (w.pbcid=v.Rf);v.Mi && (w.playbackcontextid=v.Mi);};c.prototype.gta=function(w){var v,u;w.browserua=p.fG;w.browseruad=null === (u=null === (v=p.Ee.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === u?void 0:u.map(function(x){return [x.brand,x.version];});w.browseruadpv=this.userAgentData.platformVersion;w.browserhref=location.href;(v=p.Ee && p.Ee.connection && p.Ee.connection.type) && (w.nettype=v);};c.prototype.YO=function(w){var v,u,x,y,z;if(this.config().xGb){z=null === (v=null === p.Ee || void 0 === p.Ee?void 0:p.Ee.connection) || void 0 === v?void 0:v.effectiveType;v=null === p.Ee || void 0 === p.Ee?void 0:p.Ee.deviceMemory;z && (w.effectiveType=z);v && (w.deviceMemory=v);}(z=null === (u=null === p.Ee || void 0 === p.Ee?void 0:p.Ee.connection) || void 0 === u?void 0:u.type) && (w.connectionType=z);u=null === (x=null === p.Ee || void 0 === p.Ee?void 0:p.Ee.connection) || void 0 === x?void 0:x.downlink;"number" === typeof u && isFinite(u) && (w.downlink=u);x=null === (y=null === p.Ee || void 0 === p.Ee?void 0:p.Ee.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (w.rtt=x);};c.prototype.V9=function(w,v){if(v=v.fb.en)(v.isUIAutoPlay && (w.isUIAutoPlay=!0),v.clLogId && (w.cl_log_id=v.clLogId));};c.prototype.ZO=function(w,v,u,x){var y,z,A,B,D;y=this;if(u=u && u.streams){A=new Set();B=new Set();D=new Set();u.forEach(function(C){C=C.Pf;A.add(C);B.add(C.replace(y.tQa,""));(C=C.match(y.tQa)) && 0 < C.length && D.add(C[1]);});w.videoProfiles=[].concat(ja(A));w.videoProfile=0 === B.size?"none":[].concat(ja(B))[0];w.videoProfileLevels=[].concat(ja(D));u && u.length && (w.isMcClearen=! !u[0].lj.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}v && (null === (z=x.ia) || void 0 === z?0:z.f1) && (w.videoProfilesStatus=this.V6a(x.ia.f1));};c.prototype.V6a=function(w){return this.xSb(w.NO(),function(v){return v.supported?!0:v.reason;});};c.prototype.xSb=function(w,v){return Object.entries(w).reduce(function(u,x){var y;y=pa(x);x=y.next().value;y=y.next().value;u[x]=v(y);return u;},{});};c.prototype.P3a=function(w,v,u){var x,y;if(v=v && v.streams){y={};v.forEach(function(z){y[z.Pf]=void 0;});w.audioProfiles=Object.keys(y);}(null === (x=u.ia) || void 0 === x?0:x.eV) && (w.audioProfilesStatus=this.V6a(u.ia.eV));};c.prototype.T3a=function(w){w.configversion=this.config().version;this.config().endpoint || (w.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Xb().ca(m.la);};t=c;t=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Mo)),r.__param(1,(0,k.l)(l.Wc)),r.__param(2,(0,k.l)(g.vd)),r.__param(3,(0,k.l)(a.Hia))],t);b.jJa=t;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t,w){this.jg=n;this.config=p;this.Da=q;this.Ea=t;this.Wua=w;}Object.defineProperty(b,"__esModule",{value:!0});b.IS=void 0;r=a(2);k=a(52);h=a(0);g=a(188);d=a(11);f=a(35);m=a(20);l=a(1220);c.prototype.create=function(n,p,q){var t;t=this.Wua.create(n,p);return new l.KS(n,p,q,this.jg,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(k.un)),r.__param(1,(0,h.l)(d.Wc)),r.__param(2,(0,h.l)(f.wi)),r.__param(3,(0,h.l)(m.vd)),r.__param(4,(0,h.l)(g.GS))],a);b.IS=a;},function(r,b,a){var k,h,g,d,f;function c(m,l,n,p,q,t,w){var v;v=this;this.j=m;this.ya=l;this.jg=p;this.config=q;this.Ea=t;this.Cb=w;this.XA=function(u,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === v.K && u(y);};};this.R6a=this.XA(function(u){v.ida(u.r$);},function(u){return u.K;});this.O6a=this.XA(function(){v.FV();},function(u){return u.K;});this.WWa=this.XA(function(){v.FV();},function(u){return u.movieId;});this.ona=this.XA(function(){v.j.Eb.value === f.jb.Rc && (v.j.Eb.removeListener(v.ona),v.Av());},function(){return v.j.K;});this.YB=function(u){v.tB && v.Cb.YB(u);};this.bXa=this.XA(this.Cb.bAb,function(u){return u.K;});this.qZa=this.XA(this.Cb.sFb,function(u){return u.K;});this.o6a=this.XA(this.Cb.BY,function(u){return v.j.Bk(u.segmentId).K;});this.mcb=this.XA(this.Cb.S_,function(u){return v.j.Bk(u.segmentId).K;});this.gZa=this.XA(this.Cb.cpa,function(u){return u.K;});this.Lk=function(u){u.skip && (v.Co=!0);switch(u.cause){case f.Ye.pG:case f.Ye.Y3:v.vt && v.Wp && v.Cb.Axa(v.getTime() - v.Wp,v.vt);v.vt="repos";v.Cb.sQ(u.Iwa,u.Hf,u.se);v.Wp=v.getTime();(0,d.fg)(v.kx);break;case f.Ye.n2:(v.vt="force_rebuffer",v.Wp=v.getTime(),(0,d.fg)(v.kx));}};this.zm=function(u){v.UA=u.oldValue;v.Cb.zm(u);};this.kx=function(){var u;if(v.Wp && v.j.Eb.value !== f.jb.cg){u=v.getTime() - v.Wp;v.Cb.zQ(u,v.Co,v.vt);v.UA && v.UA != v.j.Ac.value && v.Cb.mma();v.Wp=void 0;v.vt=void 0;v.Co=void 0;}};this.Av=function(){v.tB || (v.tB=!0,v.Cb.fF(!1),v.qta(),v.config().c$ && (v.PA=nb.setTimeout(function(){v.jg.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.PA=void 0;},v.config().c$)));};this.fh=function(){v.PA && (nb.clearTimeout(v.PA),v.PA=void 0);if(v.config().I7 || v.config().lN)(v.epa && (nb.clearInterval(v.epa),v.epa=void 0),v.Cb.eZa());v.T0 && v.T0();v.tB?v.Cb.bI(! !v.j.Hi):v.j.Hi?v.Cb.fF(!0):v.ya.background || v.Cb.Bxa();};this.h1=function(u){u.oldValue && u.Jm && u.Jm.DH && v.Cb.DN(u.oldValue,u.newValue,u.Jm.DH,u.Jm.oV);};this.XZ=function(u){var x;if(u.newValue){x=u.newValue.stream;v.ZI != x && (v.ZI && x && v.Cb.Qya(v.ZI,x,u.newValue.Cm.startTime),v.ZI=x);}};this.K=l.K;this.log=(0,h.Ii)(m,"LogblobBuilder");this.zb();n && this.ida();}Object.defineProperty(b,"__esModule",{value:!0});b.KS=void 0;k=a(14);h=a(8);g=a(5);d=a(60);f=a(18);c.prototype.zb=function(){this.j.addEventListener(f.ga.bJ,this.R6a);this.j.addEventListener(f.ga.jva,this.O6a);this.j.addEventListener(f.ga.BY,this.o6a);this.j.addEventListener(f.ga.S_,this.mcb);this.j.addEventListener(f.ga.fh,this.WWa);this.j.addEventListener(f.ga.HD,this.gZa,k.x3);if(this.config().I7 || this.config().lN)(this.j.addEventListener(f.ga.HD,this.qZa),this.epa=nb.setInterval(this.Cb.eZa,this.config().xFb));this.config().Wya && this.j.addEventListener(f.ga.HD,this.bXa);};c.prototype.ida=function(m){var l;l=this;this.g8a || (this.j.Eb.value !== f.jb.Rc || (void 0 === m?0:m)?this.j.Eb.addListener(this.ona):this.Av(),this.j.$i.addListener(this.YB),this.j.tc.addListener(this.Cb.fm),this.j.Ac.addListener(this.zm),this.j.Ah.addListener(this.Cb.fV),this.j.paused.addListener(this.Cb.Cba),this.j.se.addListener(this.XZ),this.j.Eb.addListener(this.kx),this.j.Eb.addListener(this.Cb.hfb),this.j.ef.addListener(this.h1),this.j.playbackRate.addListener(this.Cb.f0),this.j.addEventListener(f.ga.Fi,this.Cb.Fi),this.j.addEventListener(f.ga.kN,this.Cb.kN),this.j.addEventListener(f.ga.$Q,this.Cb.$Q),this.j.addEventListener(f.ga.Qz,function(n){l.vt="rebuffer";l.Cb.Qz(n);l.Wp=l.getTime();(0,d.fg)(l.kx);}),this.j.addEventListener(f.ga.Lk,this.Lk),this.j.addEventListener(f.ga.fR,this.Cb.fR),this.ya.xq && this.ya.xq.addListener(this.Cb.xq),this.g8a=!0);};c.prototype.FV=function(){this.fh();this.g8a && (this.j.removeEventListener(f.ga.bJ,this.R6a),this.j.removeEventListener(f.ga.jva,this.O6a),this.j.removeEventListener(f.ga.BY,this.o6a),this.j.removeEventListener(f.ga.S_,this.mcb),this.j.$i.removeListener(this.YB),this.j.tc.removeListener(this.Cb.fm),this.j.Ac.removeListener(this.zm),this.j.Ah.removeListener(this.Cb.fV),this.j.paused.removeListener(this.Cb.Cba),this.j.se.removeListener(this.XZ),this.j.Eb.removeListener(this.kx),this.j.Eb.removeListener(this.ona),this.j.Eb.removeListener(this.Cb.hfb),this.j.ef.removeListener(this.h1),this.j.playbackRate.removeListener(this.Cb.f0),this.j.removeEventListener(f.ga.HD,this.gZa),this.j.removeEventListener(f.ga.fh,this.WWa),this.j.removeEventListener(f.ga.Fi,this.Cb.Fi),this.j.removeEventListener(f.ga.kN,this.Cb.kN),this.j.removeEventListener(f.ga.$Q,this.Cb.$Q),this.j.removeEventListener(f.ga.Qz,this.Cb.Qz),this.j.removeEventListener(f.ga.Lk,this.Lk),this.j.removeEventListener(f.ga.fR,this.Cb.fR),this.ya.xq && this.ya.xq.removeListener(this.Cb.xq),this.j.removeEventListener(f.ga.HD,this.qZa),this.j.removeEventListener(f.ga.HD,this.bXa));};c.prototype.getTime=function(){return this.Ea.Xb().ca(g.la);};c.prototype.qta=function(){var m,l,n;m=this;n=[];this.config().O7a && (this.config().P7a.forEach(function(p){n.push(nb.setTimeout(m.Cb.yE,p));}),this.config().Baa && (l=nb.setInterval(this.Cb.yE,this.config().Baa)),this.T0=function(){n.forEach(function(p){nb.clearTimeout(p);});l && nb.clearInterval(l);});};b.KS=c;},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.t8a=void 0;r=a(0);c=a(1222);k=a(69);h=a(521);g=a(1223);d=a(523);f=a(522);m=a(1224);l=a(466);n=a(1228);b.t8a=new r.zd(function(p){p(h.JQa).to(c.IQa).ba();p(k.rw).nF(function(){return nb._cad_global.http;});p(d.PKa).to(g.OKa).ba();p(f.QKa).gm(m.default);p(l.AHa).to(n.zHa).ba();});},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IQa=void 0;r=a(2);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};k=c;k=r.__decorate([(0,a.U)()],k);b.IQa=k;},function(r,b,a){var k,h,g,d;function c(f,m,l){this.config=f;this.MRb=m;this.$b=l;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;r=a(2);k=a(348);h=a(0);g=a(189);a=a(522);c.prototype.$Cb=function(){if(this.config.qgb)return this.$b(this.MRb());};d=c;d=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(k.NKa)),r.__param(1,(0,h.l)(g.JKa)),r.__param(2,(0,h.l)(a.QKa))],d);b.OKa=d;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(1225);k=a(1226);h=a(1227);b.default=function(g){var d;g=new c.Nea(g);d=new h.Qmb(g);return new k.Pmb(g,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.l6a=c;}a.prototype.Vza=function(c){try{this.l6a.setItem("gtp",JSON.stringify(c));}catch(k){return !1;}return !0;};a.prototype.y1a=function(){var c;try{c=this.l6a.getItem("gtp");if(c)return JSON.parse(c);}catch(k){}};a.prototype.eo=function(){var c;c=this.y1a();if(c && c.tp)return c.tp.a;};a.prototype.OKb=function(){var c;c=this.qra();if(c)return c.p25;};a.prototype.PKb=function(){var c;c=this.qra();if(c)return c.p50;};a.prototype.QKb=function(){var c;c=this.qra();if(c)return c.p75;};a.prototype.qra=function(){var c;c=this.y1a();if(c && (c=c.iqr))return c;};return a;})();b.Nea=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,k){this.ex=c;this.kwa=k;}a.prototype.Vza=function(c){return this.ex.Vza(c);};a.prototype.eo=function(){return this.ex.eo();};return a;})();b.Pmb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.ex=c;}a.prototype.kwa=function(){var c,k,h;c=this.ex.OKb();k=this.ex.PKb();h=this.ex.QKb();if("number" === typeof c && "number" === typeof k && "number" === typeof h)return (h - c) / k;};return a;})();b.Qmb=r;},function(r,b,a){var k,h,g;function c(d,f){this.Tf=f;this.Ca=d.kb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(2);k=a(0);h=a(7);a=a(69);c.prototype.download=function(d,f){var m;m=this;f=void 0 === f?{u7a:0}:f;return new Promise(function(l,n){var q;function p(t){if(t.da)return l(t.content);if(q === f.u7a)return n({wa:t.wa,II:t.kl});q++;!1;m.Tf.download(d,p);}q=0;m.Tf.download(d,p);});};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(a.rw))],g);b.zHa=g;},function(r,b,a){var c,k,h,g,d,f,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.t0a=void 0;r=a(0);c=a(1230);k=a(1231);h=a(1232);g=a(1233);d=a(1234);f=a(524);m=a(525);l=a(171);b.t0a=new r.zd(function(n){n(l.OGa).to(c.NGa).ba();n(l.eOa).to(k.dOa).ba();n(l.cOa).to(h.bOa).ba();n(f.KGa).to(g.JGa).ba();n(m.DHa).to(d.CHa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w,v,u,x){this.config=p;this.H3a=q;this.Tc=t;this.Dc=w;this.G_b=v;this.Uya=u;this.wQb=0;this.Ca=x.kb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;r=a(2);h=a(0);g=a(5);d=a(50);f=a(7);m=a(524);l=a(525);a=a(171);c.prototype.start=function(){this.config.enabled && !this.xt && (this.xt=this.Tc.Ok(this.config.Ddb,this.fy.bind(this)));};c.prototype.stop=function(){this.xt && (this.xt.cancel(),this.xt=void 0);};c.prototype.fy=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.wQb++;this.xMb(q).then(function(t){return Promise.all(t.urls.map(function(w){return p.nNb(t,w.url,w.name);})).then(function(w){0 < w.length && p.G_b.w_({data:w,context:t.context,Xua:t.Xua});}).then(function(){return t;});}).then(function(t){p.xt && (t.z5a?p.xt=p.Tc.Ok(t.z5a,p.fy.bind(p)):p.stop());}).catch(function(t){return p.Ca.error("FTL run failed",t);});};c.prototype.xMb=function(p){var q;q=this;return this.H3a.get(p,!1).then(function(t){var w;if(200 != t.status || null == t.body)return (q.Uya.w_({url:p,status:t.status,vxa:"FTL API request failed",re:t.re}),Promise.reject(Error("FTL API request failed: " + t.status)));w=q.Dc.parse(t.body);return w instanceof Error?(q.Uya.w_({url:p,status:4,vxa:"FTL Probe API JSON parsing error",re:t.re}),Promise.reject(w)):Promise.resolve(w);}).catch(function(t){t instanceof Error && (q.Uya.w_({url:p,status:0,vxa:t.message}),q.Ca.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.nNb=function(p,q,t){var w;w=this;return new Promise(function(v,u){var F;for(var x,y,z,A,B=[],D={},C=0;C < p.dZb;(D={sea:D.sea,tea:D.tea},++C)){D.sea=C < p.kab.length?p.kab[C]:g.hb;D.tea="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (C + 1);F=(function(G){return function(){return new Promise(function(E,I){w.Tc.Ok(G.sea,function(){k.IYb(w.H3a,G.tea,p.cZb).then(function(N){function L(H,Q,O){H || (H=O.headers[Q]);return H;}x=L(x,"via",N);y=L(y,"x-ftl-probe-data",N);z=L(z,"x-ftl-error",N);A=L(A,"latency-trace",N);N={status:N.status,re:N.re,k7b:x || "",zzb:y || "",MW:z || "",$Qb:w.OWb(A)};E(N);}).catch(function(N){I(N);});});});};})(D);B.push(0 < C?B[C - 1].then(F):F());}Promise.all(B).then(function(G){v({url:q,name:t,data:G});}).catch(function(G){u(G);});});};c.prototype.OWb=function(p){var q;if(p){q={};p=pa(p.split(";"));for(var t=p.next();!t.done;t=p.next()){if((t=t.value.trim().split("=")) && 2 == t.length)try{q[t[0].trim()]=Number.parseInt(t[1]);}catch(w){}}return q;}};c.IYb=function(p,q,t){return p.get(q,!1,t).then(function(w){return Object.assign({},w);});};n=k=c;n=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.MGa)),r.__param(1,(0,h.l)(l.DHa)),r.__param(2,(0,h.l)(d.ek)),r.__param(3,(0,h.l)(m.KGa)),r.__param(4,(0,h.l)(a.eOa)),r.__param(5,(0,h.l)(a.cOa)),r.__param(6,(0,h.l)(f.yb))],n);b.NGa=n;},function(r,b,a){var k,h,g,d,f,m;function c(l,n){this.jg=l;this.Jva=n;}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;r=a(2);h=a(0);g=a(53);d=a(5);f=a(52);a=a(86);c.prototype.w_=function(l){var n;n={ctx:l.context,data:l.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return k.T7b({d:q.re.duration.ca(d.la),sc:q.status,sz:q.re.size.ca(g.jw),via:q.k7b,cip:q.zzb,err:q.MW},q);})};})};l=this.Jva.Bu(l.Xua,"info",n);this.jg.Oc(l);};c.T7b=function(l,n){k.dx(l,"dns",n.re.lZa);k.dx(l,"tcp",n.re.iBa);k.dx(l,"tls",n.re.sBa);k.dx(l,"ttfb",n.re.oBa);k.vvb(l,n.$Qb);return l;};c.vvb=function(l,n){n && (l.rtts=n);};c.dx=function(l,n,p){p && (l[n]=p.ca(d.la));};m=k=c;m=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.un)),r.__param(1,(0,h.l)(a.Py))],m);b.dOa=m;},function(r,b,a){var k,h,g,d,f,m;function c(l,n){this.jg=l;this.Jva=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bOa=void 0;r=a(2);h=a(0);g=a(53);d=a(5);f=a(52);a=a(86);c.prototype.w_=function(l){l=this.Jva.Bu("ftlProbeError","info",k.S7b({url:l.url,sc:l.status,pf_err:l.vxa},l));this.jg.Oc(l);};c.S7b=function(l,n){n.re && (n=n.re,k.dx(l,"d",n.duration),k.dx(l,"dns",n.lZa),k.dx(l,"tcp",n.iBa),k.dx(l,"tls",n.sBa),k.dx(l,"ttfb",n.oBa),l.sz=n.size.ca(g.jw));return l;};c.dx=function(l,n,p){p && (l[n]=p.ca(d.la));};m=k=c;m=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.un)),r.__param(1,(0,h.l)(a.Py))],m);b.bOa=m;},function(r,b,a){var k,h,g,d,f;function c(m,l){this.is=m;this.json=l;(0,h.Dp)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=void 0;r=a(2);k=a(0);h=a(56);g=a(39);d=a(5);a=a(29);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.lla(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.MU(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.MU(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.iD(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.MU(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.iD(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.In(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.VU(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var l=0;l < m.urls.length;++l){n=m.urls[l];if(!this.is.lla(n))throw Error("FtlProbe: param.urls[" + l + "]: not an object");if(!this.is.lu(n.name))throw Error("FtlProbe: param.urls[" + l + "].name: not a string");if(!this.is.lu(n.url))throw Error("FtlProbe: param.urls[" + l + "].url: not a string");}return {dZb:m.pulses,kab:m.pulse_delays?m.pulse_delays.map(d.Sc):[],cZb:(0,d.Sc)(m.pulse_timeout),z5a:m.next?(0,d.Sc)(m.next):void 0,urls:m.urls,Xua:m.logblob,context:m.ctx};};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Eg)),r.__param(1,(0,k.l)(g.UF))],f);b.JGa=f;},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t,w){this.Da=q;this.V7b=t;this.performance=w;(0,h.Dp)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;r=a(2);h=a(56);g=a(294);d=a(53);f=a(39);m=a(35);l=a(0);n=a(521);p=a(5);c.prototype.get=function(q,t,w){var v;v=this;return new Promise(function(u,x){var y,z,A;try{y=v.V7b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);t && (y.withCredentials=!0);w && (y.timeout=w.ca(p.la));z=v.Da.qf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=v.Da.qf.Ha(z);break;case XMLHttpRequest.DONE:B=v.Da.qf.Ha(z);B={body:y.responseText,status:y.status,headers:k.fxa(y.getAllResponseHeaders()),re:v.zra(q,(0,d.aa)(y.responseText.length),B,A)};u(B);}};y.send();}catch(B){x(B);}});};c.fxa=function(q){var t,v,u;t={};q=q.split("\r\n");for(var w=0;w < q.length;w++){v=q[w];u=v.indexOf(": ");0 < u && (t[v.substring(0,u).toLowerCase()]=v.substring(u + 2));}return t;};c.prototype.zra=function(q,t,w,v){t={size:t,duration:w,oBa:v};if(!this.performance || !this.performance.getEntriesByName)return t;w=this.performance.getEntriesByName(q);if(0 == w.length && (w=this.performance.getEntriesByName(q + "/"),0 == w.length))return t;q=w[w.length - 1];t=(0,g.tP)(t);q.decodedBodySize && (t.size=(0,d.aa)(q.decodedBodySize));0 < q.duration?t.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (t.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (t.lZa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),t.iBa=(0,p.timestamp)(q.connectEnd - q.connectStart),t.oBa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?t.sBa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (w=q.connectEnd - q.secureConnectionStart,t.sBa=(0,p.timestamp)(w),t.iBa=(0,p.timestamp)(q.connectEnd - q.connectStart - w)));return t;};a=k=c;a=k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(m.wi)),r.__param(1,(0,l.l)(n.JQa)),r.__param(2,(0,l.l)(f.Eha)),r.__param(2,(0,l.optional)())],a);b.CHa=a;},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.hab=void 0;r=a(0);c=a(349);k=a(1236);h=a(192);g=a(1237);b.hab=new r.zd(function(d){d(c.HFa).to(k.GFa).ba();d(h.ES).to(g.SIa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w){this.ti=p;this.lD=q;this.X6b=t;this.qP=w;}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;r=a(2);k=a(0);h=a(32);g=a(33);d=a(70);f=a(124);m=a(59);l=a(47);a=a(192);c.prototype.mh=function(p){var q;q=this;return this.ti.vD(p.sk[0].data[0],[8,4])?Promise.resolve({Ae:[{id:"ddd",aJ:"cert",xY:void 0}],Cj:[{sessionId:"ddd",data:new Uint8Array(this.lD.decode(l.yQa))}]}):this.ti.vD(p.sk[0].data[0],this.X6b.decode("certificate"))?Promise.resolve({Ae:[{id:"ddd",aJ:"cert",xY:void 0}],Cj:[{sessionId:"ddd",data:new Uint8Array(this.lD.decode(l.m2))}]}):this.qP.Ez(this.RIb(p)).then(function(t){return q.SIb(t);});};c.prototype.release=function(p){return this.qP.release(this.VIb(p)).then(function(){});};c.prototype.RIb=function(p){var q,t;q=this;t=p.sk.map(function(w){return w.data.map(function(v){return {sessionId:w.sessionId,dataBase64:q.lD.encode(v)};});});return {ea:p.ea,Mi:p.Mi,J7:p.J7,ig:(0,m.Fua)(p.ig),Wn:f.jm[p.Wn],sk:t.reduce(function(w,v){return w.concat(v);},[]),Gk:p.Gk};};c.prototype.VIb=function(p){return {ea:p.ea,Ae:p.Ae};};c.prototype.SIb=function(p){return {Ae:p.Ae,Cj:p.Cj};};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Qh)),r.__param(1,(0,k.l)(g.vi)),r.__param(2,(0,k.l)(d.au)),r.__param(3,(0,k.l)(a.ES))],n);b.GFa=n;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p,q,t){this.Xub=l;this.c_b=n;this.qbb=q;this.h0b=t;this.Ca=p.kb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;r=a(2);k=a(0);h=a(7);g=a(526);a(527);d=a(531);f=a(532);a=a(299);c.prototype.Ez=function(l){var n,p;n=this;!1;p=this.qbb.m5b(l);return this.Xub.Hs(this.Ca,l.Gk,p).then(function(q){q.map(function(t){return t.fRb;});return n.h0b.kfb(q);}).catch(function(q){n.Ca.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(l){var n;n=this;!1;l=this.qbb.p5b(l);return this.c_b.Sg(this.Ca,l).then(function(){return {da:!0};}).catch(function(p){n.Ca.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.CLa)),r.__param(1,(0,k.l)(d.pMa)),r.__param(2,(0,k.l)(h.yb)),r.__param(3,(0,k.l)(f.SLa)),r.__param(4,(0,k.l)(a.Aha))],m);b.SIa=m;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x){return function(){return x.gb.get(k.kMa).zb();};}Object.defineProperty(b,"__esModule",{value:!0});b.IJ=void 0;r=a(0);k=a(159);h=a(267);g=a(300);d=a(533);f=a(1239);m=a(1240);l=a(534);n=a(1241);p=a(535);q=a(1242);t=a(301);w=a(1243);v=a(536);u=a(1244);b.IJ=new r.zd(function(x){x(l.YMa).to(n.XMa).ba();x(h.Cha).to(g.gMa).ba();x(d.ILa).to(f.HLa).ba();x(k.kMa).to(m.jMa).ba();x(k.bT).I0(c);x(v.iMa).to(u.hMa).ba();x(p.OLa).to(q.NLa).ba().l1();x(t.mMa).to(w.lMa).ba();x(t.dMa).to(w.cMa).ba();x(t.fMa).to(w.eMa).ba();});},function(r,b,a){var g,d,f,m,l,n,p,q,t,w;function c(){}function k(){}function h(v,u,x,y,z){var A;A=this;this.is=v;this.Qp=u;this.config=x;this.UH=y;this.WWb=z;this.cw=function(){return new c().encode({version:A.version,data:A.IJ});};this.A6b=function(B){B=A.upgrade(B);A.WWb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.In(B))return A.B6b(B);D=B.version;if(void 0 != D && A.is.uj(D) && 1 == D)return A.C6b(B);D=B.version;if(void 0 != D && A.is.uj(D) && 2 == D)return new c().decode(B);if(B.version && A.is.uj(B.version))throw new l.od(f.T.tC,f.O.UDa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new l.od(f.T.tC,f.O.pC,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.zl=new n.vga(2,this.config().v$a,"" !== this.config().v$a && 0 < this.config().xXb,this.Qp,this.cw);}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(2);g=a(0);d=a(11);f=a(3);m=a(29);l=a(38);n=a(339);p=a(96);q=a(91);t=a(300);a=a(301);h.prototype.pZb=function(){return this.zl.load(this.A6b).catch(function(v){throw new l.od(f.T.tC,v.wa || v.Jc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};h.prototype.zvb=function(v){return this.zl.add(v);};h.prototype.$ab=function(v){return this.zl.remove(v,function(u,x){return u.ea === x.ea;});};h.prototype.UBa=function(v){return this.zl.update(v,function(u,x){return u.ea === x.ea;});};h.prototype.toString=function(){return JSON.stringify(this.cw(),null,"  ");};h.prototype.hgb=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.UH().ll:"";};h.prototype.YBa=function(v){return v.map(function(u){return {wc:u.downloadableId,duration:u.duration};});};h.prototype.igb=function(v){var u;return v?{total:v.playTimes.total,PK:null !== (u=v.playTimes.totalContentTime) && void 0 !== u?u:v.playTimes.total,jR:v.playTimes.total,oF:0,pF:0,audio:this.YBa(v.playTimes.audio || []),video:this.YBa(v.playTimes.video || []),text:this.YBa(v.playTimes.timedtext || [])}:{total:0,PK:0,jR:0,oF:0,pF:0,audio:[],video:[],text:[]};};h.prototype.B6b=function(v){var u,x,y;u=this;v=JSON.parse(v);x={type:"online",href:this.hgb(v.playbackContextId),ea:v.xid?v.xid.toString():"",K:v.movieId,position:v.position,EV:v.timestamp,T_:v.playback?1E3 * v.playback.startEpoch:-1,xP:v.mediaId,KZ:this.igb(v.playback),trackId:"",en:{},profileId:v.accountKey};y=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.Qp.create().then(function(z){z.save(u.config().yW,y,!1);});if("" === x.href || "" === x.ea)throw new l.od(f.T.tC,f.O.pC);return {version:2,data:[x]};};h.prototype.C6b=function(v){var u;u=this;if(!v.playdata || !this.is.iD(v.playdata))throw new l.od(f.T.tC,f.O.pC,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:u.hgb(y.playbackContextId),ea:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,EV:y.timestamp,T_:y.playback?1E3 * y.playback.startEpoch:-1,xP:y.mediaId,KZ:u.igb(y.playback),trackId:"",en:{},profileId:y.profileId};});})(v.playdata)};};Ya.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.zl.version;}},IJ:{configurable:!0,enumerable:!0,get:function(){return this.zl.Am;}}});w=h;w=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.Eg)),r.__param(1,(0,g.l)(p.mC)),r.__param(2,(0,g.l)(d.Wc)),r.__param(3,(0,g.l)(q.Hy)),r.__param(4,(0,g.l)(a.fMa))],w);b.HLa=w;k.prototype.encode=function(v){var u;u=new t.B3();return v.map(u.encode);};k.prototype.decode=function(v){var u;u=new t.B3();return v.map(u.decode);};c.prototype.encode=function(v){return {version:v.version,data:new k().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new k().decode(v.data)};};},function(r,b,a){var g,d,f,m,l,n,p,q,t,w,v,u,x;function c(y,z,A,B,D,C,F,G){this.config=y;this.Tc=A;this.qy=B;this.Cv=D;this.Nba=C;this.hi=F;this.XI=Promise.resolve();this.closed=!1;this.log=z.kb("PlaydataServices");this.HJ=[];this.active=new Set();this.l0b=new k(y,G);}function k(y,z){this.config=y;this.Da=z;}function h(y,z,A,B,D,C){this.log=y;this.Tc=z;this.Ni=A;this.Cv=B;this.qy=D;this.qXb=C;this.A_a=this.Xh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=b.Snb=void 0;r=a(2);g=a(0);d=a(5);f=a(7);m=a(50);l=a(267);n=a(533);p=a(534);q=a(3);t=a(300);w=a(535);v=a(105);u=a(35);a=a(145);h.prototype.Paa=function(y,z){var B;function A(){var D;D=B.Cv.create(B.Ni);B.qy.UBa(D).catch(function(C){var F;F=B.A_a?f.bk.Oia:f.bk.ag;B.A_a=!0;B.log.write(F,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.qy.zvb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.xt=B.Tc.Lca(y,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new t.B3().encode(z)});B.xt=B.Tc.Lca(y,A);});};h.prototype.stop=function(y){var z,A;z=this;if(this.Xh)return Promise.resolve();this.xt && this.xt.cancel();A=this.Cv.create(this.Ni);return this.qy.UBa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.Ni.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.qXb.jcb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.qy.$ab(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.K);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};h.prototype.cancel=function(){this.Xh=!0;this.xt && this.xt.cancel();this.qy.UBa(this.Cv.create(this.Ni));};Ya.Object.defineProperties(k.prototype,{Fyb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.Da.qf;return !this.XI || 0 <= y.Ha(this.XI).Pl(this.config.B5a)?(this.XI=y,!0):!1;}}});b.Snb=k;c.prototype.zb=function(){var y;y=this;this.gE || (this.log.trace("Starting playdata services"),this.gE=this.qy.pZb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.gE;};c.prototype.close=function(){this.closed=!0;this.HJ.forEach(function(y){y.Paa.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.FJ && z.Jza?this.e1b(y):Promise.resolve();};c.prototype.Pp=function(y,z,A){var B;B=this;this.closed || (this.GAa(y),this.Lza(y).catch(function(D){B.log.error("Start command failed",{playdata:D.IJ,error:D.MW});}),z && this.DAa(this.RKb(y),y,A));};c.prototype.k0=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Cv.create(y);this.active.delete(A.ea);y=pa((0,v.zv)(function(D){return D.key === A.ea;},this.HJ));B=y.next().value;this.HJ=y.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.Paa.stop(z.config.Jza);})).then(function(){});};c.prototype.GAa=function(y){var z,A;y.Be("pdb");if(this.config.txa.XPb()){z=this.Cv.create(y);A=z.ea;this.HJ.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.HJ.push({key:A,Paa:this.lLb(y,z),ly:!1,stopped:!1}));}};c.prototype.e1b=function(y){var z,A,B,D;z=this;A=this.qy.IJ.filter(function(C){return !z.active.has(C.ea);});B=void 0;D=void 0;y && Infinity === y?B=A:(A=pa((0,v.zv)(function(C){return C.K === y;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.Tc.Ok(this.config.gcb,function(){z.icb(D);});return B && 0 !== B.length?this.icb(B):Promise.resolve();};c.prototype.icb=function(y){var A;function z(B){return A.Nba.jcb(B).then(function(){return A.p_b(B);});}A=this;return y.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.p_b=function(y){var z;z=this;return this.qy.$ab(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.lLb=function(y,z){y=new h(this.log,this.Tc,y,this.Cv,this.qy,this.Nba);y.Paa(this.config.txa,z);return y;};c.prototype.Lza=function(y){var z,A;z=this;A=this.Cv.create(y);return this.Nba.Lza(y,A).then(function(){!1;z.HJ.filter(function(B){return B.key === y.ea.toString();}).forEach(function(B){B.ly=!0;});}).catch(function(B){throw {IJ:A,MW:B};});};c.prototype.hcb=function(y){return this.l0b.Fyb?this.P_(w.zha.mY,y,q.T.Bga):Promise.resolve();};c.prototype.Sca=function(y){return this.P_(w.zha.splice,y,q.T.sOa);};c.prototype.P_=function(y,z,A){var D;function B(C){var F;F=D.HJ.filter(function(G){return G.key === C.ea.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.ly;},!1);}D=this;return B(z)?this.XI:this.XI=this.XI.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=D.Cv.create(z);return D.Nba.P_(y,z,C);}).then(function(C){!1;return C;}).catch(function(C){var F;D.log.error("Failed to send event",{eventKey:y,xid:z.ea,error:C});C.Ak?F=D.hi(A,C):C.lB === q.o3.Gia && (F=D.hi(A,C));throw {MW:C,cQ:F};});};c.prototype.DAa=function(y,z,A){var B;B=this;!1;this.Ena();this.gua=this.Tc.Ok(y,function(){B.Ena();B.P_(w.zha.mY,z,q.T.Bga).then(function(){B.DAa(y,z,A);}).catch(function(D){var C;C=D.MW;(D=D.cQ) && A(D);C.lB === q.o3.Gia && B.DAa(y,z,A);});});};c.prototype.Pdb=function(){this.Ena();};c.prototype.Ena=function(){this.gua && (this.gua.cancel(),this.gua=void 0);};c.prototype.RKb=function(y){return y.fb.Gsa?(0,d.Sc)(y.fb.Gsa):this.config.A5a;};x=c;x=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(p.YMa)),r.__param(1,(0,g.l)(f.yb)),r.__param(2,(0,g.l)(m.ek)),r.__param(3,(0,g.l)(n.ILa)),r.__param(4,(0,g.l)(l.Cha)),r.__param(5,(0,g.l)(w.OLa)),r.__param(6,(0,g.l)(a.dT)),r.__param(7,(0,g.l)(u.wi))],x);b.jMa=x;},function(r,b,a){var k,h,g,d,f,m;function c(l,n){l=h.ff.call(this,l,"PlaydataConfigImpl") || this;l.config=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.XMa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);d=a(48);f=a(5);a=a(40);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{FJ:{configurable:!0,enumerable:!0,get:function(){return this.config.qA?"unsentplaydatatest":"unsentplaydata";}},Jza:{configurable:!0,enumerable:!0,get:function(){return !0;}},gcb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Sc)(1E4);}},txa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Sc)(4E3);}},A5a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Naa)(1);}},B5a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Kh)(30);}}});m=c;r.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"FJ",null);r.__decorate([d.config(d.Fd,"sendPersistedPlaydata")],m.prototype,"Jza",null);r.__decorate([d.config(d.pl,"playdataSendDelayMilliseconds")],m.prototype,"gcb",null);r.__decorate([d.config(d.pl,"playdataPersistIntervalMilliseconds")],m.prototype,"txa",null);r.__decorate([d.config(d.pl,"heartbeatCooldown")],m.prototype,"A5a",null);r.__decorate([d.config(d.pl,"keepAliveWindow")],m.prototype,"B5a",null);m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om)),r.__param(1,(0,k.l)(a.Io))],m);b.XMa=m;},function(r,b,a){var k,h,g;function c(d,f){this.JV=f;this.log=d.kb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;r=a(2);k=a(87);h=a(7);a=a(0);c.prototype.Lza=function(d,f){var m;m=this.JV(k.Zp.start);return this.u_a(m,d,f);};c.prototype.jcb=function(d){var f;f=this;return this.JV(k.Zp.stop).Sg(this.log,d).then(function(){}).catch(function(m){f.log.error("PBO stop event failed",m);throw m;});};c.prototype.P_=function(d,f,m){d=this.JV(d);return this.u_a(d,f,m);};c.prototype.u_a=function(d,f,m){var l;l=this;return d.Hs(this.log,f.ia.Gk,m).then(function(){}).catch(function(n){l.log.error("PBO event failed",n);throw n;});};g=c;g=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(h.yb)),r.__param(1,(0,a.l)(k.Ufa))],g);b.NLa=g;},function(r,b,a){var g,d,f,m;function c(){}function k(l){this.VWb=l;}function h(l){this.XWb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.lMa=b.eMa=b.cMa=void 0;r=a(2);g=a(0);d=a(301);f=a(38);m=a(3);h.prototype.validate=function(l){l.map(this.XWb.validate);};a=h;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.mMa))],a);b.cMa=a;k.prototype.validate=function(l){this.VWb.validate(l.data);};a=k;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.dMa))],a);b.eMa=a;c.prototype.validate=function(l){var n;l.ea && "string" === typeof l.ea?l.href && "string" === typeof l.href?l.profileId && "string" === typeof l.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.od(m.T.tC,m.O.pC,void 0,void 0,void 0,n,void 0,l.ea);};d=c;d=r.__decorate([(0,g.U)()],d);b.lMa=d;},function(r,b,a){var k,h,g,d;function c(f,m){this.b$a=m;this.log=f.kb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;r=a(2);k=a(0);h=a(7);g=a(18);a=a(159);c.prototype.Pp=function(f){var m;m=this;this.b$a().then(function(l){f.addEventListener(g.ga.bJ,function(n){var p;if(void 0 !== n.fQ){p=f.AA(n.fQ);l.k0(p);n.r$ || new Promise(function(q){var t;if(f.Qj.value)q();else {t=function(w){w.newValue && (q(),f.Qj.removeListener(t));};f.Qj.addListener(t);}}).then(function(){return l.Pp(f,m.gdb(f),function(q){return f.GH(q);});});}});f.addEventListener(g.ga.Av,function(){l.Pp(f.ka,m.gdb(f),function(n){return f.GH(n);});});f.background || f.addEventListener(g.ga.yY,function(n){var p;n=f.AA(n.K);if(n.Vh){p=f.AA(n.Vh.BJ);m.log.trace("Auxiliary viewable segment (viewableId: " + n.K + "). Starting playdata monitor for parent viewable " + p.K);n=p;}l.GAa(n);});f.addEventListener(g.ga.fh,function(){l.Pdb();});f.addEventListener(g.ga.Agb,function(){l.hcb(f.ka).catch(function(n){(n=n.cQ) && f.GH(n);});});f.tc.addListener(function(){f.fb.apa?m.log.trace("stickiness is disabled for timedtext"):l.Sca(f.ka);});f.Ac.addListener(function(){f.fb.apa?m.log.trace("stickiness is disabled for audio"):l.Sca(f.ka).catch(function(n){(n=n.cQ) && f.GH(n);});});});};c.prototype.gdb=function(f){return f.state.value == g.dc.we;};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(a.bT))],d);b.hMa=d;},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p){return function(){return new Promise(function(q,t){var w;w=p.gb.get(h.QFa);w.zb().then(function(){q(w);}).catch(function(v){t(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.CZa=void 0;r=a(0);k=a(537);h=a(538);g=a(1246);d=a(103);f=a(1247);m=a(539);l=a(1248);n=a(1249);b.CZa=new r.zd(function(p){p(m.aJa).to(l.$Ia).ba();p(k.NFa).to(n.bJa);p(d.KR).to(f.SCa).ba();p(h.QFa).to(g.OFa).ba();p(h.PFa).I0(c);});},function(r,b,a){var k,h;function c(g){this.jFb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(2);k=a(0);a=a(537);c.prototype.zb=function(){var g;g=this;this.gE || (this.gE=new Promise(function(d,f){var m;m=[];g.jFb.forEach(function(l){m.push(l.zb());});Promise.all(m).then(function(){d();}).catch(function(l){f(l);});}));return this.gE;};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.pJ)(a.NFa))],h);b.OFa=h;},function(r,b,a){var k,h;function c(){this.Bza="";this.Qgb=[[],[]];this.X=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;r=a(2);k=a(0);a(5);h=a(103);c.prototype.downloadRequest=function(g){var d;"" === this.Bza && (this.Bza=g.fa);if(!g.Hc){d=this.V4b(g);this.X[g.mediaType].push(d);this.Qgb[g.mediaType].forEach(function(f){f.Qcc(d);});}};c.prototype.V4b=function(g){return {id:g.Ji(),fa:g.fa,mediaType:g.mediaType,uk:g.uk,startTime:g.yB,endTime:g.ay,offset:g.Mv,xN:g.xN,vN:g.vN,duration:g.Ds,bitrate:g.bitrate,state:h.Qea.wZa,Qj:!1,Zec:!1,h3a:!1,Tdc:h.Pea.waiting};};c.prototype.update=function(g){this.Qgb[g.mediaType].forEach(function(d){d.Thc(g);});};Ya.Object.defineProperties(c.prototype,{fa:{configurable:!0,enumerable:!0,get:function(){return this.Bza;}}});a=c;a=r.__decorate([(0,k.U)()],a);b.SCa=a;},function(r,b,a){var k,h,g,d,f;function c(m,l){m=g.ff.call(this,m,"LogDisplayConfigImpl") || this;m.ih=l;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;r=a(2);k=a(0);h=a(48);g=a(49);d=a(34);a=a(111);la(c,g.ff);Ya.Object.defineProperties(c.prototype,{v_:{configurable:!0,enumerable:!0,get:function(){return !0;}},rP:{configurable:!0,enumerable:!0,get:function(){return this.ih.rP;}},t6a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([h.config(h.Fd,"renderDomDiagnostics")],f.prototype,"v_",null);r.__decorate([h.config(h.hE,"logDisplayMaxEntryCount")],f.prototype,"rP",null);r.__decorate([h.config(h.hE,"logDisplayAutoshowLevel")],f.prototype,"t6a",null);f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.om)),r.__param(1,(0,k.l)(a.jG))],f);b.$Ia=f;},function(r,b,a){var g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A;function c(B,D,C,F,G,E,I,N,L,H){var Q;Q=this;this.Da=B;this.rg=D;this.ti=C;this.Tc=F;this.Bo=G;this.config=E;this.UH=I;this.kBa=N;this.LDb=L;this.Qp=H;this.C4b=function(){Q.V0.cm(function(){Q.update();});};this.clear=function(){Q.entries=[];Q.update();};this.X7a=function(){Q.Ue.iP=!Q.Ue.iP;Q.uE && Q.zE && (Q.Ue.iP?(Q.uE.style.display="inline-block",Q.zE.style.display="none"):(Q.zE.style.display="inline-block",Q.uE.style.display="none"));Q.sK(!1);};this.aSb=function(O){var J;Q.entries.push(O);J=Q.config.rP;0 <= J && Q.entries.length > J && Q.entries.shift();void 0 === Q.Ue.Tz[O.ip] && (Q.Ue.Tz[O.ip]=!0,Q.sK(!1));Q.Ue.isVisible && !Q.Ceb?Q.C4b():Q.V0.cm();};this.rFb=function(){h.download("all",Q.entries.map(function(O){return O.Dda(!1,!1);})).catch(function(O){console.error("Unable to download all logs to the file",O);});};this.jv=!1;this.Ue={isVisible:!1,iP:!0,F7:!0,Rua:w.bk.rga,Tz:{}};this.V0=this.kBa((0,p.Kh)(1));this.OHb=this.LDb((0,p.Sc)(250));this.entries=[];!1;!1;}function k(B){var D;this.elements=[];D=document.createElementNS(k.u0,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;r=a(2);g=a(0);d=a(32);f=a(114);m=a(365);l=a(50);n=a(35);p=a(5);q=a(20);t=a(91);w=a(7);v=a(115);u=a(302);x=a(539);y=a(96);z=a(194);A=a(1250);h.download=function(B,D){return h.tKb(B).then(function(C){return h.yMb(C,D.join("\r\n")).then(function(F){return h.pFb(F.filename,F.text);});});};h.tKb=function(B){return new Promise(function(D,C){var F,G,E,I,N,L,H;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();I=F.getFullYear().toString();N=F.getHours().toString();L=F.getMinutes().toString();H=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === N.length && (N="0" + N);1 === L.length && (L="0" + L);1 === H.length && (H="0" + H);D(I + E + G + N + L + H + "." + B + ".log");}catch(Q){C(Q);}});};h.yMb=function(B,D){return new Promise(function(C,F){try{C({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(G){F(G);}});};h.pFb=function(B,D){var C;try{C=document.createElement("a");C.setAttribute("href",D);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(F){return Promise.reject(F);}};k.prototype.UQ=function(){var B;B=document.createElementNS(k.u0,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};k.prototype.WQ=function(B,D,C){var F;F=document.createElementNS(k.u0,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);C && F.setAttribute("fill-rule",C);this.addElement(F);return this;};k.prototype.h0=function(B,D,C,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(k.u0,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",D.toString());E.setAttribute("height",C.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};k.prototype.j3b=function(){var B;B=document.createElementNS(k.u0,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};k.prototype.end=function(){this.elements.pop();return this;};k.prototype.zj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};k.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(k,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},RH:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});k.u0="http://www.w3.org/2000/svg";c.prototype.zb=function(){var B;B=this;this.gE || (this.gE=new Promise(function(D){nb.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.vC.Vlb?B.toggle():C.keyCode == z.vC.E && A.zEa.PAb(B.UH().ll));});B.Bo.oca(u.Lga.Gjb,B.aSb);D();}));return this.gE;};c.prototype.show=function(){document.body && (this.element || (this.ACb(),this.jv=!0),!this.Ue.isVisible && this.element && (document.body.appendChild(this.element),this.Ue.isVisible=!0,this.update(!0)));};c.prototype.Bx=function(){this.jv && this.Ue.isVisible && this.element && (document.body.removeChild(this.element),this.Ue.isVisible=!1);};c.prototype.toggle=function(){this.Ue.isVisible?this.Bx():this.show();this.sK(!1);};c.prototype.ACb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.Rp=this.qDb());B.appendChild(this.rDb());B.appendChild(this.uCb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.qDb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.Ceb=!0;B.update();B.Rp && (B.Rp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.Ceb=!1;B.update();B.Rp && (B.Rp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.rDb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.SCb());B.appendChild(this.KCb());B.appendChild(this.FCb());B.appendChild(this.sDb());B.appendChild(this.yCb());B.appendChild(this.YCb());B.appendChild(this.WCb());B.appendChild(this.HCb());B.appendChild(this.zCb());return B;};c.prototype.uCb=function(){var B,D,C,F,G,E;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");F=this.createElement("select",this.yx(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(C);D.appendChild(G);C.appendChild(F);C.addEventListener("mousedown",function(I){I.preventDefault();});E=!1;C.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Ue.Tz).sort()).forEach(function(I){G.appendChild(B.vCb(I,C));}),G.style.display="block");E=!E;});return D;};c.prototype.vCb=function(B,D){var C,F,G;C=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Ue.Tz[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.Ue.Tz).forEach(function(E){C.Ue.Tz[E]="all" === B;}),D.click()):C.Ue.Tz[B]=!C.Ue.Tz[B];C.sK(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.SCb=function(){var B,D;B=this;D=this.createElement("select",this.yx(22,NaN,1,2),'<option value="' + w.bk.ag + '">Error</option><option value="' + (w.bk.Oia + '">Warn</option><option value="') + (w.bk.rga + '">Info</option><option value="') + (w.bk.xPa + '">Trace</option><option value="') + (w.bk.Z + '">Debug</option>'));D.value=this.Ue.Rua.toString();D.addEventListener("change",function(C){B.Ue.Rua=parseInt(C.target.value);B.sK(!0);},!1);return D;};c.prototype.KCb=function(){var D,C;function B(F){return D.OHb.cm(function(){var G;G=F.target.value;D.Ue.filter=G?new RegExp(G):void 0;D.sK(!0);});}D=this;C=this.createElement("input",this.yx(14,150,1,2));C.value=this.Ue.filter?this.Ue.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.FCb=function(){var B,D,C,F;B=this;D=this.createElement("div",this.yx(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.Ue.F7;C.addEventListener("change",function(G){B.Ue.F7=G.target.checked;B.sK(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(C);D.appendChild(F);return D;};c.prototype.sDb=function(){var B,D,C;B=this;D=this.createElement("button",this.yx());C=new k("0 0 24 24").UQ().j3b().end().WQ("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",k.RH,"nonzero").end().end().zj();D.appendChild(C);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.yCb=function(){var B,D;B=this.createElement("button",this.yx());D=new k("0 0 24 24").UQ().h0(0,0,24,24,k.background).end().WQ("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",k.RH).end().end().zj();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.YCb=function(){var B;this.zE=this.createElement("button",this.yx());this.zE.style.display=this.Ue.iP?"none":"inline-block";B=new k("0 0 24 24").UQ().h0(0,0,24,24,k.background).end().WQ("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",k.RH,"nonzero").end().end().zj();this.zE.addEventListener("click",this.X7a,!1);this.zE.appendChild(B);this.zE.setAttribute("title","Shrink the log console");return this.zE;};c.prototype.WCb=function(){var B;this.uE=this.createElement("button",this.yx());this.uE.style.display=this.Ue.iP?"inline-block":"none";B=new k("0 0 24 24").UQ().h0(4,4,16,16,k.background).end().WQ("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",k.RH,"nonzero").end().end().zj();this.uE.addEventListener("click",this.X7a,!1);this.uE.appendChild(B);this.uE.setAttribute("title","Expand the log console");return this.uE;};c.prototype.HCb=function(){var B,D;B=this.createElement("button",this.yx());D=new k("0 0 26 26").UQ().h0(0,0,24,24,k.background).end().WQ("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",k.RH,"nonzero").end().end().zj();B.appendChild(D);B.addEventListener("click",this.rFb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.zCb=function(){var B,D,C;B=this;D=this.createElement("button",this.yx());C=new k("0 0 24 24").UQ().h0(0,0,24,24,k.background).end().WQ("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",k.RH,"nonzero").end().end().zj();D.appendChild(C);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.sK=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.v_ && Promise.resolve(this.Wxb() + this.uKb().join("\r\n")).then(function(C){D.element && D.Rp && (D.Rp.value=C,D.element.style.cssText=D.Ue.iP?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.Tc.Ok(p.hb,function(){D.Rp.scrollTop=D.Rp.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.uKb=function(){var B,D;B=this;D=[];this.entries.forEach(function(C){(C.level || C.level) <= B.Ue.Rua && B.Ue.Tz[C.ip] && (C=C.Dda(!B.Ue.F7,!B.Ue.F7),B.Ue.filter && !B.Ue.filter.test(C) || D.push(C));});return D;};c.prototype.Wxb=function(){var B;B=this.UH();return "Version: 6.0036.026.911 \n" + ((B?"Esn: " + B.ll:"") + "\nJsSid: ") + (this.rg.id + ", Epoch: " + this.Da.qf.ca(p.Oo) + ", Start: " + this.rg.WA.ca(p.Oo) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,C,F){return this.ti.createElement(B,D,C,F);};c.prototype.yx=function(B,D,C,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + k.RH + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.u3b="logDxDisplay";a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(n.wi)),r.__param(1,(0,g.l)(q.vd)),r.__param(2,(0,g.l)(d.Qh)),r.__param(3,(0,g.l)(l.ek)),r.__param(4,(0,g.l)(v.AL)),r.__param(5,(0,g.l)(x.aJa)),r.__param(6,(0,g.l)(t.Hy)),r.__param(7,(0,g.l)(f.UL)),r.__param(8,(0,g.l)(m.cFa)),r.__param(9,(0,g.l)(y.mC))],a);b.bJa=a;},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;k=a(12);c.PAb=function(h){var g;if(k.wh.queryCommandSupported && k.wh.queryCommandSupported("copy")){g=k.wh.createElement("textarea");g.textContent=h;g.style.position="fixed";k.wh.body.appendChild(g);g.select();try{k.wh.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{k.wh.body.removeChild(g);}}};b.zEa=c;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.ve=void 0;r=a(0);c=a(1252);k=a(1253);h=a(1254);g=a(143);d=a(347);f=a(515);m=a(1255);l=a(1256);n=a(540);p=a(1257);b.ve=new r.zd(function(q){q(g.X3).to(c.rPa).ba();q(d.bia).to(h.SNa).ba();q(f.kQa).to(k.jQa).ba();q(m.$mb).to(l.bLa).ba();q(n.FQa).to(p.EQa).ba();});},function(r,b,a){var k,h,g,d,f,m;function c(l,n){this.is=l;this.json=n;(0,h.Dp)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.rPa=void 0;r=a(2);h=a(56);g=a(39);d=a(0);f=a(29);m=a(143);c.prototype.zab=function(l){var n;n=this;return k.read(l,function(p){return parseInt(p);},function(p){return n.is.Rla(p);});};c.prototype.rya=function(l){var n;n=this;return k.read(l,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.M5(p);});};c.prototype.nr=function(l){var n;n=this;return k.read(l,function(p){return parseInt(p);},function(p){return n.is.WU(p);});};c.prototype.nZb=function(l){var n;n=this;return k.read(l,function(p){return parseFloat(p);},function(p){return n.is.uj(p);});};c.prototype.yab=function(l,n){return k.read(l,function(p){return k.XHb(p,n);},function(p){return void 0 !== p;});};c.prototype.xya=function(l,n){return k.read(l,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.Aab=function(l){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return k.read(l,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.VU(q) && p(q);});}catch(q){return new m.aq();}};c.prototype.ji=function(l,n,p){var q,t;q=this;p=void 0 === p?1:p;l=l.trim();t=n instanceof Function?n:this.ZCb(n,p);n=l.indexOf("[");p=l.lastIndexOf("]");if(0 != n || p != l.length - 1)return new m.aq();l=l.substring(n + 1,p);try{return k.LWb(l).map(function(w){w=t(q,k.d7b(w));if(w instanceof m.aq)throw w;return w;});}catch(w){return w instanceof m.aq?w:new m.aq();}};c.prototype.ZCb=function(l,n){var p;p=this;n=void 0 === n?1:n;return function(q,t){q=k.yLb(l);return 1 < n?p.ji(t,l,n - 1):q(p,t);};};c.XHb=function(l,n){var q;for(var p in n){q=parseInt(p);if(n[q] == l)return q;}};c.read=function(l,n,p){l=n(l);return void 0 !== l && p(l)?l:new m.aq();};c.yLb=function(l){switch(l){case "int":return function(n,p){return n.zab(p);};case "bool":return function(n,p){return n.rya(p);};case "uint":return function(n,p){return n.nr(p);};case "float":return function(n,p){return n.nZb(p);};case "string":return function(n,p){return n.xya(p);};case "object":return function(n,p){return n.Aab(p);};}};c.LWb=function(l){var x;for(var n=[["[","]"]],p=[],q=0,t=0,w=0,v=[],u={};t < l.length;(u={ER:u.ER},++t)){u.ER=l.charAt(t);x=void 0;"," == u.ER && 0 == w?(p.push(l.substr(q,t - q)),q=t + 1):(x=n.find((function(y){return function(z){return z[0] == y.ER;};})(u)))?(++w,v.push(x)):0 < v.length && v[v.length - 1][1] == u.ER && (--w,v.pop());}if(q != t)p.push(l.substr(q,t - q));else if(q == t && 0 < q)throw new m.aq();return p;};c.d7b=function(l){var n;n=l.charAt(0);if('"' == n || "'" == n){if(l.charAt(l.length - 1) != n)throw new m.aq();return l.substring(1,l.length - 1);}return l;};a=k=c;a=k=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.Eg)),r.__param(1,(0,d.l)(g.UF))],a);b.rPa=a;},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jQa=void 0;r=a(2);a=a(0);c.prototype.x0a=function(h){var g;g=this;return h?(h ^ 16 * Math.random() >> h / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return g.x0a(d);});};k=c;k=r.__decorate([(0,a.U)()],k);b.jQa=k;},function(r,b,a){var k,h,g,d;function c(f){this.location=f;(0,h.Dp)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.SNa=void 0;r=a(2);h=a(56);g=a(39);a=a(0);c.DZ=function(f){var m,n,p;m={};if(0 < f.length){f=f.split("&");for(var l=0;l < f.length;l++){n=f[l].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(k.vLa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(k.vLa,"%20")):m[n.toLowerCase()]="";}}return m;};Ya.Object.defineProperties(c.prototype,{gZb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=k.DZ(this.mab);}},mab:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.g_)return this.g_;this.g_=this.location.search.substr(1);f=this.g_.indexOf("#");0 <= f && (this.g_=this.mab.substr(0,f));return this.g_;}}});d=k=c;d.vLa=/[+]/g;d=k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(g.WIa))],d);b.SNa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$mb="ObjectComparerSymbol";},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(2);k=a(0);h=a(203);c.prototype.compare=function(g,d){var f;f=[];this.Nna(g,d,"",f);return f;};c.prototype.Nna=function(g,d,f,m){var l;l=this;if(h.TF.iD(g))h.TF.iD(d) && g.length === d.length?g.forEach(function(q,t){l.Nna(g[t],d[t],f + "[" + t + "]",m);}):m.push({a:g,b:d,path:f});else if(h.TF.VU(g) && null != g){if(h.TF.VU(d) && null != d){for(var n in g){this.Nna(g[n],d[n],f + "." + n,m);}for(var p in d){(p in g) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:f + "." + p});}}else m.push({a:g,b:d,path:f});}else g !== d && m.push({a:g,b:d,path:f});};a=c;a=r.__decorate([(0,k.U)()],a);b.bLa=a;},function(r,b,a){var k,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.EQa=void 0;r=a(2);k=a(0);h=a(12);c.prototype.YLb=function(){var g;g=nb.devicePixelRatio || 1;return {width:h.yw.width * g,height:h.yw.height * g};};a=c;a=r.__decorate([(0,k.U)()],a);b.EQa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x;Object.defineProperty(b,"__esModule",{value:!0});b.Ld=void 0;r=a(0);c=a(541);k=a(1259);h=a(121);g=a(303);d=a(1260);f=a(1261);m=a(1263);l=a(1264);n=a(1265);p=a(542);q=a(543);t=a(165);w=a(305);v=a(1266);u=a(304);x=a(1268);b.Ld=new r.zd(function(y){y(c.BMa).to(k.AMa).ba();y(g.Yha).to(d.KNa).ba();y(h.wG).to(f.sQa).ba();y(p.JNa).to(n.NJa).ba();y(p.INa).to(l.RIa).ba();y(p.HNa).to(m.JIa).ba();y(w.dDa).Z4b(function(){var z;return null === (z=t.su.Ri) || void 0 === z?void 0:z.Hv;});y(w.cDa).to(v.bDa).ba();y(q.Wha).to(q.wNa);y(u.pfa).to(x.kEa).ba();});},function(r,b,a){var k,h,g;function c(d,f){this.nb=f;this.Ca=d.kb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;r=a(2);k=a(0);h=a(7);a=a(29);c.prototype.NEb=function(d){var f;f=this;try{return {direction:d.direction,nfc:d.layoutHasChanged,Ugc:d.rowInteractionIndex,Qb:d.lolomos.map(function(m){return f.IEb(m);})};}catch(m){this.Ca.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.IEb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(m){return f.HEb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,Vgc:d.rowSegment};};c.prototype.HEb=function(d){var f,m;f={Kd:d.pts,property:d.property,N:d.viewableId,index:d.index};m=d.preplay;this.nb.Qg(m) && (f.Zba=this.MEb(m));d=d.params;this.nb.Qg(d) && (f.Db=this.VYa(d));return f;};c.prototype.MEb=function(d){var f;f={Kd:d.pts,N:d.viewableId,ZP:d.pipelineNum,index:d.index};d=d.params;this.nb.Qg(d) && (f.Db=this.VYa(d));return f;};c.prototype.VYa=function(d){return {je:d.uiLabel,Yj:d.trackingId,en:d.sessionParams};};c.prototype.LEb=function(d){var f;f=this;try{return d.map(function(m){return f.JEb(m);});}catch(m){this.Ca.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.JEb=function(d){var f,m;m=d.params;this.nb.Qg(m) && (f=this.KEb(m));return {K:d.movieId,priority:d.priority,force:d.force,Db:f,je:d.uiLabel,Phc:d.uiExpectedStartTime,Ohc:d.uiExpectedEndTime,Ul:d.firstTimeAdded};};c.prototype.KEb=function(d){var f,m;f=void 0;m=d.sessionParams;this.nb.Qg(m) && (f=m);return {w6:this.GEb(d.authParams),en:f,Yj:d.trackingId,$:d.startPts,ia:d.manifest,ci:d.isBranching};};c.prototype.GEb=function(d){return {hXb:null === d || void 0 === d?void 0:d.pinCapableClient};};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(a.Eg))],g);b.AMa=g;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u){this.is=v;this.rg=u;this.log=t.kb("TaskScheduler");this.Wb=new p.Tk();this.config=w();this.currentIteration=this.YV=0;this.JK=[];this.paused=!1;this.kda=[];this.nXa=[];this.aPb=this.config.mYb || q.append;this.addEventListener=this.Wb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.KNa=void 0;r=a(2);k=a(0);h=a(303);g=a(7);d=a(11);f=a(136);m=a(29);l=a(20);n=a(5);p=a(72);(function(t){t.prepend="prepend";t.append="append";t.mOb="ignore";})(q || (q={}));c.prototype.Fvb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.JK=this.bPb(t);this.YV=0;this.currentIteration+=1;this.fg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.fg=function(){var t,w,v,u;t=this;if(this.YV === this.JK.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.YV,numberOfTasks:this.JK.length});else {w=this.tLb();v=this.currentIteration;w.startTime=this.rg.Xb().ca(n.la);w.status=f.Vk.ly;this.Wb.ed(h.OL.x4b,{K:w.K,type:w.type});this.kda.push(w);u=function(x){w.endTime=t.rg.Xb().ca(n.la);x();t.nXa.push(w);t.kda.splice(t.kda.indexOf(w),1);t.currentIteration === v && (t.YV++,t.fg());};w.u0b().then(function(){u(function(){w.status=f.Vk.aR;t.dya(w,h.OL.y4b,"task succeeded");});}).catch(function(x){u(function(){0 <= [f.Vk.Xh,f.Vk.Lyb,f.Vk.gna].indexOf(x.status)?(w.status=x.status,t.dya(w,h.OL.v4b,"cancelled task")):(w.status=f.Vk.Ou,t.dya(w,h.OL.w4b,"task failed",x));});});}};c.prototype.tLb=function(){return this.JK[this.YV];};c.prototype.getStats=function(t,w,v){var u,x,y,z;u=this.nXa.map(function(A){return A.Xu();});x=this.kda.map(function(A){return A.Xu();});y=this.is.Qg(t) && this.is.Qg(w);z={};if(this.is.Qg(v))return (z.lAb=u.filter(function(A){return A.movieId === v;}),z);u.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.Vk.ly?A.startTime:A.endTime;y && B && B >= t && B < w && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.dya=function(t,w,v,u){var x;x=t.Xu();u?this.log.warn(v,x,u):this.log.trace(v,x);this.Wb.ed(w,{K:t.K,type:t.type,reason:t.status});t.NP(x);};c.prototype.bPb=function(t){var w,v;w=this.JK.filter(function(u){return u.eXb && u.status === f.Vk.kp;});v=this.aPb;return v === q.mOb?[].concat(t):v === q.prepend?w.concat(t):t.concat(w);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yb)),r.__param(1,(0,k.l)(d.Wc)),r.__param(2,(0,k.l)(m.Eg)),r.__param(3,(0,k.l)(l.vd))],a);b.KNa=a;},function(r,b,a){var h,g,d,f,m,l,n,p,q,t,w,v,u,x;function c(y,z,A,B,D,C,F,G,E,I,N){this.W7b=A;this.nb=B;this.rg=D;this.Ve=C;this.I_a=F;this.GHb=G;this.HHb=E;this.Tpa=I;this.events=new x.EventEmitter();this.log=y.kb("VideoPreparer");this.config=z();this.yCa={};this.Qaa={};this.ac={num_of_calls:0,num_of_movies:0};this.Og=N.Og;}function k(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.sQa=void 0;r=a(2);h=a(1262);g=a(11);d=a(0);f=a(7);m=a(81);l=a(29);n=a(303);p=a(20);q=a(5);t=a(136);w=a(304);v=a(542);u=a(305);x=a(17);c.prototype.wcb=function(y,z,A){this.Og.setData(y,"ldl",z,A);};c.prototype.e3a=function(y){return this.Og.PX(y,"ldl");};c.prototype.KWa=function(y){this.Og.clearData(y,"ldl",void 0,!0);};c.prototype.zO=function(y,z){return this.Og.getData(y,z);};c.prototype.O0a=function(y){var z;z=this.Og.getData(y,"ldl");this.Og.clearData(y,"ldl",void 0,!0);return z;};c.prototype.Pgb=function(y){return this.Ldb === y || this.oYa === y;};c.prototype.KJ=function(y,z){var A,B,D;A=this;y=y.map(function(C){C.Db=C.Db || ({w6:{hXb:!1},Yj:0});A.nb.TH(C.Db.Yj) || (C.Db.Yj=0);A.nb.TH(C.Kd) && (C.Db.$=C.Kd);return C;});B=y.map(function(C){return A.pDb(C,z);}).reduce(function(C,F){return C.concat(F);},[]);D=B.map(function(C){return C.K + "-" + C.type;});this.log.trace("prepare tasks",D);this.Ve.Fvb(B);this.ac.num_of_calls++;this.ac.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.Qaa[A] || ({})),{JK:this.Ve.getStats(y,z,A),cache:this.Og.getStats(y,z),ZIb:Object.assign(Object.assign({},this.ac),this.Tpa.getStats())});};c.prototype.jNb=function(y){this.Ldb=y;};c.prototype.hNb=function(y){this.log.trace("task scheduler paused on playback created");this.Ve.pause();this.config.EEb && this.Og.Ana(y,["manifest"]);this.config.DEb && this.Og.Ana(y,["ldl"]);this.config.AEb && this.Og.clearData(y,"manifest");this.Tpa.Wab(y);this.oYa=y;};c.prototype.b3a=function(){this.log.info("track changed, clearing all manifests from cache");this.Og.Ana("none",["manifest"]);};c.prototype.gNb=function(y){var z;z=this;this.config.BEb?this.Og.clearData(y,"manifest"):this.Og.PX(y,"manifest") && this.Og.getData(y,"manifest").then(function(A){A.Ib.isSupplemental || z.Og.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Gna(y);this.Ldb=this.oYa=void 0;};c.prototype.Gna=function(y){delete this.yCa[y];};c.prototype.EA=function(y){return this.yCa[y];};c.prototype.nYa=function(y){return this.yCa[y]=this.W7b.dA();};c.prototype.edb=function(y,z){if(this.e3a(y))return t.Vk.Xh;if(!z.FI)return t.Vk.gna;};c.prototype.pDb=function(y,z){var A,B;y.je && y.Db && (y.Db.je=y.je);this.q6b(y.K,y.Ul);A=this.VCb(y,z);B=this.RCb(y,null === A || void 0 === A?void 0:A.id,z);y=this.XCb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(k);};c.prototype.VCb=function(y,z){if(this.Og.PX(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new h.fT("manifest",this.rg.Xb().ca(q.la),! !y.Db.mi,void 0,z,this.I_a,y,this);};c.prototype.RCb=function(y,z,A){if(this.config.HW)if(this.Og.PX(y.K,"ldl"))!1;else return this.config.Nt?new h.fT("ldl",this.rg.Xb().ca(q.la),! !y.Db.mi,z,A,this.GHb,y,this):new h.fT("ldl",this.rg.Xb().ca(q.la),! !y.Db.mi,z,A,this.HHb,y,this);};c.prototype.XCb=function(y,z,A){if(this.config.VZa)return new h.fT("getMedia",this.rg.Xb().ca(q.la),! !y.Db.mi,z,A,this.Tpa,y,this);};c.prototype.q6b=function(y,z){this.Qaa[y] || (this.Qaa[y]={Xba:0,Ul:0});y=this.Qaa[y];y.Xba=(void 0 !== y?void 0 !== y.Xba?y.Xba:0:0) + 1;y.Ul=z;};a=c;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.yb)),r.__param(1,(0,d.l)(g.Wc)),r.__param(2,(0,d.l)(m.Oy)),r.__param(3,(0,d.l)(l.Eg)),r.__param(4,(0,d.l)(p.vd)),r.__param(5,(0,d.l)(n.Yha)),r.__param(6,(0,d.l)(v.JNa)),r.__param(7,(0,d.l)(v.INa)),r.__param(8,(0,d.l)(v.HNa)),r.__param(9,(0,d.l)(u.cDa)),r.__param(10,(0,d.l)(w.pfa))],a);b.sQa=a;},function(r,b,a){var k,h;function c(g,d,f,m,l,n,p,q){this.type=g;this.kp=d;this.eXb=void 0 === f?!1:f;this.notify=l;this.IHb=n;this.eQ=p;this.Ld=q;this.id=++h;this.status=k.Vk.kp;}Object.defineProperty(b,"__esModule",{value:!0});b.fT=void 0;k=a(136);h=0;c.prototype.Xu=function(){var g;g={id:this.id,type:this.type,created:this.kp,status:this.status,movieId:this.K};this.startTime && (g.startTime=this.startTime);this.endTime && this.startTime && (g.duration=this.endTime - this.startTime,g.endTime=this.endTime);return g;};c.prototype.NP=function(g){this.notify && this.notify(g);};c.prototype.u0b=function(){return this.IHb.fetch(this.eQ,this.Ld);};Ya.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.eQ.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.eQ.priority;}}});b.fT=c;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z;function c(A,B,D,C,F,G,E,I,N,L,H){this.ft=D;this.d0=C;this.uc=F;this.Da=G;this.Ea=E;this.qP=I;this.nXb=N;this.Gj=L;this.xk=H;this.log=A.kb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;r=a(2);k=a(0);h=a(7);g=a(11);d=a(136);f=a(62);m=a(59);l=a(46);n=a(161);p=a(192);q=a(33);t=a(5);w=a(35);v=a(20);u=a(195);x=a(207);y=a(120);a=a(66);c.prototype.fetch=function(A,B){var D;D=this;this.log.trace("Fetching LDL",(0,u.tL)(A));this.K=A.K;this.Ld=B;return B.zO(A.K,"ldl").catch(function(){D.log.trace("Requesting a new license",(0,u.tL)(A));return D.Gj.K8(A.K).then(function(C){var F,G;D.ia=C;D.Ib=C.Ib;if(C=D.Ld.edb(A.K,D.Ib))throw {status:C};C=D.Ib.wy[0].a_;F=D.Ib.wy[0].hpa;G=(C?C:[F]).map(function(E){return D.uc.decode(E.bytes);});D.Le=D.AD({JZa:D.log,Cpa:function(E){return D.handleError(E);},Be:void 0,twa:function(){},Da:{getTime:function(){return D.Ea.Xb().ca(t.la);},zec:function(){return D.Da.qf.ca(t.Oo);}}});B.wcb(A.K,D.Le);return D.Le.create(D.config.Qm).then(function(){return D.Le.mh(m.zi.Jo,G,!0);}).then(function(){return D.Le;}).catch(function(E){D.handleError(E);throw E;});}).catch(function(C){D.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.Vk.Xh};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.Le.close();this.Ld.KWa(this.K);this.Ld.Gna(this.K);};c.prototype.AD=function(A){var B,D;B=this;if(!this.ft.rL || !this.ft.pL){D=this.nXb();this.ft.rL=D.ec;this.ft.pL=D.request;}D=new this.ft.pL(A.JZa,function(C){var F;F=[];C.sk.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.uc.encode(G.data)});});C={sk:F,J7:[B.Ib.Sl],ig:f.Ho.JXa(C.ig),Mi:B.Ib.Mi,ea:B.Ld.nYa(B.K),Gk:B.ia.Gk};B.log.trace("xid created ",{MovieId:B.K,xid:C.ea});return B.qP.Ez(C);},void 0,{Ef:!1,nl:!1});return this.ft.rL(A.JZa,A.Be,{Ef:!1,nl:!1,bm:D,c_:this.config.dab,Y:void 0,eC:this.config.QZa,onerror:A.Cpa,twa:A.twa,Da:A.Da,GJ:!1,Uwb:this.d0.a7([]),p7b:this.d0.f7([]),Eua:this.xk.e6.ca(t.la)});};z=c;z=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.Wc)),r.__param(2,(0,k.l)(l.D3)),r.__param(3,(0,k.l)(n.lT)),r.__param(4,(0,k.l)(q.vi)),r.__param(5,(0,k.l)(w.wi)),r.__param(6,(0,k.l)(v.vd)),r.__param(7,(0,k.l)(p.ES)),r.__param(8,(0,k.l)(x.Jha)),r.__param(9,(0,k.l)(y.$F)),r.__param(10,(0,k.l)(a.Ut))],z);b.JIa=z;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){this.uc=u;this.GFb=x;this.yP=y;this.Gj=z;this.log=w.kb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.RIa=void 0;r=a(2);k=a(0);h=a(7);g=a(11);d=a(59);f=a(33);m=a(126);l=a(142);n=a(136);p=a(195);q=a(120);t=a(47);c.prototype.fetch=function(w,v){var u;u=this;this.log.trace("Fetching LDL",(0,p.tL)(w));this.K=w.K;this.Ld=v;return v.zO(w.K,"ldl").then(function(x){return x.Wca;}).catch(function(){u.log.trace("Requesting a new license",(0,p.tL)(w));return u.Gj.K8(w.K).then(function(x){var y,z,A,B;u.Ib=x.Ib;if(v.e3a(w.K))return v.zO(w.K,"ldl").then(function(D){return D.Wca;});y=u.Ld.edb(w.K,u.Ib);if(y)throw {status:y};y=u.Ib.wy[0].a_;z=u.Ib.wy[0].hpa;A=(y?y:[z]).map(function(D){return u.uc.decode(D.bytes);});B=u.GFb().then(function(D){var C;C={type:d.zi.Jo,initData:A,context:{J$:(0,t.sra)(x.Ib.wy[0].streams)},Pj:{K:w.K,ea:v.nYa(w.K),Mi:u.Ib.Mi,Sl:u.Ib.Sl,Gk:x.Gk}};return D.mh(C,u.yP());}).catch(function(D){u.handleError("Unable to prepare an EME session.",D);throw D;});u.Ld.wcb(w.K,{Wca:B,source:"videopreparer"},function(){if(!u.Ld.Pgb(w.K))try{B.then(function(D){return D.close();}).catch(function(D){u.handleError("Unable to cleanup LDL session, Unable to get the session.",D);});}catch(D){u.handleError("Unable to cleanup LDL session, unexpected exception.",D);}});return B;}).catch(function(x){u.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.Vk.Xh};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.Ld.KWa(this.K);this.Ld.Gna(this.K);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.Wc)),r.__param(2,(0,k.l)(f.vi)),r.__param(3,(0,k.l)(m.i2)),r.__param(4,(0,k.l)(l.NS)),r.__param(5,(0,k.l)(q.$F))],a);b.RIa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x){this.HY=v;this.rg=u;this.Gj=x;this.log=t.kb("VideoPreparer");this.config=w();}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;r=a(2);k=a(11);h=a(0);g=a(7);d=a(20);f=a(5);m=a(135);l=a(104);n=a(195);p=a(120);q=a(59);c.prototype.fetch=function(t,w){var v,u;this.log.trace("Fetching manifest",(0,n.tL)(t));u=t.Db;this.config.Vub && u && u.ia && !this.Gj.C9(t.K) && (!(("clientGenesis" in u.ia) && u.ia.clientGenesis) || Date.now() - u.ia.clientGenesis < this.config.P$a) && (u=this.HY.create(u.ia)) && (u.VJ=this.rg.Xb().ca(f.la),u.vQ=this.rg.Xb().ca(f.la),this.Gj.l0(t.K,u));return this.Gj.GO({N:t.K,fb:null !== (v=t.Db) && void 0 !== v?v:{},Su:l.vn.iG,ig:q.zi.Jo},!0,function(){w.events.emit("manifestRemovedFromCache",{target:w,type:"manifestRemovedFromCache",N:t.K});});};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.yb)),r.__param(1,(0,h.l)(k.Wc)),r.__param(2,(0,h.l)(m.CL)),r.__param(3,(0,h.l)(d.vd)),r.__param(4,(0,h.l)(p.$F))],a);b.NJa=a;},function(r,b,a){var h,g,d,f,m,l,n,p,q,t,w,v,u,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function k(y,z,A,B,D){var C;C=this;this.Lxa=A;this.jYb=B;this.Gj=D;this.m1=[];this.wB=new Map();this.RVb=function(F){var G,E;F=F.wishListItem.key.N;if(C.wB.has(F)){E=C.wB.get(F);F=E.eQ;E=E.Rna;null === (G=E.resolve) || void 0 === G?void 0:G.call(E,F);}};this.l9a=function(F){!F.target.Pgb(F.N) && C.wB.has(F.N) && (C.Wab(F.N),C.Ycb(C.m1),C.nj.has({N:F.N}) && (C.nj.bo(F.N).Ku=!0));};this.Ca=y.kb("VideoPreparer");this.config=z();this.nj=new u.Nia();}Object.defineProperty(b,"__esModule",{value:!0});b.bDa=void 0;r=a(2);h=a(7);a(195);g=a(165);d=a(36);f=a(11);m=a(19);l=a(104);n=a(305);p=a(0);q=a(543);t=a(17);w=a(120);v=a(59);u=a(544);x=a(1267);k.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.l9a))z.events.on("manifestRemovedFromCache",this.l9a);!1;this.Ycb(this.dAb(this.xDb(y,z)));return this.wB.get(y.K).Rna.promise;};k.prototype.getStats=function(){return this.Hv.getStats();};k.prototype.dAb=function(y){return [y].concat(ja(this.m1.filter(function(z){return z.key.N !== y.key.N;}))).slice(0,this.config.hYb).map(this.config.iYb?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};k.prototype.GO=function(y){var z;return this.Gj.GO({N:y.K,Su:l.vn.iG,ig:v.zi.Jo,fb:null !== (z=y.Db) && void 0 !== z?z:{}}).then(function(A){return A.Ib;});};k.prototype.xDb=function(y,z){var A,B,D,C,F,G;D=new c();if(this.wB.has(y.K)){C=this.wB.get(y.K);F=C.eQ;if(F.K === y.K && F.je === y.je)G=C.Q7b.key;this.Hv.getStats().contents.some(function(E){return E.id === y.K;}) && (D=C.Rna);}C=g.su.pf.Bq((0,m.Una)(y.je));G || (G={N:y.K,config:C});F={N:y.K};this.nj.has(F) || this.nj.store(F,this.wDb(y,z,C));z={key:G,gfc:!1,priority:y.priority,z6:d.R.Oa(null !== (B=null === (A=y.Db) || void 0 === A?void 0:A.$) && void 0 !== B?B:0),nj:this.nj};this.wB.set(y.K,{Q7b:z,eQ:y,Rna:D});return z;};k.prototype.wDb=function(y,z,A){var B,D,C;B=this;D=y.K;return {get ea() {return z.EA(D);},Ku:!1,events:new t.EventEmitter(),fna:function(){},get Jr() {C || (C=B.GO(y).then(function(F){return {ia:F,dj:F.xsa && !F.FI,config:A,ldb:{}};}));return C;},N:D,neb:!1,equals:function(F){var G;G=z.EA(D);return F && F.N === D && (!F.ea || !G || G === F.ea);}};};k.prototype.Fcb=function(y){this.m1=y;};k.prototype.Ycb=function(y){this.Fcb(y);this.Hv.Xcb(this.m1);};k.prototype.Wab=function(y){this.wB.has(y) && (this.Fcb(this.m1.filter(function(z){return z.key.N !== y;})),this.wB.delete(y));};Ya.Object.defineProperties(k.prototype,{Hv:{configurable:!0,enumerable:!0,get:function(){this.uz || (this.uz=this.jYb(),this.uz.Yza(this.Lxa).Ocb(new x.oIa()).vcb({LI:this.config.gYb}),this.uz.events.on("prefetchComplete",this.RVb));return this.uz;}}});a=k;a=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(h.yb)),r.__param(1,(0,p.l)(f.Wc)),r.__param(2,(0,p.l)(q.Wha)),r.__param(3,(0,p.l)(n.dDa)),r.__param(4,(0,p.l)(w.$F))],a);b.bDa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;a.prototype.R_a=function(c,k){var h;return null !== (h=this.YHb(c,k)) && void 0 !== h?h:this.aIb(c,k);};a.prototype.YHb=function(c,k){var h,g;h=this;g=k.ja;return c.find(function(d){var f;return h.r7(g,null === (f=d.ja) || void 0 === f?void 0:f.ja);});};a.prototype.aIb=function(c,k){var h,g;h=k.ja.fe;g=k.ja.P[h];return c.find(function(d){var f;d=null === (f=d.ja) || void 0 === f?void 0:f.ja;d=(f=null === d || void 0 === d?void 0:d.fe) && (null === d || void 0 === d?void 0:d.P[f]) || void 0;return h === f && g.N === (null === d || void 0 === d?void 0:d.N) && g.sa === (null === d || void 0 === d?void 0:d.sa);});};a.prototype.r7=function(c,k){var h;h=this;return c === k?!0:"object" !== typeof c || "object" !== typeof k?c === k:Object.keys(c).length === Object.keys(k).length && Object.keys(c).every(function(g){return h.r7(c[g],k[g]);});};b.oIa=a;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){var q;q=this;this.rg=n;n=p();this.Og=new m({log:l.kb("CacheManager"),Da:{getTime:function(){return q.rg.Xb().ca(d.la);}},Promise:Promise,Ef:!1,fyb:n.pYb,eyb:n.nYb,jHb:n.P$a,iHb:n.oYb});}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;r=a(2);k=a(0);h=a(20);g=a(7);d=a(5);f=a(11);m=a(1269);c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yb)),r.__param(1,(0,k.l)(h.vd)),r.__param(2,(0,k.l)(f.Wc))],c);b.kEa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function k(f){this.log=f.log;this.Da=f.Da;this.BE=c();this.Promise=f.Promise;this.$z=f.$z;this.HBa=f.HBa;this.Ef=f.Ef || !1;this.rx=c();this.rD=c();this.wH=c();this.eub(f);f.Jq && (this.Jq=f.Jq);}function h(f){return "undefined" !== typeof f;}function g(f){var n;for(var m=0,l=arguments.length;m < l;){n=arguments[m++];if(h(n))return n;}}a(1270);d=a(1271);k.prototype.eub=function(f){this.rx.manifest=g(f.jHb,d.rx.ia);this.rx.ldl=g(f.iHb,d.rx.sY);this.rx.metadata=g(f.kec,d.rx.Nc);this.rD.manifest=g(f.fyb,d.rD.ia);this.rD.ldl=g(f.eyb,d.rD.sY);this.rD.metadata=g(f.pdc,d.rD.Nc);this.wH.manifest=g(f.ndc,d.wH.ia);this.wH.ldl=g(f.mdc,d.wH.sY);this.wH.metadata=g(f.odc,d.wH.Nc);};k.prototype.PX=function(f,m){this.Fu("undefined" !== typeof f);this.Fu("undefined" !== typeof m);return ! !this.yRa(f,m,void 0).value;};k.prototype.yRa=function(f,m,l){var n,p;n={value:null,reason:"",log:""};p=this.BE[m];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(l=p[f][l?l:"DEFAULTCAPS"]) && l.value?this.q$(m,l.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + f,n.reason="expired"):(n.log=this.Promise && l.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + f:"cache hit: " + m + " available for movieId:" + f,n.value=l.value):(n.log="cache miss: " + m + " data not available for movieId:" + f,n.reason="unavailable");return n;};k.prototype.getData=function(f,m,l){this.Fu("undefined" !== typeof f);this.Fu("undefined" !== typeof m);f=this.yRa(f,m,l);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.HBa?JSON.parse(this.HBa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};k.prototype.setData=function(f,m,l,n,p){var q,t,w;this.Fu("undefined" !== typeof f);this.Fu("undefined" !== typeof m);q=this.BE;t=p?p:"DEFAULTCAPS";q[m] || (q[m]=c(),Object.defineProperty(q[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));l=this.$z?this.$z(JSON.stringify(l),"gzip",!0):l;q=q[m];this.Irb(f,m,t,q);w=this;n={creationTime:this.Da.getTime(),value:l,size:0,type:m,Toa:n,hHb:setTimeout(function(){w.clearData(f,m,t,!1,"expired");},this.rx[m] + 1)};q[f]=q[f] || c();q[f][t]=q[f][t] || c();q[f][t]=n;q.size+=0;q.numEntries++;this.Jq && this.Jq.emit("addedCacheItem",n);return n;};k.prototype.Irb=function(f,m,l,n){var p,q,t,w,v,u,x,y,z;p=this;q=n.numEntries;t=this.rD[m];w=n[f] && n[f][l];if(w && w.value)(v=f,u="promise_or_expired");else if(q >= t){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][l];B && B.value && p.q$(m,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});v=z || x;u="cache_full";}this.Ef && this.log.debug("makespace ",{maxCount:t,currentCount:n.numEntries,field:m,movieId:f,movieToBeRemoved:v});v && (p.clearData(v,m,l,void 0,u),this.log.debug("removed from cache: ",v,m));};k.prototype.Ana=function(f,m){var l,n;l=this;l.Fu("undefined" !== typeof f);n=f + "";m.forEach(function(p){var q;q=l.BE[p];q && Object.keys(q).forEach(function(t){t != n && l.clearData(t,p,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(f,m,l,n,p){var q;this.Fu("undefined" !== typeof f);this.Fu("undefined" !== typeof m);q=this.BE[m];m=q?q[f]:void 0;l=l?l:"DEFAULTCAPS";if(m && m[l]){q.size-=m[l].size;q.numEntries--;if(q=m && m[l])(clearTimeout(q.hHb),m[l]=void 0,!n && q.Toa && q.Toa());this.Jq && (f={creationTime:q.creationTime,destroyFn:q.Toa,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.Jq.emit("deletedCacheItem",f));}};k.prototype.flush=function(f){var m;this.Fu("undefined" !== typeof f);m=this.BE;m[f]=c();m[f].numEntries=0;m[f].size=0;};k.prototype.JWa=function(){var f,m;this.Fu(!1);f=this;m=this.BE;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(l){var n;n=m[void 0][l].DEFAULTCAPS;f.Da.getTime() - n.creationTime > f.rx[void 0] && this.clearData(l,void 0,"DEFAULTCAPS",void 0,"clean_up");});};k.prototype.q$=function(f,m){return this.Da.getTime() - m > this.rx[f];};k.prototype.getStats=function(f,m,l){var n,p,q,t,w;n={};p=this;q=p.BE;t=h(f) && h(m);w=l || "DEFAULTCAPS";Object.keys(q).forEach(function(v){var u,x;u=Object.keys(q[v]);x=q[v];u.forEach(function(y){!(y=x && x[y] && x[y][w]) || !h(y.value) || y.value instanceof this.Promise || (n[v]=(n[v] | 0) + 1,p.q$(y.type,y.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),t && y.creationTime >= f && y.creationTime < m && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};k.prototype.getState=function(f){var m,l,n,p;m=[];l=this;n=l.BE;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var t,w;t=Object.keys(n[q]);w=n[q];t.forEach(function(v){var u,x;u=w && w[v] && w[v][p];if(u && h(u.value)){x=l.q$(u.type,u.creationTime)?"expired":u.value instanceof this.Promise?"loading":"cached";m.push({movieId:v,state:x,type:q,size:u.size});}});});return m;};k.prototype.Fu=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.Ef))throw Error("Debug Assert Failed ");};r.exports=k;},function(r){function b(a){var c;c=[];return (function g(h){if(h && "object" === typeof h){if(-1 !== c.indexOf(h))return !0;c.push(h);for(var d in h){if(h.hasOwnProperty(d) && g(h[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var h;if(c && b(a))return -1;c=[];a=[a];for(var k=0;a.length;){h=a.pop();if("boolean" === typeof h)k+=4;else if("string" === typeof h)k+=2 * h.length;else if("number" === typeof h)k+=8;else if("object" === typeof h && -1 === c.indexOf(h)){c.push(h);for(var g in h){a.push(h[g]);}}}return k;};},function(r){r.exports={rx:{ia:12E5,sY:9E5,Nc:12E5},rD:{ia:10,sY:10,Nc:10},wH:{ia:10240,sY:10240,Nc:10240}};},function(r,b,a){var c,k,h,g,d,f,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ia=void 0;r=a(0);c=a(196);k=a(1273);h=a(545);g=a(1274);d=a(546);f=a(1275);m=a(1276);l=a(547);n=a(1277);b.Ia=new r.zd(function(p){p(c.Ifa).to(k.AFa).ba();p(h.dKa).to(g.cKa).ba();p(d.fLa).to(f.eLa).ba();p(d.nKa).to(m.mKa).ba();p(l.lKa).to(n.kKa).ba();});},function(r,b,a){var k,h,g,d;function c(f){function m(l,n){this.J=l;this.qm=n;this.g8=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.dg=f.kb("DownloadTrack");}m.prototype.Gq=function(){!1;this.HU=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.HU + " config: " + JSON.stringify(this.J);};m.prototype.toJSON=function(){return "Download Track id:" + this.HU + " config: " + JSON.stringify(this.J);};m.prototype.kP=function(){return void 0 === this.HU?!1:!0;};m.prototype.lca=function(l){this.J.connections !== l.connections && (this.J=l);};m.prototype.ov=function(){return 1 < this.J.connections?!0:!1;};Ya.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.HU;}},kp:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.HU;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},Jba:{configurable:!0,enumerable:!0,get:function(){return this.dg;}},fJ:{configurable:!0,enumerable:!0,get:function(){return this.qm.fJ;}}});this.nL=Object.assign(m,new g.BFa());}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(2);k=a(0);h=a(7);g=a(196);d=a(116).EventEmitter;c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb))],c);b.AFa=c;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y){this.jN=t;this.Tf=v;this.nb=u;this.Ea=x;this.config=y;this.log=w.kb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;r=a(2);k=a(197);h=a(103);g=a(3);d=a(7);f=a(0);m=a(69);l=a(29);n=a(20);p=a(5);a=a(11);c.prototype.vA=function(){return this.Ea.Xb().ca(p.la);};c.prototype.O8a=function(t,w){t.NUb({mediaRequest:t,timestamp:w});};c.prototype.h9a=function(t){var w;w=t.mediaRequest.iB;w.readyState=k.Ec.$c.Zy;t=t.connect?t:{timestamp:this.vA(),connect:!1};t.mediaRequest=w;t.readyState=w.readyState;w.swa(t);};c.prototype.sZ=function(t){this.O8a(t.mediaRequest.iB,t.timestamp);};c.prototype.tZ=function(t){var w,v;w=t.mediaRequest.iB;v=t.bytes;"undefined" === typeof w?!1:(w.readyState === k.Ec.$c.az && this.h9a(t),this.nb.uj(v) && (t.mediaRequest=w,t.timestamp=this.vA(),v > w.bytesReceived && (t.newBytes=v - w.bytesReceived,t.bytesLoaded=v,w.RUb(t))));};c.prototype.Vm=function(t){var w,v,u,x;w=t.mediaRequest;v=t.errorcode;u=t.httpcode;x=k.Ec.l2;if("undefined" === typeof w)!1;else if((w=w.iB,"undefined" === typeof w))!1;else if(w.readyState !== k.Ec.$c.sL)if(v === g.O.sC)(w.readyState=k.Ec.$c.IR,t.mediaRequest=w,t.readyState=w.readyState,w.JUb(t));else {w.readyState=k.Ec.$c.sL;switch(v){case g.O.zS:u=x.eEa;break;case g.O.nga:u=x.kga;break;case g.O.wS:u=400 < u && 500 > u?x.mga:500 <= u?x.nHa:x.kga;break;case g.O.xS:u=x.lga;break;case g.O.vS:u=x.fEa;break;case g.O.yS:u=x.b3;break;case g.O.PF:u=x.b3;break;case g.O.mHa:u=x.lHa;break;case g.O.iHa:u=x.mga;break;case g.O.fkb:u=x.lga;break;default:u=x.b3;}t.mediaRequest=w;t.readyState=w.readyState;t.errorcode=u;t.nativecode=v;w.uwa(t);}};c.prototype.Lwa=function(t,w){var v,u;v=w.request.iB;if(v)if(w.da){if((!1,t.j && v.readyState !== k.Ec.$c.DONE)){switch(v.readyState){case k.Ec.$c.IR:!1;return;case k.Ec.$c.sL:!1;break;case k.Ec.$c.Zy:break;case k.Ec.$c.az:this.h9a({mediaRequest:w.request});break;default:!1;}v.readyState=k.Ec.$c.DONE;if(!v.Hc){u={mediaRequest:v,readyState:v.readyState,timestamp:this.vA(),cadmiumResponse:w};t.j.tBa+=1;v.DMb();v.$Pb() && (t.j.hza+=1,w.Yl.Oi=Math.ceil(v.jqa),w.Yl.Mp=Math.ceil(v.IH),w.Yl.sr=Math.floor(v.rE));v.U6=u;v.NP(u);}}}else (!1,v.readyState === k.Ec.$c.IR?!1:(t={mediaRequest:w.request,timestamp:this.vA(),errorcode:w.wa,httpcode:w.kl},this.Vm(t)));};c.prototype.download=function(t,w){var v,u;v=this;w=this.Tf.download(t,w);if(t.iB){u=t.iB;-1 < [k.Ec.$c.OPENED,k.Ec.$c.sL].indexOf(u.readyState) && (u.readyState=k.Ec.$c.az,this.config().Fva?w.L1b(function(x){v.sZ(x);}):this.O8a(u,this.vA()));}w.R5(function(x){v.Lwa(t,x);});w.R1b(function(x){v.tZ(x);});w.C1b(function(x){v.Vm(x);});return w;};q=c;q=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.KR)),r.__param(1,(0,f.l)(d.yb)),r.__param(2,(0,f.l)(m.rw)),r.__param(3,(0,f.l)(l.Eg)),r.__param(4,(0,f.l)(n.vd)),r.__param(5,(0,f.l)(a.Wc))],q);b.cKa=q;},function(r,b,a){var k,h,g;function c(d,f){this.Tf=f;this.log=d.kb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;r=a(2);k=a(0);h=a(7);a=a(69);c.prototype.dX=function(d,f,m){d={url:d.url,O0b:m};!1;this.Tf.I2b(d);};c.prototype.jH=function(d){try{d.Vsa();}catch(f){this.log.warn("exception aborting request");}};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(a.rw))],g);b.eLa=g;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y,z){this.Ea=w;this.Vu=v;this.config=u;this.Tf=y;this.pTb=z;this.log=x.kb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(2);k=a(36);h=a(0);g=a(7);d=a(69);f=a(545);m=a(90);l=a(197);n=a(20);p=a(5);q=a(40);a=a(11);c.prototype.dX=function(w,v,u){var y,z,A;function x(){w.removeEventListener(l.Ec.Xe.hG,x);w.OW?w.OW++:w.OW=1;w.OW >= y.config().Rpa.length && (w.OW=y.config().Rpa.length - 1);setTimeout(function(){y.dX(w,v,u);},y.config().Rpa[w.OW]);}y=this;w.hfc=!0;z=0 === v.start && -1 === v.end;z=this.pTb.download({url:w.url,responseType:this.Tf.hob.Uhb,withCredentials:!1,ED:w.mediaType === k.Rb.Ya.cc?"audio":"video",offset:z?void 0:v.start,length:z?void 0:w.We,track:{type:w.mediaType === k.Rb.Ya.cc?m.Vi.audio:m.Vi.video},stream:{wc:w.Qa,bitrate:w.bitrate},Bc:w.ue,iB:w,eda:u,Mt:this.Vu.Mt,Bt:w.Bt},function(B){B.da && w.readyState !== l.Ec.$c.DONE && (w.readyState === l.Ec.$c.IR?!1:(w.readyState === l.Ec.$c.sL?!1:w.readyState === l.Ec.$c.az?(w.readyState=l.Ec.$c.Zy,w.swa({mediaRequest:w,readyState:w.readyState,timestamp:y.vA(),connect:!1})):w.readyState !== l.Ec.$c.az && w.readyState !== l.Ec.$c.Zy && !1,w.readyState=l.Ec.$c.DONE,B={mediaRequest:w,readyState:w.readyState,timestamp:y.vA(),cadmiumResponse:B,response:B.content},w.U6=B,w.NP(B)));});if(w.Hc){A={mediaRequest:w,readyState:w.readyState,timestamp:this.vA(),connect:!1};w.swa(A);}w.addEventListener(l.Ec.Xe.hG,x);w.Vsa=z.abort;};c.prototype.jH=function(w){try{w.Vsa();}catch(v){this.log.warn("exception aborting request");}};c.prototype.vA=function(){return this.Ea.Xb().ca(p.la);};t=c;t=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.vd)),r.__param(1,(0,h.l)(q.Io)),r.__param(2,(0,h.l)(a.Wc)),r.__param(3,(0,h.l)(g.yb)),r.__param(4,(0,h.l)(d.rw)),r.__param(5,(0,h.l)(f.dKa))],t);b.mKa=t;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y){function z(B,D){this.track=B;this.label=D;this.Sh=n.Ec.$c.UNSENT;this.bytesReceived=0;this.ZJ=[];this.requestId=y.dA().toString();this.nb=v;this.log=w.kb("MediaRequest");this.config=t;this.Wb=new l.Tk();"notification" === this.label?this.config().nA && (this.fJ=u):this.fJ=x;!1;}function A(B,D){this.requestId=y.dA().toString();this.nb=v;this.log=w.kb("MediaRequest");this.config=t;this.Wb=new l.Tk();this.label=D;"notification" === this.label?this.config().nA && (this.fJ=u):this.fJ=x;this.aY=this.vN=this.xN=void 0;this.track=B;this.wN=this.url=this.responseType=void 0;this.Sh=n.Ec.$c.UNSENT;this.Jj=this.rO=this.Dh=this.status=void 0;this.kt=this.bytesReceived=0;this.connect=this.jqa=this.IH=this.rE=this.pua=this.Ff=this.iqa=this.loadTime=this.QM=void 0;this.ZJ=[];this.kp=!1;!1;}z.prototype.addEventListener=function(B,D,C){this.Wb.addListener.call(this,B,D,C);};z.prototype.removeEventListener=function(B,D){this.Wb.removeListener.call(this,B,D);};z.prototype.emit=function(B,D,C){this.Wb.ed.call(this,B,D,C);};z.prototype.NUb=function(B){this.Sh === n.Ec.$c.OPENED && (this.aY=!0,this.loadTime=this.Ff=B.timestamp,!1,this.Sh=n.Ec.$c.az,this.emit(n.Ec.Xe.YKa,B));};z.prototype.swa=function(B){var D;if(this.Sh < n.Ec.$c.Zy){this.ZJ=[];D=B.timestamp - this.loadTime;!this.Hc && 0 < D && (this.connect=!0,this.ZJ.push(D));!0 === this.config().qOb?this.iqa=B.timestamp:this.iqa=this.Ff=B.timestamp;!1;this.Sh=n.Ec.$c.Zy;this.emit(n.Ec.Xe.XKa,B);}};z.prototype.RUb=function(B){this.Sh === n.Ec.$c.Zy && (!1,this.pua=this.Ff=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.nb.Qg(this.pua) && this.emit(n.Ec.Xe.ZKa,B));};z.prototype.NP=function(B){var D;if(-1 < [n.Ec.$c.az,n.Ec.$c.Zy].indexOf(this.Sh)){this.aY=!1;!1;this.Ff=B.timestamp;this.Sh=n.Ec.$c.DONE;D=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Yl.QV;(0,q.sb)(this.bytesReceived === this.We,"bytesReceived do not match expected totalBytes.");B.newBytes=this.We - D;this.nb.Qg(this.IH) && (this.Ff=this.IH,0 === B.newBytes && (this.pua=this.IH));this.nb.Qg(this.rE) && (this.loadTime=this.rE);this.QM=B.response;this.emit(n.Ec.Xe.WS,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",L_b:B});}};z.prototype.JUb=function(B){this.aY=!1;!1;this.emit(n.Ec.Xe.Wmb,B);};z.prototype.uwa=function(B){this.Ff=B.timestamp;this.status=B.httpcode;this.Dh=B.errorcode;this.rO=n.Ec.l2.name[this.Dh];this.Jj=B.nativecode;!1;this.emit(n.Ec.Xe.hG,B);this.aY=!1;};z.prototype.open=function(B,D,C,F,G,E,I,N){this.ly=!1;this.wN=D;this.Bt=N;this.url=B;this.responseType=C;!1;if(!this.url)return (!1,!1);this.Sh=n.Ec.$c.OPENED;this.fJ.dX(this,D,I);return !0;};z.prototype.gd=function(){!1;-1 !== [n.Ec.$c.OPENED,n.Ec.$c.az,n.Ec.$c.Zy].indexOf(this.Sh) && this.abort();return !0;};z.prototype.Hzb=function(){this.QM=void 0;this.U6 && (this.U6.response=void 0,this.U6.cadmiumResponse.content=void 0);this.Vsa=void 0;};z.prototype.vda=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.Sh=n.Ec.$c.IR;this.fJ.jH(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(){return null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.q_=function(){};z.prototype.Ji=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.Ji(),segmentId:this.fa,isHeader:this.Hc,ptsStart:this.yB,ptsOffset:this.Mv,responseType:this.responseType,duration:this.Ds,readystate:this.Sh};this.stream && (B.bitrate=this.stream.bitrate);return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.DMb=function(){var B,D;if(this.config().vgb && d.xw && d.xw.getEntriesByType && (!this.nb.Qg(this.rE) || !this.nb.Qg(this.IH) && this.nb.Qg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.xN + "-" + this.vN + "*");D=new RegExp(B);B=d.xw.getEntriesByType("resource").filter(function(C){return D.exec(C.name);})[0];this.nb.Qg(B) && (0 < B.startTime && (this.rE=B.startTime,0 < B.requestStart && (this.rE=Math.max(this.rE,B.requestStart))),0 < B.responseStart && (this.jqa=B.responseStart),0 < B.responseEnd && (this.IH=B.responseEnd));}};z.prototype.$Pb=function(){return this.nb.Qg(this.rE) && this.nb.Qg(this.IH) && this.nb.Qg(this.jqa);};Ya.Object.defineProperties(z.prototype,{We:{configurable:!0,enumerable:!0,get:function(){return 0 === this.wN.start && -1 === this.wN.end?this.bytesReceived:this.wN.end - this.wN.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.vN - this.xN + 1;}},h3a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Hc:{configurable:!0,enumerable:!0,get:function(){return !this.jE;}},response:{configurable:!0,enumerable:!0,get:function(){return this.QM;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Sh;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var D;D=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,D);});this.Sr=Object.assign(A,n.Ec);}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;r=a(2);k=a(0);h=a(7);g=a(11);d=a(12);f=a(29);m=a(546);l=a(72);n=a(197);p=a(81);q=a(24);c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.Wc)),r.__param(1,(0,k.l)(h.yb)),r.__param(2,(0,k.l)(f.Eg)),r.__param(3,(0,k.l)(m.fLa)),r.__param(4,(0,k.l)(m.nKa)),r.__param(5,(0,k.l)(p.Oy))],c);b.kKa=c;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.k8a=void 0;r=a(0);c=a(358);k=a(1279);b.k8a=new r.zd(function(h){h(c.dha).to(k.CKa).ba();});},function(r,b,a){var k,h,g,d,f;function c(m){return h.ff.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(2);k=a(48);h=a(49);g=a(0);d=a(34);f=a(5);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{b8a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Sc)(5E3);}},x9a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Sc)(1E3);}},y9a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Sc)(1E3);}}});a=c;r.__decorate([k.config(k.pl,"minDecoderBufferMilliseconds")],a.prototype,"b8a",null);r.__decorate([k.config(k.pl,"optimalDecoderBufferMilliseconds")],a.prototype,"x9a",null);r.__decorate([k.config(k.pl,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"y9a",null);a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.om))],a);b.CKa=a;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.a$a=void 0;r=a(0);c=a(548);k=a(1281);h=a(78);g=a(1283);d=a(551);f=a(1284);m=a(504);l=a(1285);n=a(306);p=a(1286);b.a$a=new r.zd(function(q){q(h.Xy).to(g.KLa).ba();q(c.MLa).to(k.LLa).ba();q(m.WLa).to(l.VLa);q(m.ULa).xf(function(t){return function(){return t.gb.get(m.WLa);};});q(d.rMa).to(f.qMa).ba();q(n.Dha).to(p.nMa).ba();});},function(r,b,a){var g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B;function c(D){this.config=D;this.Xz=[];}function k(D,C,F){this.Ea=D;this.nR=C;this.context=F;this.startTime=this.Ea.Xb();}function h(D,C,F,G,E,I,N,L,H,Q){this.ofb=C;this.json=F;this.Ea=G;this.Vu=E;this.oya=I;this.Tc=N;this.config=L;this.Wb=H;this.receiver=Q;this.log=D.kb("Pbo");L.Pab && (this.Xz=new c(L));this.nR=this.ofb();}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;r=a(2);g=a(0);d=a(5);f=a(549);m=a(7);l=a(39);n=a(20);p=a(40);q=a(144);t=a(50);w=a(550);v=a(78);u=a(113);x=a(18);y=a(73);z=a(1282);a=a(306);A={"shakti-":"akira"};h.prototype.send=function(D,C){var F;F=new k(this.Ea,this.nR,D);this.Xz && this.Xz.append(F);return this.Kza(D,C,F);};h.prototype.Kza=function(D,C,F){var G;G=this;return new Promise(function(E,I){G.retry(D,C).then(function(N){var L,H;G.j1b(N);L=pa(G.e7b(N));H=L.next().value;L=L.next().value;H && (G.receiver.kya({command:D.Qn,inputs:C,outputs:H}),G.Yzb(F),E(N));L && (G.receiver.kya({command:D.Qn,inputs:C,outputs:L}),G.YWa(F,L),I(L));}).catch(function(N){var L;G.receiver.kya({command:D.Qn,inputs:C,outputs:N});L=G.YWa(F,N);N.Sb && (N.Sb=[N.Sb," ",L].join(""));I(N);});});};h.prototype.j1b=function(D){(D=D.serverTime) && this.Wb.ed(x.wga.ncb,(0,d.Sc)(D));};h.prototype.e7b=function(D){var C;!1;C=D.result;if(("deviceCommand" in D)){D=D.deviceCommand;this.log.trace("Received device command '" + D + "'");switch(D){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + D + "'"));}return [,{JE:!0,code:C,detail:{message:"Server sent device action to '" + D + "' device"}}];}if(C)return (!1,[C,void 0]);if(D.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",D),[,{code:D.code,detail:{message:D.message}}]);this.log.error("Response did not contain a result or an error",D);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Owb=function(D,C,F){var G;G=this;this.w6b(C,D);this.nR=this.ofb(F);return this.nR.send(C,F).then(function(E){return {retry:!1,result:z.A3.NWb(G.json,E.body)};}).catch(function(E){var I,N;I=z.A3.gLb(E);N=void 0 !== I?Math.min(I,C.kza):C.kza;return G.bda(C,E,D,N)?(I=G.uyb(E,D,N),G.log.warn("Method failed, retrying",Object.assign({Method:C.Qn,Attempt:D + 1,WaitTime:I,MaxRetries:N},G.yoa(E))),Promise.resolve({retry:!0,delay:I,error:E})):Promise.resolve({retry:!1,error:E});});};h.prototype.hJb=function(D){var C,F;if(!this.mla || this.mla.qWb !== D){C="";F=D;Object.entries(A).find(function(G){var E;E=pa(G);G=E.next().value;E=E.next().value;if(0 === D.indexOf(G))return (C=E,D=D.slice(G.length),!0);});this.mla={TWa:C,py:D,qWb:F};}return this.mla;};h.prototype.w6b=function(D,C){var F,G,E,I;I=D.url.searchParams;I.set(y.DC.job,(C + 1).toString());I.set(y.DC.kob,D.qr);D=this.hJb(null !== (F=this.config.py) && void 0 !== F?F:"");D.TWa && (I.set(y.DC.fjb,D.TWa),D.py && I.set(y.DC.Wob,encodeURIComponent(D.py)),F=this.Vu.Je,(null === F || void 0 === F?0:F.name) && I.set(y.DC.Bib,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && I.set(y.DC.Gib,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && I.set(y.DC.Xmb,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && I.set(y.DC.Ymb,encodeURIComponent(F.os.version)));};h.prototype.retry=function(D,C,F){var G;G=this;F=void 0 === F?0:F;return this.Owb(F++,D,C).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(D,C,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};h.prototype.bda=function(D,C,F,G){var E;E=z.A3.aQb(C);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:D.Qn,Attempt:F + 1,MaxRetries:G},this.yoa(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:D.Qn},this.yoa(C)));return !1;};h.prototype.uyb=function(D,C,F){if(D && D.WE && void 0 !== D.WE.retryAfterSeconds)return (0,d.Kh)(D.WE.retryAfterSeconds);D=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,F));return (0,d.Sc)(this.oya.rab(D,C));};h.prototype.wait=function(D){var C;C=this;return new Promise(function(F){C.Tc.Ok(D || d.hb,F);});};h.prototype.yoa=function(D){return (0,w.W4a)(D)?D:{message:D.message,subCode:D.Jc,extCode:D.Qd,mslCode:D.lB,data:D.data};};h.prototype.Yzb=function(D){D.aR();};h.prototype.YWa=function(D,C){var F;D.Ou(C);if(this.Xz)try{F=this.json.stringify(this.Xz);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=h;B=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(m.yb)),r.__param(1,(0,g.l)(f.TPa)),r.__param(2,(0,g.l)(l.UF)),r.__param(3,(0,g.l)(n.vd)),r.__param(4,(0,g.l)(p.Io)),r.__param(5,(0,g.l)(q.N3)),r.__param(6,(0,g.l)(t.ek)),r.__param(7,(0,g.l)(v.Xy)),r.__param(8,(0,g.l)(u.Yfa)),r.__param(9,(0,g.l)(a.Dha))],B);b.LLa=B;k.prototype.aR=function(){this.da=!0;this.elapsedTime=this.Ea.Xb().Ha(this.startTime);};k.prototype.Ou=function(D){this.da=!1;this.elapsedTime=this.Ea.Xb().Ha(this.startTime);this.M3b=D.Jc || D.subCode;this.oHb=D.Qd || D.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var D;D=Object.assign({success:this.da,method:this.context.Qn,startTime:this.startTime.ca(d.la),elapsedTime:this.elapsedTime?this.elapsedTime.ca(d.la):"in progress"},this.nR.Zna());return this.da?D:Object.assign(Object.assign(Object.assign({},D),this.nR.Zna()),{subcode:this.M3b,extcode:this.oHb});};c.prototype.append=function(D){this.Xz.push(D);0 < this.config.Osa && this.Xz.length > this.config.Osa && this.Xz.shift();};c.prototype.toJSON=function(){return this.Xz;};},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.A3=void 0;k=a(3);c.aQb=function(h){var g,d;g=h && h.code;d=h && (h.wa || h.Jc);h=h.Qd !== k.d3.ALa;d=! !d && d >= k.O.zS && d <= k.O.xS && h;return !("RETRY" !== g && "FAIL" !== g) || d;};c.gLb=function(h){var g,d;d=null === (g=null === h || void 0 === h?void 0:h.WE) || void 0 === g?void 0:g.maxRetries;return "number" === typeof d?d:"FAIL" === (null === h || void 0 === h?void 0:h.code)?1:void 0;};c.NWb=function(h,g){var d;if(g){try{d=h.parse(g);}catch(f){throw {JE:!0,code:"FAIL",message:"Unable to parse the response body",data:g};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (h=d.result.find(function(f){return f.error;})))throw h.error;return d;}throw {JE:!0,code:"FAIL",message:"There is no result property on the response"};}throw {JE:!0,code:"FAIL",message:"There is no body property on the response"};};b.A3=c;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t){n=h.ff.call(this,n,"PboConfigImpl") || this;n.config=p;n.gwb=q;n.ih=t;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);d=a(48);f=a(11);m=a(172);a=a(111);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{py:{configurable:!0,enumerable:!0,get:function(){return this.config().Hq.py || "";}},Rda:{configurable:!0,enumerable:!0,get:function(){return this.config().Hq.Rda || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Hq.Sxa;}},U4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},ocb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.gwb.BVa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.pcb);}},pcb:{configurable:!0,enumerable:!0,get:function(){return {};}},Pab:{configurable:!0,enumerable:!0,get:function(){return !1;}},Osa:{configurable:!0,enumerable:!0,get:function(){return 10;}},pUa:{configurable:!0,enumerable:!0,get:function(){return !1;}},lx:{configurable:!0,enumerable:!0,get:function(){return this.ih.lx;}},LD:{configurable:!0,enumerable:!0,get:function(){return this.ih.LD;}},aL:{configurable:!0,enumerable:!0,get:function(){return this.ih.aL;}},xgb:{configurable:!0,enumerable:!0,get:function(){return !1;}},TZa:{configurable:!0,enumerable:!0,get:function(){return !0;}},$Za:{configurable:!0,enumerable:!0,get:function(){return !0;}},fO:{configurable:!0,enumerable:!0,get:function(){return this.ih.fO;}},MH:{configurable:!0,enumerable:!0,get:function(){return this.ih.MH;}}});l=c;r.__decorate([d.config(d.string,"uiVersion")],l.prototype,"py",null);r.__decorate([d.config(d.string,"uiPlatform")],l.prototype,"Rda",null);r.__decorate([d.config(d.bC,"pboVersion")],l.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],l.prototype,"organization",null);r.__decorate([d.config(d.CK,"pboLanguages")],l.prototype,"languages",null);r.__decorate([d.config(d.Fd,"hasLimitedPlaybackFunctionality")],l.prototype,"U4a",null);r.__decorate([d.config(d.object(),"pboCommands")],l.prototype,"ocb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],l.prototype,"pcb",null);r.__decorate([d.config(d.Fd,"pboRecordHistory")],l.prototype,"Pab",null);r.__decorate([d.config(d.bC,"pboHistorySize")],l.prototype,"Osa",null);r.__decorate([d.config(d.Fd,"pboAddXEsnHeader")],l.prototype,"pUa",null);r.__decorate([d.config(d.Fd,"combineManifestAndLicense")],l.prototype,"lx",null);r.__decorate([d.config(d.Fd,"enableLicensedManifestForPrefetch")],l.prototype,"LD",null);r.__decorate([d.config(d.Fd,"useLdlForPrefetchLicensedManifest")],l.prototype,"aL",null);r.__decorate([d.config(d.Fd,"pboUseStudioManifest")],l.prototype,"xgb",null);r.__decorate([d.config(d.Fd,"pboEnableLeanManifest")],l.prototype,"TZa",null);r.__decorate([d.config(d.Fd,"pboEnableV2OptimizedManifest")],l.prototype,"$Za",null);r.__decorate([d.config(d.Fd,"pboEnableManifestPartialHydrationSupport")],l.prototype,"fO",null);r.__decorate([d.config(d.CK,"pboContentPlaygraphTypes")],l.prototype,"MH",null);l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om)),r.__param(1,(0,k.l)(f.Wc)),r.__param(2,(0,k.l)(m.B1)),r.__param(3,(0,k.l)(a.jG))],l);b.KLa=l;},function(r,b,a){var h,g;function c(d,f,m,l,n,p,q){this.version=d;this.url=f;this.id=m;this.languages=l;this.Db=n;this.PFb=p;this.oUb=q;}function k(d){this.gi=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;r=a(2);h=a(0);a=a(78);k.prototype.create=function(d,f,m,l,n){return new c(this.gi.version,f,d,this.gi.languages,m,l,n);};g=k;g=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.Xy))],g);b.qMa=g;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Db,echo:this.PFb};};},function(r,b,a){var k,h,g;function c(d,f){this.UH=f;this.log=d.kb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(2);k=a(0);h=a(7);a=a(91);c.prototype.dUa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.uX=function(d){!1;return this.links[d];};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(a.Hy))],g);b.VLa=g;},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;r=a(2);a=a(0);c.prototype.K1b=function(h){this.listener=h;};c.prototype.kya=function(h){var g;null === (g=this.listener) || void 0 === g?void 0:g.call(this,h);};k=c;k=r.__decorate([(0,a.U)()],k);b.nMa=k;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(502);k=a(552);h=a(1288);g=a(554);d=a(1289);f=a(451);m=a(369);l=a(1290);n=a(1301);p=a(11);q=a(20);t=a(112);w=a(29);v=a(7);u=a(1302);x=a(271);y=a(1303);z=a(5);A=a(1304);B=a(1305);D=a(574);C=a(1306);F=a(113);G=a(555);E=a(1307);I=a(114);N=a(32);L=a(161);H=a(91);Q=a(298);O=a(578);J=a(1308);M=a(80);P=a(40);R=a(556);S=a(1309);U=a(307);ba=a(28);na=a(576);va=a(1310);b.j=new r.zd(function(ya){ya(O.Qha).to(J.TMa).ba();ya(U.Sea).xf(function(ra){var V;V=ra.gb;return function(K,T){return new (a(1311).XCa)(K,T,V.get(t.Fy),V.get(F.e2));};});ya(c.UPa).xf(function(ra){var V;V=ra.gb;return function(K,T,fa,ia,Ba,Sa,La,Za,Wa){return new (a(1314).VPa)(V.get(A.$Pa),K,T,fa,ia,Ba,Sa,La,Za,Wa);};});ya(A.$Pa).to(B.ZPa).ba();ya(k.YPa).to(h.XPa).ba();ya(m.OMa).to(l.NMa).ba();ya(R.iOa).to(S.hOa);ya(R.gOa).Zeb(R.iOa);ya(f.tFa).xf(function(ra){var V;V=ra.gb;return function(K){return new (a(1315).uFa)(V.get(F.sFa),V.get(t.Fy),V.get(q.vd),K);};});ya(g.yDa).xf(function(){return function(ra){return new d.zDa(ra);};});ya(na.Tha).xf(function(ra){var V;V=ra.gb;return function(K){return new va.ZMa(K,V.get(v.yb),V.get(w.Eg));};});ya(u.FMa).xf(function(ra){var V;V=ra.gb;return function(K){return new n.GMa(K,V.get(v.yb),V.get(p.Wc),V.get(w.Eg),V.get(t.Fy),V.get(na.Tha));};});ya(x.Sha).xf(function(ra){var V;V=ra.gb;return function(K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb){Va=void 0 === Va?function(){return !1;}:Va;return new y.VMa(K,T,fa,ia,Ba,Sa,La,Za,Wa,V.get(u.FMa),V.get(O.Qha),Va,cb);};});ya(D.COa).xf(function(ra){return function(V){var K,T;K=ra.gb.get(p.Wc);T=ra.gb.get(v.yb);return new C.DOa(K,V,T);};});ya(G.QMa).xf(function(ra){return function(V){var K,T,fa,ia,Ba;K=ra.gb.get(H.Hy);T=ra.gb.get(I.UL);fa=ra.gb.get(N.Qh);ia=ra.gb.get(L.lT);Ba=ra.gb.get(ba.Gy);return new E.RMa(V,K,T((0,z.Kh)(1)),fa,ia,Ba);};});ya(Q.bha).nF(function(ra){return new (a(1316).yKa)(ra.gb.get(M.QS),ra.gb.get(P.Io));}).ba();});},function(r,b,a){var k,h,g,d,f,m;function c(l,n){this.rg=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.XPa=void 0;r=a(2);k=a(18);h=a(553);g=a(20);d=a(0);f=a(5);a=a(11);c.prototype.hO=function(l){var n;l.O0={};if(!l.jP() && l.aC && 0 < l.aC.length && (l.$B=this.A1a(l),l.$B)){n=this.j2b(l);n() || (l.Eb.addListener(n),l.ef.addListener(n));}};c.prototype.j2b=function(l){var p;function n(){var q,t;if(!l.ef.value || l.Eb.value === k.jb.cg)return !1;q=l.$B;t=q.getState();return t === h.fq.LOADING?!1:t !== h.fq.VF && q.retry?(q=p.GMb(l))?(l.O0.offset=p.rg.Xb().ca(f.la),l.$B=q,q.download(),!0):!1:(l.Eb.removeListener(n),l.ef.removeListener(n),!1);}p=this;return n;};c.prototype.GMb=function(l){var n,p;n=this.config();p=l.$l.Ax() < n.v5b;n=(l.ef.value?l.ef.value.bitrate:0) > n.u5b;return this.cMb(l,p && n);};c.prototype.cMb=function(l,n){if(n && (n=this.A1a(l),this.z2a(l,n.size)))return (l.O0.tbb="h",n);n=this.dLb(l);if(this.z2a(l,n.size))return (l.O0.tbb="l",n);};c.prototype.z2a=function(l,n){var p,q;p=this.config();q=Math.min(l.aV(),l.b1());return l.pxb.kyb(n) * (1 + .01 * p.Nvb[2]) < q * p.y5b;};c.prototype.A1a=function(l){return l.aC[l.aC.length - 1];};c.prototype.dLb=function(l){return l.aC[0];};m=c;m=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.vd)),r.__param(1,(0,d.l)(a.Wc))],m);b.XPa=m;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;a.prototype.bgb=function(){var c;c=this.j.Ia;if(null !== c && void 0 !== c && c.NC){c=c.$b.get();if(null === c || void 0 === c?0:c.Mk)this.j.Mk=c.Mk.qa;if(null === c || void 0 === c?0:c.Ua)this.j.Ua=c.Ua.qa;}};a.prototype.eo=function(){-1 === this.j.Ua && this.bgb();return this.j.Ua;};a.prototype.kyb=function(c){-1 !== this.j.Mk && -1 !== this.j.Ua || this.bgb();return -1 === this.j.Mk || -1 === this.j.Ua?Number.MAX_VALUE:this.j.Mk + 8 * c / this.j.Ua;};b.zDa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L;function c(H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V,K,T,fa,ia,Ba,Sa,La,Za,Wa,Va){this.KA=H;this.jD=Q;this.Ea=O;this.Da=J;this.qxb=M;this.kBa=P;this.IY=R;this.kva=S;this.sP=U;this.Ld=ba;this.hi=na;this.hj=va;this.qN=ya;this.OZ=ra;this.Gj=V;this.zBa=K;this.jg=T;this.Xm=fa;this.ve=ia;this.Cxa=Ba;this.I_b=Sa;this.cma=La;this.jJ=Za;this.kxa=Wa;this.jN=Va;}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;r=a(2);k=a(81);h=a(0);g=a(114);d=a(37);f=a(20);m=a(35);l=a(554);n=a(272);p=a(503);q=a(520);t=a(121);w=a(145);v=a(164);u=a(103);x=a(493);y=a(271);z=a(552);A=a(52);B=a(32);D=a(555);C=a(80);F=a(556);G=a(307);E=a(298);I=a(120);N=a(536);c.prototype.create=function(H,Q,O,J,M,P,R,S){return new (a(557).PMa)(H,Q,P,R,J,M,this.KA,O,this.Ea,this.jD,this.Da,this.IY,this.qxb,this.kBa,this.kva,this.sP,this.Ld,this.hi,this.hj,this.qN,this.OZ,this.Gj,this.zBa,this.jg,this.ve,this.Cxa,this.Xm,this.I_b(),this.cma,this.jJ,this.kxa,void 0,S);};L=c;L=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(k.Oy)),r.__param(1,(0,h.l)(d.Ti)),r.__param(2,(0,h.l)(f.vd)),r.__param(3,(0,h.l)(m.wi)),r.__param(4,(0,h.l)(l.yDa)),r.__param(5,(0,h.l)(g.UL)),r.__param(6,(0,h.l)(n.Xga)),r.__param(7,(0,h.l)(p.OJa)),r.__param(8,(0,h.l)(q.JS)),r.__param(9,(0,h.l)(t.wG)),r.__param(10,(0,h.l)(w.dT)),r.__param(11,(0,h.l)(v.lG)),r.__param(12,(0,h.l)(x.GDa)),r.__param(13,(0,h.l)(y.Sha)),r.__param(14,(0,h.l)(I.$F)),r.__param(15,(0,h.l)(z.YPa)),r.__param(16,(0,h.l)(A.un)),r.__param(17,(0,h.l)(C.QS)),r.__param(18,(0,h.l)(B.Qh)),r.__param(19,(0,h.l)(D.QMa)),r.__param(20,(0,h.l)(F.gOa)),r.__param(21,(0,h.l)(G.Sea)),r.__param(22,(0,h.l)(E.bha)),r.__param(23,(0,h.l)(N.iMa)),r.__param(24,(0,h.l)(u.KR)),r.__param(24,(0,h.optional)())],L);b.NMa=L;},function(r,b,a){var d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L;function c(){this.Gda=[];this.e5b=50;}function k(H){var Q;Q=this;this.j=H;this.Wgb=Promise.resolve();this.eGa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.cH=[];this.Zk=new n.Tk();this.jRa=0;this.w4=[];this.dg=(0,t.Ii)(this.j,"MediaElementASE");this.jTa=m.zw;this.uja=!1;this.Kb=new c();this.ep={};this.NRa={};this.S8=this.z4(function(){var O;if(Q.Y)return null !== (O=Q.Y.webkitDecodedFrameCount) && void 0 !== O?O:0;});this.wA=this.z4(function(){var O;if(Q.Y){O=Q.Qja();return O?O.totalVideoFrames:Q.Y.webkitDecodedFrameCount;}});this.pI=this.z4(function(){var O;if(Q.Y){O=Q.Qja();return O?O.droppedVideoFrames:Q.Y.webkitDroppedFrameCount;}});this.lX=this.z4(function(){var O;if(Q.Y){O=Q.Qja();return O && O.corruptedVideoFrames;}});this.kSa=function(O){!1;Q.Zk.ed(C.ck.$5a,{N:O});};this.Xl=t.Aa.get(D.PIa).create(l.config.Nt,this,this.j);l.config.qE && (this.Wgb=new Promise(function(O){Q.jTa=O;Q.j.addEventListener(E.ga.fh,O);}));this.dg.trace("Created Media Element");this.addEventListener=this.Zk.addListener;this.removeEventListener=this.Zk.removeListener;}function h(H){var Q,O;Q=t.Aa.get(F.FQa).YLb();H=H.width / H.height * Q.height;O=(Q.width - H) / 2;return l.config.e2b?(0,q.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + Q.height + "px;left:" + O + "px;top:0px"):(0,q.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function g(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;d=a(36);f=a(312);m=a(14);l=a(19);n=a(72);p=a(64);q=a(44);t=a(8);w=a(3);v=a(24);u=a(92);x=a(352);y=a(25);z=a(313);A=a(12);B=a(13);D=a(563);C=a(314);F=a(540);G=a(5);E=a(18);I=a(62);N=a(47);L=! !(A.yC && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);k.prototype.mX=function(H){try{this.Y && (this.jRa=this.Y.currentTime);}catch(Q){this.dg.error("Exception while getting VIDEO.currentTime",Q);H && this.GT(w.T.Inb,Q);}return (0,A.wn)(this.jRa * m.Vt);};k.prototype.seek=function(H){var Q;(0,v.sb)(!this.qq);this.cTa();Q=this.mX(!0);if(!l.config.awb && (0,A.m3)(Q - H) <= this.Aza)(this.dg.trace("Seek delta too small",{currentTime:Q,seekTime:H,min:this.Aza}),this.Kb.trace("smallseek",H));else {this.Kb.trace("seek",H);try{this.dg.trace("Setting video elements currentTime",{From:(0,u.qj)(Q),To:(0,u.qj)(H)});this.qq={};this.Y.currentTime=H / m.Vt;this.Zk.ed(C.ck.Dq);}catch(O){this.dg.error("Exception while setting VIDEO.currentTime",O);this.GT(w.T.Jnb,O);}}};k.prototype.A2a=function(){return ! !this.qq;};k.prototype.addSourceBuffer=function(H){var Q;try{Q=new f.Zga(this.j,H,this.pg,this.dg);this.cH.push(Q);H == m.LS && Q.kqa && Q.kqa.addListener(this.jTa);return Q;}catch(O){Q=(0,y.Me)(O);this.dg.error("Unable to add source buffer.",{error:Q});this.j.Pd(w.T.tha,{wa:H === d.Rb.Uk.cc?w.O.Uga:w.O.Vga,Sb:Q});}};k.prototype.U5=function(H){var Q;Q=this;H.forEach(function(O){return Q.addSourceBuffer(O);});this.Zk.ed(C.ck.xdb);return !0;};k.prototype.removeSourceBuffer=function(H){this.cH=this.cH.filter(function(Q){return !(0,q.hXa)(H,Q);});this.pg.removeSourceBuffer(H);};k.prototype.endOfStream=function(){this.Kb.trace("endofstream");!1;l.config.dna && this.pg.endOfStream();};k.prototype.Gq=function(H){!1;this.cH=[];H && H.ogc();return !0;};k.prototype.V1a=function(){if(this.pg)return (0,G.L$a)(this.pg.duration);};k.prototype.UEb=function(){var H;if(!this.uja && this.Y && this.Y.readyState >= I.Ho.a3.HAVE_CURRENT_DATA){H=this.Y.webkitDecodedFrameCount;if(void 0 === H || 0 < H || l.config.J7b)this.uja=!0;}return this.uja;};k.prototype.open=function(){var H,Q,O;H=this;this.Y=h(this.j.vR);this.sourceBuffers=this.cH;this.j.addEventListener(E.ga.hdb,function(J){return H.Ssb(J);});if(L){this.j.UI && !l.config.mgb && this.Xl.qba();try{this.pg=new A.yC();}catch(J){this.GT(w.T.znb,J);return;}try{this.Ll=URL.createObjectURL(this.pg);}catch(J){this.GT(w.T.Anb,J);return;}try{this.Xl.pvb(this.kSa);this.pg.addEventListener("sourceopen",function(J){return H.JSa(J);});this.pg.addEventListener(this.eGa + "sourceopen",function(J){return H.JSa(J);});this.Y.addEventListener("error",this.ep.error=function(J){return H.iU(J);});this.Y.addEventListener("seeking",this.ep.seeking=function(){return H.Rsb();});this.Y.addEventListener("seeked",this.ep.seeked=function(){return H.Qsb();});this.Y.addEventListener("timeupdate",this.ep.timeupdate=function(){return H.Tsb();});this.Y.addEventListener("loadstart",this.ep.loadstart=function(){return H.yka();});this.Y.addEventListener("volumechange",this.ep.volumechange=function(J){return H.Usb(J);});this.Y.addEventListener(this.Xl.EE,this.ep[this.Xl.EE]=function(){H.dg.trace(H.Xl.EE);H.Osb();});Q=this.j.xo;O=Q.lastChild;O?Q.insertBefore(this.Y,O):Q.appendChild(this.Y);l.config.cZa && this.Y.addEventListener("contextmenu",g);this.Y.src=this.Ll;p.bf.addListener(p.Js,this.NRa[p.Js]=function(){return H.ISa();});this.ISa();}catch(J){this.GT(w.T.Bnb,J);}}else this.s4(w.T.tLa);};k.prototype.close=function(){var Q;function H(){Q.Ll && (Q.cTa(),p.bf.removeListener(p.Js,Q.NRa[p.Js]),Q.$pb());}Q=this;this.Kb.trace("close");this.Y.removeEventListener(this.Xl.EE,this.ep[this.Xl.EE]);this.Y.removeEventListener("error",this.ep.error);this.Y.removeEventListener("seeking",this.ep.seeking);this.Y.removeEventListener("seeked",this.ep.seeked);this.Y.removeEventListener("timeupdate",this.ep.timeupdate);this.Y.removeEventListener("loadstart",this.ep.loadstart);this.Y.removeEventListener("volumechange",this.ep.volumechange);this.Xl.n_b(this.kSa);l.config.Nt?this.Xl.GB().then(function(){return H();}):H();this.Xl.ebb && clearTimeout(this.Xl.ebb);};k.prototype.WD=function(){return this.Kb.WD();};k.prototype.Osb=function(){l.config.mgb && this.Xl.qba();};k.prototype.Qja=function(){if(this.Y)return this.Y.getVideoPlaybackQuality && this.Y.getVideoPlaybackQuality() || this.Y.videoPlaybackQuality || this.Y.playbackQuality;};k.prototype.gub=function(){var H;H=this.j.Hi;return (H=H && H.errorCode) && 0 <= [w.T.y3,w.T.e3].indexOf(H);};k.prototype.$pb=function(){var H;H=!1;l.config.zYb && this.gub() && (H=!0);l.config.Qzb && !H && (this.Y.removeAttribute("src"),this.Y.load && this.Y.load());URL.revokeObjectURL(this.Ll);l.config.cZa && this.Y.removeEventListener("contextmenu",g);!H && this.Y && this.j.xo.removeChild(this.Y);this.Y=this.pg=void 0;this.Ll="";};k.prototype.ISa=function(){!0 === A.wh.hidden?this.w4.forEach(function(H){H.refresh();H.c3b();}):this.w4.forEach(function(H){H.refresh();H.s3b();});};k.prototype.z4=function(H){var Q;Q=t.Aa.get(x.cLa)(H);this.w4.push(Q);return function(){Q.refresh();return Q.WJb();};};k.prototype.GT=function(H,Q){var O,J;O={wa:w.O.km,Sb:(0,y.Me)(Q)};try{(J=Q.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (O.Df=J);}catch(M){}this.j.Pd(H,O);};k.prototype.cTa=function(){this.w4.forEach(function(H){H.refresh();});};k.prototype.Tqb=function(){return this.Y && this.Y.msGraphicsTrustStatus;};k.prototype.s4=function(H,Q){this.j.Pd(H,Q,void 0);};k.prototype.Ssb=function(H){var Q,J,M,P,R,S,U;if(this.Y){H=H.d1;Q=this.Tqb();Q && (H.ConstrictionActive=Q.constrictionActive,H.Status=Q.status);try{H.readyState="" + this.Y.readyState;H.currentTime="" + this.Y.currentTime;H.pbRate="" + this.Y.playbackRate;}catch(ba){}Q=this.cH.length;for(var O;Q--;){O=this.cH[Q];J="";O.type == m.j3?J="audio":O.type == m.LS && (J="video");(0,y.Gd)(H,O.J8(),{prefix:J});}this.pg && (Q=this.pg.duration) && !isNaN(Q) && (H.duration=Q.toFixed(4));if(l.config.TRb)try{M=this.j.Le;P=M && M.Ob;if(P){R=P.expiration;isNaN(R) || (H.exp=R);S=P.keyStatuses.entries();if(S.next){U=S.next().value;U && (H.keyStatus=U[1]);}}}catch(ba){}}};k.prototype.JSa=function(H){!1;this.iub || (this.iub=!0,this.Zk.ed(C.ck.zdb,H));};k.prototype.Rsb=function(){this.Kb.trace("seeking");this.dg.trace("Video element event: seeking");this.qq?this.qq.jVb=!0:(this.dg.error("unexpected seeking event"),l.config.DHb && this.s4(w.T.Onb,{Sb:{Trace:this.WD()}}));};k.prototype.Qsb=function(){this.Kb.trace("seeked");this.dg.trace("Video element event: seeked");this.qq?((0,v.sb)(this.qq.jVb),this.qq.iVb=!0,this.ETa()):(this.dg.error("unexpected seeked event"),l.config.CHb && this.s4(w.T.Nnb,{Sb:{Trace:this.WD()}}));};k.prototype.Tsb=function(){var H;this.Kb.trace("timeupdate",null === (H=this.Y) || void 0 === H?void 0:H.currentTime);!1;this.qq && (this.qq.lVb=!0,this.ETa());this.Zk.ed(C.ck.Dq);};k.prototype.yka=function(){this.dg.trace("Video element event: loadstart");};k.prototype.Usb=function(H){this.dg.trace("Video element event:",H.type);try{this.j.volume.set(this.Y.volume);this.j.muted.set(this.Y.muted);}catch(Q){this.dg.error("error updating volume",Q);}};k.prototype.iU=function(H){var Q,O,J,M,P,R,S,U;Q=this.s4;O=w.T.sLa;J=w.vGa;M=this.WD();P=H.target;R=P && P.error;S=H.errorCode;P=R && R.code;(0,B.sd)(P) || (P=S && S.code);S=R && R.message;U=R && R.msExtendedCode;(0,B.sd)(U) || (U=R && R.systemCode);(0,B.sd)(U) || (U=H.systemCode);(0,B.sd)(U) || (U=(0,N.Fra)(S));H=(0,y.Gd)({},{code:P,systemCode:U,trace:JSON.stringify(M)},{SP:!0});J={wa:J(P),Sb:(0,z.fva)(H)};try{S && (J.PY=S);}catch(ba){}U=(0,y.Mj)(U);(0,B.Ga)(U) && (J.Df=(0,t.xma)(U,4));Q.call(this,O,J);};k.prototype.ETa=function(){this.qq && this.qq.iVb && this.qq.lVb && (this.Kb.trace("seekcomplete"),this.qq=void 0,this.Zk.ed(C.ck.M_));};Ya.Object.defineProperties(k.prototype,{Aza:{configurable:!0,enumerable:!0,get:function(){return l.config.V2b;}}});b.bKa=k;c.prototype.trace=function(H,Q){this.Gda.push([H,Q]);this.Gda.length > this.e5b && this.Gda.shift();};c.prototype.WD=function(){return this.Gda;};},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w){var v;v=this;this.j=w;this.bBa=this.o8a=0;this.fh=this.Ym=!1;this.Dca=0;this.fm=function(){var u,x;v.Aca();v.QH && (v.log.info("Deactivating",v.QH),v.XB.KDb(v.af()));v.j.$i.set(null);v.MK.Gcb(void 0);v.OWa();u=v.j.tc.value;u && u.Vq() && !u.Cp() && (u=null);if(u && v.j.Eb.value !== q.jb.cg){x=v.af();v.XB.$ub(x,u);}u?(v.log.info("Activating",u),v.j.kn.set(u.getState() === k.sG.EC.VF?q.Kf.we:q.Kf.yd),v.Ym || v.j.Be("tt_start"),u.Y9().then(v.eN).catch(v.eN)):v.j.kn.set(q.Kf.we);v.QH=u;v.ZK();};this.sync=function(){v.Ym && (v.MK.start(),v.j.Eb.value !== q.jb.Rc && v.MK.stop());};this.ZK=function(){var u;v.j.state.value === q.dc.we && v.j.Eb.value !== q.jb.cg && (v.Lh?u=v.MK.jJb():v.j.tc.value && (u=c.n3b[v.j.tc.value.getState()]));u && (0,p.sd)(u.startTime) && v.j.Zv.value !== u && (v.o8a++,v.bBa+=v.MK.W1a() - u.startTime,v.uVa=Math.ceil(v.bBa / (v.o8a + 0)));v.j.Zv.set(u);};this.af=function(){var u;u=v.j.Gra();v.QH && v.QH.fv && (u+=v.QH.fv);return u;};this.$Vb=function(u){v.fireEvent(c.H2b,u);u && u.id && (v.XB.fgb(u.id),!1);v.log.trace("showsubtitle",v.H2a(u));};this.VVb=function(u){v.fireEvent(c.v_b,u);v.log.trace("removesubtitle",v.H2a(u));};this.Jk=function(){v.log.warn("imagesubs buffer underflow",v.j.tc.value.ph);v.j.kn.set(q.Kf.yd);};this.xVb=function(){v.log.info("imagesubs buffering complete",v.j.tc.value.ph);v.j.kn.set(q.Kf.we);};this.mba=function(){v.Ym && v.Lh && v.Lh.ew(v.af());};this.p9a=function(u){v.Ym && v.Lh && (v.Lh.pause(),v.Lh.ZE(u.uk));};this.HE=function(){v.Ym && v.Lh && v.Lh.jab();};this.m9a=function(u){v.Lh && v.Lh.Qi(u.Ch,u.KP);};this.t9a=function(u){v.Lh && v.Lh.mj(u.fa,u.z6b);};this.OVb=function(){v.Ym=!0;(0,n.fg)(function(){var u,x;(null === (u=v.QH) || void 0 === u?0:u.ol)?null === (x=v.Lh) || void 0 === x?void 0:x.ew(v.af()):v.sync();v.ZK();});};this.LVb=function(){v.OWa();v.MK.stop();v.ZK();v.fh=!0;v.Aca();};this.Wwa=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (v.XB.fgb.apply(v.XB,ja(u.blocks.map(function(x){return x.id;}))),!1);};this.SVb=function(u){v.t6b(u.newValue,u.oldValue);v.sync();v.ZK();};this.eN=function(u){var x;if(!v.fh){x=u.track;if(x === v.j.tc.value)try{v.Lh=x.YAa;x.ol?v.Yub(u):v.Zub(u);}catch(y){v.log.error("Error activating track:",y,x);return;}v.Ym || v.j.Be(u.da?"tt_comp":"tt_err");u.da?(d.config.Rbb?setTimeout(function(){v.j.kn.set(q.Kf.we);},d.config.Rbb):v.j.kn.set(q.Kf.we),x.ol || v.ZK()):u.aborted?v.log.warn("aborted timed text track loading"):d.config.BHb?v.j.Pd(l.T.Dlb,{Sb:u.track?u.track.ph:{}}):(v.log.error("ignore subtitle initialization error",u),v.j.kn.set(q.Kf.we));}};this.Wb=new g.Tk();this.XB=new m.sPa((0,f.Ii)(w,"SubtitleTracker"),d.config.CGb);this.log=(0,f.Ii)(w,"TimedTextManager");this.MK=new h.MPa(this.af,this.ZK);this.j.tc.addListener(this.fm);d.config.VXb?(this.j.addEventListener(q.ga.Ym,this.OVb),this.fm()):(this.j.kn.set(q.Kf.we),this.j.addEventListener(q.ga.Ym,function(){v.Ym=!0;v.fm();}));this.j.Eb.addListener(this.SVb);this.j.addEventListener(q.ga.lBa,this.sync);this.j.Zv.addListener(this.Wwa);this.j.addEventListener(q.ga.fh,this.LVb);}Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;k=a(295);h=a(564);g=a(72);d=a(19);f=a(8);m=a(1293);l=a(3);n=a(60);p=a(13);q=a(18);t=a(1294);c.prototype.addEventListener=function(w,v,u){this.Wb.addListener(w,v,u);};c.prototype.removeEventListener=function(w,v){this.Wb.removeListener(w,v);};c.prototype.fireEvent=function(w,v,u){this.Wb.ed(w,v,u);};c.prototype.tla=function(w,v,u){var x,y;x=this;y=t.IPa.CCb(this.j,w,v,u);this.t4a(this.j.oi,y);this.j.aj.forEach(function(z){x.t4a(z.oi,y);});this.j.tc.set(y);this.j.fireEvent(q.ga.aw);};c.prototype.aYb=function(w){this.aza(w)?w.Y9().then(function(){}):Promise.resolve();};c.prototype.vMb=function(w){return this.XB.dMb(w);};c.prototype.dsa=function(w){return this.XB.dsa(w);};c.prototype.GX=function(){var w,v;w=this.j.E0;v=d.config.Ueb.characterSize;v={size:d.config.qBa.characterSize || v};w && (v.visibility=w.jsa(),v.rV=w.hsa(),v.Xs=w.isa());return v;};c.prototype.a2b=function(w){d.config.qBa.characterSize=w;w=this.j.tc.value;this.aza(w) && !w.ol && w.Y9().then(this.eN).catch(this.eN);};c.prototype.t6b=function(w,v){var u;w === q.jb.Rc || w == q.jb.xh?v !== q.jb.Rc && v !== q.jb.xh && ((v=this.j.tc.value) && !this.aza(v) || this.XB.u8a(this.af(),v || void 0,"presentingstate:" + w)):w !== q.jb.cg && w !== q.jb.Or || this.XB.wpa(null !== (u=this.af()) && void 0 !== u?u:void 0,"presentingstate:" + w);};c.prototype.Aca=function(){this.Dca=0;clearTimeout(this.n0b);};c.prototype.OWa=function(){var w;this.Lh && this.Lh.stop();(null === (w=this.QH) || void 0 === w?0:w.ol) && this.K6a("removeListener");this.Lh=void 0;};c.prototype.K6a=function(w){this.Lh && (this.Lh[w]("showsubtitle",this.$Vb),this.Lh[w]("removesubtitle",this.VVb),this.Lh[w]("underflow",this.Jk),this.Lh[w]("bufferingComplete",this.xVb),"addListener" === w?(this.j.addEventListener(q.ga.Dq,this.mba),this.j.addEventListener(q.ga.Lk,this.p9a),this.j.addEventListener(q.ga.jK,this.HE),this.j.addEventListener(q.ga.$aa,this.m9a),this.j.addEventListener(q.ga.SBa,this.t9a)):(this.j.removeEventListener(q.ga.Dq,this.mba),this.j.removeEventListener(q.ga.Lk,this.p9a),this.j.removeEventListener(q.ga.jK,this.HE),this.j.removeEventListener(q.ga.$aa,this.m9a),this.j.removeEventListener(q.ga.SBa,this.t9a)));};c.prototype.H2a=function(w){return {currentPts:this.af(),displayTime:w.displayTime,duration:w.duration,id:w.id,originX:w.originX,originY:w.originY,sizeX:w.sizeX,sizeY:w.sizeY,rootContainerExtentX:w.rootContainerExtentX,rootContainerExtentY:w.rootContainerExtentY};};c.prototype.Yub=function(w){var v,u;v=this;u=w.track;if(!u || !u.ol)throw Error("Not an image base subtitle");w.da?(this.Aca(),this.K6a("addListener"),this.log.info("Activated",u),this.j.$i.set(u),this.Ym?(0,n.fg)(function(){v.Lh.ew(v.af());}):this.Lh.pause()):this.Hbb(u,w);};c.prototype.Zub=function(w){var v,u;v=w.track;u=w.da;if(!v || v.ol)throw Error("Not a valid text track");u?(this.Aca(),this.MK.Gcb(this.Lh),this.log.info("Activated",v),this.j.$i.set(v)):this.Hbb(v,(0,l.Ly)(w));this.ZK();};c.prototype.Hbb=function(w,v){var u,x;u=this;x=this.Dca < d.config.YSb;x && (this.n0b=setTimeout(function(){u.Dca++;w.Y9().then(u.eN).catch(u.eN);},d.config.O4b));this.log.error("Failed to activate" + ((null === w || void 0 === w?0:w.ol)?" img subtitle":""),{retry:x},v,w);};c.prototype.aza=function(w){return !(!w || w.Vq() && !w.Cp());};c.prototype.t4a=function(w,v){var u;u=w.findIndex(function(x){return x.bc >= v.bc;});-1 === u && (u=0);w.splice(u,0,v);};b.KPa=c;r={};c.n3b=(r[k.sG.EC.LOADING]={AY:!0},r[k.sG.EC.DS]={Ou:!0},r);c.H2b="showsubtitle";c.v_b="removesubtitle";},function(r,b,a){var h;function c(g,d,f){this.start=g;this.track=d;this.FK=Array.isArray(f)?f:[];}function k(g,d){this.log=g;this.eC=d;this.pya=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sPa=void 0;h=a(24);k.prototype.$ub=function(g,d){this.u8a(g,d,"activating");};k.prototype.KDb=function(g){this.wpa(g,"de-activating");};k.prototype.u8a=function(g,d,f){var m;this.gl && this.wpa(g,"close current for new");m=[];this.orphans.length && (m.push.apply(m,ja(this.orphans)),this.orphans=[]);this.gl=new c(g,d,m);this.eC && this.log.trace("new range: " + f,this.gl);};k.prototype.wpa=function(g,d){this.gl && (this.gl.end=g,this.pya.push(this.gl),this.eC && this.log.trace("end range: " + d,this.gl || ({})),this.gl=void 0);};k.prototype.fgb=function(g){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.gl?this.gl.FK.push.apply(this.gl.FK,ja(d)):this.orphans.push.apply(this.orphans,ja(d));};k.prototype.dsa=function(g){var d,f;d=this.pya.slice(0);if(this.gl && "undefined" !== typeof g){f=new c(this.gl.start,this.gl.track,this.gl.FK);f.end=g;d.push(f);}g=d.reduce(function(m,l){var n,p,q,t;if(!l.track)return m;p=l.track.wc;q=l.track.Zu(l.start,l.end);if(void 0 === q || null === q)return m;t=new Set(l.FK);m[p]?(l=m[p],l.expected+=q,l.missed+=q - t.size):m[p]={dlid:p,bcp47:l.track.Af,profile:l.track.profile,expected:q,missed:q - t.size,startPts:null !== (n=l.track.pMb()) && void 0 !== n?n:0};return m;},{});g=Object.values(g);this.eC && this.log.trace("subtitleqoe:",JSON.stringify(g,null,"\t"));return g;};k.prototype.dMb=function(g){var d,f,m,l;d=this.pya.slice(0);f=0;m=0;if(this.gl && "undefined" != typeof g){l=new c(this.gl.start,this.gl.track,this.gl.FK);l.end=g;d.push(l);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,h.sb)(!1,"negative range");n.Np=0;return;}p=new Set(n.FK);q=n.track.Zu(n.start,n.end);n.d8=q;n.Np=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.Np=100;p=n.end - n.start;f+=p;m+=n.Np * p;});l=f?Math.round(m / f):100;this.log.trace("qoe score " + l + ", at pts: " + g);this.eC && (g=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.Np),lang:n.track?n.track.Af:"none","actual  ":n.FK.join(" "),expected:n.d8};}),this.log.trace("score for each range: ",JSON.stringify(g,function(n,p){return p;}," ")));return l;};b.sPa=k;},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t,w,v,u,x){var y,z;q=f.sG.call(this,t,q,q,u,!0,{Rf:"",xy:"custom"},"1",{0:w},[{id:0,name:"custom"}],"xx",v || q,m.cq.ML,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=t;q.url=w;q.options=x;q.Mt=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.IPa=void 0;r=a(63);k=a(19);h=a(64);g=a(8);d=a(44);f=a(295);m=a(134);l=a(107);n=a(194);p=a(18);(0,r.LMa)(r.Mha,function(q){var w;function t(v){var u;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.vC.Rob){u=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var x,y,z;x=u.files[0];if(x){y=x.name;w.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.Gr.tla("nourl",y,{content:z.result});});}});u.click();}}w=(0,g.Ii)(q,"TimedTextCustomTrack");k.config.soa && (w.info("Loading url",{Url:k.config.soa}),q.Gr.tla(k.config.soa,"custom"));h.bf.addListener(h.ZD,t);q.addEventListener(p.ga.fh,function(){h.bf.removeListener(h.ZD,t);});});la(c,f.sG);c.CCb=function(q,t,w,v){var u;u="custom" + c.cPb++;return new c(u,q,t,w,-1,v);};c.prototype.uZa=function(){var q;q=this;return new Promise(function(t,w){var v,u;if(null === (v=q.options) || void 0 === v?0:v.content)t(q.options.content);else if(q.url){u={responseType:l.Rsa,url:q.url,track:q,Bc:void 0,ED:"tt-" + q.Af,Bt:"unknown"};q.j.Q9.download(u,function(x){x.da?t(x.content):(x.reason="downloadfailed",x.url=u.url,x.track=q,w(x));});}});};b.IPa=c;c.cPb=0;},function(r,b,a){var k,h,g,d,f,m;function c(l){var n,p;n=this;this.j=l;this.AVb=function(){var q;g.bf.removeListener(g.x9,n.r9a);q=n.Ns.co();q && q.parentNode && q.parentNode.removeChild(q);};this.Wwa=function(q){n.Ns.B1b(q.newValue);};this.cWb=function(q){n.Ns.I1b(q.newValue?q.newValue.w$:void 0);};this.r9a=function(){n.Ns.pQ();};this.Ns=new f.JPa(d.config.pBa,l.tc.value?l.tc.value.w$:void 0);p=l.vR;(0,h.sb)(.1 < p.width / p.height);this.Ns.r1b(p.width / p.height);l.xo.appendChild(this.Ns.co());l.Zv.addListener(this.Wwa);l.tc.addListener(this.cWb);l.addEventListener(m.ga.fh,this.AVb,k.KL);g.bf.addListener(g.x9,this.r9a);}Object.defineProperty(b,"__esModule",{value:!0});b.LPa=void 0;k=a(14);h=a(24);g=a(64);d=a(19);f=a(569);m=a(18);c.prototype.eAa=function(l){this.Ns.eAa(l);};c.prototype.jsa=function(){return this.Ns.jsa();};c.prototype.cAa=function(l){this.Ns.cAa(l);};c.prototype.hsa=function(){return this.Ns.hsa();};c.prototype.dAa=function(l){this.Ns.dAa(l);};c.prototype.isa=function(){return this.Ns.isa();};b.LPa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fab=void 0;b.fab=function(a){var c,k;c=!1;k=!1;return function(){if(c)k=!0;else for(k=!0;k;){k=!1;c=!0;a();c=!1;}};};},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x){this.j=x;this.h4b=!1;this.log=(0,d.Ii)(this.j,"MediaAppendManager");this.Yb=this.j.Yb;this.Y=this.Yb.Y;this.i1=this.gV=!1;this.audio={type:g.Vi.audio,px:[],Zl:[],XP:!1};this.video={type:g.Vi.video,px:[],Zl:[],XP:!1};x={};this.RK=(x[k.Rb.Uk.Nb]=this.video,x[k.Rb.Uk.cc]=this.audio,x);this.closed=!1;this.dB=h.config.dB;this.Haa=h.config.Haa;this.zJ=(0,h.uXa)(! !this.j.fb.ci).zJ;this.vVa=!0;this.uc=d.Aa.get("Base64EncoderSymbol");this.lqa=!1;this.qxa=[];(0,m.sb)(this.dB > this.Haa,"bad config");(0,m.sb)(this.dB > this.zJ,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;k=a(36);h=a(19);g=a(90);d=a(8);f=a(3);m=a(24);l=a(25);n=a(14);p=a(18);q=a(173);t=a(5);w=a(62);v=a(43);u=a(1298);c.prototype.I8=function(){var z,A;function x(B,D){return y(B,D.xaa);}function y(B,D){var C,F,G,E;G=! !D.response;E=D.response;if(D.Hc)return B + (E.byteLength || 0);D=(null !== (C=null === D || void 0 === D?void 0:D.vN) && void 0 !== C?C:0) - (null !== (F=null === D || void 0 === D?void 0:D.xN) && void 0 !== F?F:0);return (G?E.byteLength:D) + B;}z=this.RK[k.Rb.Uk.Nb];A=this.RK[k.Rb.Uk.cc];return {videoToAppend:z.Zl.reduce(y,0),videoInBuffer:z.px.reduce(x,0),audioToAppend:A.Zl.reduce(y,0),audioInBuffer:A.px.reduce(x,0)};};c.prototype.$Ub=function(){this.audio.kj && !this.audio.kj.bi() && (!1,this.audio.kj.MUa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.T1b=function(){this.audio.jAa=!0;this.video.jAa=!0;};c.prototype.Z1b=function(x){x === k.Rb.Uk.cc?this.gV=!0:x === k.Rb.Uk.Nb && (this.i1=!0);};c.prototype.bi=function(){var x,y;return !(null === (x=this.audio.kj) || void 0 === x || !x.bi()) || !(null === (y=this.video.kj) || void 0 === y || !y.bi());};c.prototype.Yca=function(x){var y,z;null === (y=this.audio.kj) || void 0 === y?void 0:y.Yca(x);null === (z=this.video.kj) || void 0 === z?void 0:z.Yca(x);};c.prototype.kwb=function(x){var y;x.mediaType === k.Rb.Uk.cc?this.gV=!1:x.mediaType === k.Rb.Uk.Nb && (this.i1=!1);y=this.RK[x.mediaType];y?y.Zl.push(x):(0,m.sb)(!1);};c.prototype.jwb=function(x,y,z){var A;A=this;y=this.YVa(x.mediaType,y,z);if(!this.lqa)if(x.mediaType === k.Rb.Ya.Nb)(this.sYb(x),this.lqa=!0,this.qxa.forEach(function(B){return A.Vla(B);}),this.qxa=[]);else {this.qxa.push(y);return;}this.Vla(y);};c.prototype.Vla=function(x){var y;y=this.RK[x.mediaType];y?y.Zl.push(x):(0,m.sb)(!1);};c.prototype.YVa=function(x,y,z){return {mediaType:x,jE:!1,response:y,Ji:function(){return "header";},get Hc() {return !this.jE;},profile:z.profile};};c.prototype.sYb=function(x){(0,m.sb)(! !x.Fdb,"startOfSegment properties need to be set before first header is appended");!this.lqa && h.config.yIb && this.j.TO() && !x.Fdb.H4a && (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.uc.decode(n.tDa),this.Vla(this.YVa(k.Rb.Uk.Nb,x,{profile:v.H.LF})));};c.prototype.X1b=function(x){var y;y=this.RK[x.type];if(y)try{y.kj=x;}catch(z){this.Pd(f.T.tha,{wa:(0,q.V8)(x.type),Sb:(0,l.Me)(z)});}};c.prototype.close=function(){this.Y=this.Yb=void 0;this.closed=!0;};c.prototype.Pd=function(x,y,z){this.closed || this.j.Pd(x,y,z);};c.prototype.Aoa=function(x){return this.mZa(this.audio,x,this.n7()) && this.mZa(this.video,x,this.n7());};c.prototype.n7=function(){return this.j.Eb.value === p.jb.cg?this.zJ:this.Haa;};c.prototype.U4b=function(){var x,y;x=this.video.Zl.filter(function(z){return !z.Hc;}).reduce(function(z,A){return z + A.Ds;},0);y=this.audio.Zl.filter(function(z){return !z.Hc;}).reduce(function(z,A){return z + A.Ds;},0);return Math.min(x,y);};c.prototype.mZa=function(x,y,z){var A;A=x.Boa;A=A && A.xaa;return !x.kj || 0 === x.Zl.length && (x.type === g.Vi.audio && this.gV || x.type === g.Vi.video && this.i1)?!0:A && A.ay - y >= z || !1;};c.prototype.sfb=function(x){this.h4b || (this.rfb(this.audio,x),this.rfb(this.video,x));this.closed || this.BWa();};c.prototype.BWa=function(){var x,y,z,A,B,D;A=!this.audio.kj || 0 !== this.audio.px.length;B=0 === this.video.Zl.length && this.i1;D=!this.video.kj || 0 !== this.video.px.length;!(!(0 === this.audio.Zl.length && this.gV && D || B && A) || (null === (x=this.audio.kj) || void 0 === x?0:x.bi()) || (null === (y=this.video.kj) || void 0 === y?0:y.bi()) || this.vpa) && this.Y.readyState > w.Ho.a3.HAVE_NOTHING && (this.vpa=!0,null === (z=this.Yb) || void 0 === z?void 0:z.endOfStream());};c.prototype.rfb=function(x,y){var z,A,B,D;if(!this.closed && x.kj){A=x.kj;B=x.px;!A.bi() && 0 < B.length && (x.Boa=B[B.length - 1]);if(x.jAa){if(A.bi())return;x.jAa=!1;D=null === (z=this.Yb) || void 0 === z?void 0:z.V1a().K$a(t.Oo);D && 0 < D && A.remove(0,D);}for(z=x.Zl[0];z && z.response && (z.Hc || z.yB - y <= this.dB);){if((this.vpa=!1,this.F5b(z)))(x.Zl.shift(),z=x.Zl[0]);else break;}!A.bi() && 0 < B.length && (x.Boa=B[B.length - 1]);}};c.prototype.F5b=function(x){var y,z,A;!1;(0,m.sb)(x && ! !x.response);y=x.response;z=x.mediaType;A=this.RK[z];if(!this.closed && A.kj && !A.kj.bi()){try{x.Hc && x.profile && A.kj.Yyb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});A.kj.MUa(y,x);x.Hc || A.px.push(this.ECb(x));}catch(B){"QuotaExceededError" === B.name?(this.j.p7=this.j.p7?this.j.p7 + 1:1,this.vVa=!1,A.XP=!0):(this.log.error("Exception while appending media",x,B),this.Pd("CodecSwitchingError" === B.name?f.T.uLa:f.T.Knb,(0,q.V8)(z)));return;}return !0;}};c.prototype.wCb=function(x){var y;if(u.fPa[x.Qa])return u.fPa[x.Qa];y=this.j.qNb(x.ue);y || (this.log.warn("Could not find CDN",{cdnId:x.ue}),y={id:x.ue,m6a:x.location});return y;};c.prototype.hYa=function(x){var y,z;y=x.Qa;if(u.gPa[y])return u.gPa[y];x.mediaType === k.Rb.Uk.cc?z=this.j.c3a(y):x.mediaType === k.Rb.Uk.Nb && (z=this.j.p3a(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.ECb=function(x){var y;y=this.hYa(x);return {xaa:x,stream:y,Cm:{startTime:Math.floor(x.yB),endTime:Math.floor(x.ay)},Bc:this.wCb(x)};};c.prototype.nna=function(x){this.FWa(x,k.Rb.Uk.cc);this.FWa(x,k.Rb.Uk.Nb);};c.prototype.FWa=function(x,y){var z,A,B,D,C,F,G,E,I;z=this;A=x;this.vVa && (A-=h.config.F_);B=this.RK[y];D=B.px;G=!1;D.some(function(N,L){var H;H=N.xaa;if(x < H.yB)return ((0,m.sb)(!1,"decoder content does not contain media time"),!0);A >= H.ay && (C=L);if(x < H.ay)return (F=L,L=y === k.Rb.Uk.cc?z.j.Hf:z.j.se,N !== L.value && (L.set(N),G=!0),!0);});if((B.XP || G) && void 0 !== C && !this.vpa){if(C + 1 === F){if(0 === C)return;C--;}E=D[C].xaa.ay - 1;if(0 < E){I=B.kj;I && !I.bi()?(I.remove(0,E / n.Vt),B.XP=!1,D.splice(0,C + 1)):(B.XP=!0,!1);}}};c.prototype.xbb=function(){!1;[this.audio,this.video].forEach(function(x){x.px=[];x.Boa=void 0;x.Zl=[];});this.i1=this.gV=!1;this.j.fireEvent(p.ga.taa);};c.prototype.osa=function(){return [this.audio,this.video].filter(function(x){return x.kj;});};c.prototype.FJb=function(){var x,y;if(this.bi())(0,m.sb)(!1,"should not be busy while checking buffer ranges");else {x=this.osa().map(function(z){var A,B,D,C,F;C=z.Zl.filter(function(G){return G.jE;});F=z.kj.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=C[0]) || void 0 === A?void 0:A.yB;A=null !== (D=null === (B=C[C.length - 1]) || void 0 === B?void 0:B.ay) && void 0 !== D?D:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ja(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ja(x.map(function(z){return z.end;})));if(x > y)return {start:(0,t.Sc)(y),end:(0,t.Sc)(x)};}}};c.prototype.skip=function(x){(0,m.sb)(!this.bi(),"should not be busy while skipping");this.osa().forEach(function(y){y.XP=!0;});this.nna(x);this.osa().forEach(function(y){0 < y.px.length || (y.Zl=y.Zl.filter(function(z){return z.Hc || z.ay > x?!0:!1;}));});};b.TJa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fPa={"-1":{id:-1,name:"hardcoded",bc:1,type:"hardcoded",m6a:"-1",OPb:!1,location:{id:"-1",bc:1,level:100,weight:1}}};b.gPa={"-1":{track:{type:"padding",trackId:"padding",ri:"padding",Rf:"padding",xy:"padding",Af:"padding",TE:"padding",Ex:"padding",ph:{}},type:"padding",wc:"-1",bitrate:1,$a:void 0,Pf:"unknown",size:1,Gu:{},ph:{},Sl:"",framerate:0,fj:!1,lj:[],height:1,width:1}};},function(r,b){function a(k,h,g){var d,f,m,l;d=[];k.forEach(function(n){-1 == d.indexOf(n.Pf) && d.push(n.Pf);});f=null;m=null;h.forEach(function(n){null === f?m=f=n.bitrate:m < n.bitrate?m=n.bitrate:f > n.bitrate && (f=n.bitrate);});l=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && m && (p.ranges.push({min:f,max:m}),g && (p.disallowed=g.filter(function(q){return q.stream.Pf === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.D7};})),l.push(p));});return l;}function c(k,h){var g;g=void 0;return {OD:k.filter(function(d){var f;f=h(d);f && (g=g || [],g.push({stream:d,D7:f}));return !f;}),eFb:g};}Object.defineProperty(b,"__esModule",{value:!0});b.dFb=b.Au=b.tDb=b.S2a=void 0;b.S2a=function(k,h){h=c(k,h);return a(k,h.OD,h.eFb);};b.tDb=a;b.Au=c;b.dFb=function(k){if(k.fj && k.lower && 1080 < k.height)return ["Prefetch UHD"];};},function(r,b,a){var k,h;function c(g,d){g=k.oc.call(this,g) || this;g.wva=d;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;k=a(79);h=a(92);la(c,k.oc);c.prototype.set=function(g){k.oc.prototype.set.call(this,(0,h.BC)(g,0,this.wva));};b.UMa=c;},function(r,b,a){var h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y){var z;z=this;this.Ni=t;this.config=v;this.nb=u;this.debug=x;this.sH={};this.nZa=!1;this.nV={};this.yta=0;this.U8=function(A){var B,D,C;B=A.stream;if(B){A=B.wc;D=B.bitrate;C=B.$a;}else A=A.track.wc;return {key:A + "$" + D + "$" + C,wc:A,bitrate:D,$a:C};};this.h1a=function(A){var B,D,C;D=z.U8(A);C=null === (B=A.Bc) || void 0 === B?void 0:B.id;A=A.track.Rf;return Object.assign({},D,{key:D.key + "$" + C + "$" + A,jx:C,Rf:A});};this.DJb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.wc;B=null === B || void 0 === B?void 0:B.bitrate;return {key:A + "$" + B,wc:null !== A && void 0 !== A?A:"",SY:B};};this.QMb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.wc;B=null === B || void 0 === B?void 0:B.$a;return {key:A + "$" + B,wc:null !== A && void 0 !== A?A:"",SY:B};};this.log=w.kb("PlayTimeTracker");this.Oba=y(t);this.Xx=y(t);this.Fxa=y(t);this.startTime=this.Ni.mediaTime.value;this.aaa=this.config().Uub;this.cL();this.sH.abrdel=0;this.aaa.forEach(function(A){A="abrdel" + A;z.nV[A]=0;z.sH[A]=0;});}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;r=a(2);h=a(0);g=a(7);d=a(11);f=a(75);a(5);m=a(29);l=a(112);n=a(14);p=a(25);a=a(576);k.prototype.encode=function(t){return {downloadableId:t.wc,correlationId:t.Rf,bitrate:t.bitrate,vmaf:t.$a,duration:t.duration,metric:t.SY,cdnId:t.jx};};k.prototype.decode=function(t){return {wc:t.downloadableId,Rf:t.correlationId,bitrate:t.bitrate,$a:t.vmaf,duration:t.duration,SY:t.metric,jx:t.cdnId};};c.prototype.Ax=function(t){t=void 0 === t?"content":t;this.wK(this.Ni.mediaTime.value);return Math.floor(this.Xx.Ax(t));};c.prototype.HX=function(t){t=void 0 === t?"content":t;this.wK(this.Ni.mediaTime.value);t=this.Xx.HX(t);this.debug.assert(t === Math.floor(t),"Value of totalContentPlayTime is not an integer.");return Math.floor(t);};c.prototype.sJb=function(){this.wK(this.Ni.mediaTime.value);return {audio:this.pX(this.Oba,this.h1a),video:this.pX(this.Xx,this.h1a)};};c.prototype.GLb=function(){var t,w,v;t=this.Ax("content");w=this.Ax("ads");v=this.Ax("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.HX("content"),audio:this.pX(this.Oba,this.U8),video:this.pX(this.Xx,this.U8),timedtext:this.pX(this.Fxa,this.U8)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.Oqa=function(){var t,w;this.wK(this.Ni.mediaTime.value);t=this.Xx.Iqa(this.DJb);try{w=this.G0a(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.sH.abrdel=Math.round(w);return this.sH.abrdel;};c.prototype.H0a=function(){var t,w;this.wK(this.Ni.mediaTime.value);t=this.Xx.Iqa(this.QMb);try{w=this.G0a(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.F0a=function(){var t,w;t=this;if(!this.nZa){w=this.Ax();this.aaa.forEach(function(v){var u,x,y;if(0 === t.nV["abrdel" + v] && w > v * n.Vt){u=0;x=0;y=0;t.Xx.some(function(z){u+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;y=z.stream.bitrate;return x > v * n.Vt;});u && (t.nV["abrdel" + v]=Math.round((u - y * (x - v * n.Vt)) / (v * n.Vt)));}});0 !== this.nV["abrdel" + this.aaa[this.aaa.length - 1]] && (this.nZa=!0);(0,p.Rg)(this.nV,function(v,u){t.sH[v]=0 === u?t.sH.abrdel:u;});}return this.sH;};c.prototype.nvb=function(t){this.yta+=t;};c.prototype.J9=function(){return this.Xx.J9();};c.prototype.cL=function(){var t;t=this;this.Ni.Hf.addListener(function(w){t.LN=t.xWa(t.LN,t.Oba,w.newValue);});this.Ni.se.addListener(function(w){t.NN=t.xWa(t.NN,t.Xx,w.newValue);});this.Ni.playbackRate.addListener(function(w){t.wK(t.Ni.mediaTime.value,w.oldValue);});this.Ni.$i.addListener(this.rVb.bind(this));};c.prototype.vwa=function(t,w){this.wK(t);this.startTime=w;this.NN=this.LN=void 0;this.MN && (this.MN.startTime=this.startTime);!1;};c.prototype.rVb=function(t){this.Fxa.eh(this.MN,this.Ni.mediaTime.value);this.MN=(t=t.newValue)?{aQ:this.QO(t.xy),track:t,startTime:this.Ni.mediaTime.value,endTime:f.Qy}:void 0;};c.prototype.QO=function(t){t=t.toLowerCase();return ["padding"].includes(t)?"other":["ad"].includes(t)?"ads":"content";};c.prototype.wK=function(t,w){w=void 0 === w?this.Ni.playbackRate.value:w;t && this.LN && this.NN && (t=Math.min(t,this.LN.endTime,this.NN.endTime),this.Oba.eh(this.LN,t,w),this.LN.startTime=t,this.Xx.eh(this.NN,t,w),this.NN.startTime=t,this.MN && (this.Fxa.eh(this.MN,t,w),this.MN.startTime=t),this.startTime=t,!1);};c.prototype.xWa=function(t,w,v){t && w.eh(t,Math.min(t.endTime,this.Ni.mediaTime.value));if(v && v.stream)return (t=v.Cm,w=v.stream,v=v.Bc,{aQ:this.QO(w.track.xy),Bc:v,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime});};c.prototype.pX=function(t,w){return t.Iqa(w,"content").map(function(v){return new k().encode(v);});};c.prototype.G0a=function(t){var w,v,u;w=this;v=0;t.forEach(function(x){if(w.nb.Qg(x.duration) && w.nb.Qg(x.SY))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;u=0;t.forEach(function(x){u+=x.SY * x.duration / v;});return u;};q=c;q=r.__decorate([(0,h.U)(),r.__param(1,(0,h.l)(g.yb)),r.__param(2,(0,h.l)(d.Wc)),r.__param(3,(0,h.l)(m.Eg)),r.__param(4,(0,h.l)(l.Fy)),r.__param(5,(0,h.l)(a.Tha))],q);b.GMa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FMa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var k,h;function c(g,d,f,m,l,n,p,q,t,w,v,u,x){this.index=g;this.K=d;this.fa=f;this.fb=m;this.ea=l;this.gj=n;this.Tua=p;this.GAb=t;this.R7a=v;this.TO=void 0 === u?function(){return !1;}:u;this.Vh=x;this.Ac=new k.oc(null);this.Bg=new k.oc(null);this.tc=new k.oc(null);this.$i=new k.oc(null);this.Zv=new k.oc(void 0);this.ef=new k.oc(null);this.Ah=new k.oc(null);this.Hf=new k.oc(null);this.se=new k.oc(null);this.Bc=[new k.oc(null),new k.oc(null)];this.mediaTime=new k.oc(void 0);this.playbackRate=new k.oc(1);this.xq=new k.oc(null);this.yH=this.xH="notcached";this.B7=this.background=!1;q && (this.ef.set(q.ef.value),this.Ah.set(q.Ah.value));this.$l=w(this);this.Xm=this.R7a.YZb(this.ea,this.gj);}Object.defineProperty(b,"__esModule",{value:!0});b.VMa=void 0;k=a(79);h=a(5);c.prototype.Be=function(g){this.Xm.uq(g);};c.prototype.LA=function(g){var d;d=this;Object.entries(g).forEach(function(f){var m;m=pa(f);f=m.next().value;m=m.next().value;d.Xm.uq(f,(0,h.Sc)(m - d.gj.ca(h.la)));});};c.prototype.iba=function(){this.R7a.q_b(this.ea);};Ya.Object.defineProperties(c.prototype,{je:{configurable:!0,enumerable:!0,get:function(){return this.fb.je;}},cea:{configurable:!0,enumerable:!0,get:function(){return this.fb.cea;}},Sl:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.Sl;}},aj:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.aj) && void 0 !== g?g:[];}},Vp:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.Vp) && void 0 !== g?g:[];}},aC:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.aC) && void 0 !== g?g:[];}},oi:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.oi) && void 0 !== g?g:[];}},Mi:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.Mi;}},UI:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.UI) && void 0 !== g?g:!1;}},Lv:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.Lv) && void 0 !== g?g:[];}},Yh:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.Yh) && void 0 !== g?g:[];}},bA:{configurable:!0,enumerable:!0,get:function(){return this.mja && 0 < this.mja.ca(h.la)?this.mja:(0,h.Sc)(this.ia?this.ia.Ib.duration:0);},set:function(g){this.mja=g;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.fb.Yj || 0;}},k7:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.RV?this.RV:void 0 === this.mediaTime.value?null:this.GAb(this.mediaTime.value,this.fa);}},Rf:{configurable:!0,enumerable:!0,get:function(){var g,d;return null === (d=null === (g=this.ia) || void 0 === g?void 0:g.Ib.DV) || void 0 === d?void 0:d.vo;}},oK:{configurable:!0,enumerable:!0,get:function(){var g,d;return null === (d=null === (g=this.ia) || void 0 === g?void 0:g.Ib.DV) || void 0 === d?void 0:d.oK;}},ud:{configurable:!0,enumerable:!0,get:function(){return this.Xm.ud;}}});b.VMa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Pa="TrickPlayParserSymbol";},function(r,b,a){var k,h,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;r=a(2);h=a(169);a=a(0);c.prototype.parse=function(d){var f,m;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);m=new h.dS(f);d=this.HWb(m);f=this.IWb(m,f,d);return {header:d,images:f};};c.prototype.HWb=function(d){var f,m,l,n;if(d.Nra() < this.W_b())throw Error("array buffer too short");k.qJa.forEach(function(p){if(p != d.BB())throw Error("BIF has invalid magic.");});f=d.kQ();if(f > k.VERSION)throw Error("BIF version in unsupported");m=d.kQ();if(0 == m)throw Error("BIF has no frames.");l=d.kQ();n=d.ji(k.UNa);return {version:f,fVb:m,Web:l,vbb:n};};c.prototype.IWb=function(d,f,m){var p,q;for(var l=[],n=0;n <= m.fVb;n++){p={timestamp:d.kQ(),offset:d.kQ()};void 0 != q && l.push(f.subarray(q.offset,p.offset));q=p;}return l;};c.prototype.W_b=function(){return k.qJa.length + 4 + 4 + 4 + k.UNa;};g=k=c;g.qJa=[137,66,73,70,13,10,26,10];g.VERSION=0;g.UNa=44;g=k=r.__decorate([(0,a.U)()],g);b.ZPa=g;},function(r,b,a){var k,h,g,d;function c(f,m,l){this.config=f;this.j=m;this.Vf=l;this.IZ=void 0;this.Dba=!1;this.tua=0;this.log=this.Vf.kb();}Object.defineProperty(b,"__esModule",{value:!0});b.DOa=void 0;k=a(18);h=a(5);g=a(92);d=a(13);c.prototype.pLb=function(f,m,l,n,p){var q,t,w,v;l=void 0 === l?this.j.fa:l;n=void 0 === n?!1:n;q=m === k.Ye.SL;t=this.wyb(q?f:this.Fzb(f,l),n,l);n=this.j.Ia;q?(f=t,t=n.zu(t)):f=n.IN(l,t);m === k.Ye.Ny && (this.j.IVa=t);p=this.bj(f,m,p);w=(q=q || p)?f:t;if(this.j.Dv){v=this.config().zJ;this.j.f3a(w,v) || m !== k.Ye.pG || (w=this.j.Dv.ca(h.la) - v - 1E3,q?(f=w,t=n.zu(w)):(f=n.IN(l,w),t=w));}return {Zaa:w,uk:t,CXb:f,bj:p};};c.prototype.wyb=function(f,m,l){this.YPb() || m?f=Math.round(f):(m=this.j.Ia.cna(f,l),f=(0,d.Ga)(m)?m:Math.round(f));this.j.fb.ci && (f=this.DIb(f));this.config().zza && (f+=this.config().zza);return f;};c.prototype.bj=function(f,m,l){if(this.config().cFb || m === k.Ye.Ny || m === k.Ye.Y3 || m === k.Ye.n2 || !l || f < l.start.ca(h.la) || f >= l.end.ca(h.la))return !1;m=this.j.Ia;return (null === m || void 0 === m?void 0:m.Bi) && m.bj(f) || !1;};c.prototype.YPb=function(){return this.j.fb.ci?!0:"boolean" === typeof this.j.fb.SZ?this.j.fb.SZ:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().SZ && this.config().YXb:this.config().SZ;};c.prototype.Fzb=function(f,m){var l;m=this.j.Bk(m);l=m.bA;m=(m.ZSb || l).ca(h.la) - this.config().U7b;return (0,g.BC)(f,0,m);};c.prototype.DIb=function(f){var m,l,n;m=this.j.iX();if(Object.values(m).find(function(p){var q;q=p.va;q=f < (null !== q && void 0 !== q?q:Infinity);return p.sa <= f && q;}))return (!1,f);n=f;Object.entries(m).forEach(function(p){var q;p=pa(p);p.next();p=p.next().value.sa;q=p - f;0 < q && (void 0 === l || q < l) && (l=q,n=p);});!1;return n;};Ya.Object.defineProperties(c.prototype,{Pta:{configurable:!0,enumerable:!0,get:function(){return this.Dba || ! !this.IZ;}}});b.DOa=c;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u;function c(x,y,z,A,B,D){var C;C=this;this.j=x;this.vk=y;this.V0=z;this.ti=A;this.d0=B;this.Vn=D;this.uYa={};this.update=function(){var F;if(C.Rp.selectionStart == C.Rp.selectionEnd){F="";C.rX().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(E){var I;I=pa(E);E=I.next().value;I=I.next().value;F+=E + ": " + I + "\n";});});C.Rp.style.fontSize=(0,d.BC)((0,m.DL)(C.element.clientHeight / 60),8,18) + "px";C.Rp.value=F;}};this.EVb=function(){var F,G;if(C.j.Wf){G=C.j.Wf.pI();G && (C.poa=G - (null !== (F=C.dfb) && void 0 !== F?F:0),C.dfb=G,C.PP());}};this.PP=function(){C.V0.cm(C.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.vC.ijb || F.keyCode == p.vC.Q) && C.toggle();};this.s$a=[x.mediaTime,x.Bc[k.Rb.Ya.cc],x.Bc[k.Rb.Ya.Nb],x.Hf,x.se,x.Ah,x.ef,x.$i,x.state,x.ss,x.Eb,x.volume,x.muted];this.element=this.ti.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Rp=this.ti.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Rp);this.controls=this.ti.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.ti.createElement("button",void 0,"X");y.addEventListener("click",function(){return C.Bx();},!1);this.controls.appendChild(y);g.bf.addListener(g.ZD,this.onkeydown);x.addEventListener(n.ga.fh,function(){g.bf.removeListener(g.ZD,C.onkeydown);C.Bx();});}Object.defineProperty(b,"__esModule",{value:!0});b.RMa=void 0;k=a(36);h=a(63);g=a(64);d=a(92);f=a(313);m=a(12);l=a(13);n=a(18);p=a(194);q=a(5);r={};t=(r[n.dc.IL]="Not Loaded",r[n.dc.LOADING]="Loading",r[n.dc.we]="Normal",r[n.dc.CLOSING]="Closing",r[n.dc.CLOSED]="Closed",r);r={};w=(r[n.Kf.we]="Normal",r[n.Kf.yd]="Pre-buffering",r[n.Kf.tOa]="Network stalled",r);r={};v=(r[n.jb.cg]="Waiting for decoder",r[n.jb.Rc]="Playing",r[n.jb.xh]="Paused",r[n.jb.Or]="Media ended",r);u=[n.ga.taa];c.prototype.y1b=function(x){this.uYa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.cY=nb.setInterval(this.EVb,1E3),document.body.appendChild(this.element),this.s$a.forEach(function(y){y.addListener(x.PP);}),u.forEach(function(y){x.j.addEventListener(y,x.PP);}),this.visible=!0,this.Vn.r0().then(function(y){x.Csa=y;x.PP();}));this.update();};c.prototype.Bx=function(){var x;x=this;this.visible && (clearInterval(this.cY),this.dfb=this.poa=void 0,document.body.removeChild(this.element),this.s$a.forEach(function(y){y.removeListener(x.PP);}),u.forEach(function(y){x.j.removeEventListener(y,x.PP);}),this.V0.cm(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Bx():this.show();};c.prototype.rX=function(){var x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya,ra,V,K,T,fa,ia,Ba,Sa,La,Za,Wa,Va,cb,wb,da,ua,wa,Oa,Xa;H=[];Q=this.vk();H.push({Version:"6.0036.026.911",Esn:Q?Q.ll:"UNKNOWN",PBCID:this.j.Rf,UserAgent:m.fG});try{O={MovieId:this.j.K,TrackingId:this.j.Yj,Xid:this.j.ea + " (" + h.No.map(function(lb){return lb.ea;}).join(", ") + ")",Position:(0,d.qj)(this.j.mediaTime.value),Duration:(0,d.qj)(this.j.bA.ca(q.la)),PlayerDuration:(0,d.qj)(this.j.Dv.ca(q.la)),Volume:(0,m.wn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.fb.ci || this.j.fb.y$)(O["Segment Position"]=(0,d.qj)(this.j.UD()),O.Segment=this.j.Hra());H.push(O);}catch(lb){}try{H.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.ss.value],"Rendering state":v[this.j.Eb.value]});}catch(lb){}try{J=this.j.iCa() + this.j.hma();M=this.j.Hf.value;P=null === M || void 0 === M?void 0:M.stream;R=this.j.se.value;S=null === R || void 0 === R?void 0:R.stream;U=null !== (x=null === P || void 0 === P?void 0:P.bitrate) && void 0 !== x?x:"?";ba=S?S.bitrate + " (" + S.width + "x" + S.height + ")":"?";na=null !== (y=null === S || void 0 === S?void 0:S.$a) && void 0 !== y?y:"?";va=null !== (A=null === (z=this.j.ef.value) || void 0 === z?void 0:z.$a) && void 0 !== A?A:"?";ya=null !== (D=null === (B=this.j.Ah.value) || void 0 === B?void 0:B.bitrate) && void 0 !== D?D:"?";ra=null !== (F=null === (C=this.j.ef.value) || void 0 === C?void 0:C.bitrate) && void 0 !== F?F:"?";V=this.j.Bc[k.Rb.Ya.Nb].value;K=this.j.Bc[k.Rb.Ya.cc].value;H.push({"Playing bitrate (a/v)":U + " / " + ba,"Playing/Buffering vmaf":na + "/" + va,"Buffering bitrate (a/v)":ya + " / " + ra,"Buffer size in Bytes (a/v)":this.j.hma() + " / " + this.j.iCa(),"Buffer size in Bytes":"" + J,"Buffer size in Seconds (a/v)":(0,d.qj)(this.j.aV()) + " / " + (0,d.qj)(this.j.b1()),"Current CDN (a/v)":(K?K.name + ", Id: " + K.id:"?") + " / " + (V?V.name + ", Id: " + V.id:"?")});}catch(lb){}try{T=this.j.Hf.value;fa=this.j.se.value;if(T && T.stream && fa && fa.stream){ia=T.stream;Ba=ia.track;Sa=fa.stream;La=this.j.$i.value;Za=this.d0.f7(this.j.Bg.value?this.j.Bg.value.streams:[]);Wa=this.d0.a7(Ba.streams);Va=Sa.Pf;cb=(/hevc/).test(Va)?"hevc":(/vp9/).test(Va)?"vp9":(/h264hpl/).test(Va)?"avchigh":(/av1/).test(Va)?"av1":"avc";(/hdr/).test(Va) && (cb+=", hdr");(/dv/).test(Va) && (cb+=", dv");(/prk/).test(Va) && (cb+=", prk");wb=ia.Pf;da=(/xheaac/).test(wb)?"xhe-aac":(/heaac/).test(wb)?"he-aac":(/ddplus/).test(wb)?"ddplus":"unknown";(/atmos/).test(wb) && (da+=", atmos");H.push({"Audio Track":Ba.Af + ", Id: " + Ba.trackId + ", Channels: " + Ba.channels + ", Codec: " + Wa + " (" + da + ")","Video Track":"Codec: " + Za + " (" + cb + ")","Timed Text Track":La?La.Af + ", Profile: " + La.profile + ", Id: " + La.trackId:"none","Audio Tags":null === (G=T.stream) || void 0 === G?void 0:G.lj.toString(),"Video Tags":null === (E=fa.stream) || void 0 === E?void 0:E.lj.toString()});}}catch(lb){}try{ua=this.j.Wf;wa=this.j.ef.value?this.j.ef.value.framerate:0;Oa=a(577).G6a;H.push({Framerate:wa.toFixed(3),"Current Dropped Frames":(0,l.Ga)(this.poa)?this.poa:"","Total Frames":ua.wA(),"Total Dropped Frames":ua.pI(),"Total Corrupted Frames":ua.lX(),"Main Thread stall/sec":Oa?Oa.FKb().join(" "):"DISABLED",KeySystem:null === (I=this.j.Le) || void 0 === I?void 0:I.tX(),KeyStatus:null === (L=null === (N=this.j.Le) || void 0 === N?void 0:N.F1a) || void 0 === L?void 0:L.call(N),VideoDiag:(0,f.fva)(this.j.t9()),"HDR support":this.Csa?this.Csa.result + " (" + this.Csa.reason + ")":"unknown"});}catch(lb){}try{H.push({Throughput:this.j.Ua + " kbps"});}catch(lb){}Xa=void 0;try{Object.entries(this.uYa).forEach(function(lb){var Bb;Bb=pa(lb);lb=Bb.next().value;Bb=Bb.next().value;Xa=Xa || ({});Xa[lb]=JSON.stringify(Bb);});Xa && H.push(Xa);}catch(lb){}return H;};b.RMa=c;},function(r,b,a){var h,g,d,f;function c(m,l,n,p){this.ea=m;this.S_b=l;this.Ca=n;this.rg=p;this.ud={};}function k(m,l){this.Vf=m;this.rg=l;this.Nc={};this.Ca=m.kb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Wnb=b.TMa=void 0;r=a(2);h=a(0);g=a(7);d=a(20);f=a(5);k.prototype.YZb=function(m,l){this.Nc[m] && this.Ca.warn("registerPlayback: xid " + m + " already registered, overriding");l=(l?l:this.rg.Xb()).ca(f.la);this.Ca.trace("registerPlayback: xid " + m + " at " + l);this.Nc[m]=new c(m,l,this.Ca,this.rg);return this.Nc[m];};k.prototype.ILb=function(m){this.Nc[m] || this.Ca.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Nc[m];};k.prototype.q_b=function(m){this.Ca.trace("removePlayback: xid " + m);delete this.Nc[m];};a=k;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.yb)),r.__param(1,(0,h.l)(d.vd))],a);b.TMa=a;c.prototype.uq=function(m,l){l=l?l.ca(f.la):this.rg.Xb().ca(f.la) - this.S_b;this.Ca.trace("addMilestone: xid " + this.ea + " " + m + " at " + l);this.ud[m]=l;};b.Wnb=c;},function(r,b,a){var k,h,g,d;function c(f){this.Ea=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hOa=void 0;r=a(2);k=a(18);h=a(0);g=a(20);d=a(5);c.prototype.Lk=function(f){f.cause !== k.Ye.Ny && (this.trace.unshift({time:this.Ea.Xb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.J2a=function(){var f,m;f=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.Reb(m.time),lastRepositionCause:this.R0a(m.event.cause),repositionTrace:this.trace.map(function(l){return {timeSince:f.Reb(l.time),cause:f.R0a(l.event.cause),newMediaTime:l.event.Zaa,oldMediaTime:l.event.Iwa,contentPts:l.event.uk,skip:l.event.skip};})};};c.prototype.Reb=function(f){return this.Ea.Xb().Ha(f).ca(d.la);};c.prototype.R0a=function(f){switch(f){case k.Ye.Ny:return "initial";case k.Ye.pG:return "seek";case k.Ye.SL:return "segment_changed";case k.Ye.Y3:return "track_changed";case k.Ye.n2:return "force_rebuffer";}};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.vd))],a);b.hOa=a;},function(r,b,a){var k,h,g;function c(d,f,m){this.Ni=d;this.nb=m;this.P=[];this.log=f.kb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ZMa=void 0;k=a(2);r=a(0);h=a(29);g=a(7);a(5);c.prototype.some=function(d){return this.P.some(d);};c.prototype.J9=function(){return ! !(this.P[0] && this.P[0].stream && this.nb.Qg(this.P[0].stream.$a));};c.prototype.Ax=function(d){return this.P.filter(function(f){return f.aQ === d;}).reduce(function(f,m){return f + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.HX=function(d){return this.P.filter(function(f){return f.aQ === d;}).reduce(function(f,m){return f + m.endTime - m.startTime;},0);};c.prototype.Iqa=function(d,f){var m,l;m=this;l={};return this.P.filter(function(n){return !f || n.aQ === f;}).reduce(function(n,p){var q,t,w;q=d.bind(m,p)();t=q.key;q=k.__rest(q,["key"]);p=p.endTime - p.startTime;w=l[t];w?w.duration+=p:(w=q,w.duration=p,n.push(w),l[t]=w);return n;},[]);};c.prototype.eh=function(d,f,m){var l;m=void 0 === m?this.Ni.playbackRate.value:m;l=this.P;d && f && f >= d.startTime && (d={aQ:d.aQ,Bc:d.Bc,track:d.track,stream:d.stream,startTime:d.startTime,endTime:f,rate:m},(f=l[l.length - 1]) && f.track === d.track && f.stream === d.stream && f.Bc === d.Bc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:l.push(d),!1);};a=c;a=k.__decorate([k.__param(1,(0,r.l)(g.yb)),k.__param(2,(0,r.l)(h.Eg))],a);b.ZMa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x;function c(y,z,A){var B;B=this;this.ob=y;this.j=z;this.debug=A;this.gs=this.Bi=this.NC=!1;this.M$=this.hs=this.En=void 0;this.$e=function(){var D,C,F,G,E,I;B.debug.assert(B.na,"has access to asePlaygraph");B.debug.assert(B.jd,"has access to internalLogger");B.debug.assert(B.tv,"has access to mediaBufferGetLogFields");E=B.hp;I=null === (C=null === (D=B.$b.get()) || void 0 === D?void 0:D.Ua) || void 0 === C?void 0:C.qa;D={type:"logdata",target:"startplay",fields:{hasasereport:B.j.bO,hashindsight:!1,buffCompleteReason:E.reason,actualbw:I,initSelReason:null !== (F=E.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:E.vBufferLevelMs,bcABufferLevelMs:E.aBufferLevelMs}};(0,m.gma)({s_a:D,Ej:B.Ej,loadTime:B.loadTime});B.na.P0("startplay",g.ce.Pp);null !== (G=B.Fa) && void 0 !== G && G.sf?(B.jd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:E},B.tv()),B.j.hp=E,B.j.ss.set(l.Kf.we),B.tIb || (B.tIb=!0,B.j.Be("pb")),B.Qe.value !== k.ta.Yr && B.Qe.value !== k.ta.rj && B.play()):B.jd.error("Shim received buffering complete but player has no position (player " + (B.Fa?"":"un") + "defined, state " + B.j.state + ")");};this.iV=function(){var D,C;B.debug.assert(B.jd,"has access to internalLogger");!1;B.En=void 0;B.j.paused.value && B.DJ && (B.DJ=!1,B.j.paused.set(!1,{qwa:!0}));null === (D=B.j.Wf) || void 0 === D?void 0:D.jAb();null === (C=B.oZ) || void 0 === C?void 0:C.call(B);B.oZ=void 0;};this.events=new x();this.nj=new u.Nia(this.qma.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;k=a(36);h=a(17);g=a(307);d=a(60);f=a(3);m=a(1312);l=a(18);n=a(19);p=a(13);q=a(5);t=a(1313);w=a(92);v=a(79);u=a(544);a(190);x=a(116).EventEmitter;c.prototype.gd=function(){var y;!1;this.gs=!1;this.$b.KQ(null);this.debug.assert(this.Ri,"has access to streamingEngine");this.na && this.Ri.Ov(this.na);this.Fa && this.Ri.nQ(this.Fa);this.Ri.Lya(this.nj.bo(this.ob.ka.N));this.nj.clear();null === (y=this.Hj) || void 0 === y?void 0:y.Gq();};c.prototype.i2b=function(y){var z,A,B,D,C,F,G,E,I,N,L,H,Q;z=y.config;A=y.su;B=y.jd;D=y.ve;C=y.tv;F=y.Aj;G=y.V_;y=y.kK;this.jd=B;this.log=B.d7("AseIntegrationImpl");!1;this.tv=C;this.V_=G;this.kK=y;C=this.j.ka;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Ri,"has access to streamingEngine");this.debug.assert(C.ia,"has access to manifest");this.Ri=A.Ri;A.pf.set(a(185)(z),!0,F("ASE"));A.pf.set({maxNumberTitlesScheduled:null !== (I=null === (E=z.UXb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== I?I:1},!0,B);z.QAb && 3E5 > C.ia.Ib.duration?A.pf.AZ({expandDownloadTime:!1},!0,B):A.pf.AZ({expandDownloadTime:A.pf.g$a().expandDownloadTime},!0,B);z=C.background || z.SXb && "postplay" === C.je?"historical":A.pf.g$a().initBitrateSelectorAlgorithm;A.pf.AZ({initBitrateSelectorAlgorithm:z},!0,B);z=null === (Q=null === (H=null === (L=null === (N=C.Bg) || void 0 === N?void 0:N.value) || void 0 === L?void 0:L.streams) || void 0 === H?void 0:H[0]) || void 0 === Q?void 0:Q.Pf;A.pf.AZ((0,n.tXa)(! !C.fb.ci,! !C.fb.y$,z),!0,B);B=D.mJ({},(0,n.Una)(C.je));this.pf=A.pf.Bq(B);k.platform.events.emit("networkchange",C.Yc.q1b);this.NC=!0;};c.prototype.e$=function(y){var z,A;this.debug.assert(this.Ri,"has access to streamingEngine");z=this.j.Bk(y.fa);this.debug.assert(z.Yc,"has access to playback parsedManifest");!1;A=y.flags;this.$b.reset();this.Cd=new Set([k.Rb.Ya.cc,k.Rb.Ya.Nb]);(A.vF || A.dV) && this.Cd.delete(A.vF?k.Rb.Ya.cc:k.Rb.Ya.Nb);this.kR=[z.Yc.fEb,z.Yc.uEb];this.XV(y.fa,y.ox);this.VOb(y);this.goa();};c.prototype.ry=function(y){var z;!1;null === (z=this.na) || void 0 === z?void 0:z.ry(y);};c.prototype.Bxb=function(y){var z,A,B,D;z=this;A=y.loadTime;B=y.Ej;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;this.Ej=B;this.loadTime=A;y=this.na.events;D=this.Fa.events;y.addListener("error",function(C){!1;"NFErr_MC_StreamingFailure" === C.error && (z.jd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.jd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.tv())),(0,d.fg)(function(){z.j.Pd(f.T.xhb,{wa:C.nativeCode,Sb:C.errormsg,kl:C.httpCode,Uaa:C.networkErrorCode});}));});y.addListener("logdata",function(C){var F;!1;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (F=z.na) || void 0 === F?void 0:F.oH,(0,m.gma)({s_a:C,Ej:B,loadTime:A}));});y.addListener("bufferingStarted",function(){!1;z.j.ss.set(l.Kf.yd);});y.addListener("bufferingComplete",function(C){!1;z.hp=C;});this.j.paused.addListener(function(C){var F;z.debug.assert(z.jd,"has access to internalLogger");null !== (F=C.Jm) && void 0 !== F && F.qwa || !z.NC || (C.newValue && z.Qe.value === k.ta.Rc?(z.Qe.set(k.ta.xh),z.Hd.emit("paused",{type:"paused",pts:z.Hd.qc})):C.newValue || z.Qe.value !== k.ta.xh || (z.Qe.set(k.ta.Rc),z.Hd.emit("playing",{type:"playing",pts:z.Hd.qc})));C.newValue || (z.DJ=!1);z.jd.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,w.qj)(z.j.mediaTime.value)});});this.j.Ac.addListener(function(C){var F,G,E,I;if(z.NC)if((z.debug.assert(z.jd,"has access to internalLogger"),C.Jm && C.Jm.DUa))z.jd.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {I=C.newValue;z.wda({Mn:I.Ex,toJSON:function(){return I.ph;}})?z.jd.trace("ASE accepted the audio track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.jd.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.Ex !== I.Ex && z.j.Ac.set(C.oldValue,{DUa:!0}));}});y.addListener("serverSwitch",function(C){var F;!1;z.j.fireEvent(l.ga.S_,C);if("video" === C.mediatype)F=k.Rb.Ya.Nb;else "audio" === C.mediatype && (F=k.Rb.Ya.cc);(0,p.sd)(F) && z.V_(C.segmentId,C.server,F);});y.addListener("streamSelected",function(C){var F,G,E,I;!1;G=(null === (F=z.na) || void 0 === F?void 0:F.GA(C.position)).Hm.W;F=[];if(C.mediaType === k.Rb.Ya.Nb){E=z.j.p3a(C.streamId);I=z.j.ef;F=z.j.zI();}else C.mediaType === k.Rb.Ya.cc && (E=z.j.c3a(C.streamId),I=z.j.Ah,F=z.j.pJb());E && I?(!1,I.set(E,{DH:G,oV:C.bandwidth})):z.jd.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:F,cachedManifest:z.j.yH});});y.addListener("segmentNormalized",function(C){var F,G;!1;F=C.segmentId;G=Math.floor(C.viewableContentEnd.W);C=Math.floor(C.viewableEarliestContentEnd.W);G=(0,q.Sc)(G);C=(0,q.Sc)(C);if(F=z.j.Bk(F))(F.bA=G,F.ZSb=C);z.j.Dv || (z.j.Dv=G);});D.addListener("segmentPresenting",function(C){var F;!1;z.debug.assert(z.na,"has access to asePlaygraph");z.debug.assert(z.Fa,"has access to asePlayer");z.debug.assert(z.kK,"has access to segmentPresentingHandler");F=z.na.GA(C.position);z.kK(F.N,!1);z.j.fireEvent(l.ga.jK,{type:"segmentPresenting",position:{segmentId:C.position.fa,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.hs=z.Fa.Om();});D.addListener("ptsChanged",function(){!1;z.Hd.emit("skipped");});y.addListener("locationSelected",function(C){!1;z.j.fireEvent(l.ga.BY,C);});y.addListener("aseReportEnabled",function(){!1;z.j.bO=!0;});y.addListener("aseReport",function(C){!1;z.j.fireEvent(l.ga.kN,C);});y.addListener("mediaRequestComplete",function(C){C=null === C || void 0 === C?void 0:C.L_b;(C=null === C || void 0 === C?void 0:C.cadmiumResponse) && z.j.fireEvent(l.ga.HD,{response:C,K:z.j.ka.K});});};c.prototype.Om=function(){var y,z,A,B,D,C,F,G,E;G=null === (y=this.Fa) || void 0 === y?void 0:y.I9();y=(null !== (z=this.hs) && void 0 !== z?z:G && this.Fa.Om()) || ({});z=y.G;G=y.Ie;E=y.LE;y=y.fr;return {id:String(null === z || void 0 === z?void 0:z.id),He:null !== (A=null === G || void 0 === G?void 0:G.W) && void 0 !== A?A:0,qd:null !== (B=null === z || void 0 === z?void 0:z.uf.W) && void 0 !== B?B:Infinity,Vc:null !== (D=null === z || void 0 === z?void 0:z.ej.W) && void 0 !== D?D:0,Pe:null !== (C=null === E || void 0 === E?void 0:E.W) && void 0 !== C?C:Infinity,Dd:null !== (F=null === y || void 0 === y?void 0:y.W) && void 0 !== F?F:0};};c.prototype.M8=function(){return {He:0};};c.prototype.g$=function(){var y,z;this.debug.assert(this.na,"has access to asePlaygraph");y={};z=this.na.xx();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Exa=function(){!1;this.Hd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Hd.qc});};c.prototype.hV=function(y,z){var A;this.debug.assert(this.j.ia,"has access to playback manifest");A=this.kR[k.Rb.Ya.cc];return y.K === this.j.ia.Ib.K?A:this.$Hb(this.j.ia.Ib.tu[A],z);};c.prototype.$Hb=function(y,z){var A,B,D;this.debug.assert(this.jd,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === y.profile;}).sort(function(C,F){var G,E,I;G=(C.language === y.language || "zxx" === C.language?0:1) - (F.language === y.language || "zxx" === F.language?0:1);0 === G && (G=(C.ri === y.ri?0:1) - (F.ri === y.ri?0:1));if(0 === G){C=(null !== (E=C.bc) && void 0 !== E?E:0) - (null !== (I=F.bc) && void 0 !== I?I:0);}else C=G;return C;});B=0;D=pa(A).next().value;D && z.some(function(C,F){if(C === D)return (B=F,!0);});!1;return B;};c.prototype.wda=function(y){var z,A,B;z=this;this.debug.assert(this.jd,"has access to internalLogger");this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.j.ia,"has access to playback manifest");if(this.SK)return (!1,!1);if(!this.j.ia.Ib.audio_tracks.some(function(D,C){if(D.track_id === y.Mn)return (B=C,!0);}))return (!1,!1);!1;this.En=B;null === (A=this.j.Wf) || void 0 === A?void 0:A.m3b();this.j.paused.value || (this.Fa.pause([k.Rb.Ya.cc]),this.DJ=!0,this.j.paused.set(!0,{qwa:!0}));this.debug.ema(this.En,"has access to valid requestedAudioTrackIndex number");this.kR[k.Rb.Ya.cc]=this.En;(this.na.QB({zt:this.hV.bind(this)},{zt:function(){return z.kR[k.Rb.Ya.Nb];}}) || this.DJ) && this.Fa.resume(this.DJ?[k.Rb.Ya.cc]:void 0);this.Kr(this.iV);return !0;};c.prototype.Do=function(){var y;!1;this.Qe.set(k.ta.bg);null === (y=this.na) || void 0 === y?void 0:y.P0("intrplay",g.ce.Do);this.Hd.emit("underflow",{type:"underflow",pts:this.Hd.qc});this.Kr(this.$e);};c.prototype.Br=function(y,z){this.fC.Br(y,z);};c.prototype.open=function(){this.gs || (this.debug.assert(this.na,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),!1,this.gs=this.Bi=!0,this.na.open(),this.debug.assert(this.ky,"invalid start position relative to playgraph"),this.na.NB(this.ky),this.Qe.set(k.ta.yd),this.Kr(this.$e),this.na.$U(this.Fa),this.CRb());};c.prototype.play=function(){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;0 !== this.na.state && (this.Fa.resume(this.DJ?[k.Rb.Ya.cc]:void 0),this.Qe.set(k.ta.Rc),this.Hd.emit("playing",{type:"playing",pts:this.Hd.qc}));};c.prototype.stop=function(){var y;!1;this.Qe.set(k.ta.Yr);null === (y=this.Fa) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Hd.emit("paused",{type:"paused",pts:this.Hd.qc});};c.prototype.flush=function(){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Ri,"has access to streamingEngine");!1;this.gs && this.Qe.value !== k.ta.rj && this.Qe.value !== k.ta.Yr && this.stop();this.na.P0("endplay",g.ce.pp);this.na.Bf();this.Ri.ei.save();this.Ri.mo.save();};c.prototype.zu=function(y){var z;this.debug.assert(this.na,"has access to asePlaygraph");z=k.R.Oa(y);return (z=this.na.Jp(z,{tdb:!0,sdb:!0}))?this.na.ja.P[z.fa].sa + Number(z.offset.W.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.IN=function(y,z){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.jd,"has access to internalLogger");!1;this.na.ja.P[y] || (y=this.VW(z));this.debug.p6(y,"has access to segmentId");y={fa:y,offset:k.R.Oa(z - this.na.ja.P[y].sa)};if(y=this.na.BI(y))return y.W;!1;return z;};c.prototype.cna=function(y,z){var A,B,D;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;z && this.na.ja.P[z] || (z=null !== (A=this.VW(y)) && void 0 !== A?A:null === (B=this.Fa) || void 0 === B?void 0:B.Zh.fa);z=this.j.Bk(z);y={Hm:k.R.Oa(y),N:z.K};return null === (D=this.na.Mm(y)) || void 0 === D?void 0:D.qd;};c.prototype.kA=function(y){var z;z=void 0 === z?!0:z;!1;this.Bi?Number.isFinite(y) && (this.debug.assert(this.Fa,"has access to asePlayer"),z?this.Fa.X_(y):this.Fa.Tza(y)):this.fail("Must call open prior to drmReady");};c.prototype.H9=function(){var y;return null !== (y=this.Fa) && void 0 !== y && y.sf?this.Fa.ho(this.ob.ka.N):!1;};c.prototype.bj=function(y){!1;return this.Fa?this.Fa.bj(k.R.Oa(y)):(!1,!1);};c.prototype.yt=function(y,z){var A;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;z && this.na.ja.P[z] || (z=null !== (A=this.VW(y)) && void 0 !== A?A:this.ob.Ch);this.debug.p6(z,"has access to segmentId");this.debug.assert(this.na.ja.P[z],"segment exists in playgraph map");y={fa:z,offset:k.R.Oa(y - this.na.ja.P[z].sa)};this.na.NB(y);this.Fa.resume();this.Qe.set(k.ta.yd);this.Kr(this.$e);y=this.na.Jca(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.W;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.pR=function(y,z){var A;!1;A={};this.na.mj((A[y]=z,A));};c.prototype.xs=function(y,z){var A,B;this.debug.assert(this.jd,"has access to internalLogger");this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;A=this.Om().id;B=this.na.JO(A,y);if(z){if(!B.Dgb)return (this.jd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.JP)return (!1,B.JP === y);this.na.Qi(A,y,!1,z);return !0;}if(void 0 !== B.JP)return (!1,!1);B.tN && (this.Fa.reset(),this.na.Qi(A,y,!1,z),this.Fa.resume(),this.Qe.set(k.ta.yd),this.Kr(this.$e));return ! !B.tN;};c.prototype.Qi=function(y,z,A,B){this.debug.assert(this.na,"has access to asePlaygraph");!1;this.na.Qi(y,z,A,B);};c.prototype.Co=function(){var y;this.debug.assert(this.jd,"has access to internalLogger");!1;y=this.Hd.qc;!1;this.Hd.emit("skipped",{type:"skipped",pts:y});return new k.tG(Promise.resolve()).jza;};c.prototype.VW=function(y){var z,A,B,D,C,F,G,E;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.jd,"has access to internalLogger");!1;z=this.na.ja;A=[];B=Infinity;for(D in z.P){C=z.P[D];F=C.sa;C=C.va;G=y < Number(null !== C && void 0 !== C?C:Infinity);if(F <= y && G)(!1,A.push(D));else if((F=Math.min(Math.abs(y - F),Math.abs(y - C)),F < B)){B=F;E=D;}}y=A[0] || E;this.debug.p6(y,"has access to locatedSegmentId");!1;return y;};c.prototype.CRb=function(){var y,z;y=this;this.debug.assert(this.j.Yb,"has access to mediaElement");z=this.j.Yb.Y;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){y.Qe.value === k.ta.xh && (y.Qe.set(k.ta.Rc),y.Hd.emit("playing",{type:"playing",pts:y.Hd.qc}));});z.addEventListener("pause",function(){y.Qe.value === k.ta.Rc && (y.Qe.set(k.ta.xh),y.Hd.emit("paused",{type:"paused",pts:y.Hd.qc}));});};c.prototype.fail=function(y){var z;null === (z=this.na) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.Kr=function(y){var z,A,B,D,C,F,G,E;z=this;if(y !== this.iV && this.SK)(!1,this.oZ=y);else {E=null === (A=this.Fa) || void 0 === A?void 0:A.Ox.value;A=null === (B=this.na) || void 0 === B?void 0:B.Nf.value;B=!0 === E;E=A === k.Qc.sj;!1;null === (D=this.Fa) || void 0 === D?void 0:D.Ox.removeListener(this.B7a);null === (C=this.na) || void 0 === C?void 0:C.Nf.removeListener(this.WVa);B && E?y():(this.B7a=function(){return z.Kr(y);},this.WVa=function(){return z.Kr(y);},null === (F=this.Fa) || void 0 === F?void 0:F.Ox.addListener(this.B7a),null === (G=this.na) || void 0 === G?void 0:G.Nf.addListener(this.WVa));}};c.prototype.y0a=function(y){var z,A;z=this;y=this.j.Bk(y);return Promise.resolve(null !== (A=y.ia) && void 0 !== A?A:this.hca(y)).then(function(B){B=B.Ib;return {ia:B,dj:B.xsa && !B.FI,config:z.pf,Cd:[].concat(ja(z.Cd))};});};c.prototype.hca=function(y){var z,A,B,D,C;z=this;!1;B=Promise.resolve();if(y.Vh){D=y.Vh.BJ;(C=null === (A=this.j.AA(D).ia) || void 0 === A?void 0:A.Ib)?y.Vh.zba=C:B=this.nj.bo(D).Jr.then(function(F){return F.ia;}).then(function(F){y.Vh.zba=F;}).catch(function(){return z.j.Pd(f.T.BL,f.O.Ihb);});}return B.then(function(){return z.j.hca(y);}).then(function(){return y.ia;});};c.prototype.qma=function(y,z){this.debug.assert(this.M$,"Auxiliary viewable config request needs to happen after main viewable");this.debug.assert(void 0 !== this.M$.ea,"Auxiliary viewable xid is the same as main viewable, needs to be defined");this.j.aDb(y,z,this.M$.ea);};c.prototype.XV=function(y,z){var A,B,D,C,F;A=this;this.debug.assert(this.Ri,"has access to streamingEngine");!1;B=this.j.Bk(y);D=B.Vh;C={N:B.K,xj:null === D || void 0 === D?void 0:D.xj};this.M$=z;if(!this.nj.has(C)){this.nj.store(C,{fna:function(){},equals:function(G){return G && G.N === C.N && (z.ea === G.ea || !G.ea || !z.ea);},get Jr() {F || (F=A.y0a(y));return F;},set Jr(G) {F=G;},events:new h.EventEmitter(),ea:z.ea,N:C.N,Ku:!1,neb:!1});this.pf.nA && this.Ri.YE(this.nj.bo(C.N,D?{mV:{xj:D.xj,BJ:D.BJ}}:void 0),{ea:z.ea,vo:z.vo,GD:z.mA});}};c.prototype.sy=function(y){var z,A;this.debug.assert(this.Ri,"has access to streamingEngine");!1;z=this.j.Bk(y);A=z.Vh;z={N:z.K,xj:null === A || void 0 === A?void 0:A.xj};A=this.ob.Oe(y).N;if(!this.nj.has(z))return Promise.resolve();z=this.nj.bo(A);z.Jr=this.y0a(y);return this.Ri.sy(z);};c.prototype.JO=function(y){var z;this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.na,"has access to asePlaygraph");return this.na.JO(null === (z=this.Fa.Om().G) || void 0 === z?void 0:z.id,y);};c.prototype.VOb=function(y){var z,A,B;z=this;A=y.ox;B=y.fa;this.debug.assert(this.Ri,"has access to streamingEngine");this.debug.assert(this.jd,"has access to internalLogger");!1;y=this.j.Bk(B);y=this.ob.k9(y);B=y.P[B];this.debug.assert(B,"segment exists");this.ky=(0,t.EX)(B.N,y,this.j.$,B.sa);A=Object.create(this.pf,{mA:{value:A.mA}});this.Qe=new v.oc(k.ta.yh);this.na=this.Ri.lH(y,this.pf.y$a,A,this.nj);this.fC=new k.vG(this.jd);A=this.na.zD(this.fC);y=this.na.yD();this.na.ada(y,A);this.na.QB({zt:function(){return z.kR[k.Rb.Ya.cc];}},{zt:function(){return z.kR[k.Rb.Ya.Nb];}});this.DJ=!1;};c.prototype.goa=function(){var y,z;y=this;this.debug.assert(this.Ri,"has access to streamingEngine");!1;z=Object.create(this.pf,{Cd:{value:[].concat(ja(this.Cd))},xX:{value:function(){return y.h9();}}});this.Hd=Object.create(new h.EventEmitter(),{qc:{get:function(){y.debug.ema(y.j.mediaTime.value,"has access to mediaTime.value");return k.R.Oa(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},wX:{value:function(){y.debug.assert(y.j.Yb,"has access to mediaElement");return y.j.Yb;}}});this.Fa=this.Ri.hUa(this.Hd,z);};c.prototype.h9=function(){this.Hj || (this.Hj=new k.platform.MediaSource(this.Hd),this.Hj.Uc || (this.Hj.Uc=k.platform.MediaSource.Uc));return this.Hj;};Ya.Object.defineProperties(c.prototype,{SK:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.En;}},$b:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Ri,"has access to streamingEngine");return this.Ri.$b;}},xd:{configurable:!0,enumerable:!0,get:function(){for(var y,z=null === (y=this.na) || void 0 === y?void 0:y.xd;null === z || void 0 === z?0:z.xd;){z=z.xd;}return null === z || void 0 === z?void 0:z.ja;}},dXa:{configurable:!0,enumerable:!0,get:function(){for(var y=this.Fa;null === y || void 0 === y?0:y.f$;){y=y.f$;}return y;}},FDb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.dXa) || void 0 === y?0:y.sf){A=(y=this.dXa.Zh) && (null === (z=this.xd) || void 0 === z?void 0:z.P[y.fa]);if(A)return {Hm:k.R.Oa(y.offset.W + A.sa),N:A.N};}}}});b.XCa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gma=void 0;c=a(13);b.gma=function(k){var h,g,d,f;h=k.Ej;g=k.loadTime;k=k.s_a;d=(0,c.Ga)(g)?g:0;f=h[k.target] || ({});h[k.target] !== f && (h[k.target]=f);Object.entries(k.fields).forEach(function(m){var l,n,p,q;l=pa(m);m=l.next().value;l=l.next().value;if("object" !== typeof l || null === l)f[m]=l;else {n=l.type;if("count" === n)(void 0 === f[m] && (f[m]=0),++f[m]);else if(void 0 !== l.value){if("array" === n){n=f[m];p=l.adjust;q=l.value;n || (n=f[m]=[]);p && 0 < p.length && p.forEach(function(t){q[t]-=d || 0;});n.push(q);}else f[m]="sum" === n?(f[m] || 0) + l.value:l.value;}else f[m]=l;}});};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.EX=void 0;c=a(36);k=a(24);b.EX=function(h,g,d,f){return g.P[g.fe].sa === f?(h=(0,c.HN)(g,h,c.R.Oa(d)),(0,k.sb)(h,"has valid start position relative to playgraph"),h):{fa:g.fe,offset:c.R.hb};};},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p,q,t,w,v,u,x,y,z){var A;A=this;this.x5b=n;this.j=p;this.id=q;this.height=t;this.width=w;this.jXb=v;this.kXb=u;this.size=x;this.fv=y;this.urls=z;this.type=k.Vi.ABa;this.retry=!0;this.state=f.fq.s3;this.ph={};this.r6={};this.QYb=function(B){if(B.da)try{A.data=A.x5b.parse(B.content);A.state=f.fq.VF;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.ph);A.j.fireEvent(m.ga.N0);}catch(D){A.state=f.fq.gLa;A.log.error("TrickPlay parse failed.",D);}else (A.state=f.fq.s3,A.log.error("TrickPlay download failed.",(0,l.Ly)(B),A.ph));};this.log=(0,g.Ii)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.VPa=void 0;k=a(90);h=a(19);g=a(8);d=a(107);f=a(553);m=a(18);l=a(3);c.prototype.yKb=function(n){if(this.data && (this.fv && (n+=this.fv),n=Math.floor(n / this.data.header.Web),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Web,height:this.height,width:this.width,pixelAspectHeight:this.jXb,pixelAspectWidth:this.kXb};};c.prototype.NO=function(){switch(this.state){case f.fq.VF:return "downloaded";case f.fq.LOADING:return "loading";case f.fq.DS:return "downloadfailed";case f.fq.gLa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.IMb();n?(this.state=f.fq.LOADING,this.vFb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.IMb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(t){return (n.r6[n.urls[t]] || 0) <= h.config.t5b;});if(p){q=this.urls[p];(q in this.r6)?this.r6[q]++:this.r6[q]=1;return {url:q,jx:p};}};c.prototype.vFb=function(n){var p,q;this.log.trace("Downloading",n.url,this.ph);q=this.Uqa(n.jx);n={responseType:d.SX,Bc:q,url:n.url,track:this,Bt:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",ED:"trickplay"};this.j.Q9.download(n,this.QYb);};c.prototype.Uqa=function(n){return this.j.Yh.find(function(p){return p && p.id === n;});};b.VPa=c;},function(r,b,a){var k;function c(h,g,d,f){this.Xoa=h;this.debug=g;this.Ea=d;this.j=f;this.yba=[];this.Oaa={};this.Zoa={};this.gqa=!1;this.Aeb=1;this.uDa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;k=a(5);a(18);a(13);a(107);c.prototype.register=function(h,g){this.debug.assert(!(0 <= this.yba.indexOf(h)),"panel already registered");this.Oaa[h]=g;this.yba.push(h);};c.prototype.U8a=function(h){var g;g=this;this.Zoa[h]=!0;this.gqa || (this.gqa=!0,setTimeout(function(){return g.mIb();},0));};c.prototype.kLb=function(h){return (h=this.Oaa[h])?h():void 0;};c.prototype.rX=function(){var h;h=this.j.Iba;return h?h.rX():[];};c.prototype.addEventListener=function(h,g){this.Xoa.addListener(h,g);this.Oaa[h] && this.U8a(h);};c.prototype.removeEventListener=function(h,g){this.Xoa.removeListener(h,g);};c.prototype.getTime=function(){return this.Ea.Xb().ca(k.la);};c.prototype.mIb=function(){this.gqa=!1;for(var h=this.yba.length,g;h--;){g=this.yba[h];this.Zoa[g] && (this.Zoa[g]=!1,this.Xoa.ed(g + "changed",{getModel:this.Oaa[g]}));}};b.uFa=c;},function(r,b,a){var k,h,g,d,f,m,l;function c(n,p){var q;q=this;this.Xm=n;this.Vu=p;this.gfb=function(t){var w,v,u,x,y,z,A;w=q.Aeb++;v=t.request.ED || "dl";u=q.P2a(v,"start");if(u){x=t.request.iB;y=x.stream.M.Kp;x=pa(x.stream.M.Ai).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.G.id,!q.Mdb.has(y))){z=q.j2a(y);A=t.qt;q.Xm.mark(u,z,A?v + "-" + A + "-" + w:v);t.R5(function(){var B,D;B=q.P2a(v,"end");D=A?v + "-" + A + "-" + w:v;B && q.Xm.mark(B,z,D);});}}};this.Aeb=0;this.Mdb=new Set();this.Cza=new Map();p.IW && this.N7b();}Object.defineProperty(b,"__esModule",{value:!0});b.yKa=void 0;r=a(2);k=a(0);h=a(62);g=a(80);d=a(5);f=a(107);a=a(40);m={start:{video:h.Ma.YR,audio:h.Ma.UR},end:{video:h.Ma.XR,audio:h.Ma.TR}};c.prototype.k2a=function(n){var q,t,w,v,u,x,y,z;function p(A){return (0,d.timestamp)(q.uUa((0,d.timestamp)(A),n,!0));}q=this;t=new Set();w=n.ud;v=n.ea;u=void 0 === n.Gdb?null:n.Gdb;x=n.fa;y=this.Xm.Q1a(v);z=x && this.j2a(x);z && y.push.apply(y,ja(this.Xm.Q1a(z)));this.Xm.Yab(n.ea);z && this.Xm.Yab(z);x && this.Mdb.add(x);x=[];("pr_ats" in w) && x.push({name:h.Ma.M3,Ht:p(w.pr_ats),ea:v,Rf:"request-pre-manifest"});("ats" in w) && x.push({name:h.Ma.K3,Ht:p(w.ats),ea:v,Rf:"request-manifest"});("pr_at" in w) && x.push({name:h.Ma.L3,Ht:p(w.pr_at),ea:v,Rf:"request-pre-manifest"});("at" in w) && x.push({name:h.Ma.J3,Ht:p(w.at),ea:v,Rf:"request-manifest"});("lg" in w) && x.push({name:h.Ma.I3,Ht:p(w.lg),ea:v,Rf:"request-license"});("lr" in w) && (x.push({name:h.Ma.H3,Ht:p(w.lr),ea:v,Rf:"request-license"}),x.push({name:h.Ma.v1,Ht:p(w.lr),ea:v,Rf:"apply-license"}));("ld" in w) && x.push({name:h.Ma.u1,Ht:p(w.ld),ea:v,Rf:"apply-license"});("tt_start" in w) && x.push({name:h.Ma.WR,Ht:p(w.tt_start),ea:v,Rf:"request-timed-text"});("tt_comp" in w) && x.push({name:h.Ma.VR,Ht:p(w.tt_comp),ea:v,Rf:"request-timed-text"});return x.concat(y).map(function(A){return q.S4b(A,n);}).filter(function(A){return A.ts <= (null !== u && void 0 !== u?u:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var D;D=B.eventName;delete B.eventName;D && (A[D]=B);return A;},{});};c.prototype.Pvb=function(n,p,q){return (void 0 === q?0:q)?n.ca(d.la) + p.gj.ca(d.la):n.ca(d.la) - p.gj.ca(d.la);};c.prototype.uUa=function(n,p,q){q=void 0 === q?!1:q;if(p.ln)if(q)n.ca(d.la) + p.ln;else return n.ca(d.la) - p.ln;return this.Pvb(n,p,q);};c.prototype.S4b=function(n,p){var q,t;q=n.Rf;t=n.name;return {eventName:this.FUb(t,q),eventId:q || t,ts:this.uUa(n.Ht,p),comp:this.kX(t),cat:this.JJb(t),step:this.rMb(t)};};c.prototype.FUb=function(n,p){switch(n){case h.Ma.WR:case h.Ma.VR:case h.Ma.UR:case h.Ma.TR:case h.Ma.YR:case h.Ma.XR:return n + "-" + p;default:return n;}};c.prototype.kX=function(n){switch(n){case h.Ma.M3:case h.Ma.L3:case h.Ma.K3:case h.Ma.J3:return "manifest";case h.Ma.I3:case h.Ma.H3:case h.Ma.jia:case h.Ma.iia:case h.Ma.p2:case h.Ma.o2:case h.Ma.v1:case h.Ma.u1:return "license";case h.Ma.WR:case h.Ma.VR:case h.Ma.UR:case h.Ma.TR:case h.Ma.YR:case h.Ma.XR:case h.Ma.zea:case h.Ma.yea:return "buffering";case h.Ma.qha:case h.Ma.pha:return "playback";default:return null;}};c.prototype.JJb=function(n){switch(n){case h.Ma.M3:case h.Ma.L3:case h.Ma.K3:case h.Ma.J3:return "aws";case h.Ma.I3:case h.Ma.H3:return "mixed";case h.Ma.qha:case h.Ma.pha:case h.Ma.jia:case h.Ma.iia:case h.Ma.p2:case h.Ma.o2:case h.Ma.v1:case h.Ma.u1:case h.Ma.zea:case h.Ma.yea:return "device";case h.Ma.WR:case h.Ma.VR:case h.Ma.UR:case h.Ma.TR:case h.Ma.YR:case h.Ma.XR:return "cdn";default:return null;}};c.prototype.rMb=function(n){switch(n){case h.Ma.M3:case h.Ma.qha:case h.Ma.K3:case h.Ma.I3:case h.Ma.zea:case h.Ma.WR:case h.Ma.UR:case h.Ma.YR:case h.Ma.jia:case h.Ma.p2:case h.Ma.v1:return "start";case h.Ma.L3:case h.Ma.pha:case h.Ma.J3:case h.Ma.H3:case h.Ma.iia:case h.Ma.o2:case h.Ma.u1:case h.Ma.yea:case h.Ma.VR:case h.Ma.TR:case h.Ma.XR:return "end";default:return null;}};c.prototype.P2a=function(n,p){if((n in m[p]))return m[p][n];};c.prototype.U5b=function(){f.Tf.removeEventListener(f.P9,this.gfb);};c.prototype.N7b=function(){this.U5b();f.Tf.addEventListener(f.P9,this.gfb);};c.prototype.j2a=function(n){var p;if(this.Cza.has(n))return this.Cza.get(n);p=Date.now();this.Cza.set(n,p);return p;};l=c;l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.QS)),r.__param(1,(0,k.l)(a.Io))],l);b.yKa=l;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,N,L,H,Q,O,J,M,P;Object.defineProperty(b,"__esModule",{value:!0});b.fXa=void 0;r=a(0);c=a(514);k=a(1318);h=a(104);g=a(1319);d=a(526);f=a(1320);m=a(531);l=a(1321);n=a(532);p=a(1322);q=a(299);t=a(1323);w=a(87);v=a(1324);u=a(1325);x=a(38);y=a(3);z=a(1326);A=a(1327);B=a(1328);D=a(57);C=a(1329);F=a(580);G=a(1330);E=a(511);I=a(1331);N=a(1332);L=a(1333);H=a(452);Q=a(1334);O=a(78);J=a(579);M=a(1335);P=a(1336);b.fXa=new r.zd(function(R){R(D.Lo).to(C.JLa);R(c.YLa).to(k.XLa);R(F.ELa).to(G.DLa);R(E.GLa).to(I.FLa);R(h.Bha).to(g.ZLa);R(J.$La).xf(function(S){return function(){var U;U=S.gb.get(O.Xy);return U && U.xgb?S.gb.resolve(P.sMa):S.gb.resolve(M.aMa);};});R(d.CLa).to(f.BLa);R(m.pMa).to(l.oMa);R(n.SLa).to(p.RLa);R(q.Aha).to(t.TLa);R(w.cPa).to(v.bPa);R(w.jPa).to(u.iPa);R(w.AIa).to(z.zIa);R(w.YOa).to(A.XOa);R(w.oGa).to(B.nGa);R(L.Tnb).to(N.bMa);R(H.QLa).to(Q.PLa);R(w.Ufa).xf(function(S){return function(U){switch(U){case w.Zp.start:return S.gb.get(w.cPa);case w.Zp.stop:return S.gb.get(w.jPa);case w.Zp.mY:return S.gb.get(w.AIa);case w.Zp.splice:return S.gb.get(w.YOa);case w.Zp.iO:return S.gb.get(w.oGa);}throw new x.od(y.T.hnb,void 0,void 0,void 0,void 0,"The event key was invalid - " + U);};});});},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.Zlb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(m,l){var n;n=this;return this.send(m,{url:"/" + g.Ph.Vua,name:g.Ph.Vua,qr:g.Ph.Vua},l).then(function(p){return p.result;}).catch(function(p){throw n.up(p);});};c.prototype.Hs=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.XLa=f;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t;function c(w,v,u,x,y){w=d.$j.call(this,w,h.T.BL,3) || this;w.platform=v;w.HY=u;w.gRb=x;w.sSb=y;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;r=a(2);k=a(104);h=a(3);g=a(73);a(190);d=a(93);f=a(57);m=a(46);l=a(40);n=a(135);p=a(299);q=a(0);a=a(579);la(c,d.$j);c.prototype.Sg=function(w,v){var u,x,y,z;u=this;x=v.Su === k.vn.iG?"prefetch/manifest":g.Ph.ia;y=g.Ph.ia;z=v.Su === k.vn.S3?l.ww.DNa:l.ww.eT;return this.sSb().transform(v,z).then(function(A){var B,D;A=pa(A);B=A.next().value;D=A.next().value;!1;"licensedManifest" === D.Qn && (x=v.Su === k.vn.iG?"prefetch/licensedManifest":"licensedManifest",y=g.Ph.hRb);return u.send(w,{url:D.Qn,name:y,qr:x},B,void 0,void 0,z).then(function(C){var F;C=u.HY.create(C.result);F=C.Ib.wy.map(function(G){return G.mh;}).filter(Boolean);D.jA && (0 < F.length?(F=u.gRb.kfb(F),D.jA.bUa(F),C.jA=D.jA,C.Q4a=v.Su === k.vn.iG,C.P4a=!0):D.jA.close());C.eV=D.eV;C.f1=D.f1;!1;return C;});}).catch(function(A){!1;throw u.up(A);});};c.prototype.Hs=function(){return Promise.reject(Error("Links are not supported with manifest command"));};t=c;t=r.__decorate([(0,q.U)(),r.__param(0,(0,q.l)(f.Lo)),r.__param(1,(0,q.l)(m.Mo)),r.__param(2,(0,q.l)(n.CL)),r.__param(3,(0,q.l)(p.Aha)),r.__param(4,(0,q.l)(a.$La))],t);b.ZLa=t;},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.yL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Hs=function(m,l,n){var p;p=this;l={url:l.uX(n.b6a).href,name:g.Ph.mh,qr:"ldl" === n.b6a?"prefetch/license":g.Ph.mh};return this.send(m,l,n.inputs,"drmSessionId").then(function(q){q=q.result;p.gzb(q);return q;}).catch(function(q){throw p.up(q);});};c.prototype.gzb=function(m){m.forEach(function(l){if(!l.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.BLa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.dia,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oMa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(m,l){var n;n=this;return this.send(m,{url:"/bundle",name:g.Ph.mh,qr:"release/license"},l).then(function(p){return p.result;}).catch(function(p){throw n.up(p);});};c.prototype.Hs=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.oMa=f;},function(r,b,a){var k,h,g;function c(d){this.Da=d;}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;r=a(2);k=a(0);h=a(35);g=a(5);c.prototype.m5b=function(d){var f;f=this.Da.qf.ca(g.Oo);return {inputs:d.sk.map(function(m){return {drmSessionId:m.sessionId,clientTime:f,challengeBase64:m.dataBase64,xid:d.ea.toString()};}),b6a:"standard" === d.ig.toLowerCase()?"license":"ldl"};};c.prototype.p5b=function(d){var f,m;f=this;m=[];return d.Ae.map(function(l){m.push(l.id);return {url:f.Yxb(l.aJ,l.xY),echo:"drmSessionId",params:{drmSessionId:l.id,xid:d.ea.toString()}};});};c.prototype.Yxb=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.wi))],a);b.RLa=a;},function(r,b,a){var k,h,g;function c(d,f){this.ti=d;this.lD=f;}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;r=a(2);k=a(0);h=a(32);a=a(33);c.prototype.kfb=function(d){var f,m;f=this;m=d.map(function(l){return l.links.releaseLicense.href;}).map(function(l){return f.ti.DZ(l.substring(l.indexOf("?") + 1));});return {da:!0,Ae:d.map(function(l,n){return {id:l.drmSessionId,aJ:m[n].drmlicensecontextid,xY:m[n].licenseid};}),Cj:d.map(function(l){return {data:f.lD.decode(l.licenseResponseBase64),sessionId:l.drmSessionId};})};};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Qh)),r.__param(1,(0,k.l)(a.vi))],g);b.TLa=g;},function(r,b,a){var k,h,g,d,f;function c(m){return g.Nr.call(this,m,h.T.zob,d.Zp.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;r=a(2);k=a(0);h=a(3);g=a(166);d=a(87);a=a(57);la(c,g.Nr);f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.bPa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return g.Nr.call(this,m,h.T.Aob,d.Zp.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iPa=void 0;r=a(2);k=a(0);h=a(3);g=a(166);d=a(87);a=a(57);la(c,g.Nr);f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.iPa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return g.Nr.call(this,m,h.T.Bga,d.Zp.mY,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;r=a(2);k=a(0);h=a(3);g=a(166);d=a(87);a=a(57);la(c,g.Nr);f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.zIa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return g.Nr.call(this,m,h.T.sOa,d.Zp.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XOa=void 0;r=a(2);k=a(0);h=a(3);g=a(166);d=a(87);a=a(57);la(c,g.Nr);f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.XOa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return g.Nr.call(this,m,h.T.Ikb,d.Zp.iO,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(2);k=a(0);h=a(3);g=a(166);d=a(87);a=a(57);la(c,g.Nr);c.prototype.G6=function(m){return Object.assign(Object.assign({},g.Nr.prototype.G6.call(this,m)),{action:m.action});};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.nGa=f;},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t,w,v,u,x,y,z,A){this.Th=q;this.Tf=t;this.gi=w;this.iFb=v;this.KA=u;this.G6b=x;this.M_b=z;this.UH=A;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(2);k=a(0);h=a(172);g=a(78);d=a(551);f=a(548);m=a(81);l=a(69);n=a(360);p=a(113);a=a(91);c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.B1)),r.__param(1,(0,k.l)(l.rw)),r.__param(2,(0,k.l)(g.Xy)),r.__param(3,(0,k.l)(f.MLa)),r.__param(4,(0,k.l)(m.Oy)),r.__param(5,(0,k.l)(n.dQa)),r.__param(6,(0,k.l)(p.e2)),r.__param(7,(0,k.l)(d.rMa)),r.__param(8,(0,k.l)(a.Hy))],c);b.JLa=c;},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.Vhb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DLa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(m,l,n){var p;p=this;return this.send(m,{url:"/" + g.Ph.bind,name:g.Ph.bind,qr:g.Ph.bind},l,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.up(q);});};c.prototype.Hs=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.DLa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.Whb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(m,l,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:g.Ph.bind,qr:g.Ph.bind},l,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.up(q);});};c.prototype.Hs=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.FLa=f;},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.unb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(m,l,n){var p;p=this;return this.send(m,{url:"/" + g.Ph.ping,name:g.Ph.ping,qr:g.Ph.ping},l,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.up(q);});};c.prototype.Hs=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.bMa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tnb="PboPingCommandSymbol";},function(r,b,a){var k,h,g,d,f;function c(m){return d.$j.call(this,m,h.T.Ukb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PLa=void 0;r=a(2);k=a(0);h=a(3);g=a(73);d=a(93);a=a(57);la(c,d.$j);c.prototype.Sg=function(m,l){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:g.Ph.ia,qr:"generateScreenshots"},l).then(function(p){return p.result;}).catch(function(p){throw n.up(p);});};c.prototype.Hs=function(m,l,n){var p;p=this;l={url:l.uX("generateScreenshots").href,name:g.Ph.ia,qr:"generateScreenshots"};return this.send(m,l,n).then(function(q){return q.result;}).catch(function(q){throw p.up(q);});};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Lo))],f);b.PLa=f;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v,u,x;function c(y,z,A,B,D,C,F,G,E,I){this.gi=y;this.platform=z;this.config=A;this.Oyb=B;this.uXb=D;this.Fp=C;this.AV=F;this.Da=G;this.vaa=E;this.Vn=I;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;r=a(2);k=a(0);h=a(104);g=a(11);d=a(498);f=a(496);m=a(578);l=a(77);n=a(46);p=a(35);q=a(5);t=a(170);w=a(78);v=a(362);u=a(28);x=a(59);c.prototype.transform=function(y,z){var A,B,D,C,F,G,E,I;A=this;B=y.fb;D=Object.assign({},B.w6,B.en);C={};F=y.N;C[F]={unletterboxed:! !D.preferUnletterboxed};G=this.config();E=G.P6b?30:25;G=G.Nt?this.Fp.mKb():Promise.resolve(this.vaa.Wu());I={je:null === B || void 0 === B?void 0:B.je};return Promise.all([this.Vn.K2a(I),this.Vn.M2a(I),this.Vn.BX(),this.Vn.j9(),this.KJb(y.ea,z),this.oKb(y),G]).then(function(N){var L,H,Q,O,J,M,P,R,S,U,ba;L=pa(N);H=L.next().value;Q=L.next().value;O=L.next().value;J=L.next().value;M=L.next().value;N=L.next().value;P=L.next().value;L=H.p9().concat(Q.p9()).concat(A.config().$v).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;ba="postplay" === B.je?!0:! !D.isUIAutoPlay;O={type:"standard",manifestVersion:A.gi.$Za?"v2":"v1",viewableId:F,profiles:L,flavor:y.Su,drmType:P,drmVersion:E,usePsshBox:!0,isBranching:! !y.fb.ci,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().g4b,imageSubtitleHeight:d.zia.q2a(),uiVersion:A.gi.py,uiPlatform:A.gi.Rda,clientVersion:A.platform.version,supportsPreReleasePin:A.config().Hq.a4b,supportsWatermark:A.config().Hq.b4b,packageId:A.BLb(B),deviceSecurityLevel:J,videoOutputInfo:O,titleSpecificData:C,preferAssistiveAudio:! !D.assistiveAudioPreferred,preferredTextLocale:D.preferredTextLocale,preferredAudioLocale:D.preferredAudioLocale,isUIAutoPlay:ba,challenge:M,isNonMember:A.gi.U4a,pin:B.h$a,desiredVmaf:A.config().pgb?A.config().XYa:A.config().YYa,desiredSegmentVmaf:A.config().pgb?A.config().XYa:A.config().YYa,requestSegmentVmaf:A.config().R_b,supportsPartialHydration:A.gi.fO,contentPlaygraph:y.fb.ci?[]:A.gi.MH,auxiliaryManifestToken:y.fb.ci?void 0:null === (R=y.Vh) || void 0 === R?void 0:R.xj,originalPlaybackContextId:!y.fb.ci && (null === (S=y.Vh) || void 0 === S?0:S.xj)?null === (U=y.Vh) || void 0 === U?void 0:U.axa:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE"};B.x_a && (O.extraParams=B.x_a);B.WYa && (O.desiredDownloadables=B.WYa);B.Zya && (O.requestReference=B.Zya);R={Qn:N?"licensedManifest":"manifest",jA:null === N || void 0 === N?void 0:N.ec,eV:H,f1:Q};N && (N={drmSessionId:N.ec.xA() || "session",clientTime:A.Da.R_.ca(q.Oo),challengeBase64:N.kna},O.challenges={"default":[N]},O.profileGroups=[{name:"default",profiles:L}],O.licenseType=y.ig == x.zi.Jo?"limited":"standard",y.ea && (O.xid=y.ea.toString()));A.gi.fO || (O.showAllSubDubTracks=A.config().Hq.G2b || ! !D.showAllSubDubTracks,A.gi.TZa && y.Su === h.vn.S3 && (O.maxSupportedLanguages=2));y.Ida && (O.originalPlaybackContextId=y.Ida.axa,O.requiredAudioTrackId=y.Ida.V_b,O.requiredTextTrackId=y.Ida.Y_b);return [O,R];});};c.prototype.BLb=function(y){if(this.config().fca.enabled){if(void 0 !== y.Ip)return y.Ip;if(void 0 !== this.config().fca.Ip)return Number(this.config().fca.Ip);}};c.prototype.KJb=function(y,z){var A;A=this;return this.Oyb.S0a(z).then(function(B){var D;D=y && A.uXb.ILb(y);D && D.uq("cad");return B;});};c.prototype.oKb=function(y){var z;if(void 0 === y.ig || !this.config().Nt)return Promise.resolve(void 0);z=y.ig === x.zi.bq && this.gi.lx;return y.ig === x.zi.Jo && this.gi.LD || z?this.AV.Ura(y.ig):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(w.Xy)),r.__param(1,(0,k.l)(n.Mo)),r.__param(2,(0,k.l)(g.Wc)),r.__param(3,(0,k.l)(f.YDa)),r.__param(4,(0,k.l)(m.Qha)),r.__param(5,(0,k.l)(l.vw)),r.__param(6,(0,k.l)(t.O1)),r.__param(7,(0,k.l)(p.wi)),r.__param(8,(0,k.l)(v.Yga)),r.__param(9,(0,k.l)(u.Gy))],a);b.aMa=a;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p,q){this.platform=l;this.config=n;this.AV=p;this.Vn=q;}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;r=a(2);k=a(0);h=a(11);g=a(46);d=a(170);f=a(28);m=a(59);c.prototype.transform=function(l){var n,p,q;n=this;p=l.fb;q={je:void 0};return Promise.all([this.Vn.K2a(q),this.Vn.M2a(q),this.AV.Ura(m.zi.bq)]).then(function(t){var w,v;w=pa(t);t=w.next().value;v=w.next().value;w=w.next().value;return [{viewableId:l.N,packageId:p.Ip,assetId:p.fma,challenge:w.kna,audioProfiles:t.p9(),textProfiles:n.config().$v,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.p9(),audioLanguages:p.Vwb,textLanguages:p.A4b,videoLanguages:p.Jgb?[p.Jgb]:void 0,requestReference:p.Zya,additionalAudioAssets:p.Mvb,additionalTextAssets:p.Ovb},{jA:null === w || void 0 === w?void 0:w.ec,Qn:"studioManifest",eV:t,f1:v}];});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.Mo)),r.__param(1,(0,k.l)(h.Wc)),r.__param(2,(0,k.l)(d.O1)),r.__param(3,(0,k.l)(f.Gy))],a);b.sMa=a;},function(r,b,a){var c,k,h,g,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(293);k=a(549);h=a(1338);g=a(1339);d=a(1340);f=a(40);b.transports=new r.zd(function(m){m(c.d4).to(d.SPa).ba();m(k.FKa).to(h.EKa);m(k.$Oa).to(g.ZOa);m(k.TPa).xf(function(l){return function(n){var p;return l.gb.get(c.d4).cda(null !== (p=null === n || void 0 === n?void 0:n.oUb) && void 0 !== p?p:f.ww.eT)?l.gb.get(k.FKa):l.gb.get(k.$Oa);};});});},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p){var q;q=this;this.CE=n;this.profile=p;this.log=l.kb("MslTransport");this.CE().then(function(t){return q.Raa=t;});}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;r=a(2);k=a(0);h=a(7);g=a(162);d=a(5);a=a(75);f={license:!0};c.prototype.send=function(l,n){var p,q;p=this;q={awa:Object.assign({Tf:l.Tf,log:l.log,profile:this.profile},l.Axb),method:l.Qn,url:l.url.href,body:JSON.stringify(n),timeout:l.timeout.ca(d.la),zgb:this.profile,C_b:!f[l.Qn],G8a:! !f[l.Qn],yk:!0,Dca:l.kza,headers:l.headers};!1;return this.CE().then(function(t){return t.send(q).catch(function(w){var v;if(!w.error)throw (w.Jc=w.wa || w.Jc,w);v=w.error;v.WE=w.WE;p.log.error("Error sending MSL request",{mslCode:v.lB,subCode:v.Jc,data:v.data,message:v.message});throw v;});});};c.prototype.Zna=function(){var l;return {userTokens:null === (l=this.Raa) || void 0 === l?void 0:l.cZ.getUserIdTokenKeys()};};m=c;m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yb)),r.__param(1,(0,k.l)(g.RS)),r.__param(2,(0,k.l)(a.PL))],m);b.EKa=m;},function(r,b,a){var k,h,g,d;function c(f,m){this.Tf=m;this.log=f.kb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.ZOa=void 0;r=a(2);k=a(0);h=a(5);g=a(7);a=a(69);c.prototype.send=function(f,m){var l,n;l=this;n={url:f.url.href,ED:"nq-" + f.Qn,H$a:JSON.stringify(m),W6:f.timeout.ca(h.la),headers:f.headers,withCredentials:!0,Bt:"pbo"};!1;return new Promise(function(p,q){l.Tf.download(n,function(t){t.da?p(t):q(t);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Jc=p.wa || p.Jc,p);q=p.error;q.WE=p.WE;l.log.error("Error sending SSL request",{subCode:q.Jc,data:q.content,message:q.message});throw q;});};c.prototype.Zna=function(){return {};};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yb)),r.__param(1,(0,k.l)(a.rw))],d);b.ZOa=d;},function(r,b,a){var k,h,g,d,f;function c(m){return h.ff.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SPa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);d=a(48);f=a(40);la(c,h.ff);c.prototype.cda=function(m){var l,n;l=this.qR;n=this.AUa;switch(m){case f.ww.eT:return l;case f.ww.DNa:return l && !n;case f.ww.Tmb:return !1;}};Ya.Object.defineProperties(c.prototype,{qR:{configurable:!0,enumerable:!0,get:function(){return !0;}},AUa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Fd,"usesMsl")],a.prototype,"qR",null);r.__decorate([d.config(d.Fd,"allowRequestsWithoutMsl")],a.prototype,"AUa",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om))],a);b.SPa=a;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Xl=void 0;r=a(0);c=a(563);k=a(1342);b.Xl=new r.zd(function(h){h(c.PIa).to(k.OIa);});},function(r,b,a){var k,h,g,d,f,m,l,n;function c(p,q,t,w,v){this.YH=p;this.xk=q;this.config=t;this.yP=w;this.Ld=v;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(2);k=a(0);h=a(126);g=a(1343);d=a(1344);f=a(66);m=a(11);l=a(142);a=a(121);c.prototype.create=function(p,q,t){return p?new g.QIa(this.config(),this.xk,this.Ld,q,t,this.YH,this.yP()):new d.IIa(this.config,this.xk,this.Ld,q,t);};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.i2)),r.__param(1,(0,k.l)(f.Ut)),r.__param(2,(0,k.l)(m.Wc)),r.__param(3,(0,k.l)(l.NS)),r.__param(4,(0,k.l)(a.wG))],n);b.OIa=n;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y,z){u=l.RR.call(this,u,x) || this;u.config=t;u.xk=w;u.Ld=v;u.YH=y;u.waa=z;u.log=(0,h.Ii)(u.j,"LicenseBroker");u.vY=new Set();u.Dva=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(2);k=a(3);h=a(8);g=a(345);d=a(5);f=a(0);m=a(581);l=a(582);n=a(59);p=a(18);q=a(47);la(c,l.RR);c.prototype.qba=function(){var t,w;t=this;w=this.j.ka;this.vY.has(w.K) || (this.vY.add(w.K),this.nwb(w).catch(function(){return t.kbb(w);}).then(function(){return t.RUa(w);}).catch(function(v){return t.QUa(w,v);}).catch(function(v){return t.Pd(v.code,v,v.Qd);}));};c.prototype.nwb=function(t){var w;w=this;return Promise.all([this.Ld.O0a(t.K),this.YH()]).then(function(v){var u,x;v=pa(v);u=v.next().value;x=v.next().value;return u.Wca.then(function(y){var z;z=w.waa.mediaKeys;if(z && z !== y.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=w.L1a(t),x.f8a(z,y));return y;}).then(function(y){return w.g6(y,t,u.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.g6=function(t,w,v){this.Y$a(t,w);w.xH=v;this.waa.eUa(t.mediaKeys);return t.Yla();};c.prototype.GIb=function(t){var w;w={};t.forEach(function(v){w[(0,g.zZa)(v.TY)]=v.time.ca(d.la);});return w;};c.prototype.Y$a=function(t,w){var v;v=this;w.Le=t;t.D1b(function(u){v.Pd(u.code,u,u.Qd);});};c.prototype.RUa=function(t){this.log.info("Successfully applied license for xid: " + t.ea + ", viewable: " + t.K + ", segment: " + t.fa);this.LA(t);this.Dva?this.n8(t.K):this.setMediaKeys(t);};c.prototype.QUa=function(t,w){this.LA(t);throw w;};c.prototype.LA=function(t){t.Le && t.LA(this.GIb(t.Le.ud));};c.prototype.L1a=function(t){var w;w=void 0;t.Bg.value && (w=(0,q.sra)(t.Bg.value.streams));return {type:this.b9(!1),initData:t.Lv.map(function(v){return (0,h.us)(v);}),context:{Y:this.Yb.Y,J$:w},Pj:{K:t.K,ea:t.ea,Mi:t.Mi,Sl:t.Sl,Gk:t.ia.Gk}};};c.prototype.kbb=function(t){var w;w=this;return this.YH().then(function(v){var u;u=w.L1a(t);w.vY.add(t.K);return v.mh(u,w.waa).then(function(x){w.Y$a(x,t);w.j.fireEvent(p.ga.yY,{K:t.K});return x.Yla();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.Dva)this.log.trace("Media Keys already set");else try{this.Yb.Y?(this.Dva=!0,this.Yb.Y.setMediaKeys(t.Le.mediaKeys).then(function(){w.n8(t.K);}).catch(function(v){v=w.R2a(v);w.Pd(k.T.LL,v,v.Df);})):this.n8(t.K);}catch(v){this.Pd(k.T.LL,v,void 0);}};c.prototype.GB=function(){var t,w;t=this;w=this.j.ka.Le;return w?this.YH().then(function(v){return v.release(w,t.waa).then(function(u){t.log.trace("Successfully released the license");return u.close();}).catch(function(u){t.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.jbb=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.kbb(t).then(function(){return w.RUa(t);}).catch(function(v){return w.QUa(t,v);});};c.prototype.b9=function(t){return this.xk.aX?n.zi.Jo:t?n.zi.Jo:n.zi.bq;};Ya.Object.defineProperties(c.prototype,{EE:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Qm:{configurable:!0,enumerable:!0,get:function(){return this.config.Qm;}}});a=c;r.__decorate([m.U$],a.prototype,"EE",null);a=r.__decorate([(0,f.U)()],a);b.QIa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w;function c(v,u,x,y,z){y=p.RR.call(this,y,z) || this;y.config=v;y.xk=u;y.Ld=x;y.log=(0,h.Ii)(y.j,"LegacyLicenseBroker");y.Qm=y.config().Qm;y.config().dab?(0,d.$4a)()?y.bea=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:f.fG}):y.bea=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;r=a(2);k=a(3);h=a(8);g=a(161);d=a(44);f=a(12);m=a(0);l=a(581);n=a(46);p=a(582);q=a(59);t=a(5);la(c,p.RR);c.prototype.TXa=function(v){var u;u=void 0 === u?this.j:u;return new this.ft.pL(v,function(x){return u.X6.tI(x);},function(x){return u.X6.release(x);},{Ef:!1,nl:!1});};c.prototype.AD=function(v){var u,x,y,z,A,B;u=this;v=void 0 === v?this.j:v;x=a(61).Pn;this.ft.pL || this.Pd(k.T.yL,k.O.xkb);y=(0,h.Ii)(v,"Eme");z=this.TXa(y);A=h.Aa.get(g.lT);B=A.a7(v.Ac.value.streams);A=A.f7(v.Bg.value.streams);return this.ft.rL(y,function(D){return v.Be(D);},{Ef:!1,nl:!1,Da:{getTime:x},bm:z,c_:! !this.bea,Y:this.Yb.Y,eC:this.config().QZa,onerror:function(D,C,F){return u.Pd(D,C,F);},twa:function(){},GJ:!0,Uwb:B,p7b:A,Eua:this.xk.e6.ca(t.la)});};c.prototype.setMediaKeys=function(v){var u;u=this;return this.bea?new Promise(function(x,y){if(u.Yb.Y)u.Yb.Y.setMediaKeys(v).then(function(){x();}).catch(function(z){var A;A=u.R2a(z);y({da:!1,code:k.T.LL,Jc:A.wa,Qd:A.Df,Sb:A.Sb,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.p_a=function(v){return {code:v.code,subCode:v.Jc,extCode:v.Qd,edgeCode:v.Xn,message:v.message,errorDetails:v.Sb,errorData:v.dI,state:v.state};};c.prototype.Wza=function(v,u,x){var z,A,B;function y(){A.SJ().catch(function(D){z.log.error("Unable to set the license",z.p_a(D));D.cause && D.cause.Sb && (D.Sb=D.Sb?D.Sb + D.cause.Sb:D.cause.Sb);z.Pd(D.code,D,D.Qd);});}z=this;x=void 0 === x?this.j:x;A=x.Le;this.log.info("Setting the license");B=u?function(){return Promise.resolve();}:function(){return A.mh(z.b9(!1),v);};return (u?function(){return A.g6(z.Yb.Y);}:function(){return A.create(z.Qm).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.n8(x.K);z.Yb.Wgb.then(function(){z.config().qE && (u || z.config().aX) && (z.ebb=nb.setTimeout(y,z.config().qE));});}).catch(function(D){z.log.error("Unable to set the license",z.p_a(D));D.cause && D.cause.Sb && (D.Sb=D.Sb?D.Sb + D.cause.Sb:D.cause.Sb);if(u)throw Error(D && D.message?D.message:"failed to set license");z.Pd(D.code,D,D.Qd);});};c.prototype.GB=function(){return Promise.resolve();};c.prototype.qba=function(){var u;function v(){var x;u.j.Le=u.AD();x=[];u.j.Lv.forEach(function(y){x.push((0,h.us)(y));});u.Wza(x);}u=this;this.vY || (this.vY=!0,this.ft.rL?this.j.Lv?this.config().HW && this.config().Iv?this.Ld.O0a(this.j.K).then(function(x){u.j.Le=x;return x.oCa.then(function(){var y;y=[];u.j.Lv.forEach(function(z){y.push((0,h.us)(z));});return u.Wza(y,!0).then(function(){var z;if(x.zdc)u.Pd(k.T.Bkb);else {z=(0,h.Ii)(u.j,"Eme");x.$fb({log:z,qo:function(A){return u.j.Be(A);}},{bm:u.TXa(z),onerror:function(A,B,D){return u.Pd(A,B,D);}});u.j.LA(x.ud || ({}));u.j.xH="videopreparer";}});});}).catch(function(x){u.log.warn("eme not in cache",x);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Pd(k.T.Gnb)):this.Pd(k.T.yL,k.O.ykb));};c.prototype.jbb=function(v){var u;v=void 0 === v?this.j:v;v.Le=this.AD();u=[];v.Lv.forEach(function(x){u.push((0,h.us)(x));});return this.Wza(u,!1,v);};c.prototype.b9=function(v){return this.config().aX?q.zi.Jo:v?q.zi.Jo:q.zi.bq;};Ya.Object.defineProperties(c.prototype,{ft:{configurable:!0,enumerable:!0,get:function(){return h.Aa.get(n.D3);}},EE:{configurable:!0,enumerable:!0,get:function(){return this.bea?"encrypted":this.Yb.eGa + "needkey";}}});w=c;r.__decorate([l.U$],w.prototype,"ft",null);r.__decorate([l.U$],w.prototype,"EE",null);w=r.__decorate([(0,m.U)()],w);b.IIa=w;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u;Object.defineProperty(b,"__esModule",{value:!0});b.qh=void 0;r=a(0);c=a(315);k=a(1346);h=a(316);g=a(1351);d=a(122);f=a(1353);m=a(1354);l=a(164);n=a(583);p=a(1355);q=a(584);t=a(1357);w=a(81);v=a(585);u=a(1358);b.qh=new r.zd(function(x){x(c.Vha).to(k.oNa).ba();x(h.Xha).to(g.ANa).ba();x(d.NL).to(f.mNa).ba();x(l.lG).to(m.jNa).ba();x(n.uNa).to(p.tNa).ba();x(q.yNa).xf(function(y){var z;z=y.gb;return function(A){return new t.zNa(A,z.get(w.Oy),z.get(l.lG));};});x(v.MIa).xf(function(y){var z;z=y.gb;return function(A,B,D){return new u.NIa(A,B,D,z.get(l.lG),z.get(d.NL));};});});},function(r,b,a){var k,h,g,d,f,m,l,n,p;function c(q,t,w,v,u,x,y){this.Vf=q;this.Kpa=t;this.hj=w;this.wBa=v;this.HXb=u;this.JXb=x;this.IXb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.oNa=void 0;r=a(2);k=a(0);h=a(1347);g=a(7);d=a(164);f=a(363);m=a(583);l=a(450);n=a(584);a=a(316);c.prototype.create=function(q){return new h.pNa(q,this.Vf,this.Kpa,this.hj,this.wBa,this.HXb,this.JXb,this.IXb);};p=c;p=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yb)),r.__param(1,(0,k.l)(f.lS)),r.__param(2,(0,k.l)(d.lG)),r.__param(3,(0,k.l)(l.QPa)),r.__param(4,(0,k.l)(m.uNa)),r.__param(5,(0,k.l)(n.yNa)),r.__param(6,(0,k.l)(a.Xha))],p);b.oNa=p;},function(r,b,a){var k,h,g;function c(d,f,m,l,n,p,q,t){this.wBa=n;this.lCa=t;this.ZW=!1;l.aea && (d=new g.qNa().o5b(d));this.ob=q(d);this.Sk=new h.BNa(this.ob);this.Sk.zcb(this.ob.ka.N);this.log=f.kb("PlaygraphManager");this.Wb=m.create();this.Bv=p.create(this.ob,this.Sk,this.log,this.Wb);this.l2b();}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;k=a(18);h=a(1348);g=a(1350);c.prototype.LLb=function(){return this.ob.Sba;};c.prototype.$qa=function(){return this.ob.ka;};c.prototype.a1a=function(){return this.ob.Ch;};c.prototype.yI=function(){return this.ob.ul;};c.prototype.Qi=function(d){for(var f=[],m=0;m < arguments.length;++m){f[m - 0]=arguments[m];}this.ob.Qi.apply(this.ob,ja(f));};c.prototype.Mzb=function(d){for(var f=[],m=0;m < arguments.length;++m){f[m - 0]=arguments[m];}this.ob.bVa(f);};c.prototype.ry=function(d){this.ob.ul=d;};c.prototype.mj=function(d,f){this.ob.mj(d,f);};c.prototype.rsa=function(d,f,m,l){var n,p;m=void 0 === m?{}:m;l=void 0 === l?!0:l;if(d !== this.ob.Ch)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.yI().P[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.bdb();null === (p=m.en) || void 0 === p?void 0:p.isUIAutoPlay;return this.Bv.ssa(f,m,l);};c.prototype.isReady=function(){return this.Bv.isReady();};c.prototype.addListener=function(d,f,m){this.Wb.addListener(d,f,m);};c.prototype.removeListener=function(d,f){this.Wb.removeListener(d,f);};c.prototype.co=function(){return this.Bv.co();};c.prototype.Mb=function(){return this.Bv.wI();};c.prototype.iDb=function(d,f,m){var l;d=void 0 === d?this.yI().fe:d;f=void 0 === f?{}:f;l=this.lCa.fYa(this);this.lYb(null !== d && void 0 !== d?d:this.yI().fe,f,m);return l;};c.prototype.Jvb=function(d){var f;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.$ + ", logicalEnd: " + d.Fj);f=Object.assign({},d.Db,d.$?{$:d.$}:{},d.Fj?{Fj:d.Fj}:{});this.Vdb(d.K,f,d.ia);d=this.Bv.oUa(d);this.bdb();return d;};c.prototype.transition=function(d){var f;f=this.ob.yX(this.ob.Ch);return f?this.rsa(this.ob.Ch,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Bv.close(d);};c.prototype.lYb=function(d,f,m){var l;void 0 === d && (d=null === (l=this.yI()) || void 0 === l?void 0:l.fe);(f || m) && this.Vdb(this.yI().P[d].N,null !== f && void 0 !== f?f:{},m);this.Bv.LJ(d);};c.prototype.Vdb=function(d,f,m){m && this.Sk.gN(d,m);this.Sk.yvb(d,f);};c.prototype.l2b=function(){var d;d=this;this.ob.Q3b(function(){d.Sk.Sx();d.Bv.Sx();});this.ob.R3b(function(f){d.Bv.Twa(f);});this.ob.P3b(function(f){d.Bv.vJ(f);});this.addListener(k.mG.O_,function(){return d.YVb();});this.addListener(k.Ja.v4a,function(f){return d.MVb(f);});};c.prototype.bdb=function(){var d;d=this;this.ZW || (this.Mb().Cla(k.ga.jK,function(f){return d.HE(f);}),this.ZW=!0);};c.prototype.MVb=function(d){var f;f=this;this.Bv.wfb(d).catch(function(){return f.Wb.ed(k.Ja.error,d.J0());});};c.prototype.YVb=function(){var d;d=this.Mb().getError();d?this.Wb.ed(k.Ja.uN,d):(this.Wb.ed(k.Ja.v6),this.Wb.ed(k.Ja.zm),this.Wb.ed(k.Ja.aw),this.Wb.ed(k.Ja.fm),this.Wb.ed(k.Ja.N0),this.Wb.ed(k.Ja.uN));};c.prototype.HE=function(d){var f,m,l;!1;f=d.metrics;if(f){m=this.Mb();l=m.Bk(d.position.segmentId);f=m.Bk(f.srcsegment);this.wBa.SYb(d,l,f,! !m.l2a().ci);}};b.pNa=c;},function(r,b,a){var k;function c(h){this.ja=h;this.yR={};this.Sx();}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;k=a(1349);c.prototype.Sx=function(){var h;h=this;Object.values(this.ja.ul.P).forEach(function(g){g=g.N;h.yR[g] || h.o4a(g);});this.Tda();};c.prototype.RO=function(h){return this.yR[h];};c.prototype.F1b=function(h){this.AX(h).state=k.cz.IGa;this.Tda();};c.prototype.E1b=function(h,g){h=this.AX(h);h.state=k.cz.Error;h.error=g;h.Fbb(!1);this.Tda();};c.prototype.zcb=function(h){h=this.AX(h);h.state=k.cz.okb;h.Fbb(!0);this.Tda();};c.prototype.yvb=function(h,g){this.AX(h).Db=g;};c.prototype.gN=function(h,g){this.AX(h).ia=g;};c.prototype.AX=function(h){var g;return null !== (g=this.RO(h)) && void 0 !== g?g:this.o4a(h);};c.prototype.o4a=function(h){var g,d;g=void 0;d=new Promise(function(f,m){g=function(l){(l?f:m)();};});return this.yR[h]={state:k.cz.SKa,rZb:d,Fbb:g};};c.prototype.Tda=function(){var g;for(var h=this.ja.Ch;h=this.ja.yX(h);){g=this.yp(h);if(this.yR[g].state === k.cz.Error)break;if(this.yR[g].state === k.cz.IGa)break;if(this.yR[g].state === k.cz.SKa)break;}};c.prototype.yp=function(h){return this.ja.ul.P[h].N;};b.BNa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cz=void 0;r=b.cz || (b.cz={});r[r.SKa=0]="None";r[r.IGa=1]="Fetching";r[r.okb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=void 0;k=a(51);c.prototype.o5b=function(h){var g;if(!this.dQb(h.P))return h;g=new k.Aw().pK(h.fe);Object.entries(h.P).forEach(function(d){var f;f=pa(d);d=f.next().value;f=f.next().value;d === h.fe?g.eh(d,Object.assign(Object.assign({},f),{next:void 0,va:void 0,vc:void 0})):g.eh(d,f);});return g.zj();};c.prototype.dQb=function(h){h=Object.values(h).map(function(g){return g.N;});return 1 === new Set(h).size;};b.qNa=c;},function(r,b,a){var k,h,g,d;function c(f,m){this.Ea=f;this.dRb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ANa=void 0;r=a(2);k=a(0);h=a(20);g=a(585);c.prototype.create=function(f){return new (a(317).f4)(this.Ea.Xb(),f);};c.prototype.fYa=function(f){return new (a(1352).oQa)(this.Ea.Xb(),f,this.dRb);};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.vd)),r.__param(1,(0,k.l)(g.MIa))],d);b.ANa=d;},function(r,b,a){var k;function c(h,g,d){var f;f=k.f4.call(this,h,g) || this;f.seek=function(m){return f.Mb().seek(m);};f.addEpisode=function(m){return f.Dua.ivb(m);};f.playNextEpisode=function(m){m=void 0 === m?{}:m;return f.Dua.rXb(m);};f.watchCredits=function(m){return f.Dua.H7b(m);};f.playSegment=function(m){return f.Mb().p$a(m);};f.queueSegment=function(m){return f.Mb().oab(m);};f.updateNextSegmentWeights=function(m,l){return f.Mb().mj(m,l);};f.setNextSegment=function(m){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}l=l.map(function(p){return {fa:p.segmentId,KP:p.nextSegmentId};});f.qh.Qi.apply(f.qh,ja(l));};f.clearNextSegment=function(m){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}return f.qh.Mzb.apply(f.qh,ja(l));};f.goToNextSegment=function(m,l){return f.qh.rsa(m,l);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return ! !f.Mb().GX().visibility;};f.setTimedTextVisibility=function(m){return f.setTimedTextVisible(m);};f.setTimedTextSize=function(m){return f.Mb().NQ({size:m});};f.setTimedTextBounds=function(m){return f.Mb().NQ({bounds:m});};f.setTimedTextMargins=function(m){return f.Mb().NQ({margins:m});};f.setTimedTextVisible=function(m){return f.Mb().NQ({visibility:m});};f.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};f.Dua=d(h,g,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.oQa=void 0;k=a(317);la(c,k.f4);b.oQa=c;},function(r,b,a){var k,h,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;r=a(2);k=a(122);h=a(0);g=a(51);c.prototype.eDb=function(d){var l,n,p;for(var f=[],m=0;m < arguments.length;++m){f[m - 0]=arguments[m];}l=this;if(0 === f.length)throw Error("Empty playgraph");n=new g.Aw().pK(this.Is(f[0]));f.reverse().forEach(function(q){var t;t=l.Is(q);n.eh(t,Object.assign({N:q,sa:0,va:Infinity},p?{vc:p}:{}));p=t;});return n.zj();};c.prototype.Is=function(d,f){f=void 0 === f?k.nG.Oga:f;return d + ":" + f;};c.prototype.mwb=function(d,f){var m,l,n,p;if(void 0 === n)n=null !== (m=f.id) && void 0 !== m?m:this.Is(f.K);m=this.I1a(d);p=new g.Aw(d);p.eh(n,{N:f.K,sa:null !== (l=f.$) && void 0 !== l?l:0,va:Infinity});d=d.P[m];f={};p.eh(m,Object.assign({},d,{vc:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.zj();};c.prototype.I1a=function(d){for(var f=d.fe,m=f;m=d.P[m].vc;){f=m;}return f;};a=c;a=r.__decorate([(0,h.U)()],a);b.mNa=a;},function(r,b,a){var k,h,g,d,f;function c(m){return h.ff.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;r=a(2);k=a(0);h=a(49);g=a(34);d=a(48);f=a(5);la(c,h.ff);Ya.Object.defineProperties(c.prototype,{rYb:{configurable:!0,enumerable:!0,get:function(){return 2;}},qYb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Naa)(3);}},eCa:{configurable:!0,enumerable:!0,get:function(){return !1;}},aea:{configurable:!0,enumerable:!0,get:function(){return !1;}},wgb:{configurable:!0,enumerable:!0,get:function(){return !1;}},g0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vba:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.bC,"prepareSegmentsUpfront")],a.prototype,"rYb",null);r.__decorate([d.config(d.pl,"prepareSegmentsDuration")],a.prototype,"qYb",null);r.__decorate([d.config(d.Fd,"usePlaygraphForPostPlay")],a.prototype,"eCa",null);r.__decorate([d.config(d.Fd,"usePlaygraphForSkipSegment")],a.prototype,"aea",null);r.__decorate([d.config(d.Fd,"useSinglePlayerPlayback")],a.prototype,"wgb",null);r.__decorate([d.config(d.Fd,"forcePlaygraphTrace")],a.prototype,"g0a",null);r.__decorate([d.config(d.Fd,"postPlayDefaultNextEpisode")],a.prototype,"Vba",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.om))],a);b.jNa=a;},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y,z){this.Ea=t;this.U0b=v;this.hj=x;this.Zm=z;this.T0b=w.nI(!1,"6.0036.026.911",t.id,y,u);}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;r=a(2);k=a(0);h=a(20);g=a(164);d=a(1356);f=a(368);m=a(220);l=a(11);n=a(586);p=a(39);a=a(122);c.prototype.create=function(t,w,v,u){var x,y;x=this.U0b.UCb(t,this.T0b,w);y=t.fCa;v.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.VOa(this.hj,t,w,v,x,u,this.Zm):new n.bG(t,w,x,u,this.Zm);};q=c;q=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.vd)),r.__param(1,(0,k.l)(f.HOa)),r.__param(2,(0,k.l)(m.qia)),r.__param(3,(0,k.l)(l.Wc)),r.__param(4,(0,k.l)(g.lG)),r.__param(5,(0,k.l)(p.C3)),r.__param(6,(0,k.l)(a.NL))],q);b.tNa=q;},function(r,b,a){var k,h,g,d,f;function c(m,l,n,p,q,t,w){var v;v=d.bG.call(this,l,n,q,t,w) || this;v.hj=m;v.Ca=p;v.ZW=!1;v.Dpa=new Map();v.PVb=function(){v.wI().Cla(h.ga.jK,function(u){v.Wb.ed(h.mG.O_);v.ob.Ch=u.position.segmentId;});};v.LOb();t.addListener(h.Ja.loaded,v.PVb);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.VOa=void 0;k=a(51);h=a(18);g=a(3);d=a(586);f=a(122);la(c,d.bG);c.prototype.oUa=function(m){var l,n,p,q,t,w,v,u,x,y,z;l=this;p=this.ob.ul;q=this.Zm.Is(m.K,"ident");t=this.Zm.Is(m.K,"main");w=this.Zm.Is(m.K,"credits");v=isFinite(m.Fj);u=isFinite(m.$) && m.K !== p.P[p.fe].N;x={};y=new k.Aw(p).eh(t,Object.assign({N:m.K,sa:u && m.$ || 0,va:null !== (n=m.Fj) && void 0 !== n?n:Infinity},v?{next:(x[w]={},x),vc:w}:{}));u && (n={},y.eh(q,{N:m.K,sa:0,va:m.$,next:(n[t]={},n),vc:t}));v && y.eh(w,{N:m.K,sa:m.Fj,va:Infinity});if(!this.ob.OB(t)){m=p.P[this.Zm.I1a(p)].N;z=this.Zm.Is(m,f.nG.iEa);[this.Zm.Is(m,f.nG.Oga),z].filter(function(A){return l.ob.OB(A);}).forEach(function(A){var B,D,C;B=l.ob.Oe(A);D=A === z || l.hj.Vba;C={};y.eh(A,Object.assign({},B,{next:Object.assign({},B.next,(C[t]={},C))},D?{vc:t}:{}));});}this.ob.ul=y.zj();return this.LJ(t);};c.prototype.Sx=function(){this.isReady() && this.wI().Sx();};c.prototype.Twa=function(){};c.prototype.vJ=function(m){this.wI().vJ(m);};c.prototype.ssa=function(m,l,n){l=void 0 === l?{}:l;this.Ca.debug("goToSegment " + m);return this.wI().LX(m,l,n);};c.prototype.LJ=function(m){if(m === this.S0b)return null;this.S0b=m;return this.ZW?this.Sk.RO(this.ob.Oe(m).N).rZb:(this.ZW=!0,d.bG.prototype.LJ.call(this,m));};c.prototype.wfb=function(m){return m.errorCode && this.Dpa.has(m.errorCode)?this.Dpa.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.LOb=function(){var m;m=this;this.Dpa.set(g.T.uLa,function(){var l,n;return null !== (n=null === (l=d.bG.prototype.LJ.call(m,m.ob.Ch)) || void 0 === l?void 0:l.then(function(){var p,q;d.bG.prototype.ssa.call(m,m.ob.Ch,null !== (q=null === (p=m.Sk.RO(m.ob.ka.N)) || void 0 === p?void 0:p.Db) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.VOa=c;},function(r,b,a){var k,h;function c(g,d,f){this.KA=d;this.hj=f;this.e5={};this.Sfb=[];this.qdb=[];this.x8a=[];this.dma=new WeakMap();this.reset(g);}Object.defineProperty(b,"__esModule",{value:!0});b.zNa=void 0;k=a(51);h=a(51);c.prototype.reset=function(g){var d;d=1 < Object.keys(g.P).length && 1 === new Set(Object.values(g.P).map(function(f){return f.N;})).size;this.Hub=this.hj.wgb || d;this.Ncb(g);this.Ch=g.fe;this.gtb=this.KA.dA();this.vAa=new Map();};c.prototype.k9=function(g){if(this.fCa)return this.ul;this.dma.has(g) || this.dma.set(g,(0,k.bF)(g.K,g.fa));return this.dma.get(g);};c.prototype.Ncb=function(g){this.htb=g;this.e5={};g=Object.keys(g.P);this.bVa(g);this.ZUb();};c.prototype.Qi=function(g){var m;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}m=this;d.filter(function(l){return m.OB(l.fa);}).filter(function(l){l=l.KP;return !l || m.OB(l);}).forEach(function(l){var n;n=l.fa;m.e5[n]=m.V8a(l.KP);m.QUb(n);});};c.prototype.bVa=function(g){var d;d=this;g.filter(function(f){return d.OB(f);}).forEach(function(f){d.e5[f]=d.V8a(d.Oe(f).vc);});};c.prototype.mj=function(g,d){var f,m,l;f=this.Oe(g);if(f && f.next){m=new h.Aw(this.ul);l=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});l=Object.assign({},f,{next:l});m.eh(g,l);this.ul=m.zj();}};c.prototype.OB=function(g,d){d=void 0 === d?this.ul.P:d;return (g in d);};c.prototype.yX=function(g){return this.e5[g];};c.prototype.Oe=function(g){return this.ul.P[g];};c.prototype.mMb=function(g){if(this.vAa.has(g))return this.vAa.get(g);g=this.Oe(g);return isFinite(g.va)?g.va:void 0;};c.prototype.p6b=function(g,d){this.vAa.set(g,d);this.VUb(g);};c.prototype.Q3b=function(g){this.Sfb.push(g);};c.prototype.R3b=function(g){this.qdb.push(g);};c.prototype.P3b=function(g){this.x8a.push(g);};c.prototype.ZUb=function(){var g;g=this;this.Sfb.forEach(function(d){return d(g.ul);});};c.prototype.QUb=function(g){this.x8a.forEach(function(d){return d(g);});};c.prototype.VUb=function(g){this.qdb.forEach(function(d){return d(g);});};c.prototype.V8a=function(g){return null === g?void 0:g;};Ya.Object.defineProperties(c.prototype,{Sba:{configurable:!0,enumerable:!0,get:function(){return this.gtb;}},fCa:{configurable:!0,enumerable:!0,get:function(){return this.Hub;}},ul:{configurable:!0,enumerable:!0,get:function(){return this.htb;},set:function(g){if(this.Ch && !this.OB(this.Ch,g.P))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Ch);this.Ncb(g);}},Ch:{configurable:!0,enumerable:!0,get:function(){return this.mqb;},set:function(g){if(!this.OB(g))throw Error("Provided currentSegmentId " + g + " does not exist in the current playgraph");this.mqb=g;}},ka:{configurable:!0,enumerable:!0,get:function(){return this.Oe(this.Ch);}}});b.zNa=c;},function(r,b,a){var k,h;function c(g,d,f,m,l){this.gj=g;this.qh=d;this.log=f;this.hj=m;this.Zm=l;this.Kba=new k.Rha();}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;k=a(587);h=a(122);c.prototype.ivb=function(g){var d,f,m,l,n,p,q;this.log.info("Next episode added",g);p=this.Kba.lva(g.playbackParams);q=Math.max(0,null !== (m=null !== (f=null !== (d=g.startPts) && void 0 !== d?d:g.nextStartPts) && void 0 !== f?f:p.$) && void 0 !== m?m:0);d=null !== (n=null !== (l=g.endPts) && void 0 !== l?l:g.currentEndPts) && void 0 !== n?n:p.Fj;return this.qh.Jvb({K:g.movieId,$:q,Fj:d,Db:p,ia:g.manifest,gj:this.gj});};c.prototype.rXb=function(g){var d,f,m,l,n,p;g=this.Kba.lva(g);this.log.info("Playing the next episode",g);m=this.qh.a1a();l=this.qh.yI();n=l.P[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.N !== l.P[q].N;});d=!this.hj.Vba || !(null === (f=g.en) || void 0 === f?0:f.isUIAutoPlay);return p?this.qh.rsa(m,p,g,d):Promise.reject(Error("Next episode not found"));};c.prototype.H7b=function(g){var d,f;d=this.Zm.Is(g,h.nG.Oga);g=this.Zm.Is(g,h.nG.iEa);f=this.qh.ob;this.hj.Vba && f.Ch !== g && f.OB(g) && f.yX(d) !== g && this.qh.Qi({fa:d,KP:g});};b.NIa=c;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.eVa=void 0;r=a(0);c=a(1360);k=a(37);b.eVa=new r.zd(function(h){h(k.Ti).to(c.mDa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n,p,q,t,w,v;function c(u,x,y,z,A,B){var D;D=this;this.Cl=u;this.config=y;this.ot=z;this.debug=A;this.Ea=B;this.$eb=[];this.ud={};this.log=x.kb("loadAsync");this.mSb=(0,t.PGa)(function(C){D.ZZb=!0;D.startTime=D.Ea.Xb().ca(p.la);D.load(D.$eb).then(function(){D.endTime=D.Ea.Xb().ca(p.la);C(v.Fg);}).catch(function(F){D.endTime=D.Ea.Xb().ca(p.la);C(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;r=a(2);k=a(80);h=a(3);g=a(1361);d=a(62);f=a(0);m=a(7);l=a(11);n=a(67);p=a(5);q=a(112);t=a(588);w=a(20);v=a(14);c.prototype.zY=function(u){this.mSb(u);};c.prototype.register=function(u,x){this.debug.assert(!this.ZZb);this.$eb.push({HRb:this.Cyb(x),errorCode:u});};c.prototype.Be=function(u){this.debug.assert(void 0 === this.ud[u]);this.ud[u]=this.Ea.Xb().ca(p.la);};c.prototype.load=function(u){var x;x=this;return (0,g.W$a)(u).then(function(y){x.Cl.mark(d.Ho.fk.Fhb);return y.reduce(function(z,A){return z.then(function(){return x.ERb(A);});},Promise.resolve()).then(function(){x.Cl.mark(d.Ho.fk.Dhb);});});};c.prototype.ERb=function(u){var x,y;x=this;y=u.HRb;!1;return this.ot.ut((0,p.Sc)(this.config().Iwb),y()).catch(function(z){x.log.error("Failed to load component " + u.errorCode,z);x.Cl.mark(d.Ho.fk.Ehb);if(z instanceof n.Zr)throw {wa:h.O.Chb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.wa=z.wa || h.O.Bhb;throw z;});};c.prototype.Cyb=function(u){return function(){return new Promise(function(x,y){u(function(z){z.da?x():y(z);});});};};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.WL)),r.__param(1,(0,f.l)(m.yb)),r.__param(2,(0,f.l)(l.Wc)),r.__param(3,(0,f.l)(n.oG)),r.__param(4,(0,f.l)(q.Fy)),r.__param(5,(0,f.l)(w.vd))],a);b.mDa=a;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.W$a=void 0;c=a(3);k=[c.T.xlb,c.T.UHa,c.T.VHa,c.T.ZHa,c.T.RHa,c.T.PHa,c.T.tga,c.T.Blb,c.T.SHa,c.T.QHa,c.T.tC,c.T.MHa,c.T.OHa,c.T.WHa,c.T.XHa,c.T.YHa,c.T.THa,c.T.NHa];(function(g){g.Rmb=function(d){var l;for(var f={},m=0;m < d.length;m++){l=d[m];if(f[l.errorCode])return {errorCode:l.errorCode,wa:c.O.zhb};f[l.errorCode]=1;}};g.Smb=function(d){var m;for(var f=0;f < d.length;f++){m=d[f];if(-1 === k.indexOf(m.errorCode))return {errorCode:m.errorCode,wa:c.O.Ahb};}};})(h || (h={}));b.W$a=function(g){return new Promise(function(d,f){var m;m=h.Smb(g);m && f(m);(m=h.Rmb(g)) && f(m);d(g.sort(function(l,n){return k.indexOf(l.errorCode) - k.indexOf(n.errorCode);}));});};},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ia=void 0;r=a(0);c=a(1363);k=a(120);b.ia=new r.zd(function(h){h(k.$F).to(c.IJa).ba();});},function(r,b,a){var k,h,g,d,f,m,l,n,p,q;function c(t,w,v,u,x,y){this.rg=w;this.P6a=u;this.HY=y;this.s_=new Map();this.log=t.kb("ManifestFetcher");this.Og=v.Og;this.dyb=x().pGb;}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(2);k=a(0);h=a(20);g=a(38);d=a(7);f=a(5);m=a(11);l=a(104);n=a(61);p=a(304);a=a(135);c.prototype.GO=function(t,w,v){var u;u=this;w=void 0 === w?!0:w;v && this.Cvb(t.N,v);return w && this.C9(t.N)?this.K8(t.N).catch(function(){return u.mbb(t,w);}):this.mbb(t,w);};c.prototype.C9=function(t){return this.Og.PX(t,"manifest");};c.prototype.l0=function(t,w){var v;v=this;this.dyb && this.Og.setData(t,"manifest",w,function(){return v.dNb(t);});};c.prototype.K8=function(t){var w;w=this;return this.Og.getData(t,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.Ib.expiration <= (0,n.R6)())throw (w.Og.clearData(t,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.dNb=function(t){var w;null === (w=this.s_.get(t)) || void 0 === w?void 0:w.forEach(function(v){return v();});this.s_.delete(t);};c.prototype.Cvb=function(t,w){this.s_.has(t) || this.s_.set(t,[]);this.s_.get(t).push(w);};c.prototype.mbb=function(t,w){var v,u,x;v=this;this.log.trace("Requesting a new manifest",t.N);u=this.rg.Xb().ca(f.la);x=(t.Vh?this.G5b(t).catch(function(y){v.log.warn(y.message);return v.P6a.Sg(v.log,t);}):this.P6a.Sg(this.log,t)).then(function(y){var z,A;if(y.jA){z=y.jA;A={Wca:Promise.resolve(z),source:"manifest"};delete y.jA;v.Og.setData(t.N,"ldl",A,function(){z.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}t.Su === l.vn.iG && (y.VJ=u,y.vQ=v.rg.Xb().ca(f.la));return y;}).catch(function(y){w && v.l0(t.N,void 0);v.log.error("Failed to fetch manifest",g.od.Me(y));throw y;});w && this.l0(t.N,x);return x;};c.prototype.G5b=function(t){var w;w=this;return new Promise(function(v,u){var x,y,z,A,B;w.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",t.N);A=null === (x=t.Vh) || void 0 === x?void 0:x.zba;if(!A)return u(Error("Parent manifest does not exist."));B=null === (y=t.Vh) || void 0 === y?void 0:y.xj;x=null === (z=A.sVa) || void 0 === z?void 0:z.find(function(D){return D.K === t.N && (void 0 === B || D.xj === B);});if(!x)return u(Error("Auxiliary manifest not found in parent manifest."));v(w.HY.create(x));});};q=c;q=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.yb)),r.__param(1,(0,k.l)(h.vd)),r.__param(2,(0,k.l)(p.pfa)),r.__param(3,(0,k.l)(l.Bha)),r.__param(4,(0,k.l)(m.Wc)),r.__param(5,(0,k.l)(a.CL))],q);b.IJa=q;},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.JUa=void 0;c=a(1365);k=a(172);r=a(0);h=a(75);g=a(11);b.JUa=new r.zd(function(d){d(k.B1).to(c.NCa).ba();});b.profile=new r.zd(function(d){d(h.PL).nF(function(f){return (f=f.gb.get(g.Wc)()) && f.qA?"browsertest":"browser";});});},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p,q){l=d.ff.call(this,l,void 0 === q?"AppInfoConfigImpl":q) || this;l.config=n;l.Nda=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;r=a(2);k=a(0);h=a(40);g=a(48);d=a(49);f=a(34);a=a(293);la(c,d.ff);c.prototype.vLb=function(l){return "" + this.g_a + (this.Nda.cda(l)?"/msl_v1":"");};c.prototype.FLb=function(l){return "" + this.host + (this.Nda.cda(l)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},g_a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var l;switch(this.config.kO){case h.Ky.Hob:l="www.stage";break;case h.Ky.APa:l="www-qa.test";break;case h.Ky.rIa:l="www-int.test";break;default:l="www";}return "https://" + l + ".netflix.com";}},BVa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;r.__decorate([g.config(g.string,"apiEndpoint")],m.prototype,"endpoint",null);r.__decorate([g.config(g.string,"nqEndpoint")],m.prototype,"g_a",null);r.__decorate([g.config(g.string,"bindService")],m.prototype,"BVa",null);m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.om)),r.__param(1,(0,k.l)(h.Io)),r.__param(2,(0,k.l)(a.d4)),r.__param(3,(0,k.l)(f.P1)),r.__param(3,(0,k.optional)())],m);b.NCa=m;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.W6b=b.Pob=b.Nob=b.Mob=b.Oob=void 0;c=a(13);k=a(12);b.Oob=function(h,g,d){for(d=(d - h.length) / g.length;0 < d--;){h+=g;}return h;};b.Mob=function(h,g,d){d=(0,c.Uf)(d)?d:"...";return h.length <= g?h:h.substr(0,h.length - (h.length + d.length - g)) + d;};b.Nob=function(h,g){var f;for(var d=1;d < arguments.length;++d){;}f=k.slice.call(arguments,1);return h.replace(/{(\d+)}/g,function(m,l){return "undefined" != typeof f[l]?f[l]:m;});};b.Pob=function(h){for(var g=h.length,d=new Uint16Array(g),f=0;f < g;f++){d[f]=h.charCodeAt(f);}return d.buffer;};b.W6b=function(h){var g;g=new Uint8Array(h.length);Array.prototype.forEach.call(h,function(d,f){g[f]=d.charCodeAt(0);});return g;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(115);a=a(302);r.Aa.get(b.AL).oca(a.Lga.Xib,function(c){var k,h;k=c.level;if(!nb._cad_global.config || k <= nb._cad_global.config.ZRb){c=c.Dda();h=nb.console;1 >= k?h.error(c):2 >= k?h.warn(c):h.log(c);}});},function(r,b,a){var m,l,n,p,q;function c(t){var w,u;(0,l.cW)(t);if((0,p.Uf)(t) && b.cIa.test(t)){w=t.split(".");if(4 === w.length){for(var v=0;v < w.length;v++){u=(0,q.Mj)(w[v]);if(0 > u || !(0,p.mE)(u,0,255) || 1 !== w[v].length && 0 === w[v].indexOf("0"))return;}return t;}}}function k(t){var w;w=0;if(c(t) === t)return (t=t.split("."),w+=(0,q.Mj)(t[0]) << 24,w+=(0,q.Mj)(t[1]) << 16,w+=(0,q.Mj)(t[2]) << 8,w + (0,q.Mj)(t[3]));}function h(t){var w,v;(0,l.cW)(t);if((0,p.Uf)(t) && t.match(b.dIa)){w=t.split(":");-1 !== w[w.length - 1].indexOf(".") && (t=g(w[w.length - 1]),w.pop(),w.push(t[0]),w.push(t[1]),t=w.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== w.length) && (w=1 < t.length?d(t):w,t=w.length,8 === t)){for(;t--;){v=parseInt(w[t],16);if(!(0,p.mE)(v,0,m.tJa))return;}return w.join(":");}}}function g(t){var w;t=k(t) >>> 0;w=[];w.push((t >>> 16 & 65535).toString(16));w.push((t & 65535).toString(16));return w;}function d(t){var w,v,u;w=t[0].split(":");t=t[1].split(":");1 === w.length && "" === w[0] && (w=[]);1 === t.length && "" === t[0] && (t=[]);v=8 - (w.length + t.length);if(1 > v)return [];for(u=0;u < v;u++){w.push("0");}for(u=0;u < t.length;u++){w.push(t[u]);}return w;}function f(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.Mlb=b.Rlb=b.Olb=b.Nlb=b.Qlb=b.Llb=b.Plb=b.RF=b.dIa=b.cIa=void 0;m=a(14);l=a(24);n=a(12);p=a(13);q=a(25);b.cIa=/^[0-9.]*$/;b.dIa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.RF="0000000000000000";b.Plb=c;b.Llb=k;b.Qlb=h;b.Nlb=g;b.Olb=d;b.Rlb=function(t,w,v){var u,x,y,z;u=c(t);x=h(t);y=c(w);z=h(w);if(!u && !x || !y && !z || u && !y || x && !z)return !1;if(t === u)return (v=f(v),(k(t) & v) !== (k(w) & v)?!1:!0);if(t === x){t=t.split(":");w=w.split(":");for(u=(0,n.DL)(v / b.RF.length);u--;){if(t[u] !== w[u])return !1;}v%=b.RF.length;if(0 !== v)for((t=parseInt(t[u],16).toString(2),w=parseInt(w[u],16).toString(2),t=b.RF.substring(0,b.RF.length - t.length) + t,w=b.RF.substring(0,b.RF.length - w.length) + w,u=0);u < v;u++){if(t[u] !== w[u])return !1;}return !0;}return !1;};b.Mlb=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(19);a(14);r=a(8);a(115);a(302);a(3);a(114);a(5);a=a(37);r.Aa.get(a.Ti);!1;},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(14);h=a(3);g=a(12);r=a(8);a=a(37);d=r.Aa.get(a.Ti);d.register(h.T.ZHa,function(f){g.Cq && g.Cq.generateKey && g.Cq.importKey && g.Cq.unwrapKey?(d.Be("wcs"),(0,c.yJ)(g.Cq.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.Be("wcdone");f(k.Fg);},function(m){var l;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))l=h.O.Pia;else 0 <= m.indexOf("timeout waiting for iframe to load") && (l=h.O.dpb);f({wa:l,Sb:m});})):f({wa:h.O.Pia});});},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(8);k=a(538);a=a(37);c.Aa.get(a.Ti).register(r.T.PHa,function(h){c.Aa.get(k.PFa)().then(function(){h({da:!0});}).catch(function(g){c.log.error("error in initializing indexedDb debug tool",g);h({da:!0});});});},function(r,b,a){var g,d,f,m;function c(l,n,p,q){var t,w,v;(0,g.sb)((0,m.Bj)(l) && !(0,m.isArray)(l));q=q || "";t="";w=l.hasOwnProperty(f.r1) && l[f.r1];w && (0,d.Rg)(w,function(u,x){t && (t+=" ");t+=u + '="' + h(x) + '"';});p=(n?n + ":":"") + p;w=q + "<" + p + (t?" " + t:"");v=l.hasOwnProperty(f.zy) && l[f.zy].trim && "" !== l[f.zy].trim() && l[f.zy];if(v)return w + ">" + h(v) + "</" + p + ">";l=k(l,n,q + "  ");return w + (l?">\n" + l + "\n" + q + "</" + p + ">":"/>");}function k(l,n,p){var q;(0,g.sb)((0,m.Bj)(l) && !(0,m.isArray)(l));p=p || "";q="";(0,d.Rg)(l,function(t,w){var x;if("$" != t[0])for(var v=(0,d.Ix)(w),u=0;u < v.length;u++){if((w=v[u],q && (q+="\n"),(0,m.Bj)(w)))q+=c(w,n,t,p);else {x=(n?n + ":":"") + t;q+=p + "<" + x + ">" + h(w) + "</" + x + ">";}}});return q;}function h(l){if((0,m.Uf)(l))return (0,d.Qsa)(l);if((0,m.Ga)(l))return ((0,g.bW)(l,"Convert non-integer numbers to string for xml serialization."),"" + l);if(null === l || void 0 === l)return "";(0,g.sb)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.a5b=b.zQb=b.yQb=void 0;g=a(24);d=a(25);f=a(193);m=a(13);b.yQb=c;b.zQb=k;b.a5b=h;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D,C,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);k=a(308);h=a(198);g=a(19);d=a(14);f=a(3);m=a(24);l=a(8);n=a(80);p=a(62);q=a(96);t=a(25);w=a(12);v=a(13);u=a(44);x=a(114);y=a(5);r=a(37);z=a(507);A=a(138);B=a(69);D=a(75);C={};F=l.Aa.get(r.Ti);F.register(f.T.SHa,function(G){var L,H,Q,O,J,M,P,R,S,U,ba,na,va,ya;function E(ra){ra && ra.userList && g.config.v2b && (ra.userList=[]);O({esn:h.vk.ll,esnPrefix:h.vk.qp,authenticationKeyNames:g.config.exb,systemKeyWrapFormat:g.config.m4b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:va,storeState:ra,notifyMilestone:F.Be.bind(F),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.O.umb,MSL_READ_TIMEOUT:f.O.tmb}},{result:function(V){I(V);},timeout:function(){G({wa:f.O.CJa});},error:function(V){G(N(f.O.CJa,void 0,V));}});}function I(ra){var K,T,fa,ia;function V(){na && l.Aa.get(q.mC).create().then(function(Ba){return Ba.save(U,fa,!1);}).catch(function(Ba){P.error("Error persisting msl store",(0,f.Ly)(Ba));});}K=this;T=l.Aa.get(x.UL)((0,y.Sc)(100));ia=J.extend({init:function(Ba){this.ySa=Ba;},getResponse:function(Ba,Sa,La){var Za,Wa;Sa=this.ySa;Za=Sa.awa.Tf || Za;Ba=(0,v.aua)(Ba.body)?(0,l.Z0)(Ba.body):Ba.body;(0,m.cW)(Ba,"Msl should not be sending empty request");Ba={url:Sa.url,H$a:Ba,withCredentials:!0,ED:"nq-" + Sa.method,headers:Sa.headers};Sa=this.ySa.timeout;Ba.W6=Sa;Ba.mwa=Sa;Wa=Za.download(Ba,function(Va){try{if(Va.da)La.result({body:Va.content});else if(400 === Va.kl && Va.Sb)La.result({body:Va.Sb});else throw (0,t.Gd)(new M("HTTP error, SubCode: " + Va.wa + (Va.kl?", HttpCode: " + Va.kl:"")),{cadmiumResponse:Va});}catch(cb){La.error(cb);}});return {abort:function(){Wa.abort();}};}});S && ra.addEventHandler("shouldpersist",function(Ba){fa=Ba.storeState;T.cm(V);});(0,t.Gd)(C,{$ec:function(){ba=!0;},send:function(Ba){function Sa(){var La,Za;La=Ba.awa;Za={method:Ba.method,nonReplayable:Ba.G8a,encrypted:Ba.yk,userId:Ba.zgb,body:Ba.body,timeout:2 * Ba.timeout,url:new ia(Ba),allowTokenRefresh:na,sendUserAuthIfRequired:ya,shouldSendUserAuthData:g.config.A2b};La.email?(Za.email=La.email,Za.password=La.password || ""):ba && (Za.useNetflixUserAuthData=!0);return Za;}return new Promise(function(La,Za){var Wa;Wa=Sa();ra.send(Wa).then(function(Va){ba && (ba=!1);La({da:!0,body:Va.body});}).catch(function(Va){var cb,wb;if(Va.error){cb=Va.error.cadmiumResponse && Va.error.cadmiumResponse.wa?Va.error.cadmiumResponse.wa:ra.isErrorReauth(Va.error)?f.O.BJa:ra.isErrorHeader(Va.error)?f.O.nmb:f.O.mmb;wb=ra.getErrorCode(Va.error);Za(N(cb,wb,Va.error));}else (P.error("Unknown MSL error",Va),Va.Jc=Va.subCode,Za({wa:Va.Jc?Va.Jc:f.O.vmb}));});});},cZ:ra});A.xG.nN.mslFetch=function(Ba,Sa){return c.__awaiter(K,void 0,void 0,function Za(){var Wa,Va,cb;return Ja(Za,function(wb){if(1 == wb.FE)return (Wa=l.Aa.get(D.PL),Ma(wb,C.send({awa:{Tf:l.Aa.get(B.rw),profile:Wa},timeout:3E3,url:Ba.toString(),body:null === Sa || void 0 === Sa?void 0:Sa.body,headers:{"Content-Type":"application/x-msl+json"},zgb:Wa,C_b:!1,G8a:!0,yk:!0})));Va=wb.qea;cb={get body() {this.bodyUsed=!0;return Va.body;}};return wb.return((cb.bodyUsed=!1,cb.ok=Va.da,cb.status=Va.da?200:400,cb.statusText=Va.da?"OK":"Bad Request",cb.type="basic",cb.url=Ba.toString(),cb.headers=new Headers({"Content-Type":"application/json"}),cb.text=function(){return Promise.resolve(this.body);},cb.json=function(){return Promise.resolve(JSON.parse(this.body));},cb.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},cb.clone=function(){return Object.assign({},this);},cb.blob=function(){return this.arrayBuffer().then(function(da){return new Blob([da]);});},cb.formData=function(){throw Error("Not implemented");},cb.redirected=!1,cb));});});};G(d.Fg);l.Aa.get(z.eha).rUb(C);}function N(ra,V,K){var T,fa,ia,Ba;ia={wa:ra,V7:V};if(K){Ba=function(Sa){var La;Sa=Sa || "" + K;if(K.stack){La="" + K.stack;Sa=0 <= La.indexOf(Sa)?La:Sa + La;}return Sa;};if(fa=K.cadmiumResponse){if(T=fa.Df && fa.Df.toString())fa.Df=T;fa.wa=ra;fa.V7=V;fa.Sb=Ba(K.message);fa.error={Jc:ra,Qd:T,lB:V,data:K.cause,message:K.message};return fa;}Ba=Ba(K.errorMessage);T=(0,t.Mj)(K.internalCode) || (0,t.Mj)(K.error && K.error.internalCode);fa=void 0 !== K.ZGb?(0,u.Bwa)(K.ZGb):void 0;}Ba && (ia.Sb=Ba);T && (ia.Df=T);ia.error={Jc:ra,Qd:T.toString(),lB:V,data:fa,message:Ba};return ia;}(0,m.sb)(g.config);L=l.Aa.get(n.WL);H=p.Ho.fk;if(w.zC && w.Cq && w.Cq.unwrapKey){try{Q=nb.netflix.msl;O=Q.createMslClient;J=Q.IHttpLocation;M=Q.MslIoException;}catch(ra){G({wa:f.O.omb});return;}P=(0,l.Aj)("Msl");R=g.config.nUb;S=g.config.pUb;U=g.config.qA?"mslstoretest":"mslstore";Q=k.zK.rcb;ba=!0;na=!Q || Q.da;va=(0,l.us)(g.config.qA?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ya=! !g.config.Mza;l.Aa.get(q.mC).create().then(function(ra){R?ra.remove(U).then(function(){E();}).catch(function(V){P.error("Unable to delete MSL store",(0,f.Ly)(V));E();}):S?ra.load(U).then(function(V){L.mark(H.qmb);E(V.value);}).catch(function(V){V.wa == f.O.FC?(L.mark(H.smb),E()):(P.error("Error loading msl store",(0,f.Ly)(V)),L.mark(H.rmb),ra.remove(U).then(function(){E();}).catch(function(K){G(K);}));}):E();}).catch(function(ra){P.error("Error creating app storage while loading msl store",(0,f.Ly)(ra));G(ra);});}else G({wa:f.O.pmb});});},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(191);k=a(14);h=a(19);g=a(63);d=a(61);r=a(3);f=a(8);m=a(80);l=a(12);n=a(60);p=a(13);q=a(52);t=a(86);a=a(37);u=f.Aa.get(a.Ti);u.register(r.T.QHa,function(x){var z;function y(){var A,B,D;A=u.startTime;B={browserua:l.fG,browserhref:l.q3.href,initstart:A,initdelay:u.endTime - A};(A=l.wh.documentMode) && (B.browserdm="" + A);(0,p.lP)(h.config.G_a) && (B.fesn=h.config.G_a);Object.assign(B,(0,c.Pra)());D=l.xw && l.xw.timing;D && h.config.WRb.map(function(C){var F;F=D[C];F && (B["pt_" + C]=F - (0,d.UWa)());});A=z.fLb();Object.entries(A).forEach(function(C){var F;F=pa(C);C=F.next().value;F=F.next().value;return B["m_" + C]=F;});A=v.Bu("startup","info",B,g.CC.nqa);w.Oc(A);}v=f.Aa.get(t.Py);w=f.Aa.get(q.un);z=f.Aa.get(m.WL);u.zY(function(){w.zb();(0,n.fg)(y);});x(k.Fg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w,v,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);k=a(36);h=a(547);g=a(1377);d=a(312);f=a(19);m=a(14);l=a(196);n=a(589);p=a(61);r=a(3);q=a(8);t=a(523);w=a(12);v=a(309);b=a(37);u=a(63);x=a(165);y=a(354);q.Aa.get(b.Ti).register(r.T.MHa,function(z){var A,B,D,C,F,G,E,I;A=q.Aa.get(t.PKa).$Cb();B=q.Aa.get(l.Ifa).nL;D=q.Aa.get(h.lKa).Sr;C=new y.bfa();F={Jba:(0,q.fX)("ASE"),uwb:(0,q.fX)("JS-ASE",void 0,"Platform"),Aj:q.fX,storage:v.storage,uLb:w.aFa,getTime:p.Pn,FYa:function(N){return C.decode(N).buffer;},pP:{},Sr:D,Bw:g.Bw,nL:B,MediaSource:n.oKa,SourceBuffer:d.Zga,wp:function(){return [f.config.k6,f.config.n6];},Au:function(N){u.No.forEach(function(L){L.Tcb(N);});}};B=new Promise(function(N){v.storage.load("nh",function(L){F.pP.nh=L.da?L.data:void 0;N();});});D=new Promise(function(N){v.storage.load("lh",function(L){F.pP.lh=L.da?L.data:void 0;N();});});G=new Promise(function(N){v.storage.load("gh",function(L){F.pP.gh=L.da?L.data:void 0;N();});});E=new Promise(function(N){v.storage.load("sth",function(L){F.pP.sth=L.da?L.data:void 0;N();});});I=new Promise(function(N){v.storage.load("vb",function(L){F.pP.vb=L.da?L.data:void 0;N();});});Promise.all([B,D,I,E,G]).then(function(){return c.__awaiter(this,void 0,void 0,function L(){var H,Q;return Ja(L,function(O){if(1 == O.FE)return (H=a(1379)(F),x.su.pf=a(590),x.su.pf.declare(k.ih),x.su.pf.set(a(185)(f.config),!0,(0,q.fX)("ASE")),Ma(O,k.uI(H)));Q=O.qea;Q.open(x.su.pf,A);Q.Rza({audio:f.config.k6,video:f.config.n6},{W:f.config.F_,aa:void 0});x.su.Ri=Q;z(m.Fg);O.FE=0;});});}).catch(function(N){F.Jba.error("Exception loading location history from local storage",N);});});},function(r,b,a){var k,h,g,d,f,m,l;function c(){var n;n=new h.Tk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.ed.bind(this);this.l5=m++;this.dg=(0,g.Aj)("ProbeRequest");this.USa=k.ONa;(0,d.sb)(void 0 !== this.USa);this.Sh=b.Bw.$c.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Bw=void 0;k=a(1378);h=a(72);g=a(8);d=a(24);f=a(25);m=0;(function(){function n(){return JSON.stringify({url:this.Ll,id:this.l5,affected:this.l4,readystate:this.Sh});}(0,f.Gd)(c.prototype,{NP:function(p){p.affected=this.l4;p.probed={requestId:this.l5,url:this.Ll,ue:this.BU,groupId:this.S4};this.emit(b.Bw.Xe.WS,p);},uwa:function(p){this.mub=p.httpcode;p.affected=this.l4;p.probed={requestId:this.l5,url:this.Ll,ue:this.BU,groupId:this.S4};this.emit(b.Bw.Xe.hG,p);},open:function(p,q,t,w){if(!p)return (!1,!1);this.Ll=p;this.l4=q;this.BU=t;this.Sh=b.Bw.$c.OPENED;this.Drb=w;this.USa.dX(this);return !0;},gd:function(){!1;return !0;},Ji:function(){return this.l5;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Sh;},set:function(){}},status:{get:function(){return this.mub;}},url:{get:function(){return this.Ll;}},Scc:{get:function(){return this.l4;}},NRb:{get:function(){return this.Drb;}}});})();(function(n){n.Xe={WS:"pr0",hG:"pr1"};n.$c={UNSENT:0,OPENED:1,az:2,DONE:3,sL:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(l || (l={}));b.Bw=Object.assign(c,l);},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ONa=void 0;c=a(8);k=a(107);b.ONa=(function(){(0,c.Aj)("ProbeDownloader");return {dX:function(h){h={url:h.url,EYb:h};!1;k.Tf.HYb(h);}};})();},function(r,b,a){var f,m,l,n,p,q,t,w,v,u,x,y,z,A,B,D;function c(C,F,G){this.ip=C;this.groups=F;this.prefix=G;C=u(C,F,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function k(){this.RXa=function(){throw Error("Not implemented");};this.hFb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function h(){}function g(){return v?v:"0.0.0.0";}function d(C){C({B9a:0,w0:0,z3a:0,F_a:0});}f=a(17);k.prototype.set=function(C,F){n[C]=F;p.save(C,F);};k.prototype.get=function(C,F){if(n.hasOwnProperty(C))return n[C];w.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.da?(n[C]=G.data,F && F(G.data)):n[C]=void 0;});};k.prototype.remove=function(C){p.remove(C);};k.prototype.clear=function(){w.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return q();};h.prototype.ha=function(){return t();};h.prototype.Yva=function(C){return C + q() - t();};h.prototype.wwa=function(C){return C + t() - q();};c.prototype.iYa=function(C){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ja(this.prefix)):this.prefix && F.push(this.prefix);F.push(C);return new c(this.ip,this.groups,F);};x=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();r.exports=function(C){m=C.Jba;u=C.Aj;p=C.storage;n=C.pP;q=C.uLb;t=C.getTime;w=C.uwb;y=C.Sr;D=C.Bw;z=C.nL;A=C.SourceBuffer;B=C.MediaSource;v=C.cfc;l=C.Au;return {name:"cadmium",Au:l,Jba:m,storage:new k(),Storage:k,time:new h(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,Sr:y,nL:z,ymb:A,MediaSource:B,Bw:D,Hp:{name:g},memory:{DKb:d},wp:C.wp,FYa:C.FYa};};},function(r,b,a){r.exports={EventEmitter:a(1381),Dg:a(1382)};},function(r){function b(c,k){var h;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ed)return (this.Ed={},this.Ed[c]=[k],!0);h=this.Ed[c];return void 0 === h?(this.Ed[c]=[k],!0):0 > h.indexOf(k)?(h.push(k),!0):!1;}function a(c,k){c=this.Ed?this.Ed[c]:void 0;if(!c)return !1;c.forEach(function(h){h(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var h;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ed)return !1;h=this.Ed[c];if(void 0 === h)return !1;k=h.indexOf(k);if(0 > k)return !1;if(1 === h.length)return (delete this.Ed[c],!0);h.splice(k,1);return !0;},ab:a,emit:a,removeAllListeners:function(c){this.Ed && (void 0 === c?delete this.Ed:delete this.Ed[c]);return this;}};},function(r){function b(c,k,h,g){c.trace(":",h,":",g);k(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,h,g){h=g?h.bind(g):h;g=!1;if(c){this.console && (h=b.bind(null,this.console,h,k));if("function" === typeof c.addEventListener)g=c.addEventListener(k,h);else if("function" === typeof c.addListener)g=c.addListener(k,h);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,h]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var h,g;h=k[0];g=k[1];k=k[2];"function" === typeof h.removeEventListener?h.removeEventListener(g,k):"function" === typeof h.removeListener && h.removeListener(g,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var k,h;function c(g,d){var f,m;f=(0,h.Ii)(g,"MSS");if(k.config.ITb)return {QW:"mss",iy:function(l){var n,p;if(l.lower && 2160 <= l.height)a:{for(n=l;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=nb.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");m=!0;}m || (f.warn("Restricting resolution due screen size",{MaxHeight:l.height}),d.xq.set({reason:"microsoftScreenSize",height:l.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Amb=void 0;r=a(137);k=a(19);h=a(8);(0,r.FL)(c);b.Amb=c;},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(137);c=a(1385);k=a(8);h=a(46);g=a(77);d=a(11);f=a(1386);m=a(20);(0,r.FL)(function(l){var n;if(k.Aa.get(h.Mo).r_){n=k.Aa.get(g.vw);return new c.CIa(l,k.Vf,n);}});(0,r.FL)(function(l,n){var p,q;p=k.Aa.get(d.Wc);if(p().JFb){q=k.Aa.get(m.vd);return new f.MFa(l,n,k.Vf,q,p);}});},function(r,b,a){var k;function c(h,g,d){var f;f=this;this.j=h;this.Ca=g;this.wE=d;this.Yta=!1;this.log=this.Ca.kb("KeySystemRobustness",this.j);this.Yta=!1;this.wE.yA().then(function(m){var l,n;n=null === (l=m.getConfiguration().videoCapabilities) || void 0 === l?void 0:l.map(function(p){return p.robustness;});f.Yta=!(null === n || void 0 === n || !n.some(function(p){return p === k.QF;}));h.Ucb("keySystem",m.G5a);h.Ucb("robustness",null === n || void 0 === n?void 0:n.toString());f.log.trace("KeySystemRobustness: " + n);}).catch(function(m){f.log.error("KeySystemRobustness exception",m);});}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;k=a(47);c.prototype.iy=function(h){return h.lower && h.fj && !this.Yta && 720 < h.height;};Ya.Object.defineProperties(c.prototype,{QW:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.CIa=c;},function(r,b,a){var k,h,g,d,f,m;function c(l,n,p,q,t){var w;w=this;this.j=l;this.ya=n;this.Ca=p;this.Ea=q;this.kba={};this.ZN={};this.RQ=[];this.x4a=1E3;this.oda=k.sJa;this.Uwa=function(){var v;v=w.j.Eb.value === d.jb.Rc && w.j.state.value === d.dc.we && w.j.K === w.ya.K;w.cY?v || (clearInterval(w.cY),w.cY=void 0,w.rY=void 0):v && (w.cY=nb.setInterval(w.K4b,w.x4a));};this.K4b=function(){var v,u,x,y;u=w.j.se.value;u=u && u.stream;u=null !== (v=u && u.height) && void 0 !== v?v:null;if(null !== u && 0 < u){v=w.Ea.Xb().ca(m.la);x=w.j.Wf.pI();if(x){if(w.rY && v - w.rY.time < 2 * w.x4a && u === w.rY.height){y=x - w.rY.IFb;w.Bla(u,y);w.uvb(u,y);}w.rY={time:v,IFb:x,height:u};w.j.Iba && w.j.Iba.y1b(w.kba);}}};this.Pqa=function(){var v;v={};w.ZN && w.RQ.forEach(function(u){var x,y,z;x=w.ZN[u];if(x){y=0;z=0;(0,f.Rg)(x,function(A,B){z+=(0,f.Mj)(A);y+=B;});v[u]=z / y;}});return v;};this.vI=function(v){var u;u={};v.forEach(function(x){u[x]={};});w.ZN && ((0,h.C1)(v),w.RQ.forEach(function(x){var y,z,A,B;y=w.ZN[x];if(y){z=0;A=0;(0,f.Rg)(y,function(E,I){z+=I;});B=Object.keys(y).map(Number);(0,h.C1)(B);for(var D=B.length - 1,C=B[D],F=v.length - 1;0 <= F;F--){for(var G=v[F];C >= G && 0 <= D;){(C=y[C]) && (A+=C);C=B[--D];}u[G][x]=(0,g.wn)(A / z * 100);}}}));return u;};this.log=this.Ca.kb("DFF",l);this.NXb=t().MFb;this.USb=t().KFb;this.$7a=t().LFb;this.ya.kpa={Pqa:this.Pqa,vI:this.vI};l.state.addListener(this.Uwa);l.Eb.addListener(this.Uwa);l.addEventListener(d.ga.bJ,this.Uwa);}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;k=a(14);h=a(44);g=a(12);d=a(18);f=a(25);m=a(5);c.prototype.iy=function(l){return l.lower && l.height > this.$7a?l.height >= this.sMb():!1;};c.prototype.Bla=function(l,n){var p;p=this.kba[l];p || (this.kba[l]=p=[],l > this.$7a && (this.RQ.push(l),(0,h.C1)(this.RQ)));0 < n && !(this.YY && this.YY < l) && (this.YY=l);p.push(n);p.length > this.USb && p.shift();};c.prototype.uvb=function(l,n){var p;p=this.ZN[l];p || (this.ZN[l]=p={});l=p[n];p[n]=l?l + 1:1;};c.prototype.sMb=function(){var p,q;if(this.YY){for(var l=this.RQ.length,n=0;n < l;n++){p=this.RQ[n];if(p >= this.YY && p < this.oda){q=this.kba[p];if(q && this.kzb(this.NXb,q) && this.oda != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.ya.xq.set({reason:"droppedFrames",height:p}),this.oda=p);}}this.YY=void 0;}return this.oda;};c.prototype.kzb=function(l,n){var w,v;for(var p=l.length,q=n.length,t=0;t < p;t++){w=l[t];v=w[0];w=w[1];for(var u=0;u < q;u++){if(n[u] >= w && 0 >= --v)return !0;}}return !1;};Ya.Object.defineProperties(c.prototype,{QW:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.MFa=c;},function(r,b,a){var c,k,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(137);c=a(19);k=a(8);h=a(1388);(0,r.FL)(function(g,d){if(c.config.DQb)return new h.BIa(g,d,k.Vf,c.config,k.Da,k.Tc);});},function(r,b,a){var k,h,g;function c(d,f,m,l,n,p){var q;q=this;this.j=d;this.ya=f;this.Ca=m;this.config=l;this.Da=n;this.Tc=p;this.bwb=function(t){!0 === t.oldValue && !1 === t.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.j0b());};this.I5b=function(t){var w,v,u;q.log.trace("UhdKeyStatus: " + t.oldValue + " -> " + t.newValue);v=null === t || void 0 === t?void 0:t.newValue;u=null === t || void 0 === t?void 0:t.oldValue;"usable" !== v && (q.s1b(v,(null === (w=null === t || void 0 === t?void 0:t.Jm) || void 0 === w?void 0:w.height) || 0),"usable" === u && (t=q.Da.qf.Ha(q.FQb),q.log.error("UHD KeyStatus unexpectedly changed: " + t.ca(g.la))));};this.l5a=!1;this.log=this.Ca.kb("KeyStatusStreamFilter",this.j);this.BUa=new h.oc(!1,this.bwb);this.H5b=new h.oc(void 0,this.I5b);}Object.defineProperty(b,"__esModule",{value:!0});b.BIa=void 0;k=a(215);h=a(79);g=a(5);c.prototype.iy=function(d){return d.fj && (this.N3b(),this.BUa.set(this.l5a && this.ENb),d.lower && 1080 < d.height && !this.BUa.value)?!0:!1;};c.prototype.iAb=function(){this.ENb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.t3a);};c.prototype.v8a=function(d){var f;f=this;Object.entries(d).forEach(function(m){var l,n,p;l=pa(m);m=l.next().value;l=l.next().value;m=null !== (p=null === (n=f.EQb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (f.l5a="usable" === l,f.H5b.set(l,{height:m}));});};c.prototype.N3b=function(){var d,f,m;d=this;m=this.ya.Le;!this.gQb && (0,k.Bta)(m) && (this.gQb=!0,this.EQb=null === (f=null === m || void 0 === m?void 0:m.context) || void 0 === f?void 0:f.J$,this.v8a(m.keyStatuses.value),m.keyStatuses.addListener(function(l){return d.v8a(l.newValue);}),this.Tc.Ok((0,g.Sc)(this.config.t3a),function(){return d.iAb();}),this.FQb=this.Da.qf);};c.prototype.s1b=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.ya.xq.set({reason:"keyStatus",height:f});};Ya.Object.defineProperties(c.prototype,{QW:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.BIa=c;},function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(137);c=a(19);k=a(8);(0,r.FL)(function(h,g){var d,f,m,l;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.J5b);f=d[g.je];if(c.config.K5b && f){m={};l=(0,k.Ii)(h,"MediaStreamFilter");return {QW:"uiLabel",iy:function(n){if(n.lower && n.height > f)return (m[n.height] || (m[n.height]=!0,l.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),g.xq.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);k=a(14);r=a(3);h=a(8);g=a(171);a=a(37);h.Aa.get(a.Ti).register(r.T.OHa,function(d){c.config.B8 && h.Aa.get(g.OGa).start();d(k.Fg);});},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(198);k=a(138);h=a(14);g=a(19);r=a(3);d=a(8);f=a(24);m=a(25);l=a(13);n=a(52);p=a(86);a=a(37);d.Aa.get(a.Ti).register(r.T.WHa,function(q){var t,w;t=(0,d.Aj)("NccpApi");w=(0,m.XUa)(["info","warn","trace","error"]);k.xG.nN.nccp={getEsn:function(){return c.vk.ll;},getPreferredLanguages:function(){return g.config.Hq.Sxa;},setPreferredLanguages:function(v){(0,f.sb)((0,l.isArray)(v) && (0,l.lP)(v[0]));g.config.Hq.Sxa=v;},queueLogblob:function(v,u,x){var y;if(v && u)if((u=u.toLowerCase(),w[u])){y=d.Aa.get(n.un);v=d.Aa.get(p.Py).Bu(v,u,x);y.Oc(v);}else t.warn("Invalid severity",{severity:u});},flushLogblobs:function(){d.Aa.get(n.un).flush(!0);}};q(h.Fg);});},function(r,b,a){var c,k,h,g,d,f,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(37);b=a(3);c=a(7);k=a(46);h=a(306);g=a(14);d=a(19);f=a(8);m=a(63);l=a(138);n=a(580);p=a(121);f.Aa.get(r.Ti).register(b.T.YHa,function(q){var v,u,x;function t(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.Aa.get(n.ELa).Sg(this.log,{},{email:y,password:z}).then(function(){});}function w(y){var z;z=f.Aa.get(p.wG);return z.I_a.fetch(y,z);}if(d.config.mHb){v=f.Aa.get(h.Dha);u=f.Aa.get(k.Mo);x=f.Aa.get(c.yb).kb("Test");l.xG.nN.test={setPboRequestsListener:function(y){return v.K1b(y);},playbacks:m.No,getPlayback:function(y){return m.No.find(function(z){return z.ea === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=m.No.find(function(D){return D.ea === y;})) || void 0 === A?void 0:A.Ia) || void 0 === B?void 0:B.M8(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=m.No.find(function(D){return D.ea === y;})) || void 0 === A?void 0:A.Ia) || void 0 === B?void 0:B.JO(z).tN;}},device:{esn:nb._cad_global.device.ll,esnPrefix:u.qp,errorPrefix:u.Gs},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:t,getManifest:w};}q(g.Fg);});},function(r,b,a){var c,k,h,g,d,f,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(1394);c=a(19);k=a(63);b=a(7);h=a(8);g=a(52);d=a(115);f=a(24);m=a(13);nb.netflix=nb.netflix || ({});(0,f.sb)(!nb.netflix.player);nb.netflix.player={VideoSession:r.wQa,diag:{togglePanel:function(l,n){var p;p=[];if(!c.config || c.config.v_){switch(l){case "info":p=k.No.map(function(q){return q.Iba;});break;case "streams":p=k.No.map(function(q){return q.Lba;});break;case "log":p=[];}p.forEach(function(q){(0,m.sd)(n)?n?q.show():q.Bx():q.toggle();});}},addLogMessageSink:function(l){h.Aa.get(g.un).addListener({khc:function(){},zTb:function(n){l({data:n.data});}});}},log:(0,h.Aj)("Ext"),LogLevel:b.bk,addLogSink:function(l,n){h.Aa.get(d.AL).oca(l,n);},getVersion:function(){return "6.0036.026.911";},getMostRecentPlaybackDiagnosticGroups:function(){var l;return null === (l=k.CC.i8a) || void 0 === l?void 0:l.z7.rX();}};},function(r,b,a){var k,h,g,d,f,m;function c(l){var n;n=g.xG.call(this,l) || this;n.createPlayer=function(p,q){var t,w,v;q=void 0 === q?{}:q;q="number" === typeof q?{Yj:q}:q;t=k.Aa.get(h.NL);w=k.Aa.get(f.CL).create(q.manifest);v=k.Aa.get(d.Xha);p=t.eDb(p);t=k.Aa.get(m.Vha).create(p);p=t.$qa();v=v.fYa(t);v.addEpisode({movieId:p.N,playbackParams:n.mVa(q,p),manifest:w});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.wQa=void 0;k=a(8);h=a(122);g=a(138);d=a(316);f=a(135);m=a(315);la(c,g.xG);b.wQa=c;},function(r,b,a){var c,k,h,g,d,f,m,l,n,p,q,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(138);k=a(198);h=a(14);g=a(44);r=a(3);d=a(8);f=a(169);m=a(24);l=a(13);n=a(12);b=a(37);p=a(61);q=a(75);t=a(162);w=a(168);d.Aa.get(b.Ti).register(r.T.XHa,function(v){var B;function u(){return k.vk.ll;}function x(D){var C;C=d.Aa.get(q.PL);d.Aa.get(t.RS)().then(function(F){var G,E;G=F.cZ.getStateForMdx(C);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.sb)(E),F=["1",(0,d.Nz)(JSON.stringify(F.toJSON())),(0,d.Nz)(JSON.stringify(G.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,N){I=(0,l.Uf)(I)?(0,d.rR)(I):I;E.encrypt(I,{result:function(L){L=(0,d.Nz)(L);N({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){N({success:!1});},error:function(L){(0,m.sb)(!1,"Encrypt error: " + L);N({success:!1});}});},decrypt:function(I,N){I=(0,d.us)(I);E.decrypt(I,{result:function(L){N({success:!0,text:(0,d.Z0)(L)});},timeout:function(){N({success:!1});},error:function(L){(0,m.sb)(!1,"Decrypt error: " + L);N({success:!1});}});},hmac:function(I,N){I=(0,l.Uf)(I)?(0,d.rR)(I):I;E.sign(I,{result:function(L){N({success:!0,hmacBase64:(0,d.Nz)(L)});},timeout:function(){N({success:!1});},error:function(L){(0,m.sb)(!1,"Hmac error: " + L);N({success:!1});}});}}})):((0,m.sb)(!1,"Must login first"),D({success:!1}));});}function y(D,C){var F;F=(0,d.us)(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,g.yJ)(n.Cq.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,g.yJ)(n.Cq.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(D,C){function F(G){G=new f.dS((0,d.us)(G));G.BB();return {iv:G.vab(),NGb:G.vab()};}return {encrypt:function(G,E){var I;G=(0,l.Uf)(G)?(0,d.rR)(G):G;I=n.zC.getRandomValues(new Uint8Array(16));(0,g.yJ)(n.Cq.encrypt({name:"AES-CBC",iv:I},D,G)).then(function(N){var L,H;N=new Uint8Array(N);L=[];H=new f.dS(L);H.pea(2);H.chb(I);H.chb(N);N=(0,d.Nz)(L);E({success:!0,encryptedDataAsn1Base64:N});},function(N){(0,m.sb)(!1,"Encrypt error: " + N);E({success:!1});});},decrypt:function(G,E){var I;I=F(G);G=I.iv;I=I.NGb;(0,g.yJ)(n.Cq.decrypt({name:"AES-CBC",iv:G},D,I)).then(function(N){N=new Uint8Array(N);E({success:!0,text:(0,d.Z0)(N)});},function(N){(0,m.sb)(!1,"Decrypt error: " + N);E({success:!1});});},hmac:function(G,E){G=(0,l.Uf)(G)?(0,d.rR)(G):G;(0,g.yJ)(n.Cq.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(I){I=new Uint8Array(I);E({success:!0,hmacBase64:(0,d.Nz)(I)});},function(I){(0,m.sb)(!1,"Hmac error: " + I);E({success:!1});});}};}function A(){return (0,p.R6)();}B=d.Aa.get(w.EF);if(B.F4a || B.RA)c.xG.nN.mdx={getEsn:u,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};v(h.Fg);});},function(r,b,a){var c,k,h,g,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);k=a(14);r=a(3);h=a(8);b=a(37);g=a(121);h.Aa.get(b.Ti).register(r.T.THa,function(f){var m,l,n;if(c.config.Iv){m=(0,h.Aj)("PlayerPredictionModel");l=h.Aa.get(g.wG);n=a(1397);m.log=m.trace.bind(m);d=new n({},m,{x_:function(){},D_b:function(){}},l,{KJ:function(){}});nb._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}f(k.Fg);});},function(r,b,a){var g,d,f,m,l,n,p;function c(q,t,w,v,u,x){this.K=this.N=q;this.priority=t;this.Kd=w;x && x.je && (this.je=x.je);void 0 !== v && (this.ZP=v);this.Ul=u;this.Db=x;}function k(q,t,w,v,u){f(void 0 !== v,"video preparer is null");f(void 0 !== u,"ui preparer is null");this.I=t || console;this.I=t;this.Pa=w;this.Iub=v;this.Aub=u;this.RSa=n.Pxa;this.XM=[];this.hla=!1;this.LT=0;new p().on(n,"changed",h,this);this.reset();}function h(){this.I.log("config changed");n.Pxa && (this.RSa=n.Pxa);n.bZ !== this.KM && (this.reset(),this.Tya());}g=a(318);d=a(319);b=a(591);f=b.assert;m=b.Q_a;l=a(1398);n=a(592).config;p=a(1399).Dg;n.declare({Pxa:["ppmConfig",{b9b:{$8a:0,Z8a:2,X8a:0,Y8a:5,Zcb:0},Obc:{$8a:0,Z8a:1,X8a:0,Y8a:3,Zcb:1E3},p9b:{$8a:0,Z8a:1,X8a:0,Y8a:3,Zcb:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.Lja=!0;this.KM=n.bZ;this.I.log("create model: " + n.bZ,n.Lbb,n.ZWa);switch(n.bZ){case "modelone":this.KM=new l(this.I);break;default:this.KM=new l(this.I);}};k.prototype.Tya=function(){var t,w;if(!1 === this.hla){this.hla=!0;for(var q=0;q < this.XM.length;q++){this.I.log("PlayPredictionModel replay: ",JSON.stringify(this.XM[q]));t=this.KXa(this.XM[q]);w=this.z0a(t);this.KM.update(t,w);this.Lja=!1;}this.XM=[];}};k.prototype.update=function(q){var t,w,v;this.I.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Qb && q.Qb[0]){!1 === this.hla && this.XM.length < n.TSb && this.XM.push(q);t=this.KXa(q);w=this.z0a(t);this.I.log("actionType",w);t="mlmodel" == n.bZ?this.KM.update(q,w):this.KM.update(t,w);t=this.fJb(t,n.tQb || 1);this.I.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.LT && (this.LT=g(),this.Pa && this.Pa.x_ && this.Pa.x_({OEb:this.LT}));if(this.Pa && this.Pa.D_b){this.cKb();v=[];t.forEach(function(u){v.push({Mhc:u.N});});JSON.stringify(q);JSON.stringify(t);}this.Iub.KJ(t);this.Aub.KJ(t);this.Lja=!1;}};k.prototype.cKb=function(){g();};k.prototype.x_=function(){this.LT=g();this.Pa && this.Pa.x_ && this.Pa.x_({OEb:this.LT});};k.prototype.KXa=function(q){var t,w,v,u,x;t={};v=q.Qb || [];u=(function(y){var z,A;z={};x=d.CS.name.indexOf(y.context);z.context=0 <= x?x:d.CS.Wy;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];w=y.list || [];w.forEach((function(B){A={N:B.N,Kd:B.Kd,index:B.index,ZP:B.ZP,Zba:B.Zba,list:B.list,Db:B.Db};void 0 !== B.property && (x=d.wL.name.indexOf(B.property),A.property=0 <= x?x:d.wL.Wy);z.list.push(A);}).bind(this));t.Qb.push(z);}).bind(this);if(void 0 !== q.direction){x=d.tw.name.indexOf(q.direction);t.direction=0 <= x?x:d.tw.Wy;}void 0 !== q.$W && (t.qec=q.$W.rowIndex,t.pec=q.$W.cAb);t.$W=q.$W;t.Qb=[];v.forEach(u);return t;};k.prototype.z0a=function(q){var t,w,v;t=q.direction || d.tw.Wy;w=q.$W;v=q.Qb || [];!0 === this.Lja?q=d.Ay.DGa:!0 === v.some(this.CNb)?(q=d.Ay.ZS,this.tca(v,t,w)):q=v[0].context === d.CS.P3?d.Ay.P3:t === d.tw.XNa || t === d.tw.DIa?d.Ay.pOa:d.Ay.Wy;return q;};k.prototype.CNb=function(q){return (q.list || []).some(function(t){return t.property === d.wL.ZS || t.property === d.wL.UEa;});};k.prototype.tca=function(q,t,w){var v,u;this.I.log("reportPlayFocusEvent: ",t,w);v={};u=m(q);this.Pa && this.Pa.tca && (v.hec=g(),v.direction=d.tw.name[t],w && (v.rowIndex=w.rowIndex,v.$Wa=w.cAb),void 0 !== u.Nk && (v.requestId=q[u.Nk].requestId),this.Pa.tca && this.Pa.tca(v));};k.prototype.fJb=function(q,t){for(var w=q.length,v=[],u,x,y,z,A=0;A < w;A++){x=q[A];u=Math.floor(A / t) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.aAb,z) && !(y[B].Ul=x.Ul,this.gUa(y[B],u,v),v.length >= n.o7a);B++){;}}else this.gUa(x,u,v);if(v.length >= n.o7a)break;}return v;};k.prototype.gUa=function(q,t,w){var u,x;function v(y){y.je && (y.Db || (y.Db={}),y.Db.je=y.je);return y.Db;}u=q.Zba;if(void 0 !== u && u instanceof Array)u.forEach(function(y){void 0 !== y.N && (x=v(y),w.push(new c(y.N,t,y.Kd,y.ZP,q.Ul,x)));});else if(void 0 !== u && void 0 !== u.N){u=q.Zba;x=v(u);w.push(new c(u.N,t,u.Kd,u.ZP,q.Ul,x));}void 0 !== q.N && (x=v(q),w.push(new c(q.N,t,q.Kd,q.ZP,q.Ul,x)));};k.prototype.nI=function(q){var t;t=this.RSa;return q?t[q]:t;};r.exports=k;},function(r,b,a){var h,g,d,f,m,l,n,p,q,t;function c(w,v){this.Nk=w;this.Em=v;}function k(w){this.I=w;this.reset();}h=a(318);g=a(319);b=a(591);d=a(592).config;f=b.VJb;m=b.CJb;l=b.QEb;n=b.pVb;p=b.oVb;q=b.nVb;t=b.Q_a;k.prototype.constructor=k;k.prototype.reset=function(){this.SSa=void 0;this.al=[];this.GSa=this.HSa=!1;};k.prototype.update=function(w,v){var u;this.al && (this.al=this.al.filter(this.x2b,this));if(!1 === this.HSa){u=f(w.Qb).slice(0,d.vYa);0 < u.length && (this.nJ(u,g.Ey.Fl),this.HSa=!0,this.al=this.VK(u.concat(this.al)));}!1 === this.GSa && (u=m(w.Qb).slice(0,d.vYa),0 < u.length && (this.nJ(u,g.Ey.Fl),this.GSa=!0,this.al=this.VK(u.concat(this.al))));switch(v){case g.Ay.DGa:v=this.aNb(w);break;case g.Ay.pOa:v=this.kNb(w);break;case g.Ay.P3:v=this.lNb(w);break;case g.Ay.ZS:v=this.fNb(w);break;default:v=this.YMb(w);}this.SSa=w;return v;};k.prototype.aNb=function(w){w=n(w.Qb,d.Lbb,d.ZWa);this.nJ(w,g.Ey.Fl);return this.al=this.VK(this.al.concat(w));};k.prototype.kNb=function(w){var v,u;this.I.log("handleScrollHorizontal");v=w.Qb;w=n(v,d.Mbb,d.aXa);u=l(v,this.SSa.Qb);v=v[u].list.slice(0,d.s0b);v.concat(w);this.nJ(v,g.Ey.Bia);return this.VK(v.concat(this.al));};k.prototype.nJ=function(w,v){w.forEach(function(u){if(void 0 === u.sD || u.sD < v)u.sD=v;void 0 === u.eR && (u.eR=h());void 0 === u.Ul && (u.Ul=h());});};k.prototype.lNb=function(w){this.I.log("handleSearch");w=p(w.Qb,d.P0b);this.nJ(w,g.Ey.qOa);this.al=w.concat(this.al);return this.al=this.VK(this.al);};k.prototype.fNb=function(w){var v,u,x,y,z;this.I.log("handlePlayFocus: ",d.RX);v=w.direction;u=w.Qb;w=[];x=t(u);if(void 0 !== x.Nk)switch((w.push(x),v)){case g.tw.XNa:for(v=1;v < d.RX;v++){w.push(new c(x.Nk,x.Em + v));}w.push(new c(x.Nk - 1,x.Em));w.push(new c(x.Nk + 1,x.Em));break;case g.tw.DIa:for(v=1;v < d.RX;v++){w.push(new c(x.Nk,x.Em - v));}w.push(new c(x.Nk - 1,x.Em));w.push(new c(x.Nk + 1,x.Em));break;case g.tw.Zob:w.push(new c(x.Nk - 1,x.Em));for(v=1;v <= d.RX / 2;v++){w.push(new c(x.Nk,x.Em + v));w.push(new c(x.Nk,x.Em - v));}break;case g.tw.ekb:for((w.push(new c(x.Nk + 1,x.Em)),v=1);v <= d.RX / 2;v++){w.push(new c(x.Nk,x.Em + v));w.push(new c(x.Nk,x.Em - v));}}y=[];w.forEach(function(A){z=q(u,A.Nk,A.Em);void 0 !== z && y.push(z);});this.nJ(y,g.Ey.Bia);return this.VK(y.concat(this.al));};k.prototype.YMb=function(w){this.I.log("ModelOne: handleDefaultCase");w=n(w.Qb,d.Mbb,d.aXa);this.nJ(w,g.Ey.Bia);return this.VK(w.concat(this.al));};k.prototype.x2b=function(w){return w.sD == g.Ey.Fl | w.sD == g.Ey.qOa & h() - w.eR < d.TNb;};k.prototype.VK=function(w){var v,u,x,y,z,A,B;v=[];u={};y=0;z=w.length;for(x=0;x < z;x++){A=w[x].N;B=w[x];!1 === (A in u)?(v.push(B),u[A]=y,y++):(A=v[u[A]],B.Ul < A.Ul && (A.Ul=B.Ul),B.sD > A.sD && (A.sD=B.sD),B.eR > A.eR && (A.eR=B.eR));}return v;};r.exports=k;},function(r,b,a){r.exports={EventEmitter:a(1400),Dg:a(1401)};},function(r){function b(c,k){var h;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ed)return (this.Ed={},this.Ed[c]=[k],!0);h=this.Ed[c];return void 0 === h?(this.Ed[c]=[k],!0):0 > h.indexOf(k)?(h.push(k),!0):!1;}function a(c,k){c=this.Ed?this.Ed[c]:void 0;if(!c)return !1;c.forEach(function(h){h(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var h;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ed)return !1;h=this.Ed[c];if(void 0 === h)return !1;k=h.indexOf(k);if(0 > k)return !1;if(1 === h.length)return (delete this.Ed[c],!0);h.splice(k,1);return !0;},ab:a,emit:a,removeAllListeners:function(c){this.Ed && (void 0 === c?delete this.Ed:delete this.Ed[c]);return this;}};},function(r){function b(c,k,h,g){c.trace(":",h,":",g);k(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,h,g){h=g?h.bind(g):h;g=!1;if(c){this.console && (h=b.bind(null,this.console,h,k));if("function" === typeof c.addEventListener)g=c.addEventListener(k,h);else if("function" === typeof c.addListener)g=c.addListener(k,h);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,h]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var h,g;h=k[0];g=k[1];k=k[2];"function" === typeof h.removeEventListener?h.removeEventListener(g,k):"function" === typeof h.removeListener && h.removeListener(g,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(nb);})(window);}).call(window);